erDiagram
  USER ||--o{ ORDER : places
  ORDER ||--|{ ORDER_ITEM : contains
  PRODUCT ||--o{ ORDER_ITEM : "ordered in"
  CATEGORY ||--o{ PRODUCT : categorizes

  USER {
    int user_id PK
    string username UK
    string email UK
    datetime created_at
  }

  ORDER {
    int order_id PK
    int user_id FK
    decimal total_amount
    string status
    datetime order_date
  }

  ORDER_ITEM {
    int order_item_id PK
    int order_id FK
    int product_id FK
    int quantity
    decimal unit_price
  }

  PRODUCT {
    int product_id PK
    int category_id FK
    string name
    decimal price
    int stock_quantity
  }

  CATEGORY {
    int category_id PK
    string name
    int parent_category_id FK
  }
