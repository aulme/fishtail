// AUTO-GENERATED by scripts/inline-viewer.ts â€” do not edit directly.
// Run `bun run build:viewer` to regenerate after changing src/viewer/index.ts.
export const viewerBundle = "var w=(Q,J)=>()=>(J||Q((J={exports:{}}).exports,J),J.exports);var _G=w((dd,wG)=>{function B3(){this.__data__=[],this.size=0}wG.exports=B3});var BQ=w((cd,vG)=>{function V3(Q,J){return Q===J||Q!==Q&&J!==J}vG.exports=V3});var oZ=w((pd,fG)=>{var D3=BQ();function R3(Q,J){var Z=Q.length;while(Z--)if(D3(Q[Z][0],J))return Z;return-1}fG.exports=R3});var bG=w((ld,xG)=>{var O3=oZ(),A3=Array.prototype,C3=A3.splice;function S3(Q){var J=this.__data__,Z=O3(J,Q);if(Z<0)return!1;var U=J.length-1;if(Z==U)J.pop();else C3.call(J,Z,1);return--this.size,!0}xG.exports=S3});var yG=w((id,mG)=>{var I3=oZ();function T3(Q){var J=this.__data__,Z=I3(J,Q);return Z<0?void 0:J[Z][1]}mG.exports=T3});var uG=w((nd,hG)=>{var P3=oZ();function k3(Q){return P3(this.__data__,Q)>-1}hG.exports=k3});var dG=w((sd,gG)=>{var j3=oZ();function w3(Q,J){var Z=this.__data__,U=j3(Z,Q);if(U<0)++this.size,Z.push([Q,J]);else Z[U][1]=J;return this}gG.exports=w3});var tZ=w((ad,cG)=>{var _3=_G(),v3=bG(),f3=yG(),x3=uG(),b3=dG();function JZ(Q){var J=-1,Z=Q==null?0:Q.length;this.clear();while(++J<Z){var U=Q[J];this.set(U[0],U[1])}}JZ.prototype.clear=_3;JZ.prototype.delete=v3;JZ.prototype.get=f3;JZ.prototype.has=x3;JZ.prototype.set=b3;cG.exports=JZ});var lG=w((rd,pG)=>{var m3=tZ();function y3(){this.__data__=new m3,this.size=0}pG.exports=y3});var nG=w((od,iG)=>{function h3(Q){var J=this.__data__,Z=J.delete(Q);return this.size=J.size,Z}iG.exports=h3});var aG=w((td,sG)=>{function u3(Q){return this.__data__.get(Q)}sG.exports=u3});var oG=w((ed,rG)=>{function g3(Q){return this.__data__.has(Q)}rG.exports=g3});var vU=w((Jc,tG)=>{var d3=typeof global==\"object\"&&global&&global.Object===Object&&global;tG.exports=d3});var n8=w((Qc,eG)=>{var c3=vU(),p3=typeof self==\"object\"&&self&&self.Object===Object&&self,l3=c3||p3||Function(\"return this\")();eG.exports=l3});var VQ=w((Zc,JY)=>{var i3=n8(),n3=i3.Symbol;JY.exports=n3});var $Y=w((Uc,UY)=>{var QY=VQ(),ZY=Object.prototype,s3=ZY.hasOwnProperty,a3=ZY.toString,eZ=QY?QY.toStringTag:void 0;function r3(Q){var J=s3.call(Q,eZ),Z=Q[eZ];try{Q[eZ]=void 0;var U=!0}catch(q){}var $=a3.call(Q);if(U)if(J)Q[eZ]=Z;else delete Q[eZ];return $}UY.exports=r3});var KY=w(($c,qY)=>{var o3=Object.prototype,t3=o3.toString;function e3(Q){return t3.call(Q)}qY.exports=e3});var a9=w((qc,FY)=>{var GY=VQ(),JC=$Y(),QC=KY(),ZC=\"[object Null]\",UC=\"[object Undefined]\",YY=GY?GY.toStringTag:void 0;function $C(Q){if(Q==null)return Q===void 0?UC:ZC;return YY&&YY in Object(Q)?JC(Q):QC(Q)}FY.exports=$C});var u8=w((Kc,XY)=>{function qC(Q){var J=typeof Q;return Q!=null&&(J==\"object\"||J==\"function\")}XY.exports=qC});var QZ=w((Gc,HY)=>{var KC=a9(),GC=u8(),YC=\"[object AsyncFunction]\",FC=\"[object Function]\",XC=\"[object GeneratorFunction]\",HC=\"[object Proxy]\";function NC(Q){if(!GC(Q))return!1;var J=KC(Q);return J==FC||J==XC||J==YC||J==HC}HY.exports=NC});var MY=w((Yc,NY)=>{var MC=n8(),zC=MC[\"__core-js_shared__\"];NY.exports=zC});var WY=w((Fc,LY)=>{var fU=MY(),zY=function(){var Q=/[^.]+$/.exec(fU&&fU.keys&&fU.keys.IE_PROTO||\"\");return Q?\"Symbol(src)_1.\"+Q:\"\"}();function LC(Q){return!!zY&&zY in Q}LY.exports=LC});var xU=w((Xc,EY)=>{var WC=Function.prototype,EC=WC.toString;function BC(Q){if(Q!=null){try{return EC.call(Q)}catch(J){}try{return Q+\"\"}catch(J){}}return\"\"}EY.exports=BC});var VY=w((Hc,BY)=>{var VC=QZ(),DC=WY(),RC=u8(),OC=xU(),AC=/[\\\\^$.*+?()[\\]{}|]/g,CC=/^\\[object .+?Constructor\\]$/,SC=Function.prototype,IC=Object.prototype,TC=SC.toString,PC=IC.hasOwnProperty,kC=RegExp(\"^\"+TC.call(PC).replace(AC,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function jC(Q){if(!RC(Q)||DC(Q))return!1;var J=VC(Q)?kC:CC;return J.test(OC(Q))}BY.exports=jC});var RY=w((Nc,DY)=>{function wC(Q,J){return Q==null?void 0:Q[J]}DY.exports=wC});var r9=w((Mc,OY)=>{var _C=VY(),vC=RY();function fC(Q,J){var Z=vC(Q,J);return _C(Z)?Z:void 0}OY.exports=fC});var k7=w((zc,AY)=>{var xC=r9(),bC=n8(),mC=xC(bC,\"Map\");AY.exports=mC});var J6=w((Lc,CY)=>{var yC=r9(),hC=yC(Object,\"create\");CY.exports=hC});var TY=w((Wc,IY)=>{var SY=J6();function uC(){this.__data__=SY?SY(null):{},this.size=0}IY.exports=uC});var kY=w((Ec,PY)=>{function gC(Q){var J=this.has(Q)&&delete this.__data__[Q];return this.size-=J?1:0,J}PY.exports=gC});var wY=w((Bc,jY)=>{var dC=J6(),cC=\"__lodash_hash_undefined__\",pC=Object.prototype,lC=pC.hasOwnProperty;function iC(Q){var J=this.__data__;if(dC){var Z=J[Q];return Z===cC?void 0:Z}return lC.call(J,Q)?J[Q]:void 0}jY.exports=iC});var vY=w((Vc,_Y)=>{var nC=J6(),sC=Object.prototype,aC=sC.hasOwnProperty;function rC(Q){var J=this.__data__;return nC?J[Q]!==void 0:aC.call(J,Q)}_Y.exports=rC});var xY=w((Dc,fY)=>{var oC=J6(),tC=\"__lodash_hash_undefined__\";function eC(Q,J){var Z=this.__data__;return this.size+=this.has(Q)?0:1,Z[Q]=oC&&J===void 0?tC:J,this}fY.exports=eC});var mY=w((Rc,bY)=>{var JS=TY(),QS=kY(),ZS=wY(),US=vY(),$S=xY();function ZZ(Q){var J=-1,Z=Q==null?0:Q.length;this.clear();while(++J<Z){var U=Q[J];this.set(U[0],U[1])}}ZZ.prototype.clear=JS;ZZ.prototype.delete=QS;ZZ.prototype.get=ZS;ZZ.prototype.has=US;ZZ.prototype.set=$S;bY.exports=ZZ});var uY=w((Oc,hY)=>{var yY=mY(),qS=tZ(),KS=k7();function GS(){this.size=0,this.__data__={hash:new yY,map:new(KS||qS),string:new yY}}hY.exports=GS});var dY=w((Ac,gY)=>{function YS(Q){var J=typeof Q;return J==\"string\"||J==\"number\"||J==\"symbol\"||J==\"boolean\"?Q!==\"__proto__\":Q===null}gY.exports=YS});var Q6=w((Cc,cY)=>{var FS=dY();function XS(Q,J){var Z=Q.__data__;return FS(J)?Z[typeof J==\"string\"?\"string\":\"hash\"]:Z.map}cY.exports=XS});var lY=w((Sc,pY)=>{var HS=Q6();function NS(Q){var J=HS(this,Q).delete(Q);return this.size-=J?1:0,J}pY.exports=NS});var nY=w((Ic,iY)=>{var MS=Q6();function zS(Q){return MS(this,Q).get(Q)}iY.exports=zS});var aY=w((Tc,sY)=>{var LS=Q6();function WS(Q){return LS(this,Q).has(Q)}sY.exports=WS});var oY=w((Pc,rY)=>{var ES=Q6();function BS(Q,J){var Z=ES(this,Q),U=Z.size;return Z.set(Q,J),this.size+=Z.size==U?0:1,this}rY.exports=BS});var j7=w((kc,tY)=>{var VS=uY(),DS=lY(),RS=nY(),OS=aY(),AS=oY();function UZ(Q){var J=-1,Z=Q==null?0:Q.length;this.clear();while(++J<Z){var U=Q[J];this.set(U[0],U[1])}}UZ.prototype.clear=VS;UZ.prototype.delete=DS;UZ.prototype.get=RS;UZ.prototype.has=OS;UZ.prototype.set=AS;tY.exports=UZ});var JF=w((jc,eY)=>{var CS=tZ(),SS=k7(),IS=j7(),TS=200;function PS(Q,J){var Z=this.__data__;if(Z instanceof CS){var U=Z.__data__;if(!SS||U.length<TS-1)return U.push([Q,J]),this.size=++Z.size,this;Z=this.__data__=new IS(U)}return Z.set(Q,J),this.size=Z.size,this}eY.exports=PS});var Z6=w((wc,QF)=>{var kS=tZ(),jS=lG(),wS=nG(),_S=aG(),vS=oG(),fS=JF();function $Z(Q){var J=this.__data__=new kS(Q);this.size=J.size}$Z.prototype.clear=jS;$Z.prototype.delete=wS;$Z.prototype.get=_S;$Z.prototype.has=vS;$Z.prototype.set=fS;QF.exports=$Z});var w7=w((_c,ZF)=>{function xS(Q,J){var Z=-1,U=Q==null?0:Q.length;while(++Z<U)if(J(Q[Z],Z,Q)===!1)break;return Q}ZF.exports=xS});var bU=w((vc,UF)=>{var bS=r9(),mS=function(){try{var Q=bS(Object,\"defineProperty\");return Q({},\"\",{}),Q}catch(J){}}();UF.exports=mS});var U6=w((fc,qF)=>{var $F=bU();function yS(Q,J,Z){if(J==\"__proto__\"&&$F)$F(Q,J,{configurable:!0,enumerable:!0,value:Z,writable:!0});else Q[J]=Z}qF.exports=yS});var $6=w((xc,KF)=>{var hS=U6(),uS=BQ(),gS=Object.prototype,dS=gS.hasOwnProperty;function cS(Q,J,Z){var U=Q[J];if(!(dS.call(Q,J)&&uS(U,Z))||Z===void 0&&!(J in Q))hS(Q,J,Z)}KF.exports=cS});var qZ=w((bc,GF)=>{var pS=$6(),lS=U6();function iS(Q,J,Z,U){var $=!Z;Z||(Z={});var q=-1,K=J.length;while(++q<K){var G=J[q],Y=U?U(Z[G],Q[G],G,Z,Q):void 0;if(Y===void 0)Y=Q[G];if($)lS(Z,G,Y);else pS(Z,G,Y)}return Z}GF.exports=iS});var FF=w((mc,YF)=>{function nS(Q,J){var Z=-1,U=Array(Q);while(++Z<Q)U[Z]=J(Z);return U}YF.exports=nS});var Q9=w((yc,XF)=>{function sS(Q){return Q!=null&&typeof Q==\"object\"}XF.exports=sS});var NF=w((hc,HF)=>{var aS=a9(),rS=Q9(),oS=\"[object Arguments]\";function tS(Q){return rS(Q)&&aS(Q)==oS}HF.exports=tS});var KZ=w((uc,LF)=>{var MF=NF(),eS=Q9(),zF=Object.prototype,JI=zF.hasOwnProperty,QI=zF.propertyIsEnumerable,ZI=MF(function(){return arguments}())?MF:function(Q){return eS(Q)&&JI.call(Q,\"callee\")&&!QI.call(Q,\"callee\")};LF.exports=ZI});var $8=w((gc,WF)=>{var UI=Array.isArray;WF.exports=UI});var BF=w((dc,EF)=>{function $I(){return!1}EF.exports=$I});var DQ=w((_7,GZ)=>{var qI=n8(),KI=BF(),RF=typeof _7==\"object\"&&_7&&!_7.nodeType&&_7,VF=RF&&typeof GZ==\"object\"&&GZ&&!GZ.nodeType&&GZ,GI=VF&&VF.exports===RF,DF=GI?qI.Buffer:void 0,YI=DF?DF.isBuffer:void 0,FI=YI||KI;GZ.exports=FI});var q6=w((pc,OF)=>{var XI=9007199254740991,HI=/^(?:0|[1-9]\\d*)$/;function NI(Q,J){var Z=typeof Q;return J=J==null?XI:J,!!J&&(Z==\"number\"||Z!=\"symbol\"&&HI.test(Q))&&(Q>-1&&Q%1==0&&Q<J)}OF.exports=NI});var v7=w((lc,AF)=>{var MI=9007199254740991;function zI(Q){return typeof Q==\"number\"&&Q>-1&&Q%1==0&&Q<=MI}AF.exports=zI});var SF=w((ic,CF)=>{var LI=a9(),WI=v7(),EI=Q9(),BI=\"[object Arguments]\",VI=\"[object Array]\",DI=\"[object Boolean]\",RI=\"[object Date]\",OI=\"[object Error]\",AI=\"[object Function]\",CI=\"[object Map]\",SI=\"[object Number]\",II=\"[object Object]\",TI=\"[object RegExp]\",PI=\"[object Set]\",kI=\"[object String]\",jI=\"[object WeakMap]\",wI=\"[object ArrayBuffer]\",_I=\"[object DataView]\",vI=\"[object Float32Array]\",fI=\"[object Float64Array]\",xI=\"[object Int8Array]\",bI=\"[object Int16Array]\",mI=\"[object Int32Array]\",yI=\"[object Uint8Array]\",hI=\"[object Uint8ClampedArray]\",uI=\"[object Uint16Array]\",gI=\"[object Uint32Array]\",tJ={};tJ[vI]=tJ[fI]=tJ[xI]=tJ[bI]=tJ[mI]=tJ[yI]=tJ[hI]=tJ[uI]=tJ[gI]=!0;tJ[BI]=tJ[VI]=tJ[wI]=tJ[DI]=tJ[_I]=tJ[RI]=tJ[OI]=tJ[AI]=tJ[CI]=tJ[SI]=tJ[II]=tJ[TI]=tJ[PI]=tJ[kI]=tJ[jI]=!1;function dI(Q){return EI(Q)&&WI(Q.length)&&!!tJ[LI(Q)]}CF.exports=dI});var K6=w((nc,IF)=>{function cI(Q){return function(J){return Q(J)}}IF.exports=cI});var x7=w((f7,YZ)=>{var pI=vU(),TF=typeof f7==\"object\"&&f7&&!f7.nodeType&&f7,G6=TF&&typeof YZ==\"object\"&&YZ&&!YZ.nodeType&&YZ,lI=G6&&G6.exports===TF,mU=lI&&pI.process,iI=function(){try{var Q=G6&&G6.require&&G6.require(\"util\").types;if(Q)return Q;return mU&&mU.binding&&mU.binding(\"util\")}catch(J){}}();YZ.exports=iI});var FZ=w((ac,jF)=>{var nI=SF(),sI=K6(),PF=x7(),kF=PF&&PF.isTypedArray,aI=kF?sI(kF):nI;jF.exports=aI});var yU=w((rc,wF)=>{var rI=FF(),oI=KZ(),tI=$8(),eI=DQ(),JT=q6(),QT=FZ(),ZT=Object.prototype,UT=ZT.hasOwnProperty;function $T(Q,J){var Z=tI(Q),U=!Z&&oI(Q),$=!Z&&!U&&eI(Q),q=!Z&&!U&&!$&&QT(Q),K=Z||U||$||q,G=K?rI(Q.length,String):[],Y=G.length;for(var F in Q)if((J||UT.call(Q,F))&&!(K&&(F==\"length\"||$&&(F==\"offset\"||F==\"parent\")||q&&(F==\"buffer\"||F==\"byteLength\"||F==\"byteOffset\")||JT(F,Y))))G.push(F);return G}wF.exports=$T});var Y6=w((oc,_F)=>{var qT=Object.prototype;function KT(Q){var J=Q&&Q.constructor,Z=typeof J==\"function\"&&J.prototype||qT;return Q===Z}_F.exports=KT});var hU=w((tc,vF)=>{function GT(Q,J){return function(Z){return Q(J(Z))}}vF.exports=GT});var xF=w((ec,fF)=>{var YT=hU(),FT=YT(Object.keys,Object);fF.exports=FT});var b7=w((Jp,bF)=>{var XT=Y6(),HT=xF(),NT=Object.prototype,MT=NT.hasOwnProperty;function zT(Q){if(!XT(Q))return HT(Q);var J=[];for(var Z in Object(Q))if(MT.call(Q,Z)&&Z!=\"constructor\")J.push(Z);return J}bF.exports=zT});var F9=w((Qp,mF)=>{var LT=QZ(),WT=v7();function ET(Q){return Q!=null&&WT(Q.length)&&!LT(Q)}mF.exports=ET});var A9=w((Zp,yF)=>{var BT=yU(),VT=b7(),DT=F9();function RT(Q){return DT(Q)?BT(Q):VT(Q)}yF.exports=RT});var uF=w((Up,hF)=>{var OT=qZ(),AT=A9();function CT(Q,J){return Q&&OT(J,AT(J),Q)}hF.exports=CT});var dF=w(($p,gF)=>{function ST(Q){var J=[];if(Q!=null)for(var Z in Object(Q))J.push(Z);return J}gF.exports=ST});var pF=w((qp,cF)=>{var IT=u8(),TT=Y6(),PT=dF(),kT=Object.prototype,jT=kT.hasOwnProperty;function wT(Q){if(!IT(Q))return PT(Q);var J=TT(Q),Z=[];for(var U in Q)if(!(U==\"constructor\"&&(J||!jT.call(Q,U))))Z.push(U);return Z}cF.exports=wT});var o9=w((Kp,lF)=>{var _T=yU(),vT=pF(),fT=F9();function xT(Q){return fT(Q)?_T(Q,!0):vT(Q)}lF.exports=xT});var nF=w((Gp,iF)=>{var bT=qZ(),mT=o9();function yT(Q,J){return Q&&bT(J,mT(J),Q)}iF.exports=yT});var uU=w((m7,XZ)=>{var hT=n8(),oF=typeof m7==\"object\"&&m7&&!m7.nodeType&&m7,sF=oF&&typeof XZ==\"object\"&&XZ&&!XZ.nodeType&&XZ,uT=sF&&sF.exports===oF,aF=uT?hT.Buffer:void 0,rF=aF?aF.allocUnsafe:void 0;function gT(Q,J){if(J)return Q.slice();var Z=Q.length,U=rF?rF(Z):new Q.constructor(Z);return Q.copy(U),U}XZ.exports=gT});var gU=w((Fp,tF)=>{function dT(Q,J){var Z=-1,U=Q.length;J||(J=Array(U));while(++Z<U)J[Z]=Q[Z];return J}tF.exports=dT});var dU=w((Xp,eF)=>{function cT(Q,J){var Z=-1,U=Q==null?0:Q.length,$=0,q=[];while(++Z<U){var K=Q[Z];if(J(K,Z,Q))q[$++]=K}return q}eF.exports=cT});var cU=w((Hp,JX)=>{function pT(){return[]}JX.exports=pT});var y7=w((Np,ZX)=>{var lT=dU(),iT=cU(),nT=Object.prototype,sT=nT.propertyIsEnumerable,QX=Object.getOwnPropertySymbols,aT=!QX?iT:function(Q){if(Q==null)return[];return Q=Object(Q),lT(QX(Q),function(J){return sT.call(Q,J)})};ZX.exports=aT});var $X=w((Mp,UX)=>{var rT=qZ(),oT=y7();function tT(Q,J){return rT(Q,oT(Q),J)}UX.exports=tT});var h7=w((zp,qX)=>{function eT(Q,J){var Z=-1,U=J.length,$=Q.length;while(++Z<U)Q[$+Z]=J[Z];return Q}qX.exports=eT});var F6=w((Lp,KX)=>{var JP=hU(),QP=JP(Object.getPrototypeOf,Object);KX.exports=QP});var pU=w((Wp,GX)=>{var ZP=h7(),UP=F6(),$P=y7(),qP=cU(),KP=Object.getOwnPropertySymbols,GP=!KP?qP:function(Q){var J=[];while(Q)ZP(J,$P(Q)),Q=UP(Q);return J};GX.exports=GP});var FX=w((Ep,YX)=>{var YP=qZ(),FP=pU();function XP(Q,J){return YP(Q,FP(Q),J)}YX.exports=XP});var lU=w((Bp,XX)=>{var HP=h7(),NP=$8();function MP(Q,J,Z){var U=J(Q);return NP(Q)?U:HP(U,Z(Q))}XX.exports=MP});var iU=w((Vp,HX)=>{var zP=lU(),LP=y7(),WP=A9();function EP(Q){return zP(Q,WP,LP)}HX.exports=EP});var MX=w((Dp,NX)=>{var BP=lU(),VP=pU(),DP=o9();function RP(Q){return BP(Q,DP,VP)}NX.exports=RP});var LX=w((Rp,zX)=>{var OP=r9(),AP=n8(),CP=OP(AP,\"DataView\");zX.exports=CP});var EX=w((Op,WX)=>{var SP=r9(),IP=n8(),TP=SP(IP,\"Promise\");WX.exports=TP});var nU=w((Ap,BX)=>{var PP=r9(),kP=n8(),jP=PP(kP,\"Set\");BX.exports=jP});var DX=w((Cp,VX)=>{var wP=r9(),_P=n8(),vP=wP(_P,\"WeakMap\");VX.exports=vP});var OQ=w((Sp,TX)=>{var sU=LX(),aU=k7(),rU=EX(),oU=nU(),tU=DX(),IX=a9(),HZ=xU(),RX=\"[object Map]\",fP=\"[object Object]\",OX=\"[object Promise]\",AX=\"[object Set]\",CX=\"[object WeakMap]\",SX=\"[object DataView]\",xP=HZ(sU),bP=HZ(aU),mP=HZ(rU),yP=HZ(oU),hP=HZ(tU),RQ=IX;if(sU&&RQ(new sU(new ArrayBuffer(1)))!=SX||aU&&RQ(new aU)!=RX||rU&&RQ(rU.resolve())!=OX||oU&&RQ(new oU)!=AX||tU&&RQ(new tU)!=CX)RQ=function(Q){var J=IX(Q),Z=J==fP?Q.constructor:void 0,U=Z?HZ(Z):\"\";if(U)switch(U){case xP:return SX;case bP:return RX;case mP:return OX;case yP:return AX;case hP:return CX}return J};TX.exports=RQ});var kX=w((Ip,PX)=>{var uP=Object.prototype,gP=uP.hasOwnProperty;function dP(Q){var J=Q.length,Z=new Q.constructor(J);if(J&&typeof Q[0]==\"string\"&&gP.call(Q,\"index\"))Z.index=Q.index,Z.input=Q.input;return Z}PX.exports=dP});var eU=w((Tp,jX)=>{var cP=n8(),pP=cP.Uint8Array;jX.exports=pP});var u7=w((Pp,_X)=>{var wX=eU();function lP(Q){var J=new Q.constructor(Q.byteLength);return new wX(J).set(new wX(Q)),J}_X.exports=lP});var fX=w((kp,vX)=>{var iP=u7();function nP(Q,J){var Z=J?iP(Q.buffer):Q.buffer;return new Q.constructor(Z,Q.byteOffset,Q.byteLength)}vX.exports=nP});var bX=w((jp,xX)=>{var sP=/\\w*$/;function aP(Q){var J=new Q.constructor(Q.source,sP.exec(Q));return J.lastIndex=Q.lastIndex,J}xX.exports=aP});var gX=w((wp,uX)=>{var mX=VQ(),yX=mX?mX.prototype:void 0,hX=yX?yX.valueOf:void 0;function rP(Q){return hX?Object(hX.call(Q)):{}}uX.exports=rP});var J$=w((_p,dX)=>{var oP=u7();function tP(Q,J){var Z=J?oP(Q.buffer):Q.buffer;return new Q.constructor(Z,Q.byteOffset,Q.length)}dX.exports=tP});var pX=w((vp,cX)=>{var eP=u7(),Jk=fX(),Qk=bX(),Zk=gX(),Uk=J$(),$k=\"[object Boolean]\",qk=\"[object Date]\",Kk=\"[object Map]\",Gk=\"[object Number]\",Yk=\"[object RegExp]\",Fk=\"[object Set]\",Xk=\"[object String]\",Hk=\"[object Symbol]\",Nk=\"[object ArrayBuffer]\",Mk=\"[object DataView]\",zk=\"[object Float32Array]\",Lk=\"[object Float64Array]\",Wk=\"[object Int8Array]\",Ek=\"[object Int16Array]\",Bk=\"[object Int32Array]\",Vk=\"[object Uint8Array]\",Dk=\"[object Uint8ClampedArray]\",Rk=\"[object Uint16Array]\",Ok=\"[object Uint32Array]\";function Ak(Q,J,Z){var U=Q.constructor;switch(J){case Nk:return eP(Q);case $k:case qk:return new U(+Q);case Mk:return Jk(Q,Z);case zk:case Lk:case Wk:case Ek:case Bk:case Vk:case Dk:case Rk:case Ok:return Uk(Q,Z);case Kk:return new U;case Gk:case Xk:return new U(Q);case Yk:return Qk(Q);case Fk:return new U;case Hk:return Zk(Q)}}cX.exports=Ak});var Q$=w((fp,iX)=>{var Ck=u8(),lX=Object.create,Sk=function(){function Q(){}return function(J){if(!Ck(J))return{};if(lX)return lX(J);Q.prototype=J;var Z=new Q;return Q.prototype=void 0,Z}}();iX.exports=Sk});var Z$=w((xp,nX)=>{var Ik=Q$(),Tk=F6(),Pk=Y6();function kk(Q){return typeof Q.constructor==\"function\"&&!Pk(Q)?Ik(Tk(Q)):{}}nX.exports=kk});var aX=w((bp,sX)=>{var jk=OQ(),wk=Q9(),_k=\"[object Map]\";function vk(Q){return wk(Q)&&jk(Q)==_k}sX.exports=vk});var eX=w((mp,tX)=>{var fk=aX(),xk=K6(),rX=x7(),oX=rX&&rX.isMap,bk=oX?xk(oX):fk;tX.exports=bk});var QH=w((yp,JH)=>{var mk=OQ(),yk=Q9(),hk=\"[object Set]\";function uk(Q){return yk(Q)&&mk(Q)==hk}JH.exports=uk});var qH=w((hp,$H)=>{var gk=QH(),dk=K6(),ZH=x7(),UH=ZH&&ZH.isSet,ck=UH?dk(UH):gk;$H.exports=ck});var U$=w((up,FH)=>{var pk=Z6(),lk=w7(),ik=$6(),nk=uF(),sk=nF(),ak=uU(),rk=gU(),ok=$X(),tk=FX(),ek=iU(),Jj=MX(),Qj=OQ(),Zj=kX(),Uj=pX(),$j=Z$(),qj=$8(),Kj=DQ(),Gj=eX(),Yj=u8(),Fj=qH(),Xj=A9(),Hj=o9(),Nj=1,Mj=2,zj=4,KH=\"[object Arguments]\",Lj=\"[object Array]\",Wj=\"[object Boolean]\",Ej=\"[object Date]\",Bj=\"[object Error]\",GH=\"[object Function]\",Vj=\"[object GeneratorFunction]\",Dj=\"[object Map]\",Rj=\"[object Number]\",YH=\"[object Object]\",Oj=\"[object RegExp]\",Aj=\"[object Set]\",Cj=\"[object String]\",Sj=\"[object Symbol]\",Ij=\"[object WeakMap]\",Tj=\"[object ArrayBuffer]\",Pj=\"[object DataView]\",kj=\"[object Float32Array]\",jj=\"[object Float64Array]\",wj=\"[object Int8Array]\",_j=\"[object Int16Array]\",vj=\"[object Int32Array]\",fj=\"[object Uint8Array]\",xj=\"[object Uint8ClampedArray]\",bj=\"[object Uint16Array]\",mj=\"[object Uint32Array]\",rJ={};rJ[KH]=rJ[Lj]=rJ[Tj]=rJ[Pj]=rJ[Wj]=rJ[Ej]=rJ[kj]=rJ[jj]=rJ[wj]=rJ[_j]=rJ[vj]=rJ[Dj]=rJ[Rj]=rJ[YH]=rJ[Oj]=rJ[Aj]=rJ[Cj]=rJ[Sj]=rJ[fj]=rJ[xj]=rJ[bj]=rJ[mj]=!0;rJ[Bj]=rJ[GH]=rJ[Ij]=!1;function g7(Q,J,Z,U,$,q){var K,G=J&Nj,Y=J&Mj,F=J&zj;if(Z)K=$?Z(Q,U,$,q):Z(Q);if(K!==void 0)return K;if(!Yj(Q))return Q;var X=qj(Q);if(X){if(K=Zj(Q),!G)return rk(Q,K)}else{var H=Qj(Q),N=H==GH||H==Vj;if(Kj(Q))return ak(Q,G);if(H==YH||H==KH||N&&!$){if(K=Y||N?{}:$j(Q),!G)return Y?tk(Q,sk(K,Q)):ok(Q,nk(K,Q))}else{if(!rJ[H])return $?Q:{};K=Uj(Q,H,G)}}q||(q=new pk);var z=q.get(Q);if(z)return z;if(q.set(Q,K),Fj(Q))Q.forEach(function(L){K.add(g7(L,J,Z,L,Q,q))});else if(Gj(Q))Q.forEach(function(L,E){K.set(E,g7(L,J,Z,E,Q,q))});var M=F?Y?Jj:ek:Y?Hj:Xj,W=X?void 0:M(Q);return lk(W||Q,function(L,E){if(W)E=L,L=Q[E];ik(K,E,g7(L,J,Z,E,Q,q))}),K}FH.exports=g7});var HH=w((gp,XH)=>{var yj=U$(),hj=4;function uj(Q){return yj(Q,hj)}XH.exports=uj});var d7=w((dp,NH)=>{function gj(Q){return function(){return Q}}NH.exports=gj});var zH=w((cp,MH)=>{function dj(Q){return function(J,Z,U){var $=-1,q=Object(J),K=U(J),G=K.length;while(G--){var Y=K[Q?G:++$];if(Z(q[Y],Y,q)===!1)break}return J}}MH.exports=dj});var c7=w((pp,LH)=>{var cj=zH(),pj=cj();LH.exports=pj});var p7=w((lp,WH)=>{var lj=c7(),ij=A9();function nj(Q,J){return Q&&lj(Q,J,ij)}WH.exports=nj});var BH=w((ip,EH)=>{var sj=F9();function aj(Q,J){return function(Z,U){if(Z==null)return Z;if(!sj(Z))return Q(Z,U);var $=Z.length,q=J?$:-1,K=Object(Z);while(J?q--:++q<$)if(U(K[q],q,K)===!1)break;return Z}}EH.exports=aj});var X6=w((np,VH)=>{var rj=p7(),oj=BH(),tj=oj(rj);VH.exports=tj});var t9=w((sp,DH)=>{function ej(Q){return Q}DH.exports=ej});var $$=w((ap,RH)=>{var Jw=t9();function Qw(Q){return typeof Q==\"function\"?Q:Jw}RH.exports=Qw});var l7=w((rp,OH)=>{var Zw=w7(),Uw=X6(),$w=$$(),qw=$8();function Kw(Q,J){var Z=qw(Q)?Zw:Uw;return Z(Q,$w(J))}OH.exports=Kw});var CH=w((op,AH)=>{var Gw=X6();function Yw(Q,J){var Z=[];return Gw(Q,function(U,$,q){if(J(U,$,q))Z.push(U)}),Z}AH.exports=Yw});var IH=w((tp,SH)=>{var Fw=\"__lodash_hash_undefined__\";function Xw(Q){return this.__data__.set(Q,Fw),this}SH.exports=Xw});var PH=w((ep,TH)=>{function Hw(Q){return this.__data__.has(Q)}TH.exports=Hw});var q$=w((Jl,kH)=>{var Nw=j7(),Mw=IH(),zw=PH();function i7(Q){var J=-1,Z=Q==null?0:Q.length;this.__data__=new Nw;while(++J<Z)this.add(Q[J])}i7.prototype.add=i7.prototype.push=Mw;i7.prototype.has=zw;kH.exports=i7});var wH=w((Ql,jH)=>{function Lw(Q,J){var Z=-1,U=Q==null?0:Q.length;while(++Z<U)if(J(Q[Z],Z,Q))return!0;return!1}jH.exports=Lw});var K$=w((Zl,_H)=>{function Ww(Q,J){return Q.has(J)}_H.exports=Ww});var G$=w((Ul,vH)=>{var Ew=q$(),Bw=wH(),Vw=K$(),Dw=1,Rw=2;function Ow(Q,J,Z,U,$,q){var K=Z&Dw,G=Q.length,Y=J.length;if(G!=Y&&!(K&&Y>G))return!1;var F=q.get(Q),X=q.get(J);if(F&&X)return F==J&&X==Q;var H=-1,N=!0,z=Z&Rw?new Ew:void 0;q.set(Q,J),q.set(J,Q);while(++H<G){var M=Q[H],W=J[H];if(U)var L=K?U(W,M,H,J,Q,q):U(M,W,H,Q,J,q);if(L!==void 0){if(L)continue;N=!1;break}if(z){if(!Bw(J,function(E,B){if(!Vw(z,B)&&(M===E||$(M,E,Z,U,q)))return z.push(B)})){N=!1;break}}else if(!(M===W||$(M,W,Z,U,q))){N=!1;break}}return q.delete(Q),q.delete(J),N}vH.exports=Ow});var xH=w(($l,fH)=>{function Aw(Q){var J=-1,Z=Array(Q.size);return Q.forEach(function(U,$){Z[++J]=[$,U]}),Z}fH.exports=Aw});var n7=w((ql,bH)=>{function Cw(Q){var J=-1,Z=Array(Q.size);return Q.forEach(function(U){Z[++J]=U}),Z}bH.exports=Cw});var gH=w((Kl,uH)=>{var mH=VQ(),yH=eU(),Sw=BQ(),Iw=G$(),Tw=xH(),Pw=n7(),kw=1,jw=2,ww=\"[object Boolean]\",_w=\"[object Date]\",vw=\"[object Error]\",fw=\"[object Map]\",xw=\"[object Number]\",bw=\"[object RegExp]\",mw=\"[object Set]\",yw=\"[object String]\",hw=\"[object Symbol]\",uw=\"[object ArrayBuffer]\",gw=\"[object DataView]\",hH=mH?mH.prototype:void 0,Y$=hH?hH.valueOf:void 0;function dw(Q,J,Z,U,$,q,K){switch(Z){case gw:if(Q.byteLength!=J.byteLength||Q.byteOffset!=J.byteOffset)return!1;Q=Q.buffer,J=J.buffer;case uw:if(Q.byteLength!=J.byteLength||!q(new yH(Q),new yH(J)))return!1;return!0;case ww:case _w:case xw:return Sw(+Q,+J);case vw:return Q.name==J.name&&Q.message==J.message;case bw:case yw:return Q==J+\"\";case fw:var G=Tw;case mw:var Y=U&kw;if(G||(G=Pw),Q.size!=J.size&&!Y)return!1;var F=K.get(Q);if(F)return F==J;U|=jw,K.set(Q,J);var X=Iw(G(Q),G(J),U,$,q,K);return K.delete(Q),X;case hw:if(Y$)return Y$.call(Q)==Y$.call(J)}return!1}uH.exports=dw});var pH=w((Gl,cH)=>{var dH=iU(),cw=1,pw=Object.prototype,lw=pw.hasOwnProperty;function iw(Q,J,Z,U,$,q){var K=Z&cw,G=dH(Q),Y=G.length,F=dH(J),X=F.length;if(Y!=X&&!K)return!1;var H=Y;while(H--){var N=G[H];if(!(K?N in J:lw.call(J,N)))return!1}var z=q.get(Q),M=q.get(J);if(z&&M)return z==J&&M==Q;var W=!0;q.set(Q,J),q.set(J,Q);var L=K;while(++H<Y){N=G[H];var E=Q[N],B=J[N];if(U)var V=K?U(B,E,N,J,Q,q):U(E,B,N,Q,J,q);if(!(V===void 0?E===B||$(E,B,Z,U,q):V)){W=!1;break}L||(L=N==\"constructor\")}if(W&&!L){var D=Q.constructor,O=J.constructor;if(D!=O&&((\"constructor\"in Q)&&(\"constructor\"in J))&&!(typeof D==\"function\"&&D instanceof D&&typeof O==\"function\"&&O instanceof O))W=!1}return q.delete(Q),q.delete(J),W}cH.exports=iw});var tH=w((Yl,oH)=>{var F$=Z6(),nw=G$(),sw=gH(),aw=pH(),lH=OQ(),iH=$8(),nH=DQ(),rw=FZ(),ow=1,sH=\"[object Arguments]\",aH=\"[object Array]\",s7=\"[object Object]\",tw=Object.prototype,rH=tw.hasOwnProperty;function ew(Q,J,Z,U,$,q){var K=iH(Q),G=iH(J),Y=K?aH:lH(Q),F=G?aH:lH(J);Y=Y==sH?s7:Y,F=F==sH?s7:F;var X=Y==s7,H=F==s7,N=Y==F;if(N&&nH(Q)){if(!nH(J))return!1;K=!0,X=!1}if(N&&!X)return q||(q=new F$),K||rw(Q)?nw(Q,J,Z,U,$,q):sw(Q,J,Y,Z,U,$,q);if(!(Z&ow)){var z=X&&rH.call(Q,\"__wrapped__\"),M=H&&rH.call(J,\"__wrapped__\");if(z||M){var W=z?Q.value():Q,L=M?J.value():J;return q||(q=new F$),$(W,L,Z,U,q)}}if(!N)return!1;return q||(q=new F$),aw(Q,J,Z,U,$,q)}oH.exports=ew});var X$=w((Fl,QN)=>{var J_=tH(),eH=Q9();function JN(Q,J,Z,U,$){if(Q===J)return!0;if(Q==null||J==null||!eH(Q)&&!eH(J))return Q!==Q&&J!==J;return J_(Q,J,Z,U,JN,$)}QN.exports=JN});var UN=w((Xl,ZN)=>{var Q_=Z6(),Z_=X$(),U_=1,$_=2;function q_(Q,J,Z,U){var $=Z.length,q=$,K=!U;if(Q==null)return!q;Q=Object(Q);while($--){var G=Z[$];if(K&&G[2]?G[1]!==Q[G[0]]:!(G[0]in Q))return!1}while(++$<q){G=Z[$];var Y=G[0],F=Q[Y],X=G[1];if(K&&G[2]){if(F===void 0&&!(Y in Q))return!1}else{var H=new Q_;if(U)var N=U(F,X,Y,Q,J,H);if(!(N===void 0?Z_(X,F,U_|$_,U,H):N))return!1}}return!0}ZN.exports=q_});var H$=w((Hl,$N)=>{var K_=u8();function G_(Q){return Q===Q&&!K_(Q)}$N.exports=G_});var KN=w((Nl,qN)=>{var Y_=H$(),F_=A9();function X_(Q){var J=F_(Q),Z=J.length;while(Z--){var U=J[Z],$=Q[U];J[Z]=[U,$,Y_($)]}return J}qN.exports=X_});var N$=w((Ml,GN)=>{function H_(Q,J){return function(Z){if(Z==null)return!1;return Z[Q]===J&&(J!==void 0||(Q in Object(Z)))}}GN.exports=H_});var FN=w((zl,YN)=>{var N_=UN(),M_=KN(),z_=N$();function L_(Q){var J=M_(Q);if(J.length==1&&J[0][2])return z_(J[0][0],J[0][1]);return function(Z){return Z===Q||N_(Z,Q,J)}}YN.exports=L_});var AQ=w((Ll,XN)=>{var W_=a9(),E_=Q9(),B_=\"[object Symbol]\";function V_(Q){return typeof Q==\"symbol\"||E_(Q)&&W_(Q)==B_}XN.exports=V_});var a7=w((Wl,HN)=>{var D_=$8(),R_=AQ(),O_=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,A_=/^\\w*$/;function C_(Q,J){if(D_(Q))return!1;var Z=typeof Q;if(Z==\"number\"||Z==\"symbol\"||Z==\"boolean\"||Q==null||R_(Q))return!0;return A_.test(Q)||!O_.test(Q)||J!=null&&Q in Object(J)}HN.exports=C_});var zN=w((El,MN)=>{var NN=j7(),S_=\"Expected a function\";function M$(Q,J){if(typeof Q!=\"function\"||J!=null&&typeof J!=\"function\")throw new TypeError(S_);var Z=function(){var U=arguments,$=J?J.apply(this,U):U[0],q=Z.cache;if(q.has($))return q.get($);var K=Q.apply(this,U);return Z.cache=q.set($,K)||q,K};return Z.cache=new(M$.Cache||NN),Z}M$.Cache=NN;MN.exports=M$});var WN=w((Bl,LN)=>{var I_=zN(),T_=500;function P_(Q){var J=I_(Q,function(U){if(Z.size===T_)Z.clear();return U}),Z=J.cache;return J}LN.exports=P_});var BN=w((Vl,EN)=>{var k_=WN(),j_=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,w_=/\\\\(\\\\)?/g,__=k_(function(Q){var J=[];if(Q.charCodeAt(0)===46)J.push(\"\");return Q.replace(j_,function(Z,U,$,q){J.push($?q.replace(w_,\"$1\"):U||Z)}),J});EN.exports=__});var H6=w((Dl,VN)=>{function v_(Q,J){var Z=-1,U=Q==null?0:Q.length,$=Array(U);while(++Z<U)$[Z]=J(Q[Z],Z,Q);return $}VN.exports=v_});var SN=w((Rl,CN)=>{var DN=VQ(),f_=H6(),x_=$8(),b_=AQ(),m_=1/0,RN=DN?DN.prototype:void 0,ON=RN?RN.toString:void 0;function AN(Q){if(typeof Q==\"string\")return Q;if(x_(Q))return f_(Q,AN)+\"\";if(b_(Q))return ON?ON.call(Q):\"\";var J=Q+\"\";return J==\"0\"&&1/Q==-m_?\"-0\":J}CN.exports=AN});var z$=w((Ol,IN)=>{var y_=SN();function h_(Q){return Q==null?\"\":y_(Q)}IN.exports=h_});var N6=w((Al,TN)=>{var u_=$8(),g_=a7(),d_=BN(),c_=z$();function p_(Q,J){if(u_(Q))return Q;return g_(Q,J)?[Q]:d_(c_(Q))}TN.exports=p_});var NZ=w((Cl,PN)=>{var l_=AQ(),i_=1/0;function n_(Q){if(typeof Q==\"string\"||l_(Q))return Q;var J=Q+\"\";return J==\"0\"&&1/Q==-i_?\"-0\":J}PN.exports=n_});var M6=w((Sl,kN)=>{var s_=N6(),a_=NZ();function r_(Q,J){J=s_(J,Q);var Z=0,U=J.length;while(Q!=null&&Z<U)Q=Q[a_(J[Z++])];return Z&&Z==U?Q:void 0}kN.exports=r_});var wN=w((Il,jN)=>{var o_=M6();function t_(Q,J,Z){var U=Q==null?void 0:o_(Q,J);return U===void 0?Z:U}jN.exports=t_});var vN=w((Tl,_N)=>{function e_(Q,J){return Q!=null&&J in Object(Q)}_N.exports=e_});var L$=w((Pl,fN)=>{var Jv=N6(),Qv=KZ(),Zv=$8(),Uv=q6(),$v=v7(),qv=NZ();function Kv(Q,J,Z){J=Jv(J,Q);var U=-1,$=J.length,q=!1;while(++U<$){var K=qv(J[U]);if(!(q=Q!=null&&Z(Q,K)))break;Q=Q[K]}if(q||++U!=$)return q;return $=Q==null?0:Q.length,!!$&&$v($)&&Uv(K,$)&&(Zv(Q)||Qv(Q))}fN.exports=Kv});var W$=w((kl,xN)=>{var Gv=vN(),Yv=L$();function Fv(Q,J){return Q!=null&&Yv(Q,J,Gv)}xN.exports=Fv});var mN=w((jl,bN)=>{var Xv=X$(),Hv=wN(),Nv=W$(),Mv=a7(),zv=H$(),Lv=N$(),Wv=NZ(),Ev=1,Bv=2;function Vv(Q,J){if(Mv(Q)&&zv(J))return Lv(Wv(Q),J);return function(Z){var U=Hv(Z,Q);return U===void 0&&U===J?Nv(Z,Q):Xv(J,U,Ev|Bv)}}bN.exports=Vv});var E$=w((wl,yN)=>{function Dv(Q){return function(J){return J==null?void 0:J[Q]}}yN.exports=Dv});var uN=w((_l,hN)=>{var Rv=M6();function Ov(Q){return function(J){return Rv(J,Q)}}hN.exports=Ov});var dN=w((vl,gN)=>{var Av=E$(),Cv=uN(),Sv=a7(),Iv=NZ();function Tv(Q){return Sv(Q)?Av(Iv(Q)):Cv(Q)}gN.exports=Tv});var X9=w((fl,cN)=>{var Pv=FN(),kv=mN(),jv=t9(),wv=$8(),_v=dN();function vv(Q){if(typeof Q==\"function\")return Q;if(Q==null)return jv;if(typeof Q==\"object\")return wv(Q)?kv(Q[0],Q[1]):Pv(Q);return _v(Q)}cN.exports=vv});var B$=w((xl,pN)=>{var fv=dU(),xv=CH(),bv=X9(),mv=$8();function yv(Q,J){var Z=mv(Q)?fv:xv;return Z(Q,bv(J,3))}pN.exports=yv});var iN=w((bl,lN)=>{var hv=Object.prototype,uv=hv.hasOwnProperty;function gv(Q,J){return Q!=null&&uv.call(Q,J)}lN.exports=gv});var V$=w((ml,nN)=>{var dv=iN(),cv=L$();function pv(Q,J){return Q!=null&&cv(Q,J,dv)}nN.exports=pv});var aN=w((yl,sN)=>{var lv=b7(),iv=OQ(),nv=KZ(),sv=$8(),av=F9(),rv=DQ(),ov=Y6(),tv=FZ(),ev=\"[object Map]\",Jf=\"[object Set]\",Qf=Object.prototype,Zf=Qf.hasOwnProperty;function Uf(Q){if(Q==null)return!0;if(av(Q)&&(sv(Q)||typeof Q==\"string\"||typeof Q.splice==\"function\"||rv(Q)||tv(Q)||nv(Q)))return!Q.length;var J=iv(Q);if(J==ev||J==Jf)return!Q.size;if(ov(Q))return!lv(Q).length;for(var Z in Q)if(Zf.call(Q,Z))return!1;return!0}sN.exports=Uf});var D$=w((hl,rN)=>{function $f(Q){return Q===void 0}rN.exports=$f});var R$=w((ul,oN)=>{var qf=X6(),Kf=F9();function Gf(Q,J){var Z=-1,U=Kf(Q)?Array(Q.length):[];return qf(Q,function($,q,K){U[++Z]=J($,q,K)}),U}oN.exports=Gf});var O$=w((gl,tN)=>{var Yf=H6(),Ff=X9(),Xf=R$(),Hf=$8();function Nf(Q,J){var Z=Hf(Q)?Yf:Xf;return Z(Q,Ff(J,3))}tN.exports=Nf});var JM=w((dl,eN)=>{function Mf(Q,J,Z,U){var $=-1,q=Q==null?0:Q.length;if(U&&q)Z=Q[++$];while(++$<q)Z=J(Z,Q[$],$,Q);return Z}eN.exports=Mf});var ZM=w((cl,QM)=>{function zf(Q,J,Z,U,$){return $(Q,function(q,K,G){Z=U?(U=!1,q):J(Z,q,K,G)}),Z}QM.exports=zf});var A$=w((pl,UM)=>{var Lf=JM(),Wf=X6(),Ef=X9(),Bf=ZM(),Vf=$8();function Df(Q,J,Z){var U=Vf(Q)?Lf:Bf,$=arguments.length<3;return U(Q,Ef(J,4),Z,$,Wf)}UM.exports=Df});var qM=w((ll,$M)=>{var Rf=a9(),Of=$8(),Af=Q9(),Cf=\"[object String]\";function Sf(Q){return typeof Q==\"string\"||!Of(Q)&&Af(Q)&&Rf(Q)==Cf}$M.exports=Sf});var GM=w((il,KM)=>{var If=E$(),Tf=If(\"length\");KM.exports=Tf});var FM=w((nl,YM)=>{var Pf=\"\\\\ud800-\\\\udfff\",kf=\"\\\\u0300-\\\\u036f\",jf=\"\\\\ufe20-\\\\ufe2f\",wf=\"\\\\u20d0-\\\\u20ff\",_f=kf+jf+wf,vf=\"\\\\ufe0e\\\\ufe0f\",ff=\"\\\\u200d\",xf=RegExp(\"[\"+ff+Pf+_f+vf+\"]\");function bf(Q){return xf.test(Q)}YM.exports=bf});var BM=w((sl,EM)=>{var HM=\"\\\\ud800-\\\\udfff\",mf=\"\\\\u0300-\\\\u036f\",yf=\"\\\\ufe20-\\\\ufe2f\",hf=\"\\\\u20d0-\\\\u20ff\",uf=mf+yf+hf,gf=\"\\\\ufe0e\\\\ufe0f\",df=\"[\"+HM+\"]\",C$=\"[\"+uf+\"]\",S$=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",cf=\"(?:\"+C$+\"|\"+S$+\")\",NM=\"[^\"+HM+\"]\",MM=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",zM=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",pf=\"\\\\u200d\",LM=cf+\"?\",WM=\"[\"+gf+\"]?\",lf=\"(?:\"+pf+\"(?:\"+[NM,MM,zM].join(\"|\")+\")\"+WM+LM+\")*\",nf=WM+LM+lf,sf=\"(?:\"+[NM+C$+\"?\",C$,MM,zM,df].join(\"|\")+\")\",XM=RegExp(S$+\"(?=\"+S$+\")|\"+sf+nf,\"g\");function af(Q){var J=XM.lastIndex=0;while(XM.test(Q))++J;return J}EM.exports=af});var DM=w((al,VM)=>{var rf=GM(),of=FM(),tf=BM();function ef(Q){return of(Q)?tf(Q):rf(Q)}VM.exports=ef});var OM=w((rl,RM)=>{var Jx=b7(),Qx=OQ(),Zx=F9(),Ux=qM(),$x=DM(),qx=\"[object Map]\",Kx=\"[object Set]\";function Gx(Q){if(Q==null)return 0;if(Zx(Q))return Ux(Q)?$x(Q):Q.length;var J=Qx(Q);if(J==qx||J==Kx)return Q.size;return Jx(Q).length}RM.exports=Gx});var CM=w((ol,AM)=>{var Yx=w7(),Fx=Q$(),Xx=p7(),Hx=X9(),Nx=F6(),Mx=$8(),zx=DQ(),Lx=QZ(),Wx=u8(),Ex=FZ();function Bx(Q,J,Z){var U=Mx(Q),$=U||zx(Q)||Ex(Q);if(J=Hx(J,4),Z==null){var q=Q&&Q.constructor;if($)Z=U?new q:[];else if(Wx(Q))Z=Lx(q)?Fx(Nx(Q)):{};else Z={}}return($?Yx:Xx)(Q,function(K,G,Y){return J(Z,K,G,Y)}),Z}AM.exports=Bx});var PM=w((tl,TM)=>{var SM=VQ(),Vx=KZ(),Dx=$8(),IM=SM?SM.isConcatSpreadable:void 0;function Rx(Q){return Dx(Q)||Vx(Q)||!!(IM&&Q&&Q[IM])}TM.exports=Rx});var r7=w((el,jM)=>{var Ox=h7(),Ax=PM();function kM(Q,J,Z,U,$){var q=-1,K=Q.length;Z||(Z=Ax),$||($=[]);while(++q<K){var G=Q[q];if(J>0&&Z(G))if(J>1)kM(G,J-1,Z,U,$);else Ox($,G);else if(!U)$[$.length]=G}return $}jM.exports=kM});var _M=w((Ji,wM)=>{function Cx(Q,J,Z){switch(Z.length){case 0:return Q.call(J);case 1:return Q.call(J,Z[0]);case 2:return Q.call(J,Z[0],Z[1]);case 3:return Q.call(J,Z[0],Z[1],Z[2])}return Q.apply(J,Z)}wM.exports=Cx});var I$=w((Qi,fM)=>{var Sx=_M(),vM=Math.max;function Ix(Q,J,Z){return J=vM(J===void 0?Q.length-1:J,0),function(){var U=arguments,$=-1,q=vM(U.length-J,0),K=Array(q);while(++$<q)K[$]=U[J+$];$=-1;var G=Array(J+1);while(++$<J)G[$]=U[$];return G[J]=Z(K),Sx(Q,this,G)}}fM.exports=Ix});var mM=w((Zi,bM)=>{var Tx=d7(),xM=bU(),Px=t9(),kx=!xM?Px:function(Q,J){return xM(Q,\"toString\",{configurable:!0,enumerable:!1,value:Tx(J),writable:!0})};bM.exports=kx});var hM=w((Ui,yM)=>{var jx=800,wx=16,_x=Date.now;function vx(Q){var J=0,Z=0;return function(){var U=_x(),$=wx-(U-Z);if(Z=U,$>0){if(++J>=jx)return arguments[0]}else J=0;return Q.apply(void 0,arguments)}}yM.exports=vx});var T$=w(($i,uM)=>{var fx=mM(),xx=hM(),bx=xx(fx);uM.exports=bx});var z6=w((qi,gM)=>{var mx=t9(),yx=I$(),hx=T$();function ux(Q,J){return hx(yx(Q,J,mx),Q+\"\")}gM.exports=ux});var P$=w((Ki,dM)=>{function gx(Q,J,Z,U){var $=Q.length,q=Z+(U?1:-1);while(U?q--:++q<$)if(J(Q[q],q,Q))return q;return-1}dM.exports=gx});var pM=w((Gi,cM)=>{function dx(Q){return Q!==Q}cM.exports=dx});var iM=w((Yi,lM)=>{function cx(Q,J,Z){var U=Z-1,$=Q.length;while(++U<$)if(Q[U]===J)return U;return-1}lM.exports=cx});var sM=w((Fi,nM)=>{var px=P$(),lx=pM(),ix=iM();function nx(Q,J,Z){return J===J?ix(Q,J,Z):px(Q,lx,Z)}nM.exports=nx});var rM=w((Xi,aM)=>{var sx=sM();function ax(Q,J){var Z=Q==null?0:Q.length;return!!Z&&sx(Q,J,0)>-1}aM.exports=ax});var tM=w((Hi,oM)=>{function rx(Q,J,Z){var U=-1,$=Q==null?0:Q.length;while(++U<$)if(Z(J,Q[U]))return!0;return!1}oM.exports=rx});var Jz=w((Ni,eM)=>{function ox(){}eM.exports=ox});var Zz=w((Mi,Qz)=>{var k$=nU(),tx=Jz(),ex=n7(),Jb=1/0,Qb=!(k$&&1/ex(new k$([,-0]))[1]==Jb)?tx:function(Q){return new k$(Q)};Qz.exports=Qb});var $z=w((zi,Uz)=>{var Zb=q$(),Ub=rM(),$b=tM(),qb=K$(),Kb=Zz(),Gb=n7(),Yb=200;function Fb(Q,J,Z){var U=-1,$=Ub,q=Q.length,K=!0,G=[],Y=G;if(Z)K=!1,$=$b;else if(q>=Yb){var F=J?null:Kb(Q);if(F)return Gb(F);K=!1,$=qb,Y=new Zb}else Y=J?[]:G;J:while(++U<q){var X=Q[U],H=J?J(X):X;if(X=Z||X!==0?X:0,K&&H===H){var N=Y.length;while(N--)if(Y[N]===H)continue J;if(J)Y.push(H);G.push(X)}else if(!$(Y,H,Z)){if(Y!==G)Y.push(H);G.push(X)}}return G}Uz.exports=Fb});var j$=w((Li,qz)=>{var Xb=F9(),Hb=Q9();function Nb(Q){return Hb(Q)&&Xb(Q)}qz.exports=Nb});var Gz=w((Wi,Kz)=>{var Mb=r7(),zb=z6(),Lb=$z(),Wb=j$(),Eb=zb(function(Q){return Lb(Mb(Q,1,Wb,!0))});Kz.exports=Eb});var Fz=w((Ei,Yz)=>{var Bb=H6();function Vb(Q,J){return Bb(J,function(Z){return Q[Z]})}Yz.exports=Vb});var w$=w((Bi,Xz)=>{var Db=Fz(),Rb=A9();function Ob(Q){return Q==null?[]:Db(Q,Rb(Q))}Xz.exports=Ob});var g8=w((Vi,Nz)=>{var o7;try{o7={clone:HH(),constant:d7(),each:l7(),filter:B$(),has:V$(),isArray:$8(),isEmpty:aN(),isFunction:QZ(),isUndefined:D$(),keys:A9(),map:O$(),reduce:A$(),size:OM(),transform:CM(),union:Gz(),values:w$()}}catch(Q){}if(!o7)o7=window._;Nz.exports=o7});var t7=w((Ri,Wz)=>{var SJ=g8();Wz.exports=vJ;var Ab=\"\\x00\",CQ=\"\\x00\",Mz=\"\\x01\";function vJ(Q){if(this._isDirected=SJ.has(Q,\"directed\")?Q.directed:!0,this._isMultigraph=SJ.has(Q,\"multigraph\")?Q.multigraph:!1,this._isCompound=SJ.has(Q,\"compound\")?Q.compound:!1,this._label=void 0,this._defaultNodeLabelFn=SJ.constant(void 0),this._defaultEdgeLabelFn=SJ.constant(void 0),this._nodes={},this._isCompound)this._parent={},this._children={},this._children[CQ]={};this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}vJ.prototype._nodeCount=0;vJ.prototype._edgeCount=0;vJ.prototype.isDirected=function(){return this._isDirected};vJ.prototype.isMultigraph=function(){return this._isMultigraph};vJ.prototype.isCompound=function(){return this._isCompound};vJ.prototype.setGraph=function(Q){return this._label=Q,this};vJ.prototype.graph=function(){return this._label};vJ.prototype.setDefaultNodeLabel=function(Q){if(!SJ.isFunction(Q))Q=SJ.constant(Q);return this._defaultNodeLabelFn=Q,this};vJ.prototype.nodeCount=function(){return this._nodeCount};vJ.prototype.nodes=function(){return SJ.keys(this._nodes)};vJ.prototype.sources=function(){var Q=this;return SJ.filter(this.nodes(),function(J){return SJ.isEmpty(Q._in[J])})};vJ.prototype.sinks=function(){var Q=this;return SJ.filter(this.nodes(),function(J){return SJ.isEmpty(Q._out[J])})};vJ.prototype.setNodes=function(Q,J){var Z=arguments,U=this;return SJ.each(Q,function($){if(Z.length>1)U.setNode($,J);else U.setNode($)}),this};vJ.prototype.setNode=function(Q,J){if(SJ.has(this._nodes,Q)){if(arguments.length>1)this._nodes[Q]=J;return this}if(this._nodes[Q]=arguments.length>1?J:this._defaultNodeLabelFn(Q),this._isCompound)this._parent[Q]=CQ,this._children[Q]={},this._children[CQ][Q]=!0;return this._in[Q]={},this._preds[Q]={},this._out[Q]={},this._sucs[Q]={},++this._nodeCount,this};vJ.prototype.node=function(Q){return this._nodes[Q]};vJ.prototype.hasNode=function(Q){return SJ.has(this._nodes,Q)};vJ.prototype.removeNode=function(Q){var J=this;if(SJ.has(this._nodes,Q)){var Z=function(U){J.removeEdge(J._edgeObjs[U])};if(delete this._nodes[Q],this._isCompound)this._removeFromParentsChildList(Q),delete this._parent[Q],SJ.each(this.children(Q),function(U){J.setParent(U)}),delete this._children[Q];SJ.each(SJ.keys(this._in[Q]),Z),delete this._in[Q],delete this._preds[Q],SJ.each(SJ.keys(this._out[Q]),Z),delete this._out[Q],delete this._sucs[Q],--this._nodeCount}return this};vJ.prototype.setParent=function(Q,J){if(!this._isCompound)throw new Error(\"Cannot set parent in a non-compound graph\");if(SJ.isUndefined(J))J=CQ;else{J+=\"\";for(var Z=J;!SJ.isUndefined(Z);Z=this.parent(Z))if(Z===Q)throw new Error(\"Setting \"+J+\" as parent of \"+Q+\" would create a cycle\");this.setNode(J)}return this.setNode(Q),this._removeFromParentsChildList(Q),this._parent[Q]=J,this._children[J][Q]=!0,this};vJ.prototype._removeFromParentsChildList=function(Q){delete this._children[this._parent[Q]][Q]};vJ.prototype.parent=function(Q){if(this._isCompound){var J=this._parent[Q];if(J!==CQ)return J}};vJ.prototype.children=function(Q){if(SJ.isUndefined(Q))Q=CQ;if(this._isCompound){var J=this._children[Q];if(J)return SJ.keys(J)}else if(Q===CQ)return this.nodes();else if(this.hasNode(Q))return[]};vJ.prototype.predecessors=function(Q){var J=this._preds[Q];if(J)return SJ.keys(J)};vJ.prototype.successors=function(Q){var J=this._sucs[Q];if(J)return SJ.keys(J)};vJ.prototype.neighbors=function(Q){var J=this.predecessors(Q);if(J)return SJ.union(J,this.successors(Q))};vJ.prototype.isLeaf=function(Q){var J;if(this.isDirected())J=this.successors(Q);else J=this.neighbors(Q);return J.length===0};vJ.prototype.filterNodes=function(Q){var J=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});J.setGraph(this.graph());var Z=this;SJ.each(this._nodes,function(q,K){if(Q(K))J.setNode(K,q)}),SJ.each(this._edgeObjs,function(q){if(J.hasNode(q.v)&&J.hasNode(q.w))J.setEdge(q,Z.edge(q))});var U={};function $(q){var K=Z.parent(q);if(K===void 0||J.hasNode(K))return U[q]=K,K;else if(K in U)return U[K];else return $(K)}if(this._isCompound)SJ.each(J.nodes(),function(q){J.setParent(q,$(q))});return J};vJ.prototype.setDefaultEdgeLabel=function(Q){if(!SJ.isFunction(Q))Q=SJ.constant(Q);return this._defaultEdgeLabelFn=Q,this};vJ.prototype.edgeCount=function(){return this._edgeCount};vJ.prototype.edges=function(){return SJ.values(this._edgeObjs)};vJ.prototype.setPath=function(Q,J){var Z=this,U=arguments;return SJ.reduce(Q,function($,q){if(U.length>1)Z.setEdge($,q,J);else Z.setEdge($,q);return q}),this};vJ.prototype.setEdge=function(){var Q,J,Z,U,$=!1,q=arguments[0];if(typeof q===\"object\"&&q!==null&&\"v\"in q){if(Q=q.v,J=q.w,Z=q.name,arguments.length===2)U=arguments[1],$=!0}else if(Q=q,J=arguments[1],Z=arguments[3],arguments.length>2)U=arguments[2],$=!0;if(Q=\"\"+Q,J=\"\"+J,!SJ.isUndefined(Z))Z=\"\"+Z;var K=L6(this._isDirected,Q,J,Z);if(SJ.has(this._edgeLabels,K)){if($)this._edgeLabels[K]=U;return this}if(!SJ.isUndefined(Z)&&!this._isMultigraph)throw new Error(\"Cannot set a named edge when isMultigraph = false\");this.setNode(Q),this.setNode(J),this._edgeLabels[K]=$?U:this._defaultEdgeLabelFn(Q,J,Z);var G=Cb(this._isDirected,Q,J,Z);return Q=G.v,J=G.w,Object.freeze(G),this._edgeObjs[K]=G,zz(this._preds[J],Q),zz(this._sucs[Q],J),this._in[J][K]=G,this._out[Q][K]=G,this._edgeCount++,this};vJ.prototype.edge=function(Q,J,Z){var U=arguments.length===1?_$(this._isDirected,arguments[0]):L6(this._isDirected,Q,J,Z);return this._edgeLabels[U]};vJ.prototype.hasEdge=function(Q,J,Z){var U=arguments.length===1?_$(this._isDirected,arguments[0]):L6(this._isDirected,Q,J,Z);return SJ.has(this._edgeLabels,U)};vJ.prototype.removeEdge=function(Q,J,Z){var U=arguments.length===1?_$(this._isDirected,arguments[0]):L6(this._isDirected,Q,J,Z),$=this._edgeObjs[U];if($)Q=$.v,J=$.w,delete this._edgeLabels[U],delete this._edgeObjs[U],Lz(this._preds[J],Q),Lz(this._sucs[Q],J),delete this._in[J][U],delete this._out[Q][U],this._edgeCount--;return this};vJ.prototype.inEdges=function(Q,J){var Z=this._in[Q];if(Z){var U=SJ.values(Z);if(!J)return U;return SJ.filter(U,function($){return $.v===J})}};vJ.prototype.outEdges=function(Q,J){var Z=this._out[Q];if(Z){var U=SJ.values(Z);if(!J)return U;return SJ.filter(U,function($){return $.w===J})}};vJ.prototype.nodeEdges=function(Q,J){var Z=this.inEdges(Q,J);if(Z)return Z.concat(this.outEdges(Q,J))};function zz(Q,J){if(Q[J])Q[J]++;else Q[J]=1}function Lz(Q,J){if(!--Q[J])delete Q[J]}function L6(Q,J,Z,U){var $=\"\"+J,q=\"\"+Z;if(!Q&&$>q){var K=$;$=q,q=K}return $+Mz+q+Mz+(SJ.isUndefined(U)?Ab:U)}function Cb(Q,J,Z,U){var $=\"\"+J,q=\"\"+Z;if(!Q&&$>q){var K=$;$=q,q=K}var G={v:$,w:q};if(U)G.name=U;return G}function _$(Q,J){return L6(Q,J.v,J.w,J.name)}});var Bz=w((Oi,Ez)=>{Ez.exports=\"2.1.8\"});var Dz=w((Ai,Vz)=>{Vz.exports={Graph:t7(),version:Bz()}});var Oz=w((Ci,Rz)=>{var H9=g8(),Sb=t7();Rz.exports={write:Ib,read:kb};function Ib(Q){var J={options:{directed:Q.isDirected(),multigraph:Q.isMultigraph(),compound:Q.isCompound()},nodes:Tb(Q),edges:Pb(Q)};if(!H9.isUndefined(Q.graph()))J.value=H9.clone(Q.graph());return J}function Tb(Q){return H9.map(Q.nodes(),function(J){var Z=Q.node(J),U=Q.parent(J),$={v:J};if(!H9.isUndefined(Z))$.value=Z;if(!H9.isUndefined(U))$.parent=U;return $})}function Pb(Q){return H9.map(Q.edges(),function(J){var Z=Q.edge(J),U={v:J.v,w:J.w};if(!H9.isUndefined(J.name))U.name=J.name;if(!H9.isUndefined(Z))U.value=Z;return U})}function kb(Q){var J=new Sb(Q.options).setGraph(Q.value);return H9.each(Q.nodes,function(Z){if(J.setNode(Z.v,Z.value),Z.parent)J.setParent(Z.v,Z.parent)}),H9.each(Q.edges,function(Z){J.setEdge({v:Z.v,w:Z.w,name:Z.name},Z.value)}),J}});var Cz=w((Si,Az)=>{var e7=g8();Az.exports=jb;function jb(Q){var J={},Z=[],U;function $(q){if(e7.has(J,q))return;J[q]=!0,U.push(q),e7.each(Q.successors(q),$),e7.each(Q.predecessors(q),$)}return e7.each(Q.nodes(),function(q){if(U=[],$(q),U.length)Z.push(U)}),Z}});var v$=w((Ii,Iz)=>{var Sz=g8();Iz.exports=s8;function s8(){this._arr=[],this._keyIndices={}}s8.prototype.size=function(){return this._arr.length};s8.prototype.keys=function(){return this._arr.map(function(Q){return Q.key})};s8.prototype.has=function(Q){return Sz.has(this._keyIndices,Q)};s8.prototype.priority=function(Q){var J=this._keyIndices[Q];if(J!==void 0)return this._arr[J].priority};s8.prototype.min=function(){if(this.size()===0)throw new Error(\"Queue underflow\");return this._arr[0].key};s8.prototype.add=function(Q,J){var Z=this._keyIndices;if(Q=String(Q),!Sz.has(Z,Q)){var U=this._arr,$=U.length;return Z[Q]=$,U.push({key:Q,priority:J}),this._decrease($),!0}return!1};s8.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var Q=this._arr.pop();return delete this._keyIndices[Q.key],this._heapify(0),Q.key};s8.prototype.decrease=function(Q,J){var Z=this._keyIndices[Q];if(J>this._arr[Z].priority)throw new Error(\"New priority is greater than current priority. Key: \"+Q+\" Old: \"+this._arr[Z].priority+\" New: \"+J);this._arr[Z].priority=J,this._decrease(Z)};s8.prototype._heapify=function(Q){var J=this._arr,Z=2*Q,U=Z+1,$=Q;if(Z<J.length){if($=J[Z].priority<J[$].priority?Z:$,U<J.length)$=J[U].priority<J[$].priority?U:$;if($!==Q)this._swap(Q,$),this._heapify($)}};s8.prototype._decrease=function(Q){var J=this._arr,Z=J[Q].priority,U;while(Q!==0){if(U=Q>>1,J[U].priority<Z)break;this._swap(Q,U),Q=U}};s8.prototype._swap=function(Q,J){var Z=this._arr,U=this._keyIndices,$=Z[Q],q=Z[J];Z[Q]=q,Z[J]=$,U[q.key]=Q,U[$.key]=J}});var f$=w((Ti,Tz)=>{var wb=g8(),_b=v$();Tz.exports=fb;var vb=wb.constant(1);function fb(Q,J,Z,U){return xb(Q,String(J),Z||vb,U||function($){return Q.outEdges($)})}function xb(Q,J,Z,U){var $={},q=new _b,K,G,Y=function(F){var X=F.v!==K?F.v:F.w,H=$[X],N=Z(F),z=G.distance+N;if(N<0)throw new Error(\"dijkstra does not allow negative edge weights. Bad edge: \"+F+\" Weight: \"+N);if(z<H.distance)H.distance=z,H.predecessor=K,q.decrease(X,z)};Q.nodes().forEach(function(F){var X=F===J?0:Number.POSITIVE_INFINITY;$[F]={distance:X},q.add(F,X)});while(q.size()>0){if(K=q.removeMin(),G=$[K],G.distance===Number.POSITIVE_INFINITY)break;U(K).forEach(Y)}return $}});var kz=w((Pi,Pz)=>{var bb=f$(),mb=g8();Pz.exports=yb;function yb(Q,J,Z){return mb.transform(Q.nodes(),function(U,$){U[$]=bb(Q,$,J,Z)},{})}});var x$=w((ki,wz)=>{var jz=g8();wz.exports=hb;function hb(Q){var J=0,Z=[],U={},$=[];function q(K){var G=U[K]={onStack:!0,lowlink:J,index:J++};if(Z.push(K),Q.successors(K).forEach(function(X){if(!jz.has(U,X))q(X),G.lowlink=Math.min(G.lowlink,U[X].lowlink);else if(U[X].onStack)G.lowlink=Math.min(G.lowlink,U[X].index)}),G.lowlink===G.index){var Y=[],F;do F=Z.pop(),U[F].onStack=!1,Y.push(F);while(K!==F);$.push(Y)}}return Q.nodes().forEach(function(K){if(!jz.has(U,K))q(K)}),$}});var vz=w((ji,_z)=>{var ub=g8(),gb=x$();_z.exports=db;function db(Q){return ub.filter(gb(Q),function(J){return J.length>1||J.length===1&&Q.hasEdge(J[0],J[0])})}});var xz=w((wi,fz)=>{var cb=g8();fz.exports=lb;var pb=cb.constant(1);function lb(Q,J,Z){return ib(Q,J||pb,Z||function(U){return Q.outEdges(U)})}function ib(Q,J,Z){var U={},$=Q.nodes();return $.forEach(function(q){U[q]={},U[q][q]={distance:0},$.forEach(function(K){if(q!==K)U[q][K]={distance:Number.POSITIVE_INFINITY}}),Z(q).forEach(function(K){var G=K.v===q?K.w:K.v,Y=J(K);U[q][G]={distance:Y,predecessor:q}})}),$.forEach(function(q){var K=U[q];$.forEach(function(G){var Y=U[G];$.forEach(function(F){var X=Y[q],H=K[F],N=Y[F],z=X.distance+H.distance;if(z<N.distance)N.distance=z,N.predecessor=H.predecessor})})}),U}});var b$=w((_i,mz)=>{var W6=g8();mz.exports=bz;bz.CycleException=J5;function bz(Q){var J={},Z={},U=[];function $(q){if(W6.has(Z,q))throw new J5;if(!W6.has(J,q))Z[q]=!0,J[q]=!0,W6.each(Q.predecessors(q),$),delete Z[q],U.push(q)}if(W6.each(Q.sinks(),$),W6.size(J)!==Q.nodeCount())throw new J5;return U}function J5(){}J5.prototype=new Error});var uz=w((vi,hz)=>{var yz=b$();hz.exports=nb;function nb(Q){try{yz(Q)}catch(J){if(J instanceof yz.CycleException)return!1;throw J}return!0}});var m$=w((fi,dz)=>{var Q5=g8();dz.exports=sb;function sb(Q,J,Z){if(!Q5.isArray(J))J=[J];var U=(Q.isDirected()?Q.successors:Q.neighbors).bind(Q),$=[],q={};return Q5.each(J,function(K){if(!Q.hasNode(K))throw new Error(\"Graph does not have node: \"+K);gz(Q,K,Z===\"post\",q,U,$)}),$}function gz(Q,J,Z,U,$,q){if(!Q5.has(U,J)){if(U[J]=!0,!Z)q.push(J);if(Q5.each($(J),function(K){gz(Q,K,Z,U,$,q)}),Z)q.push(J)}}});var pz=w((xi,cz)=>{var ab=m$();cz.exports=rb;function rb(Q,J){return ab(Q,J,\"post\")}});var iz=w((bi,lz)=>{var ob=m$();lz.exports=tb;function tb(Q,J){return ob(Q,J,\"pre\")}});var az=w((mi,sz)=>{var nz=g8(),eb=t7(),Jm=v$();sz.exports=Qm;function Qm(Q,J){var Z=new eb,U={},$=new Jm,q;function K(Y){var F=Y.v===q?Y.w:Y.v,X=$.priority(F);if(X!==void 0){var H=J(Y);if(H<X)U[F]=q,$.decrease(F,H)}}if(Q.nodeCount()===0)return Z;nz.each(Q.nodes(),function(Y){$.add(Y,Number.POSITIVE_INFINITY),Z.setNode(Y)}),$.decrease(Q.nodes()[0],0);var G=!1;while($.size()>0){if(q=$.removeMin(),nz.has(U,q))Z.setEdge(q,U[q]);else if(G)throw new Error(\"Input graph is not connected: \"+Q);else G=!0;Q.nodeEdges(q).forEach(K)}return Z}});var oz=w((yi,rz)=>{rz.exports={components:Cz(),dijkstra:f$(),dijkstraAll:kz(),findCycles:vz(),floydWarshall:xz(),isAcyclic:uz(),postorder:pz(),preorder:iz(),prim:az(),tarjan:x$(),topsort:b$()}});var JL=w((hi,ez)=>{var tz=Dz();ez.exports={Graph:tz.Graph,json:Oz(),alg:oz(),version:tz.version}});var a8=w((ui,QL)=>{var Z5;try{Z5=JL()}catch(Q){}if(!Z5)Z5=window.graphlib;QL.exports=Z5});var UL=w((di,ZL)=>{var Zm=U$(),Um=1,$m=4;function qm(Q){return Zm(Q,Um|$m)}ZL.exports=qm});var E6=w((ci,$L)=>{var Km=BQ(),Gm=F9(),Ym=q6(),Fm=u8();function Xm(Q,J,Z){if(!Fm(Z))return!1;var U=typeof J;if(U==\"number\"?Gm(Z)&&Ym(J,Z.length):U==\"string\"&&(J in Z))return Km(Z[J],Q);return!1}$L.exports=Xm});var GL=w((pi,KL)=>{var Hm=z6(),Nm=BQ(),Mm=E6(),zm=o9(),qL=Object.prototype,Lm=qL.hasOwnProperty,Wm=Hm(function(Q,J){Q=Object(Q);var Z=-1,U=J.length,$=U>2?J[2]:void 0;if($&&Mm(J[0],J[1],$))U=1;while(++Z<U){var q=J[Z],K=zm(q),G=-1,Y=K.length;while(++G<Y){var F=K[G],X=Q[F];if(X===void 0||Nm(X,qL[F])&&!Lm.call(Q,F))Q[F]=q[F]}}return Q});KL.exports=Wm});var FL=w((li,YL)=>{var Em=X9(),Bm=F9(),Vm=A9();function Dm(Q){return function(J,Z,U){var $=Object(J);if(!Bm(J)){var q=Em(Z,3);J=Vm(J),Z=function(G){return q($[G],G,$)}}var K=Q(J,Z,U);return K>-1?$[q?J[K]:K]:void 0}}YL.exports=Dm});var HL=w((ii,XL)=>{var Rm=/\\s/;function Om(Q){var J=Q.length;while(J--&&Rm.test(Q.charAt(J)));return J}XL.exports=Om});var ML=w((ni,NL)=>{var Am=HL(),Cm=/^\\s+/;function Sm(Q){return Q?Q.slice(0,Am(Q)+1).replace(Cm,\"\"):Q}NL.exports=Sm});var EL=w((si,WL)=>{var Im=ML(),zL=u8(),Tm=AQ(),LL=NaN,Pm=/^[-+]0x[0-9a-f]+$/i,km=/^0b[01]+$/i,jm=/^0o[0-7]+$/i,wm=parseInt;function _m(Q){if(typeof Q==\"number\")return Q;if(Tm(Q))return LL;if(zL(Q)){var J=typeof Q.valueOf==\"function\"?Q.valueOf():Q;Q=zL(J)?J+\"\":J}if(typeof Q!=\"string\")return Q===0?Q:+Q;Q=Im(Q);var Z=km.test(Q);return Z||jm.test(Q)?wm(Q.slice(2),Z?2:8):Pm.test(Q)?LL:+Q}WL.exports=_m});var y$=w((ai,VL)=>{var vm=EL(),BL=1/0,fm=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;function xm(Q){if(!Q)return Q===0?Q:0;if(Q=vm(Q),Q===BL||Q===-BL){var J=Q<0?-1:1;return J*fm}return Q===Q?Q:0}VL.exports=xm});var RL=w((ri,DL)=>{var bm=y$();function mm(Q){var J=bm(Q),Z=J%1;return J===J?Z?J-Z:J:0}DL.exports=mm});var AL=w((oi,OL)=>{var ym=P$(),hm=X9(),um=RL(),gm=Math.max;function dm(Q,J,Z){var U=Q==null?0:Q.length;if(!U)return-1;var $=Z==null?0:um(Z);if($<0)$=gm(U+$,0);return ym(Q,hm(J,3),$)}OL.exports=dm});var SL=w((ti,CL)=>{var cm=FL(),pm=AL(),lm=cm(pm);CL.exports=lm});var h$=w((ei,IL)=>{var im=r7();function nm(Q){var J=Q==null?0:Q.length;return J?im(Q,1):[]}IL.exports=nm});var PL=w((Jn,TL)=>{var sm=c7(),am=$$(),rm=o9();function om(Q,J){return Q==null?Q:sm(Q,am(J),rm)}TL.exports=om});var jL=w((Qn,kL)=>{function tm(Q){var J=Q==null?0:Q.length;return J?Q[J-1]:void 0}kL.exports=tm});var _L=w((Zn,wL)=>{var em=U6(),Jy=p7(),Qy=X9();function Zy(Q,J){var Z={};return J=Qy(J,3),Jy(Q,function(U,$,q){em(Z,$,J(U,$,q))}),Z}wL.exports=Zy});var U5=w((Un,vL)=>{var Uy=AQ();function $y(Q,J,Z){var U=-1,$=Q.length;while(++U<$){var q=Q[U],K=J(q);if(K!=null&&(G===void 0?K===K&&!Uy(K):Z(K,G)))var G=K,Y=q}return Y}vL.exports=$y});var xL=w(($n,fL)=>{function qy(Q,J){return Q>J}fL.exports=qy});var mL=w((qn,bL)=>{var Ky=U5(),Gy=xL(),Yy=t9();function Fy(Q){return Q&&Q.length?Ky(Q,Yy,Gy):void 0}bL.exports=Fy});var u$=w((Kn,yL)=>{var Xy=U6(),Hy=BQ();function Ny(Q,J,Z){if(Z!==void 0&&!Hy(Q[J],Z)||Z===void 0&&!(J in Q))Xy(Q,J,Z)}yL.exports=Ny});var gL=w((Gn,uL)=>{var My=a9(),zy=F6(),Ly=Q9(),Wy=\"[object Object]\",Ey=Function.prototype,By=Object.prototype,hL=Ey.toString,Vy=By.hasOwnProperty,Dy=hL.call(Object);function Ry(Q){if(!Ly(Q)||My(Q)!=Wy)return!1;var J=zy(Q);if(J===null)return!0;var Z=Vy.call(J,\"constructor\")&&J.constructor;return typeof Z==\"function\"&&Z instanceof Z&&hL.call(Z)==Dy}uL.exports=Ry});var g$=w((Yn,dL)=>{function Oy(Q,J){if(J===\"constructor\"&&typeof Q[J]===\"function\")return;if(J==\"__proto__\")return;return Q[J]}dL.exports=Oy});var pL=w((Fn,cL)=>{var Ay=qZ(),Cy=o9();function Sy(Q){return Ay(Q,Cy(Q))}cL.exports=Sy});var rL=w((Xn,aL)=>{var lL=u$(),Iy=uU(),Ty=J$(),Py=gU(),ky=Z$(),iL=KZ(),nL=$8(),jy=j$(),wy=DQ(),_y=QZ(),vy=u8(),fy=gL(),xy=FZ(),sL=g$(),by=pL();function my(Q,J,Z,U,$,q,K){var G=sL(Q,Z),Y=sL(J,Z),F=K.get(Y);if(F){lL(Q,Z,F);return}var X=q?q(G,Y,Z+\"\",Q,J,K):void 0,H=X===void 0;if(H){var N=nL(Y),z=!N&&wy(Y),M=!N&&!z&&xy(Y);if(X=Y,N||z||M)if(nL(G))X=G;else if(jy(G))X=Py(G);else if(z)H=!1,X=Iy(Y,!0);else if(M)H=!1,X=Ty(Y,!0);else X=[];else if(fy(Y)||iL(Y)){if(X=G,iL(G))X=by(G);else if(!vy(G)||_y(G))X=ky(Y)}else H=!1}if(H)K.set(Y,X),$(X,Y,U,q,K),K.delete(Y);lL(Q,Z,X)}aL.exports=my});var eL=w((Hn,tL)=>{var yy=Z6(),hy=u$(),uy=c7(),gy=rL(),dy=u8(),cy=o9(),py=g$();function oL(Q,J,Z,U,$){if(Q===J)return;uy(J,function(q,K){if($||($=new yy),dy(q))gy(Q,J,K,Z,oL,U,$);else{var G=U?U(py(Q,K),q,K+\"\",Q,J,$):void 0;if(G===void 0)G=q;hy(Q,K,G)}},cy)}tL.exports=oL});var QW=w((Nn,JW)=>{var ly=z6(),iy=E6();function ny(Q){return ly(function(J,Z){var U=-1,$=Z.length,q=$>1?Z[$-1]:void 0,K=$>2?Z[2]:void 0;if(q=Q.length>3&&typeof q==\"function\"?($--,q):void 0,K&&iy(Z[0],Z[1],K))q=$<3?void 0:q,$=1;J=Object(J);while(++U<$){var G=Z[U];if(G)Q(J,G,U,q)}return J})}JW.exports=ny});var UW=w((Mn,ZW)=>{var sy=eL(),ay=QW(),ry=ay(function(Q,J,Z){sy(Q,J,Z)});ZW.exports=ry});var d$=w((zn,$W)=>{function oy(Q,J){return Q<J}$W.exports=oy});var KW=w((Ln,qW)=>{var ty=U5(),ey=d$(),Jh=t9();function Qh(Q){return Q&&Q.length?ty(Q,Jh,ey):void 0}qW.exports=Qh});var YW=w((Wn,GW)=>{var Zh=U5(),Uh=X9(),$h=d$();function qh(Q,J){return Q&&Q.length?Zh(Q,Uh(J,2),$h):void 0}GW.exports=qh});var XW=w((En,FW)=>{var Kh=n8(),Gh=function(){return Kh.Date.now()};FW.exports=Gh});var MW=w((Bn,NW)=>{var Yh=$6(),Fh=N6(),Xh=q6(),HW=u8(),Hh=NZ();function Nh(Q,J,Z,U){if(!HW(Q))return Q;J=Fh(J,Q);var $=-1,q=J.length,K=q-1,G=Q;while(G!=null&&++$<q){var Y=Hh(J[$]),F=Z;if(Y===\"__proto__\"||Y===\"constructor\"||Y===\"prototype\")return Q;if($!=K){var X=G[Y];if(F=U?U(X,Y,G):void 0,F===void 0)F=HW(X)?X:Xh(J[$+1])?[]:{}}Yh(G,Y,F),G=G[Y]}return Q}NW.exports=Nh});var LW=w((Vn,zW)=>{var Mh=M6(),zh=MW(),Lh=N6();function Wh(Q,J,Z){var U=-1,$=J.length,q={};while(++U<$){var K=J[U],G=Mh(Q,K);if(Z(G,K))zh(q,Lh(K,Q),G)}return q}zW.exports=Wh});var EW=w((Dn,WW)=>{var Eh=LW(),Bh=W$();function Vh(Q,J){return Eh(Q,J,function(Z,U){return Bh(Q,U)})}WW.exports=Vh});var VW=w((Rn,BW)=>{var Dh=h$(),Rh=I$(),Oh=T$();function Ah(Q){return Oh(Rh(Q,void 0,Dh),Q+\"\")}BW.exports=Ah});var RW=w((On,DW)=>{var Ch=EW(),Sh=VW(),Ih=Sh(function(Q,J){return Q==null?{}:Ch(Q,J)});DW.exports=Ih});var AW=w((An,OW)=>{var{ceil:Th,max:Ph}=Math;function kh(Q,J,Z,U){var $=-1,q=Ph(Th((J-Q)/(Z||1)),0),K=Array(q);while(q--)K[U?q:++$]=Q,Q+=Z;return K}OW.exports=kh});var SW=w((Cn,CW)=>{var jh=AW(),wh=E6(),c$=y$();function _h(Q){return function(J,Z,U){if(U&&typeof U!=\"number\"&&wh(J,Z,U))Z=U=void 0;if(J=c$(J),Z===void 0)Z=J,J=0;else Z=c$(Z);return U=U===void 0?J<Z?1:-1:c$(U),jh(J,Z,U,Q)}}CW.exports=_h});var TW=w((Sn,IW)=>{var vh=SW(),fh=vh();IW.exports=fh});var kW=w((In,PW)=>{function xh(Q,J){var Z=Q.length;Q.sort(J);while(Z--)Q[Z]=Q[Z].value;return Q}PW.exports=xh});var _W=w((Tn,wW)=>{var jW=AQ();function bh(Q,J){if(Q!==J){var Z=Q!==void 0,U=Q===null,$=Q===Q,q=jW(Q),K=J!==void 0,G=J===null,Y=J===J,F=jW(J);if(!G&&!F&&!q&&Q>J||q&&K&&Y&&!G&&!F||U&&K&&Y||!Z&&Y||!$)return 1;if(!U&&!q&&!F&&Q<J||F&&Z&&$&&!U&&!q||G&&Z&&$||!K&&$||!Y)return-1}return 0}wW.exports=bh});var fW=w((Pn,vW)=>{var mh=_W();function yh(Q,J,Z){var U=-1,$=Q.criteria,q=J.criteria,K=$.length,G=Z.length;while(++U<K){var Y=mh($[U],q[U]);if(Y){if(U>=G)return Y;var F=Z[U];return Y*(F==\"desc\"?-1:1)}}return Q.index-J.index}vW.exports=yh});var bW=w((kn,xW)=>{var p$=H6(),hh=M6(),uh=X9(),gh=R$(),dh=kW(),ch=K6(),ph=fW(),lh=t9(),ih=$8();function nh(Q,J,Z){if(J.length)J=p$(J,function(q){if(ih(q))return function(K){return hh(K,q.length===1?q[0]:q)};return q});else J=[lh];var U=-1;J=p$(J,ch(uh));var $=gh(Q,function(q,K,G){var Y=p$(J,function(F){return F(q)});return{criteria:Y,index:++U,value:q}});return dh($,function(q,K){return ph(q,K,Z)})}xW.exports=nh});var hW=w((jn,yW)=>{var sh=r7(),ah=bW(),rh=z6(),mW=E6(),oh=rh(function(Q,J){if(Q==null)return[];var Z=J.length;if(Z>1&&mW(Q,J[0],J[1]))J=[];else if(Z>2&&mW(J[0],J[1],J[2]))J=[J[0]];return ah(Q,sh(J,1),[])});yW.exports=oh});var gW=w((wn,uW)=>{var th=z$(),eh=0;function Ju(Q){var J=++eh;return th(Q)+J}uW.exports=Ju});var cW=w((_n,dW)=>{function Qu(Q,J,Z){var U=-1,$=Q.length,q=J.length,K={};while(++U<$){var G=U<q?J[U]:void 0;Z(K,Q[U],G)}return K}dW.exports=Qu});var lW=w((vn,pW)=>{var Zu=$6(),Uu=cW();function $u(Q,J){return Uu(Q||[],J||[],Zu)}pW.exports=$u});var eJ=w((fn,iW)=>{var $5;try{$5={cloneDeep:UL(),constant:d7(),defaults:GL(),each:l7(),filter:B$(),find:SL(),flatten:h$(),forEach:l7(),forIn:PL(),has:V$(),isUndefined:D$(),last:jL(),map:O$(),mapValues:_L(),max:mL(),merge:UW(),min:KW(),minBy:YW(),now:XW(),pick:RW(),range:TW(),reduce:A$(),sortBy:hW(),uniqueId:gW(),values:w$(),zipObject:lW()}}catch(Q){}if(!$5)$5=window._;iW.exports=$5});var aW=w((bn,sW)=>{sW.exports=q5;function q5(){var Q={};Q._next=Q._prev=Q,this._sentinel=Q}q5.prototype.dequeue=function(){var Q=this._sentinel,J=Q._prev;if(J!==Q)return nW(J),J};q5.prototype.enqueue=function(Q){var J=this._sentinel;if(Q._prev&&Q._next)nW(Q);Q._next=J._next,J._next._prev=Q,J._next=Q,Q._prev=J};q5.prototype.toString=function(){var Q=[],J=this._sentinel,Z=J._prev;while(Z!==J)Q.push(JSON.stringify(Z,qu)),Z=Z._prev;return\"[\"+Q.join(\", \")+\"]\"};function nW(Q){Q._prev._next=Q._next,Q._next._prev=Q._prev,delete Q._next,delete Q._prev}function qu(Q,J){if(Q!==\"_next\"&&Q!==\"_prev\")return J}});var oW=w((mn,rW)=>{var C9=eJ(),Ku=a8().Graph,Gu=aW();rW.exports=Fu;var Yu=C9.constant(1);function Fu(Q,J){if(Q.nodeCount()<=1)return[];var Z=Hu(Q,J||Yu),U=Xu(Z.graph,Z.buckets,Z.zeroIdx);return C9.flatten(C9.map(U,function($){return Q.outEdges($.v,$.w)}),!0)}function Xu(Q,J,Z){var U=[],$=J[J.length-1],q=J[0],K;while(Q.nodeCount()){while(K=q.dequeue())l$(Q,J,Z,K);while(K=$.dequeue())l$(Q,J,Z,K);if(Q.nodeCount()){for(var G=J.length-2;G>0;--G)if(K=J[G].dequeue(),K){U=U.concat(l$(Q,J,Z,K,!0));break}}}return U}function l$(Q,J,Z,U,$){var q=$?[]:void 0;return C9.forEach(Q.inEdges(U.v),function(K){var G=Q.edge(K),Y=Q.node(K.v);if($)q.push({v:K.v,w:K.w});Y.out-=G,i$(J,Z,Y)}),C9.forEach(Q.outEdges(U.v),function(K){var G=Q.edge(K),Y=K.w,F=Q.node(Y);F.in-=G,i$(J,Z,F)}),Q.removeNode(U.v),q}function Hu(Q,J){var Z=new Ku,U=0,$=0;C9.forEach(Q.nodes(),function(G){Z.setNode(G,{v:G,in:0,out:0})}),C9.forEach(Q.edges(),function(G){var Y=Z.edge(G.v,G.w)||0,F=J(G),X=Y+F;Z.setEdge(G.v,G.w,X),$=Math.max($,Z.node(G.v).out+=F),U=Math.max(U,Z.node(G.w).in+=F)});var q=C9.range($+U+3).map(function(){return new Gu}),K=U+1;return C9.forEach(Z.nodes(),function(G){i$(q,K,Z.node(G))}),{graph:Z,buckets:q,zeroIdx:K}}function i$(Q,J,Z){if(!Z.out)Q[0].enqueue(Z);else if(!Z.in)Q[Q.length-1].enqueue(Z);else Q[Z.out-Z.in+J].enqueue(Z)}});var eW=w((yn,tW)=>{var SQ=eJ(),Nu=oW();tW.exports={run:Mu,undo:Lu};function Mu(Q){var J=Q.graph().acyclicer===\"greedy\"?Nu(Q,Z(Q)):zu(Q);SQ.forEach(J,function(U){var $=Q.edge(U);Q.removeEdge(U),$.forwardName=U.name,$.reversed=!0,Q.setEdge(U.w,U.v,$,SQ.uniqueId(\"rev\"))});function Z(U){return function($){return U.edge($).weight}}}function zu(Q){var J=[],Z={},U={};function $(q){if(SQ.has(U,q))return;U[q]=!0,Z[q]=!0,SQ.forEach(Q.outEdges(q),function(K){if(SQ.has(Z,K.w))J.push(K);else $(K.w)}),delete Z[q]}return SQ.forEach(Q.nodes(),$),J}function Lu(Q){SQ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(Z.reversed){Q.removeEdge(J);var U=Z.forwardName;delete Z.reversed,delete Z.forwardName,Q.setEdge(J.w,J.v,Z,U)}})}});var v8=w((hn,UE)=>{var uJ=eJ(),JE=a8().Graph;UE.exports={addDummyNode:QE,simplify:Wu,asNonCompoundGraph:Eu,successorWeights:Bu,predecessorWeights:Vu,intersectRect:Du,buildLayerMatrix:Ru,normalizeRanks:Ou,removeEmptyRanks:Au,addBorderNode:Cu,maxRank:ZE,partition:Su,time:Iu,notime:Tu};function QE(Q,J,Z,U){var $;do $=uJ.uniqueId(U);while(Q.hasNode($));return Z.dummy=J,Q.setNode($,Z),$}function Wu(Q){var J=new JE().setGraph(Q.graph());return uJ.forEach(Q.nodes(),function(Z){J.setNode(Z,Q.node(Z))}),uJ.forEach(Q.edges(),function(Z){var U=J.edge(Z.v,Z.w)||{weight:0,minlen:1},$=Q.edge(Z);J.setEdge(Z.v,Z.w,{weight:U.weight+$.weight,minlen:Math.max(U.minlen,$.minlen)})}),J}function Eu(Q){var J=new JE({multigraph:Q.isMultigraph()}).setGraph(Q.graph());return uJ.forEach(Q.nodes(),function(Z){if(!Q.children(Z).length)J.setNode(Z,Q.node(Z))}),uJ.forEach(Q.edges(),function(Z){J.setEdge(Z,Q.edge(Z))}),J}function Bu(Q){var J=uJ.map(Q.nodes(),function(Z){var U={};return uJ.forEach(Q.outEdges(Z),function($){U[$.w]=(U[$.w]||0)+Q.edge($).weight}),U});return uJ.zipObject(Q.nodes(),J)}function Vu(Q){var J=uJ.map(Q.nodes(),function(Z){var U={};return uJ.forEach(Q.inEdges(Z),function($){U[$.v]=(U[$.v]||0)+Q.edge($).weight}),U});return uJ.zipObject(Q.nodes(),J)}function Du(Q,J){var{x:Z,y:U}=Q,$=J.x-Z,q=J.y-U,K=Q.width/2,G=Q.height/2;if(!$&&!q)throw new Error(\"Not possible to find intersection inside of the rectangle\");var Y,F;if(Math.abs(q)*K>Math.abs($)*G){if(q<0)G=-G;Y=G*$/q,F=G}else{if($<0)K=-K;Y=K,F=K*q/$}return{x:Z+Y,y:U+F}}function Ru(Q){var J=uJ.map(uJ.range(ZE(Q)+1),function(){return[]});return uJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z),$=U.rank;if(!uJ.isUndefined($))J[$][U.order]=Z}),J}function Ou(Q){var J=uJ.min(uJ.map(Q.nodes(),function(Z){return Q.node(Z).rank}));uJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z);if(uJ.has(U,\"rank\"))U.rank-=J})}function Au(Q){var J=uJ.min(uJ.map(Q.nodes(),function(q){return Q.node(q).rank})),Z=[];uJ.forEach(Q.nodes(),function(q){var K=Q.node(q).rank-J;if(!Z[K])Z[K]=[];Z[K].push(q)});var U=0,$=Q.graph().nodeRankFactor;uJ.forEach(Z,function(q,K){if(uJ.isUndefined(q)&&K%$!==0)--U;else if(U)uJ.forEach(q,function(G){Q.node(G).rank+=U})})}function Cu(Q,J,Z,U){var $={width:0,height:0};if(arguments.length>=4)$.rank=Z,$.order=U;return QE(Q,\"border\",$,J)}function ZE(Q){return uJ.max(uJ.map(Q.nodes(),function(J){var Z=Q.node(J).rank;if(!uJ.isUndefined(Z))return Z}))}function Su(Q,J){var Z={lhs:[],rhs:[]};return uJ.forEach(Q,function(U){if(J(U))Z.lhs.push(U);else Z.rhs.push(U)}),Z}function Iu(Q,J){var Z=uJ.now();try{return J()}finally{console.log(Q+\" time: \"+(uJ.now()-Z)+\"ms\")}}function Tu(Q,J){return J()}});var KE=w((un,qE)=>{var $E=eJ(),Pu=v8();qE.exports={run:ku,undo:wu};function ku(Q){Q.graph().dummyChains=[],$E.forEach(Q.edges(),function(J){ju(Q,J)})}function ju(Q,J){var Z=J.v,U=Q.node(Z).rank,$=J.w,q=Q.node($).rank,K=J.name,G=Q.edge(J),Y=G.labelRank;if(q===U+1)return;Q.removeEdge(J);var F,X,H;for(H=0,++U;U<q;++H,++U){if(G.points=[],X={width:0,height:0,edgeLabel:G,edgeObj:J,rank:U},F=Pu.addDummyNode(Q,\"edge\",X,\"_d\"),U===Y)X.width=G.width,X.height=G.height,X.dummy=\"edge-label\",X.labelpos=G.labelpos;if(Q.setEdge(Z,F,{weight:G.weight},K),H===0)Q.graph().dummyChains.push(F);Z=F}Q.setEdge(Z,$,{weight:G.weight},K)}function wu(Q){$E.forEach(Q.graph().dummyChains,function(J){var Z=Q.node(J),U=Z.edgeLabel,$;Q.setEdge(Z.edgeObj,U);while(Z.dummy){if($=Q.successors(J)[0],Q.removeNode(J),U.points.push({x:Z.x,y:Z.y}),Z.dummy===\"edge-label\")U.x=Z.x,U.y=Z.y,U.width=Z.width,U.height=Z.height;J=$,Z=Q.node(J)}})}});var B6=w((gn,GE)=>{var K5=eJ();GE.exports={longestPath:_u,slack:vu};function _u(Q){var J={};function Z(U){var $=Q.node(U);if(K5.has(J,U))return $.rank;J[U]=!0;var q=K5.min(K5.map(Q.outEdges(U),function(K){return Z(K.w)-Q.edge(K).minlen}));if(q===Number.POSITIVE_INFINITY||q===void 0||q===null)q=0;return $.rank=q}K5.forEach(Q.sources(),Z)}function vu(Q,J){return Q.node(J.w).rank-Q.node(J.v).rank-Q.edge(J).minlen}});var n$=w((dn,YE)=>{var G5=eJ(),fu=a8().Graph,Y5=B6().slack;YE.exports=xu;function xu(Q){var J=new fu({directed:!1}),Z=Q.nodes()[0],U=Q.nodeCount();J.setNode(Z,{});var $,q;while(bu(J,Q)<U)$=mu(J,Q),q=J.hasNode($.v)?Y5(Q,$):-Y5(Q,$),yu(J,Q,q);return J}function bu(Q,J){function Z(U){G5.forEach(J.nodeEdges(U),function($){var q=$.v,K=U===q?$.w:q;if(!Q.hasNode(K)&&!Y5(J,$))Q.setNode(K,{}),Q.setEdge(U,K,{}),Z(K)})}return G5.forEach(Q.nodes(),Z),Q.nodeCount()}function mu(Q,J){return G5.minBy(J.edges(),function(Z){if(Q.hasNode(Z.v)!==Q.hasNode(Z.w))return Y5(J,Z)})}function yu(Q,J,Z){G5.forEach(Q.nodes(),function(U){J.node(U).rank+=Z})}});var WE=w((cn,LE)=>{var S9=eJ(),hu=n$(),uu=B6().slack,gu=B6().longestPath,du=a8().alg.preorder,cu=a8().alg.postorder,pu=v8().simplify;LE.exports=IQ;IQ.initLowLimValues=a$;IQ.initCutValues=s$;IQ.calcCutValue=XE;IQ.leaveEdge=NE;IQ.enterEdge=ME;IQ.exchangeEdges=zE;function IQ(Q){Q=pu(Q),gu(Q);var J=hu(Q);a$(J),s$(J,Q);var Z,U;while(Z=NE(J))U=ME(J,Q,Z),zE(J,Q,Z,U)}function s$(Q,J){var Z=cu(Q,Q.nodes());Z=Z.slice(0,Z.length-1),S9.forEach(Z,function(U){lu(Q,J,U)})}function lu(Q,J,Z){var U=Q.node(Z),$=U.parent;Q.edge(Z,$).cutvalue=XE(Q,J,Z)}function XE(Q,J,Z){var U=Q.node(Z),$=U.parent,q=!0,K=J.edge(Z,$),G=0;if(!K)q=!1,K=J.edge($,Z);return G=K.weight,S9.forEach(J.nodeEdges(Z),function(Y){var F=Y.v===Z,X=F?Y.w:Y.v;if(X!==$){var H=F===q,N=J.edge(Y).weight;if(G+=H?N:-N,nu(Q,Z,X)){var z=Q.edge(Z,X).cutvalue;G+=H?-z:z}}}),G}function a$(Q,J){if(arguments.length<2)J=Q.nodes()[0];HE(Q,{},1,J)}function HE(Q,J,Z,U,$){var q=Z,K=Q.node(U);if(J[U]=!0,S9.forEach(Q.neighbors(U),function(G){if(!S9.has(J,G))Z=HE(Q,J,Z,G,U)}),K.low=q,K.lim=Z++,$)K.parent=$;else delete K.parent;return Z}function NE(Q){return S9.find(Q.edges(),function(J){return Q.edge(J).cutvalue<0})}function ME(Q,J,Z){var{v:U,w:$}=Z;if(!J.hasEdge(U,$))U=Z.w,$=Z.v;var q=Q.node(U),K=Q.node($),G=q,Y=!1;if(q.lim>K.lim)G=K,Y=!0;var F=S9.filter(J.edges(),function(X){return Y===FE(Q,Q.node(X.v),G)&&Y!==FE(Q,Q.node(X.w),G)});return S9.minBy(F,function(X){return uu(J,X)})}function zE(Q,J,Z,U){var{v:$,w:q}=Z;Q.removeEdge($,q),Q.setEdge(U.v,U.w,{}),a$(Q),s$(Q,J),iu(Q,J)}function iu(Q,J){var Z=S9.find(Q.nodes(),function($){return!J.node($).parent}),U=du(Q,Z);U=U.slice(1),S9.forEach(U,function($){var q=Q.node($).parent,K=J.edge($,q),G=!1;if(!K)K=J.edge(q,$),G=!0;J.node($).rank=J.node(q).rank+(G?K.minlen:-K.minlen)})}function nu(Q,J,Z){return Q.hasEdge(J,Z)}function FE(Q,J,Z){return Z.low<=J.lim&&J.lim<=Z.lim}});var DE=w((pn,VE)=>{var su=B6(),BE=su.longestPath,au=n$(),ru=WE();VE.exports=ou;function ou(Q){switch(Q.graph().ranker){case\"network-simplex\":EE(Q);break;case\"tight-tree\":eu(Q);break;case\"longest-path\":tu(Q);break;default:EE(Q)}}var tu=BE;function eu(Q){BE(Q),au(Q)}function EE(Q){ru(Q)}});var OE=w((ln,RE)=>{var r$=eJ();RE.exports=Jg;function Jg(Q){var J=Zg(Q);r$.forEach(Q.graph().dummyChains,function(Z){var U=Q.node(Z),$=U.edgeObj,q=Qg(Q,J,$.v,$.w),K=q.path,G=q.lca,Y=0,F=K[Y],X=!0;while(Z!==$.w){if(U=Q.node(Z),X){while((F=K[Y])!==G&&Q.node(F).maxRank<U.rank)Y++;if(F===G)X=!1}if(!X){while(Y<K.length-1&&Q.node(F=K[Y+1]).minRank<=U.rank)Y++;F=K[Y]}Q.setParent(Z,F),Z=Q.successors(Z)[0]}})}function Qg(Q,J,Z,U){var $=[],q=[],K=Math.min(J[Z].low,J[U].low),G=Math.max(J[Z].lim,J[U].lim),Y,F;Y=Z;do Y=Q.parent(Y),$.push(Y);while(Y&&(J[Y].low>K||G>J[Y].lim));F=Y,Y=U;while((Y=Q.parent(Y))!==F)q.push(Y);return{path:$.concat(q.reverse()),lca:F}}function Zg(Q){var J={},Z=0;function U($){var q=Z;r$.forEach(Q.children($),U),J[$]={low:q,lim:Z++}}return r$.forEach(Q.children(),U),J}});var SE=w((nn,CE)=>{var I9=eJ(),o$=v8();CE.exports={run:Ug,cleanup:Kg};function Ug(Q){var J=o$.addDummyNode(Q,\"root\",{},\"_root\"),Z=$g(Q),U=I9.max(I9.values(Z))-1,$=2*U+1;Q.graph().nestingRoot=J,I9.forEach(Q.edges(),function(K){Q.edge(K).minlen*=$});var q=qg(Q)+1;I9.forEach(Q.children(),function(K){AE(Q,J,$,q,U,Z,K)}),Q.graph().nodeRankFactor=$}function AE(Q,J,Z,U,$,q,K){var G=Q.children(K);if(!G.length){if(K!==J)Q.setEdge(J,K,{weight:0,minlen:Z});return}var Y=o$.addBorderNode(Q,\"_bt\"),F=o$.addBorderNode(Q,\"_bb\"),X=Q.node(K);if(Q.setParent(Y,K),X.borderTop=Y,Q.setParent(F,K),X.borderBottom=F,I9.forEach(G,function(H){AE(Q,J,Z,U,$,q,H);var N=Q.node(H),z=N.borderTop?N.borderTop:H,M=N.borderBottom?N.borderBottom:H,W=N.borderTop?U:2*U,L=z!==M?1:$-q[K]+1;Q.setEdge(Y,z,{weight:W,minlen:L,nestingEdge:!0}),Q.setEdge(M,F,{weight:W,minlen:L,nestingEdge:!0})}),!Q.parent(K))Q.setEdge(J,Y,{weight:0,minlen:$+q[K]})}function $g(Q){var J={};function Z(U,$){var q=Q.children(U);if(q&&q.length)I9.forEach(q,function(K){Z(K,$+1)});J[U]=$}return I9.forEach(Q.children(),function(U){Z(U,1)}),J}function qg(Q){return I9.reduce(Q.edges(),function(J,Z){return J+Q.edge(Z).weight},0)}function Kg(Q){var J=Q.graph();Q.removeNode(J.nestingRoot),delete J.nestingRoot,I9.forEach(Q.edges(),function(Z){var U=Q.edge(Z);if(U.nestingEdge)Q.removeEdge(Z)})}});var PE=w((sn,TE)=>{var t$=eJ(),Gg=v8();TE.exports=Yg;function Yg(Q){function J(Z){var U=Q.children(Z),$=Q.node(Z);if(U.length)t$.forEach(U,J);if(t$.has($,\"minRank\")){$.borderLeft=[],$.borderRight=[];for(var q=$.minRank,K=$.maxRank+1;q<K;++q)IE(Q,\"borderLeft\",\"_bl\",Z,$,q),IE(Q,\"borderRight\",\"_br\",Z,$,q)}}t$.forEach(Q.children(),J)}function IE(Q,J,Z,U,$,q){var K={width:0,height:0,rank:q,borderType:J},G=$[J][q-1],Y=Gg.addDummyNode(Q,\"border\",K,Z);if($[J][q]=Y,Q.setParent(Y,U),G)Q.setEdge(G,Y,{weight:1})}});var _E=w((an,wE)=>{var N9=eJ();wE.exports={adjust:Fg,undo:Xg};function Fg(Q){var J=Q.graph().rankdir.toLowerCase();if(J===\"lr\"||J===\"rl\")jE(Q)}function Xg(Q){var J=Q.graph().rankdir.toLowerCase();if(J===\"bt\"||J===\"rl\")Hg(Q);if(J===\"lr\"||J===\"rl\")Ng(Q),jE(Q)}function jE(Q){N9.forEach(Q.nodes(),function(J){kE(Q.node(J))}),N9.forEach(Q.edges(),function(J){kE(Q.edge(J))})}function kE(Q){var J=Q.width;Q.width=Q.height,Q.height=J}function Hg(Q){N9.forEach(Q.nodes(),function(J){e$(Q.node(J))}),N9.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(N9.forEach(Z.points,e$),N9.has(Z,\"y\"))e$(Z)})}function e$(Q){Q.y=-Q.y}function Ng(Q){N9.forEach(Q.nodes(),function(J){J4(Q.node(J))}),N9.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(N9.forEach(Z.points,J4),N9.has(Z,\"x\"))J4(Z)})}function J4(Q){var J=Q.x;Q.x=Q.y,Q.y=J}});var fE=w((rn,vE)=>{var T9=eJ();vE.exports=Mg;function Mg(Q){var J={},Z=T9.filter(Q.nodes(),function(G){return!Q.children(G).length}),U=T9.max(T9.map(Z,function(G){return Q.node(G).rank})),$=T9.map(T9.range(U+1),function(){return[]});function q(G){if(T9.has(J,G))return;J[G]=!0;var Y=Q.node(G);$[Y.rank].push(G),T9.forEach(Q.successors(G),q)}var K=T9.sortBy(Z,function(G){return Q.node(G).rank});return T9.forEach(K,q),$}});var bE=w((on,xE)=>{var e9=eJ();xE.exports=zg;function zg(Q,J){var Z=0;for(var U=1;U<J.length;++U)Z+=Lg(Q,J[U-1],J[U]);return Z}function Lg(Q,J,Z){var U=e9.zipObject(Z,e9.map(Z,function(F,X){return X})),$=e9.flatten(e9.map(J,function(F){return e9.sortBy(e9.map(Q.outEdges(F),function(X){return{pos:U[X.w],weight:Q.edge(X).weight}}),\"pos\")}),!0),q=1;while(q<Z.length)q<<=1;var K=2*q-1;q-=1;var G=e9.map(new Array(K),function(){return 0}),Y=0;return e9.forEach($.forEach(function(F){var X=F.pos+q;G[X]+=F.weight;var H=0;while(X>0){if(X%2)H+=G[X+1];X=X-1>>1,G[X]+=F.weight}Y+=F.weight*H})),Y}});var hE=w((tn,yE)=>{var mE=eJ();yE.exports=Wg;function Wg(Q,J){return mE.map(J,function(Z){var U=Q.inEdges(Z);if(!U.length)return{v:Z};else{var $=mE.reduce(U,function(q,K){var G=Q.edge(K),Y=Q.node(K.v);return{sum:q.sum+G.weight*Y.order,weight:q.weight+G.weight}},{sum:0,weight:0});return{v:Z,barycenter:$.sum/$.weight,weight:$.weight}}})}});var gE=w((en,uE)=>{var d8=eJ();uE.exports=Eg;function Eg(Q,J){var Z={};d8.forEach(Q,function($,q){var K=Z[$.v]={indegree:0,in:[],out:[],vs:[$.v],i:q};if(!d8.isUndefined($.barycenter))K.barycenter=$.barycenter,K.weight=$.weight}),d8.forEach(J.edges(),function($){var q=Z[$.v],K=Z[$.w];if(!d8.isUndefined(q)&&!d8.isUndefined(K))K.indegree++,q.out.push(Z[$.w])});var U=d8.filter(Z,function($){return!$.indegree});return Bg(U)}function Bg(Q){var J=[];function Z(q){return function(K){if(K.merged)return;if(d8.isUndefined(K.barycenter)||d8.isUndefined(q.barycenter)||K.barycenter>=q.barycenter)Vg(q,K)}}function U(q){return function(K){if(K.in.push(q),--K.indegree===0)Q.push(K)}}while(Q.length){var $=Q.pop();J.push($),d8.forEach($.in.reverse(),Z($)),d8.forEach($.out,U($))}return d8.map(d8.filter(J,function(q){return!q.merged}),function(q){return d8.pick(q,[\"vs\",\"i\",\"barycenter\",\"weight\"])})}function Vg(Q,J){var Z=0,U=0;if(Q.weight)Z+=Q.barycenter*Q.weight,U+=Q.weight;if(J.weight)Z+=J.barycenter*J.weight,U+=J.weight;Q.vs=J.vs.concat(Q.vs),Q.barycenter=Z/U,Q.weight=U,Q.i=Math.min(J.i,Q.i),J.merged=!0}});var pE=w((Js,cE)=>{var V6=eJ(),Dg=v8();cE.exports=Rg;function Rg(Q,J){var Z=Dg.partition(Q,function(X){return V6.has(X,\"barycenter\")}),U=Z.lhs,$=V6.sortBy(Z.rhs,function(X){return-X.i}),q=[],K=0,G=0,Y=0;U.sort(Og(!!J)),Y=dE(q,$,Y),V6.forEach(U,function(X){Y+=X.vs.length,q.push(X.vs),K+=X.barycenter*X.weight,G+=X.weight,Y=dE(q,$,Y)});var F={vs:V6.flatten(q,!0)};if(G)F.barycenter=K/G,F.weight=G;return F}function dE(Q,J,Z){var U;while(J.length&&(U=V6.last(J)).i<=Z)J.pop(),Q.push(U.vs),Z++;return Z}function Og(Q){return function(J,Z){if(J.barycenter<Z.barycenter)return-1;else if(J.barycenter>Z.barycenter)return 1;return!Q?J.i-Z.i:Z.i-J.i}}});var nE=w((Qs,iE)=>{var JQ=eJ(),Ag=hE(),Cg=gE(),Sg=pE();iE.exports=lE;function lE(Q,J,Z,U){var $=Q.children(J),q=Q.node(J),K=q?q.borderLeft:void 0,G=q?q.borderRight:void 0,Y={};if(K)$=JQ.filter($,function(M){return M!==K&&M!==G});var F=Ag(Q,$);JQ.forEach(F,function(M){if(Q.children(M.v).length){var W=lE(Q,M.v,Z,U);if(Y[M.v]=W,JQ.has(W,\"barycenter\"))Tg(M,W)}});var X=Cg(F,Z);Ig(X,Y);var H=Sg(X,U);if(K){if(H.vs=JQ.flatten([K,H.vs,G],!0),Q.predecessors(K).length){var N=Q.node(Q.predecessors(K)[0]),z=Q.node(Q.predecessors(G)[0]);if(!JQ.has(H,\"barycenter\"))H.barycenter=0,H.weight=0;H.barycenter=(H.barycenter*H.weight+N.order+z.order)/(H.weight+2),H.weight+=2}}return H}function Ig(Q,J){JQ.forEach(Q,function(Z){Z.vs=JQ.flatten(Z.vs.map(function(U){if(J[U])return J[U].vs;return U}),!0)})}function Tg(Q,J){if(!JQ.isUndefined(Q.barycenter))Q.barycenter=(Q.barycenter*Q.weight+J.barycenter*J.weight)/(Q.weight+J.weight),Q.weight+=J.weight;else Q.barycenter=J.barycenter,Q.weight=J.weight}});var aE=w((Zs,sE)=>{var D6=eJ(),Pg=a8().Graph;sE.exports=kg;function kg(Q,J,Z){var U=jg(Q),$=new Pg({compound:!0}).setGraph({root:U}).setDefaultNodeLabel(function(q){return Q.node(q)});return D6.forEach(Q.nodes(),function(q){var K=Q.node(q),G=Q.parent(q);if(K.rank===J||K.minRank<=J&&J<=K.maxRank){if($.setNode(q),$.setParent(q,G||U),D6.forEach(Q[Z](q),function(Y){var F=Y.v===q?Y.w:Y.v,X=$.edge(F,q),H=!D6.isUndefined(X)?X.weight:0;$.setEdge(F,q,{weight:Q.edge(Y).weight+H})}),D6.has(K,\"minRank\"))$.setNode(q,{borderLeft:K.borderLeft[J],borderRight:K.borderRight[J]})}}),$}function jg(Q){var J;while(Q.hasNode(J=D6.uniqueId(\"_root\")));return J}});var oE=w((Us,rE)=>{var wg=eJ();rE.exports=_g;function _g(Q,J,Z){var U={},$;wg.forEach(Z,function(q){var K=Q.parent(q),G,Y;while(K){if(G=Q.parent(K),G)Y=U[G],U[G]=K;else Y=$,$=K;if(Y&&Y!==K){J.setEdge(Y,K);return}K=G}})}});var ZB=w(($s,QB)=>{var QQ=eJ(),vg=fE(),fg=bE(),xg=nE(),bg=aE(),mg=oE(),yg=a8().Graph,tE=v8();QB.exports=hg;function hg(Q){var J=tE.maxRank(Q),Z=eE(Q,QQ.range(1,J+1),\"inEdges\"),U=eE(Q,QQ.range(J-1,-1,-1),\"outEdges\"),$=vg(Q);JB(Q,$);var q=Number.POSITIVE_INFINITY,K;for(var G=0,Y=0;Y<4;++G,++Y){ug(G%2?Z:U,G%4>=2),$=tE.buildLayerMatrix(Q);var F=fg(Q,$);if(F<q)Y=0,K=QQ.cloneDeep($),q=F}JB(Q,K)}function eE(Q,J,Z){return QQ.map(J,function(U){return bg(Q,U,Z)})}function ug(Q,J){var Z=new yg;QQ.forEach(Q,function(U){var $=U.graph().root,q=xg(U,$,Z,J);QQ.forEach(q.vs,function(K,G){U.node(K).order=G}),mg(U,Z,q.vs)})}function JB(Q,J){QQ.forEach(J,function(Z){QQ.forEach(Z,function(U,$){Q.node(U).order=$})})}});var NB=w((qs,HB)=>{var IJ=eJ(),gg=a8().Graph,dg=v8();HB.exports={positionX:lg,findType1Conflicts:UB,findType2Conflicts:$B,addConflict:Q4,hasConflict:qB,verticalAlignment:KB,horizontalCompaction:GB,alignCoordinates:FB,findSmallestWidthAlignment:YB,balance:XB};function UB(Q,J){var Z={};function U($,q){var K=0,G=0,Y=$.length,F=IJ.last(q);return IJ.forEach(q,function(X,H){var N=cg(Q,X),z=N?Q.node(N).order:Y;if(N||X===F)IJ.forEach(q.slice(G,H+1),function(M){IJ.forEach(Q.predecessors(M),function(W){var L=Q.node(W),E=L.order;if((E<K||z<E)&&!(L.dummy&&Q.node(M).dummy))Q4(Z,W,M)})}),G=H+1,K=z}),q}return IJ.reduce(J,U),Z}function $B(Q,J){var Z={};function U(q,K,G,Y,F){var X;IJ.forEach(IJ.range(K,G),function(H){if(X=q[H],Q.node(X).dummy)IJ.forEach(Q.predecessors(X),function(N){var z=Q.node(N);if(z.dummy&&(z.order<Y||z.order>F))Q4(Z,N,X)})})}function $(q,K){var G=-1,Y,F=0;return IJ.forEach(K,function(X,H){if(Q.node(X).dummy===\"border\"){var N=Q.predecessors(X);if(N.length)Y=Q.node(N[0]).order,U(K,F,H,G,Y),F=H,G=Y}U(K,F,K.length,Y,q.length)}),K}return IJ.reduce(J,$),Z}function cg(Q,J){if(Q.node(J).dummy)return IJ.find(Q.predecessors(J),function(Z){return Q.node(Z).dummy})}function Q4(Q,J,Z){if(J>Z){var U=J;J=Z,Z=U}var $=Q[J];if(!$)Q[J]=$={};$[Z]=!0}function qB(Q,J,Z){if(J>Z){var U=J;J=Z,Z=U}return IJ.has(Q[J],Z)}function KB(Q,J,Z,U){var $={},q={},K={};return IJ.forEach(J,function(G){IJ.forEach(G,function(Y,F){$[Y]=Y,q[Y]=Y,K[Y]=F})}),IJ.forEach(J,function(G){var Y=-1;IJ.forEach(G,function(F){var X=U(F);if(X.length){X=IJ.sortBy(X,function(W){return K[W]});var H=(X.length-1)/2;for(var N=Math.floor(H),z=Math.ceil(H);N<=z;++N){var M=X[N];if(q[F]===F&&Y<K[M]&&!qB(Z,F,M))q[M]=F,q[F]=$[F]=$[M],Y=K[M]}}})}),{root:$,align:q}}function GB(Q,J,Z,U,$){var q={},K=pg(Q,J,Z,$),G=$?\"borderLeft\":\"borderRight\";function Y(H,N){var z=K.nodes(),M=z.pop(),W={};while(M){if(W[M])H(M);else W[M]=!0,z.push(M),z=z.concat(N(M));M=z.pop()}}function F(H){q[H]=K.inEdges(H).reduce(function(N,z){return Math.max(N,q[z.v]+K.edge(z))},0)}function X(H){var N=K.outEdges(H).reduce(function(M,W){return Math.min(M,q[W.w]-K.edge(W))},Number.POSITIVE_INFINITY),z=Q.node(H);if(N!==Number.POSITIVE_INFINITY&&z.borderType!==G)q[H]=Math.max(q[H],N)}return Y(F,K.predecessors.bind(K)),Y(X,K.successors.bind(K)),IJ.forEach(U,function(H){q[H]=q[Z[H]]}),q}function pg(Q,J,Z,U){var $=new gg,q=Q.graph(),K=ig(q.nodesep,q.edgesep,U);return IJ.forEach(J,function(G){var Y;IJ.forEach(G,function(F){var X=Z[F];if($.setNode(X),Y){var H=Z[Y],N=$.edge(H,X);$.setEdge(H,X,Math.max(K(Q,F,Y),N||0))}Y=F})}),$}function YB(Q,J){return IJ.minBy(IJ.values(J),function(Z){var{NEGATIVE_INFINITY:U,POSITIVE_INFINITY:$}=Number;return IJ.forIn(Z,function(q,K){var G=ng(Q,K)/2;U=Math.max(q+G,U),$=Math.min(q-G,$)}),U-$})}function FB(Q,J){var Z=IJ.values(J),U=IJ.min(Z),$=IJ.max(Z);IJ.forEach([\"u\",\"d\"],function(q){IJ.forEach([\"l\",\"r\"],function(K){var G=q+K,Y=Q[G],F;if(Y===J)return;var X=IJ.values(Y);if(F=K===\"l\"?U-IJ.min(X):$-IJ.max(X),F)Q[G]=IJ.mapValues(Y,function(H){return H+F})})})}function XB(Q,J){return IJ.mapValues(Q.ul,function(Z,U){if(J)return Q[J.toLowerCase()][U];else{var $=IJ.sortBy(IJ.map(Q,U));return($[1]+$[2])/2}})}function lg(Q){var J=dg.buildLayerMatrix(Q),Z=IJ.merge(UB(Q,J),$B(Q,J)),U={},$;IJ.forEach([\"u\",\"d\"],function(K){$=K===\"u\"?J:IJ.values(J).reverse(),IJ.forEach([\"l\",\"r\"],function(G){if(G===\"r\")$=IJ.map($,function(H){return IJ.values(H).reverse()});var Y=(K===\"u\"?Q.predecessors:Q.successors).bind(Q),F=KB(Q,$,Z,Y),X=GB(Q,$,F.root,F.align,G===\"r\");if(G===\"r\")X=IJ.mapValues(X,function(H){return-H});U[K+G]=X})});var q=YB(Q,U);return FB(U,q),XB(U,Q.graph().align)}function ig(Q,J,Z){return function(U,$,q){var K=U.node($),G=U.node(q),Y=0,F;if(Y+=K.width/2,IJ.has(K,\"labelpos\"))switch(K.labelpos.toLowerCase()){case\"l\":F=-K.width/2;break;case\"r\":F=K.width/2;break}if(F)Y+=Z?F:-F;if(F=0,Y+=(K.dummy?J:Q)/2,Y+=(G.dummy?J:Q)/2,Y+=G.width/2,IJ.has(G,\"labelpos\"))switch(G.labelpos.toLowerCase()){case\"l\":F=G.width/2;break;case\"r\":F=-G.width/2;break}if(F)Y+=Z?F:-F;return F=0,Y}}function ng(Q,J){return Q.node(J).width}});var LB=w((Ks,zB)=>{var R6=eJ(),MB=v8(),sg=NB().positionX;zB.exports=ag;function ag(Q){Q=MB.asNonCompoundGraph(Q),rg(Q),R6.forEach(sg(Q),function(J,Z){Q.node(Z).x=J})}function rg(Q){var J=MB.buildLayerMatrix(Q),Z=Q.graph().ranksep,U=0;R6.forEach(J,function($){var q=R6.max(R6.map($,function(K){return Q.node(K).height}));R6.forEach($,function(K){Q.node(K).y=U+q/2}),U+=q+Z})}});var RB=w((Gs,DB)=>{var jJ=eJ(),WB=eW(),EB=KE(),og=DE(),tg=v8().normalizeRanks,eg=OE(),Jd=v8().removeEmptyRanks,BB=SE(),Qd=PE(),VB=_E(),Zd=ZB(),Ud=LB(),ZQ=v8(),$d=a8().Graph;DB.exports=qd;function qd(Q,J){var Z=J&&J.debugTiming?ZQ.time:ZQ.notime;Z(\"layout\",function(){var U=Z(\"  buildLayoutGraph\",function(){return Wd(Q)});Z(\"  runLayout\",function(){Kd(U,Z)}),Z(\"  updateInputGraph\",function(){Gd(Q,U)})})}function Kd(Q,J){J(\"    makeSpaceForEdgeLabels\",function(){Ed(Q)}),J(\"    removeSelfEdges\",function(){Id(Q)}),J(\"    acyclic\",function(){WB.run(Q)}),J(\"    nestingGraph.run\",function(){BB.run(Q)}),J(\"    rank\",function(){og(ZQ.asNonCompoundGraph(Q))}),J(\"    injectEdgeLabelProxies\",function(){Bd(Q)}),J(\"    removeEmptyRanks\",function(){Jd(Q)}),J(\"    nestingGraph.cleanup\",function(){BB.cleanup(Q)}),J(\"    normalizeRanks\",function(){tg(Q)}),J(\"    assignRankMinMax\",function(){Vd(Q)}),J(\"    removeEdgeLabelProxies\",function(){Dd(Q)}),J(\"    normalize.run\",function(){EB.run(Q)}),J(\"    parentDummyChains\",function(){eg(Q)}),J(\"    addBorderSegments\",function(){Qd(Q)}),J(\"    order\",function(){Zd(Q)}),J(\"    insertSelfEdges\",function(){Td(Q)}),J(\"    adjustCoordinateSystem\",function(){VB.adjust(Q)}),J(\"    position\",function(){Ud(Q)}),J(\"    positionSelfEdges\",function(){Pd(Q)}),J(\"    removeBorderNodes\",function(){Sd(Q)}),J(\"    normalize.undo\",function(){EB.undo(Q)}),J(\"    fixupEdgeLabelCoords\",function(){Ad(Q)}),J(\"    undoCoordinateSystem\",function(){VB.undo(Q)}),J(\"    translateGraph\",function(){Rd(Q)}),J(\"    assignNodeIntersects\",function(){Od(Q)}),J(\"    reversePoints\",function(){Cd(Q)}),J(\"    acyclic.undo\",function(){WB.undo(Q)})}function Gd(Q,J){jJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z),$=J.node(Z);if(U){if(U.x=$.x,U.y=$.y,J.children(Z).length)U.width=$.width,U.height=$.height}}),jJ.forEach(Q.edges(),function(Z){var U=Q.edge(Z),$=J.edge(Z);if(U.points=$.points,jJ.has($,\"x\"))U.x=$.x,U.y=$.y}),Q.graph().width=J.graph().width,Q.graph().height=J.graph().height}var Yd=[\"nodesep\",\"edgesep\",\"ranksep\",\"marginx\",\"marginy\"],Fd={ranksep:50,edgesep:20,nodesep:50,rankdir:\"tb\"},Xd=[\"acyclicer\",\"ranker\",\"rankdir\",\"align\"],Hd=[\"width\",\"height\"],Nd={width:0,height:0},Md=[\"minlen\",\"weight\",\"width\",\"height\",\"labeloffset\"],zd={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:\"r\"},Ld=[\"labelpos\"];function Wd(Q){var J=new $d({multigraph:!0,compound:!0}),Z=U4(Q.graph());return J.setGraph(jJ.merge({},Fd,Z4(Z,Yd),jJ.pick(Z,Xd))),jJ.forEach(Q.nodes(),function(U){var $=U4(Q.node(U));J.setNode(U,jJ.defaults(Z4($,Hd),Nd)),J.setParent(U,Q.parent(U))}),jJ.forEach(Q.edges(),function(U){var $=U4(Q.edge(U));J.setEdge(U,jJ.merge({},zd,Z4($,Md),jJ.pick($,Ld)))}),J}function Ed(Q){var J=Q.graph();J.ranksep/=2,jJ.forEach(Q.edges(),function(Z){var U=Q.edge(Z);if(U.minlen*=2,U.labelpos.toLowerCase()!==\"c\")if(J.rankdir===\"TB\"||J.rankdir===\"BT\")U.width+=U.labeloffset;else U.height+=U.labeloffset})}function Bd(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(Z.width&&Z.height){var U=Q.node(J.v),$=Q.node(J.w),q={rank:($.rank-U.rank)/2+U.rank,e:J};ZQ.addDummyNode(Q,\"edge-proxy\",q,\"_ep\")}})}function Vd(Q){var J=0;jJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z);if(U.borderTop)U.minRank=Q.node(U.borderTop).rank,U.maxRank=Q.node(U.borderBottom).rank,J=jJ.max(J,U.maxRank)}),Q.graph().maxRank=J}function Dd(Q){jJ.forEach(Q.nodes(),function(J){var Z=Q.node(J);if(Z.dummy===\"edge-proxy\")Q.edge(Z.e).labelRank=Z.rank,Q.removeNode(J)})}function Rd(Q){var J=Number.POSITIVE_INFINITY,Z=0,U=Number.POSITIVE_INFINITY,$=0,q=Q.graph(),K=q.marginx||0,G=q.marginy||0;function Y(F){var{x:X,y:H,width:N,height:z}=F;J=Math.min(J,X-N/2),Z=Math.max(Z,X+N/2),U=Math.min(U,H-z/2),$=Math.max($,H+z/2)}jJ.forEach(Q.nodes(),function(F){Y(Q.node(F))}),jJ.forEach(Q.edges(),function(F){var X=Q.edge(F);if(jJ.has(X,\"x\"))Y(X)}),J-=K,U-=G,jJ.forEach(Q.nodes(),function(F){var X=Q.node(F);X.x-=J,X.y-=U}),jJ.forEach(Q.edges(),function(F){var X=Q.edge(F);if(jJ.forEach(X.points,function(H){H.x-=J,H.y-=U}),jJ.has(X,\"x\"))X.x-=J;if(jJ.has(X,\"y\"))X.y-=U}),q.width=Z-J+K,q.height=$-U+G}function Od(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J),U=Q.node(J.v),$=Q.node(J.w),q,K;if(!Z.points)Z.points=[],q=$,K=U;else q=Z.points[0],K=Z.points[Z.points.length-1];Z.points.unshift(ZQ.intersectRect(U,q)),Z.points.push(ZQ.intersectRect($,K))})}function Ad(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(jJ.has(Z,\"x\")){if(Z.labelpos===\"l\"||Z.labelpos===\"r\")Z.width-=Z.labeloffset;switch(Z.labelpos){case\"l\":Z.x-=Z.width/2+Z.labeloffset;break;case\"r\":Z.x+=Z.width/2+Z.labeloffset;break}}})}function Cd(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(Z.reversed)Z.points.reverse()})}function Sd(Q){jJ.forEach(Q.nodes(),function(J){if(Q.children(J).length){var Z=Q.node(J),U=Q.node(Z.borderTop),$=Q.node(Z.borderBottom),q=Q.node(jJ.last(Z.borderLeft)),K=Q.node(jJ.last(Z.borderRight));Z.width=Math.abs(K.x-q.x),Z.height=Math.abs($.y-U.y),Z.x=q.x+Z.width/2,Z.y=U.y+Z.height/2}}),jJ.forEach(Q.nodes(),function(J){if(Q.node(J).dummy===\"border\")Q.removeNode(J)})}function Id(Q){jJ.forEach(Q.edges(),function(J){if(J.v===J.w){var Z=Q.node(J.v);if(!Z.selfEdges)Z.selfEdges=[];Z.selfEdges.push({e:J,label:Q.edge(J)}),Q.removeEdge(J)}})}function Td(Q){var J=ZQ.buildLayerMatrix(Q);jJ.forEach(J,function(Z){var U=0;jJ.forEach(Z,function($,q){var K=Q.node($);K.order=q+U,jJ.forEach(K.selfEdges,function(G){ZQ.addDummyNode(Q,\"selfedge\",{width:G.label.width,height:G.label.height,rank:K.rank,order:q+ ++U,e:G.e,label:G.label},\"_se\")}),delete K.selfEdges})})}function Pd(Q){jJ.forEach(Q.nodes(),function(J){var Z=Q.node(J);if(Z.dummy===\"selfedge\"){var U=Q.node(Z.e.v),$=U.x+U.width/2,q=U.y,K=Z.x-$,G=U.height/2;Q.setEdge(Z.e,Z.label),Q.removeNode(J),Z.label.points=[{x:$+2*K/3,y:q-G},{x:$+5*K/6,y:q-G},{x:$+K,y:q},{x:$+5*K/6,y:q+G},{x:$+2*K/3,y:q+G}],Z.label.x=Z.x,Z.label.y=Z.y}})}function Z4(Q,J){return jJ.mapValues(jJ.pick(Q,J),Number)}function U4(Q){var J={};return jJ.forEach(Q,function(Z,U){J[U.toLowerCase()]=Z}),J}});var AB=w((Ys,OB)=>{var F5=eJ(),kd=v8(),jd=a8().Graph;OB.exports={debugOrdering:wd};function wd(Q){var J=kd.buildLayerMatrix(Q),Z=new jd({compound:!0,multigraph:!0}).setGraph({});return F5.forEach(Q.nodes(),function(U){Z.setNode(U,{label:U}),Z.setParent(U,\"layer\"+Q.node(U).rank)}),F5.forEach(Q.edges(),function(U){Z.setEdge(U.v,U.w,{},U.name)}),F5.forEach(J,function(U,$){var q=\"layer\"+$;Z.setNode(q,{rank:\"same\"}),F5.reduce(U,function(K,G){return Z.setEdge(K,G,{style:\"invis\"}),G})}),Z}});var SB=w((Fs,CB)=>{CB.exports=\"0.8.5\"});var $4=w((Xs,IB)=>{IB.exports={graphlib:a8(),layout:RB(),debug:AB(),util:{time:v8().time,notime:v8().notime},version:SB()}});var TB=w((O6,q4)=>{(function Q(J,Z){if(typeof O6===\"object\"&&typeof q4===\"object\")q4.exports=Z($4());else if(typeof define===\"function\"&&define.amd)define([\"dagre\"],Z);else if(typeof O6===\"object\")O6.cytoscapeDagre=Z($4());else J.cytoscapeDagre=Z(J.dagre)})(O6,function(Q){return function(J){var Z={};function U($){if(Z[$])return Z[$].exports;var q=Z[$]={i:$,l:!1,exports:{}};return J[$].call(q.exports,q,q.exports,U),q.l=!0,q.exports}return U.m=J,U.c=Z,U.d=function($,q,K){if(!U.o($,q))Object.defineProperty($,q,{enumerable:!0,get:K})},U.r=function($){if(typeof Symbol!==\"undefined\"&&Symbol.toStringTag)Object.defineProperty($,Symbol.toStringTag,{value:\"Module\"});Object.defineProperty($,\"__esModule\",{value:!0})},U.t=function($,q){if(q&1)$=U($);if(q&8)return $;if(q&4&&typeof $===\"object\"&&$&&$.__esModule)return $;var K=Object.create(null);if(U.r(K),Object.defineProperty(K,\"default\",{enumerable:!0,value:$}),q&2&&typeof $!=\"string\")for(var G in $)U.d(K,G,function(Y){return $[Y]}.bind(null,G));return K},U.n=function($){var q=$&&$.__esModule?function K(){return $.default}:function K(){return $};return U.d(q,\"a\",q),q},U.o=function($,q){return Object.prototype.hasOwnProperty.call($,q)},U.p=\"\",U(U.s=0)}([function(J,Z,U){var $=U(1),q=function K(G){if(!G)return;G(\"layout\",\"dagre\",$)};if(typeof cytoscape!==\"undefined\")q(cytoscape);J.exports=q},function(J,Z,U){function $(X){if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\")$=function H(N){return typeof N};else $=function H(N){return N&&typeof Symbol===\"function\"&&N.constructor===Symbol&&N!==Symbol.prototype?\"symbol\":typeof N};return $(X)}var q=function X(H){return typeof H===\"function\"},K=U(2),G=U(3),Y=U(4);function F(X){this.options=G({},K,X)}F.prototype.run=function(){var X=this.options,H=this,N=X.cy,z=X.eles,M=function b(y,g){return q(g)?g.apply(y,[y]):g},W=X.boundingBox||{x1:0,y1:0,w:N.width(),h:N.height()};if(W.x2===void 0)W.x2=W.x1+W.w;if(W.w===void 0)W.w=W.x2-W.x1;if(W.y2===void 0)W.y2=W.y1+W.h;if(W.h===void 0)W.h=W.y2-W.y1;var L=new Y.graphlib.Graph({multigraph:!0,compound:!0}),E={},B=function b(y,g){if(g!=null)E[y]=g};B(\"nodesep\",X.nodeSep),B(\"edgesep\",X.edgeSep),B(\"ranksep\",X.rankSep),B(\"rankdir\",X.rankDir),B(\"align\",X.align),B(\"ranker\",X.ranker),B(\"acyclicer\",X.acyclicer),L.setGraph(E),L.setDefaultEdgeLabel(function(){return{}}),L.setDefaultNodeLabel(function(){return{}});var V=z.nodes();if(q(X.sort))V=V.sort(X.sort);for(var D=0;D<V.length;D++){var O=V[D],A=O.layoutDimensions(X);L.setNode(O.id(),{width:A.w,height:A.h,name:O.id()})}for(var R=0;R<V.length;R++){var C=V[R];if(C.isChild())L.setParent(C.id(),C.parent().id())}var I=z.edges().stdFilter(function(b){return!b.source().isParent()&&!b.target().isParent()});if(q(X.sort))I=I.sort(X.sort);for(var T=0;T<I.length;T++){var P=I[T];L.setEdge(P.source().id(),P.target().id(),{minlen:M(P,X.minLen),weight:M(P,X.edgeWeight),name:P.id()},P.id())}Y.layout(L);var k=L.nodes();for(var j=0;j<k.length;j++){var _=k[j],x=L.node(_);N.getElementById(_).scratch().dagre=x}var f;if(X.boundingBox)f={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},V.forEach(function(b){var y=b.scratch().dagre;f.x1=Math.min(f.x1,y.x),f.x2=Math.max(f.x2,y.x),f.y1=Math.min(f.y1,y.y),f.y2=Math.max(f.y2,y.y)}),f.w=f.x2-f.x1,f.h=f.y2-f.y1;else f=W;var v=function b(y){if(X.boundingBox){var g=f.w===0?0:(y.x-f.x1)/f.w,m=f.h===0?0:(y.y-f.y1)/f.h;return{x:W.x1+g*W.w,y:W.y1+m*W.h}}else return y};return V.layoutPositions(H,X,function(b){b=$(b)===\"object\"?b:this;var y=b.scratch().dagre;return v({x:y.x,y:y.y})}),this},J.exports=F},function(J,Z){var U={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function $(q){return 1},edgeWeight:function $(q){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function $(q,K){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function $(q,K){return K},ready:function $(){},sort:void 0,stop:function $(){}};J.exports=U},function(J,Z){J.exports=Object.assign!=null?Object.assign.bind(Object):function(U){for(var $=arguments.length,q=new Array($>1?$-1:0),K=1;K<$;K++)q[K-1]=arguments[K];return q.forEach(function(G){Object.keys(G).forEach(function(Y){return U[Y]=G[Y]})}),U}},function(J,Z){J.exports=Q}])})});function d0(Q,J){(J==null||J>Q.length)&&(J=Q.length);for(var Z=0,U=Array(J);Z<J;Z++)U[Z]=Q[Z];return U}function dB(Q){if(Array.isArray(Q))return Q}function cB(Q){if(Array.isArray(Q))return d0(Q)}function p9(Q,J){if(!(Q instanceof J))throw new TypeError(\"Cannot call a class as a function\")}function pB(Q,J){for(var Z=0;Z<J.length;Z++){var U=J[Z];U.enumerable=U.enumerable||!1,U.configurable=!0,\"value\"in U&&(U.writable=!0),Object.defineProperty(Q,g1(U.key),U)}}function l9(Q,J,Z){return J&&pB(Q.prototype,J),Object.defineProperty(Q,\"prototype\",{writable:!1}),Q}function y8(Q,J){var Z=typeof Symbol!=\"undefined\"&&Q[Symbol.iterator]||Q[\"@@iterator\"];if(!Z){if(Array.isArray(Q)||(Z=YU(Q))||J){Z&&(Q=Z);var U=0,$=function(){};return{s:$,n:function(){return U>=Q.length?{done:!0}:{done:!1,value:Q[U++]}},e:function(Y){throw Y},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,K=!0,G=!1;return{s:function(){Z=Z.call(Q)},n:function(){var Y=Z.next();return K=Y.done,Y},e:function(Y){G=!0,q=Y},f:function(){try{K||Z.return==null||Z.return()}finally{if(G)throw q}}}}function u1(Q,J,Z){return(J=g1(J))in Q?Object.defineProperty(Q,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):Q[J]=Z,Q}function lB(Q){if(typeof Symbol!=\"undefined\"&&Q[Symbol.iterator]!=null||Q[\"@@iterator\"]!=null)return Array.from(Q)}function iB(Q,J){var Z=Q==null?null:typeof Symbol!=\"undefined\"&&Q[Symbol.iterator]||Q[\"@@iterator\"];if(Z!=null){var U,$,q,K,G=[],Y=!0,F=!1;try{if(q=(Z=Z.call(Q)).next,J===0){if(Object(Z)!==Z)return;Y=!1}else for(;!(Y=(U=q.call(Z)).done)&&(G.push(U.value),G.length!==J);Y=!0);}catch(X){F=!0,$=X}finally{try{if(!Y&&Z.return!=null&&(K=Z.return(),Object(K)!==K))return}finally{if(F)throw $}}return G}}function nB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y8(Q,J){return dB(Q)||iB(Q,J)||YU(Q,J)||nB()}function o6(Q){return cB(Q)||lB(Q)||YU(Q)||sB()}function aB(Q,J){if(typeof Q!=\"object\"||!Q)return Q;var Z=Q[Symbol.toPrimitive];if(Z!==void 0){var U=Z.call(Q,J);if(typeof U!=\"object\")return U;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(Q)}function g1(Q){var J=aB(Q,\"string\");return typeof J==\"symbol\"?J:J+\"\"}function M8(Q){return M8=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(J){return typeof J}:function(J){return J&&typeof Symbol==\"function\"&&J.constructor===Symbol&&J!==Symbol.prototype?\"symbol\":typeof J},M8(Q)}function YU(Q,J){if(Q){if(typeof Q==\"string\")return d0(Q,J);var Z={}.toString.call(Q).slice(8,-1);return Z===\"Object\"&&Q.constructor&&(Z=Q.constructor.name),Z===\"Map\"||Z===\"Set\"?Array.from(Q):Z===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?d0(Q,J):void 0}}var H8=typeof window===\"undefined\"?null:window,N4=H8?H8.navigator:null;H8&&H8.document;var rB=M8(\"\"),d1=M8({}),oB=M8(function(){}),tB=typeof HTMLElement===\"undefined\"?\"undefined\":M8(HTMLElement),hZ=function Q(J){return J&&J.instanceString&&Q8(J.instanceString)?J.instanceString():null},WJ=function Q(J){return J!=null&&M8(J)==rB},Q8=function Q(J){return J!=null&&M8(J)===oB},nJ=function Q(J){return!h8(J)&&(Array.isArray?Array.isArray(J):J!=null&&J instanceof Array)},yJ=function Q(J){return J!=null&&M8(J)===d1&&!nJ(J)&&J.constructor===Object},eB=function Q(J){return J!=null&&M8(J)===d1},$J=function Q(J){return J!=null&&M8(J)===M8(1)&&!isNaN(J)},J2=function Q(J){return $J(J)&&Math.floor(J)===J},t6=function Q(J){if(tB===\"undefined\")return;else return J!=null&&J instanceof HTMLElement},h8=function Q(J){return uZ(J)||c1(J)},uZ=function Q(J){return hZ(J)===\"collection\"&&J._private.single},c1=function Q(J){return hZ(J)===\"collection\"&&!J._private.single},FU=function Q(J){return hZ(J)===\"core\"},p1=function Q(J){return hZ(J)===\"stylesheet\"},Q2=function Q(J){return hZ(J)===\"event\"},y9=function Q(J){if(J===void 0||J===null)return!0;else if(J===\"\"||J.match(/^\\s+$/))return!0;return!1},Z2=function Q(J){if(typeof HTMLElement===\"undefined\")return!1;else return J instanceof HTMLElement},U2=function Q(J){return yJ(J)&&$J(J.x1)&&$J(J.x2)&&$J(J.y1)&&$J(J.y2)},$2=function Q(J){return eB(J)&&Q8(J.then)},q2=function Q(){return N4&&N4.userAgent.match(/msie|trident|edge/i)},lQ=function Q(J,Z){if(!Z)Z=function $(){if(arguments.length===1)return arguments[0];else if(arguments.length===0)return\"undefined\";var q=[];for(var K=0;K<arguments.length;K++)q.push(arguments[K]);return q.join(\"$\")};var U=function $(){var q=this,K=arguments,G,Y=Z.apply(q,K),F=U.cache;if(!(G=F[Y]))G=F[Y]=J.apply(q,K);return G};return U.cache={},U},XU=lQ(function(Q){return Q.replace(/([A-Z])/g,function(J){return\"-\"+J.toLowerCase()})}),H7=lQ(function(Q){return Q.replace(/(-\\w)/g,function(J){return J[1].toUpperCase()})}),l1=lQ(function(Q,J){return Q+J[0].toUpperCase()+J.substring(1)},function(Q,J){return Q+\"$\"+J}),M4=function Q(J){if(y9(J))return J;return J.charAt(0).toUpperCase()+J.substring(1)},v9=function Q(J,Z){return J.slice(-1*Z.length)===Z},N8=\"(?:[-+]?(?:(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[Ee][+-]?\\\\d+)?))\",K2=\"rgb[a]?\\\\((\"+N8+\"[%]?)\\\\s*,\\\\s*(\"+N8+\"[%]?)\\\\s*,\\\\s*(\"+N8+\"[%]?)(?:\\\\s*,\\\\s*(\"+N8+\"))?\\\\)\",G2=\"rgb[a]?\\\\((?:\"+N8+\"[%]?)\\\\s*,\\\\s*(?:\"+N8+\"[%]?)\\\\s*,\\\\s*(?:\"+N8+\"[%]?)(?:\\\\s*,\\\\s*(?:\"+N8+\"))?\\\\)\",Y2=\"hsl[a]?\\\\((\"+N8+\")\\\\s*,\\\\s*(\"+N8+\"[%])\\\\s*,\\\\s*(\"+N8+\"[%])(?:\\\\s*,\\\\s*(\"+N8+\"))?\\\\)\",F2=\"hsl[a]?\\\\((?:\"+N8+\")\\\\s*,\\\\s*(?:\"+N8+\"[%])\\\\s*,\\\\s*(?:\"+N8+\"[%])(?:\\\\s*,\\\\s*(?:\"+N8+\"))?\\\\)\",X2=\"\\\\#[0-9a-fA-F]{3}\",H2=\"\\\\#[0-9a-fA-F]{6}\",i1=function Q(J,Z){if(J<Z)return-1;else if(J>Z)return 1;else return 0},N2=function Q(J,Z){return-1*i1(J,Z)},DJ=Object.assign!=null?Object.assign.bind(Object):function(Q){var J=arguments;for(var Z=1;Z<J.length;Z++){var U=J[Z];if(U==null)continue;var $=Object.keys(U);for(var q=0;q<$.length;q++){var K=$[q];Q[K]=U[K]}}return Q},M2=function Q(J){if(!(J.length===4||J.length===7)||J[0]!==\"#\")return;var Z=J.length===4,U,$,q,K=16;if(Z)U=parseInt(J[1]+J[1],K),$=parseInt(J[2]+J[2],K),q=parseInt(J[3]+J[3],K);else U=parseInt(J[1]+J[2],K),$=parseInt(J[3]+J[4],K),q=parseInt(J[5]+J[6],K);return[U,$,q]},z2=function Q(J){var Z,U,$,q,K,G,Y,F;function X(M,W,L){if(L<0)L+=1;if(L>1)L-=1;if(L<0.16666666666666666)return M+(W-M)*6*L;if(L<0.5)return W;if(L<0.6666666666666666)return M+(W-M)*(0.6666666666666666-L)*6;return M}var H=new RegExp(\"^\"+Y2+\"$\").exec(J);if(H){if(U=parseInt(H[1]),U<0)U=(360- -1*U%360)%360;else if(U>360)U=U%360;if(U/=360,$=parseFloat(H[2]),$<0||$>100)return;if($=$/100,q=parseFloat(H[3]),q<0||q>100)return;if(q=q/100,K=H[4],K!==void 0){if(K=parseFloat(K),K<0||K>1)return}if($===0)G=Y=F=Math.round(q*255);else{var N=q<0.5?q*(1+$):q+$-q*$,z=2*q-N;G=Math.round(255*X(z,N,U+0.3333333333333333)),Y=Math.round(255*X(z,N,U)),F=Math.round(255*X(z,N,U-0.3333333333333333))}Z=[G,Y,F,K]}return Z},L2=function Q(J){var Z,U=new RegExp(\"^\"+K2+\"$\").exec(J);if(U){Z=[];var $=[];for(var q=1;q<=3;q++){var K=U[q];if(K[K.length-1]===\"%\")$[q]=!0;if(K=parseFloat(K),$[q])K=K/100*255;if(K<0||K>255)return;Z.push(Math.floor(K))}var G=$[1]||$[2]||$[3],Y=$[1]&&$[2]&&$[3];if(G&&!Y)return;var F=U[4];if(F!==void 0){if(F=parseFloat(F),F<0||F>1)return;Z.push(F)}}return Z},W2=function Q(J){return E2[J.toLowerCase()]},n1=function Q(J){return(nJ(J)?J:null)||W2(J)||M2(J)||L2(J)||z2(J)},E2={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},s1=function Q(J){var{map:Z,keys:U}=J,$=U.length;for(var q=0;q<$;q++){var K=U[q];if(yJ(K))throw Error(\"Tried to set map with object key\");if(q<U.length-1){if(Z[K]==null)Z[K]={};Z=Z[K]}else Z[K]=J.value}},a1=function Q(J){var{map:Z,keys:U}=J,$=U.length;for(var q=0;q<$;q++){var K=U[q];if(yJ(K))throw Error(\"Tried to get map with object key\");if(Z=Z[K],Z==null)return Z}return Z},T6=typeof globalThis!==\"undefined\"?globalThis:typeof window!==\"undefined\"?window:typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:{};function gZ(Q){return Q&&Q.__esModule&&Object.prototype.hasOwnProperty.call(Q,\"default\")?Q.default:Q}var N5,z4;function dZ(){if(z4)return N5;z4=1;function Q(J){var Z=typeof J;return J!=null&&(Z==\"object\"||Z==\"function\")}return N5=Q,N5}var M5,L4;function B2(){if(L4)return M5;L4=1;var Q=typeof T6==\"object\"&&T6&&T6.Object===Object&&T6;return M5=Q,M5}var z5,W4;function N7(){if(W4)return z5;W4=1;var Q=B2(),J=typeof self==\"object\"&&self&&self.Object===Object&&self,Z=Q||J||Function(\"return this\")();return z5=Z,z5}var L5,E4;function V2(){if(E4)return L5;E4=1;var Q=N7(),J=function(){return Q.Date.now()};return L5=J,L5}var W5,B4;function D2(){if(B4)return W5;B4=1;var Q=/\\s/;function J(Z){var U=Z.length;while(U--&&Q.test(Z.charAt(U)));return U}return W5=J,W5}var E5,V4;function R2(){if(V4)return E5;V4=1;var Q=D2(),J=/^\\s+/;function Z(U){return U?U.slice(0,Q(U)+1).replace(J,\"\"):U}return E5=Z,E5}var B5,D4;function HU(){if(D4)return B5;D4=1;var Q=N7(),J=Q.Symbol;return B5=J,B5}var V5,R4;function O2(){if(R4)return V5;R4=1;var Q=HU(),J=Object.prototype,Z=J.hasOwnProperty,U=J.toString,$=Q?Q.toStringTag:void 0;function q(K){var G=Z.call(K,$),Y=K[$];try{K[$]=void 0;var F=!0}catch(H){}var X=U.call(K);if(F)if(G)K[$]=Y;else delete K[$];return X}return V5=q,V5}var D5,O4;function A2(){if(O4)return D5;O4=1;var Q=Object.prototype,J=Q.toString;function Z(U){return J.call(U)}return D5=Z,D5}var R5,A4;function r1(){if(A4)return R5;A4=1;var Q=HU(),J=O2(),Z=A2(),U=\"[object Null]\",$=\"[object Undefined]\",q=Q?Q.toStringTag:void 0;function K(G){if(G==null)return G===void 0?$:U;return q&&q in Object(G)?J(G):Z(G)}return R5=K,R5}var O5,C4;function C2(){if(C4)return O5;C4=1;function Q(J){return J!=null&&typeof J==\"object\"}return O5=Q,O5}var A5,S4;function cZ(){if(S4)return A5;S4=1;var Q=r1(),J=C2(),Z=\"[object Symbol]\";function U($){return typeof $==\"symbol\"||J($)&&Q($)==Z}return A5=U,A5}var C5,I4;function S2(){if(I4)return C5;I4=1;var Q=R2(),J=dZ(),Z=cZ(),U=NaN,$=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,K=/^0o[0-7]+$/i,G=parseInt;function Y(F){if(typeof F==\"number\")return F;if(Z(F))return U;if(J(F)){var X=typeof F.valueOf==\"function\"?F.valueOf():F;F=J(X)?X+\"\":X}if(typeof F!=\"string\")return F===0?F:+F;F=Q(F);var H=q.test(F);return H||K.test(F)?G(F.slice(2),H?2:8):$.test(F)?U:+F}return C5=Y,C5}var S5,T4;function I2(){if(T4)return S5;T4=1;var Q=dZ(),J=V2(),Z=S2(),U=\"Expected a function\",$=Math.max,q=Math.min;function K(G,Y,F){var X,H,N,z,M,W,L=0,E=!1,B=!1,V=!0;if(typeof G!=\"function\")throw new TypeError(U);if(Y=Z(Y)||0,Q(F))E=!!F.leading,B=\"maxWait\"in F,N=B?$(Z(F.maxWait)||0,Y):N,V=\"trailing\"in F?!!F.trailing:V;function D(j){var _=X,x=H;return X=H=void 0,L=j,z=G.apply(x,_),z}function O(j){return L=j,M=setTimeout(C,Y),E?D(j):z}function A(j){var _=j-W,x=j-L,f=Y-_;return B?q(f,N-x):f}function R(j){var _=j-W,x=j-L;return W===void 0||_>=Y||_<0||B&&x>=N}function C(){var j=J();if(R(j))return I(j);M=setTimeout(C,A(j))}function I(j){if(M=void 0,V&&X)return D(j);return X=H=void 0,z}function T(){if(M!==void 0)clearTimeout(M);L=0,X=W=H=M=void 0}function P(){return M===void 0?z:I(J())}function k(){var j=J(),_=R(j);if(X=arguments,H=this,W=j,_){if(M===void 0)return O(W);if(B)return clearTimeout(M),M=setTimeout(C,Y),D(W)}if(M===void 0)M=setTimeout(C,Y);return z}return k.cancel=T,k.flush=P,k}return S5=K,S5}var T2=I2(),pZ=gZ(T2),I5=H8?H8.performance:null,o1=I5&&I5.now?function(){return I5.now()}:function(){return Date.now()},P2=function(){if(H8){if(H8.requestAnimationFrame)return function(Q){H8.requestAnimationFrame(Q)};else if(H8.mozRequestAnimationFrame)return function(Q){H8.mozRequestAnimationFrame(Q)};else if(H8.webkitRequestAnimationFrame)return function(Q){H8.webkitRequestAnimationFrame(Q)};else if(H8.msRequestAnimationFrame)return function(Q){H8.msRequestAnimationFrame(Q)}}return function(Q){if(Q)setTimeout(function(){Q(o1())},16.666666666666668)}}(),e6=function Q(J){return P2(J)},B9=o1,YQ=9261,t1=65599,mQ=5381,e1=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YQ,U=Z,$;for(;;){if($=J.next(),$.done)break;U=U*t1+$.value|0}return U},kZ=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YQ;return Z*t1+J|0},jZ=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mQ;return(Z<<5)+Z+J|0},k2=function Q(J,Z){return J*2097152+Z},k9=function Q(J){return J[0]*2097152+J[1]},P6=function Q(J,Z){return[kZ(J[0],Z[0]),jZ(J[1],Z[1])]},P4=function Q(J,Z){var U={value:0,done:!1},$=0,q=J.length,K={next:function G(){if($<q)U.value=J[$++];else U.done=!0;return U}};return e1(K,Z)},HQ=function Q(J,Z){var U={value:0,done:!1},$=0,q=J.length,K={next:function G(){if($<q)U.value=J.charCodeAt($++);else U.done=!0;return U}};return e1(K,Z)},JK=function Q(){return j2(arguments)},j2=function Q(J){var Z;for(var U=0;U<J.length;U++){var $=J[U];if(U===0)Z=HQ($);else Z=HQ($,Z)}return Z};function w2(Q,J,Z,U,$){var q=$*Math.PI/180,K=Math.cos(q)*(Q-Z)-Math.sin(q)*(J-U)+Z,G=Math.sin(q)*(Q-Z)+Math.cos(q)*(J-U)+U;return{x:K,y:G}}var _2=function Q(J,Z,U,$,q,K){return{x:(J-U)*q+U,y:(Z-$)*K+$}};function v2(Q,J,Z){if(Z===0)return Q;var U=(J.x1+J.x2)/2,$=(J.y1+J.y2)/2,q=J.w/J.h,K=1/q,G=w2(Q.x,Q.y,U,$,Z),Y=_2(G.x,G.y,U,$,q,K);return{x:Y.x,y:Y.y}}var k4=!0,f2=console.warn!=null,x2=console.trace!=null,NU=Number.MAX_SAFE_INTEGER||9007199254740991,QK=function Q(){return!0},J7=function Q(){return!1},j4=function Q(){return 0},MU=function Q(){},J8=function Q(J){throw new Error(J)},ZK=function Q(J){if(J!==void 0)k4=!!J;else return k4},lJ=function Q(J){if(!ZK())return;if(f2)console.warn(J);else if(console.log(J),x2)console.trace()},b2=function Q(J){return DJ({},J)},q9=function Q(J){if(J==null)return J;if(nJ(J))return J.slice();else if(yJ(J))return b2(J);else return J},m2=function Q(J){return J.slice()},UK=function Q(J,Z){for(Z=J=\"\";J++<36;Z+=J*51&52?(J^15?8^Math.random()*(J^20?16:4):4).toString(16):\"-\");return Z},y2={},$K=function Q(){return y2},A8=function Q(J){var Z=Object.keys(J);return function(U){var $={};for(var q=0;q<Z.length;q++){var K=Z[q],G=U==null?void 0:U[K];$[K]=G===void 0?J[K]:G}return $}},h9=function Q(J,Z,U){for(var $=J.length-1;$>=0;$--)if(J[$]===Z)J.splice($,1)},zU=function Q(J){J.splice(0,J.length)},h2=function Q(J,Z){for(var U=0;U<Z.length;U++){var $=Z[U];J.push($)}},b8=function Q(J,Z,U){if(U)Z=l1(U,Z);return J[Z]},W9=function Q(J,Z,U,$){if(U)Z=l1(U,Z);J[Z]=$},u2=function(){function Q(){p9(this,Q),this._obj={}}return l9(Q,[{key:\"set\",value:function J(Z,U){return this._obj[Z]=U,this}},{key:\"delete\",value:function J(Z){return this._obj[Z]=void 0,this}},{key:\"clear\",value:function J(){this._obj={}}},{key:\"has\",value:function J(Z){return this._obj[Z]!==void 0}},{key:\"get\",value:function J(Z){return this._obj[Z]}}])}(),E9=typeof Map!==\"undefined\"?Map:u2,g2=\"undefined\",d2=function(){function Q(J){if(p9(this,Q),this._obj=Object.create(null),this.size=0,J!=null){var Z;if(J.instanceString!=null&&J.instanceString()===this.instanceString())Z=J.toArray();else Z=J;for(var U=0;U<Z.length;U++)this.add(Z[U])}}return l9(Q,[{key:\"instanceString\",value:function J(){return\"set\"}},{key:\"add\",value:function J(Z){var U=this._obj;if(U[Z]!==1)U[Z]=1,this.size++}},{key:\"delete\",value:function J(Z){var U=this._obj;if(U[Z]===1)U[Z]=0,this.size--}},{key:\"clear\",value:function J(){this._obj=Object.create(null)}},{key:\"has\",value:function J(Z){return this._obj[Z]===1}},{key:\"toArray\",value:function J(){var Z=this;return Object.keys(this._obj).filter(function(U){return Z.has(U)})}},{key:\"forEach\",value:function J(Z,U){return this.toArray().forEach(Z,U)}}])}(),sQ=(typeof Set===\"undefined\"?\"undefined\":M8(Set))!==g2?Set:d2,M7=function Q(J,Z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(J===void 0||Z===void 0||!FU(J)){J8(\"An element must have a core reference and parameters set\");return}var $=Z.group;if($==null)if(Z.data&&Z.data.source!=null&&Z.data.target!=null)$=\"edges\";else $=\"nodes\";if($!==\"nodes\"&&$!==\"edges\"){J8(\"An element must be of type `nodes` or `edges`; you specified `\"+$+\"`\");return}this.length=1,this[0]=this;var q=this._private={cy:J,single:!0,data:Z.data||{},position:Z.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:$,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:Z.selected?!0:!1,selectable:Z.selectable===void 0?!0:Z.selectable?!0:!1,locked:Z.locked?!0:!1,grabbed:!1,grabbable:Z.grabbable===void 0?!0:Z.grabbable?!0:!1,pannable:Z.pannable===void 0?$===\"edges\"?!0:!1:Z.pannable?!0:!1,active:!1,classes:new sQ,animation:{current:[],queue:[]},rscratch:{},scratch:Z.scratch||{},edges:[],children:[],parent:Z.parent&&Z.parent.isNode()?Z.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,\"mid-source\":null,\"mid-target\":null}};if(q.position.x==null)q.position.x=0;if(q.position.y==null)q.position.y=0;if(Z.renderedPosition){var K=Z.renderedPosition,G=J.pan(),Y=J.zoom();q.position={x:(K.x-G.x)/Y,y:(K.y-G.y)/Y}}var F=[];if(nJ(Z.classes))F=Z.classes;else if(WJ(Z.classes))F=Z.classes.split(/\\s+/);for(var X=0,H=F.length;X<H;X++){var N=F[X];if(!N||N===\"\")continue;q.classes.add(N)}if(this.createEmitter(),U===void 0||U)this.restore();var z=Z.style||Z.css;if(z)lJ(\"Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead.\"),this.style(z)},w4=function Q(J){return J={bfs:J.bfs||!J.dfs,dfs:J.dfs||!J.bfs},function Z(U,$,q){var K;if(yJ(U)&&!h8(U))K=U,U=K.roots||K.root,$=K.visit,q=K.directed;q=arguments.length===2&&!Q8($)?$:q,$=Q8($)?$:function(){};var G=this._private.cy,Y=U=WJ(U)?this.filter(U):U,F=[],X=[],H={},N={},z={},M=0,W,L=this.byGroup(),E=L.nodes,B=L.edges;for(var V=0;V<Y.length;V++){var D=Y[V],O=D.id();if(D.isNode()){if(F.unshift(D),J.bfs)z[O]=!0,X.push(D);N[O]=0}}var A=function k(){var j=J.bfs?F.shift():F.pop(),_=j.id();if(J.dfs){if(z[_])return 0;z[_]=!0,X.push(j)}var x=N[_],f=H[_],v=f!=null?f.source():null,b=f!=null?f.target():null,y=f==null?void 0:j.same(v)?b[0]:v[0],g;if(g=$(j,f,y,M++,x),g===!0)return W=j,1;if(g===!1)return 1;var m=j.connectedEdges().filter(function(JJ){return(!q||JJ.source().same(j))&&B.has(JJ)});for(var u=0;u<m.length;u++){var n=m[u],t=n.connectedNodes().filter(function(JJ){return!JJ.same(j)&&E.has(JJ)}),s=t.id();if(t.length!==0&&!z[s]){if(t=t[0],F.push(t),J.bfs)z[s]=!0,X.push(t);H[s]=n,N[s]=N[_]+1}}},R;while(F.length!==0){if(R=A(),R===0)continue;if(R===1)break}var C=G.collection();for(var I=0;I<X.length;I++){var T=X[I],P=H[T.id()];if(P!=null)C.push(P);C.push(T)}return{path:G.collection(C),found:G.collection(W)}}},wZ={breadthFirstSearch:w4({bfs:!0}),depthFirstSearch:w4({dfs:!0})};wZ.bfs=wZ.breadthFirstSearch;wZ.dfs=wZ.depthFirstSearch;var u6={exports:{}},c2=u6.exports,_4;function p2(){if(_4)return u6.exports;return _4=1,function(Q,J){(function(){var Z,U,$,q,K,G,Y,F,X,H,N,z,M,W,L;$=Math.floor,H=Math.min,U=function(E,B){if(E<B)return-1;if(E>B)return 1;return 0},X=function(E,B,V,D,O){var A;if(V==null)V=0;if(O==null)O=U;if(V<0)throw new Error(\"lo must be non-negative\");if(D==null)D=E.length;while(V<D)if(A=$((V+D)/2),O(B,E[A])<0)D=A;else V=A+1;return[].splice.apply(E,[V,V-V].concat(B)),B},G=function(E,B,V){if(V==null)V=U;return E.push(B),W(E,0,E.length-1,V)},K=function(E,B){var V,D;if(B==null)B=U;if(V=E.pop(),E.length)D=E[0],E[0]=V,L(E,0,B);else D=V;return D},F=function(E,B,V){var D;if(V==null)V=U;return D=E[0],E[0]=B,L(E,0,V),D},Y=function(E,B,V){var D;if(V==null)V=U;if(E.length&&V(E[0],B)<0)D=[E[0],B],B=D[0],E[0]=D[1],L(E,0,V);return B},q=function(E,B){var V,D,O,A,R,C;if(B==null)B=U;A=function(){C=[];for(var I=0,T=$(E.length/2);0<=T?I<T:I>T;0<=T?I++:I--)C.push(I);return C}.apply(this).reverse(),R=[];for(D=0,O=A.length;D<O;D++)V=A[D],R.push(L(E,V,B));return R},M=function(E,B,V){var D;if(V==null)V=U;if(D=E.indexOf(B),D===-1)return;return W(E,0,D,V),L(E,D,V)},N=function(E,B,V){var D,O,A,R,C;if(V==null)V=U;if(O=E.slice(0,B),!O.length)return O;q(O,V),C=E.slice(B);for(A=0,R=C.length;A<R;A++)D=C[A],Y(O,D,V);return O.sort(V).reverse()},z=function(E,B,V){var D,O,A,R,C,I,T,P,k;if(V==null)V=U;if(B*10<=E.length){if(A=E.slice(0,B).sort(V),!A.length)return A;O=A[A.length-1],T=E.slice(B);for(R=0,I=T.length;R<I;R++)if(D=T[R],V(D,O)<0)X(A,D,0,null,V),A.pop(),O=A[A.length-1];return A}q(E,V),k=[];for(C=0,P=H(B,E.length);0<=P?C<P:C>P;0<=P?++C:--C)k.push(K(E,V));return k},W=function(E,B,V,D){var O,A,R;if(D==null)D=U;O=E[V];while(V>B){if(R=V-1>>1,A=E[R],D(O,A)<0){E[V]=A,V=R;continue}break}return E[V]=O},L=function(E,B,V){var D,O,A,R,C;if(V==null)V=U;O=E.length,C=B,A=E[B],D=2*B+1;while(D<O){if(R=D+1,R<O&&!(V(E[D],E[R])<0))D=R;E[B]=E[D],B=D,D=2*B+1}return E[B]=A,W(E,C,B,V)},Z=function(){E.push=G,E.pop=K,E.replace=F,E.pushpop=Y,E.heapify=q,E.updateItem=M,E.nlargest=N,E.nsmallest=z;function E(B){this.cmp=B!=null?B:U,this.nodes=[]}return E.prototype.push=function(B){return G(this.nodes,B,this.cmp)},E.prototype.pop=function(){return K(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(B){return this.nodes.indexOf(B)!==-1},E.prototype.replace=function(B){return F(this.nodes,B,this.cmp)},E.prototype.pushpop=function(B){return Y(this.nodes,B,this.cmp)},E.prototype.heapify=function(){return q(this.nodes,this.cmp)},E.prototype.updateItem=function(B){return M(this.nodes,B,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var B=new E;return B.nodes=this.nodes.slice(0),B},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,B){return Q.exports=B()}(this,function(){return Z})}).call(c2)}(u6),u6.exports}var T5,v4;function l2(){if(v4)return T5;return v4=1,T5=p2(),T5}var i2=l2(),lZ=gZ(i2),n2=A8({root:null,weight:function Q(J){return 1},directed:!1}),s2={dijkstra:function Q(J){if(!yJ(J)){var Z=arguments;J={root:Z[0],weight:Z[1],directed:Z[2]}}var U=n2(J),$=U.root,q=U.weight,K=U.directed,G=this,Y=q,F=WJ($)?this.filter($)[0]:$[0],X={},H={},N={},z=this.byGroup(),M=z.nodes,W=z.edges;W.unmergeBy(function(x){return x.isLoop()});var L=function x(f){return X[f.id()]},E=function x(f,v){X[f.id()]=v,B.updateItem(f)},B=new lZ(function(x,f){return L(x)-L(f)});for(var V=0;V<M.length;V++){var D=M[V];X[D.id()]=D.same(F)?0:1/0,B.push(D)}var O=function x(f,v){var b=(K?f.edgesTo(v):f.edgesWith(v)).intersect(W),y=1/0,g;for(var m=0;m<b.length;m++){var u=b[m],n=Y(u);if(n<y||!g)y=n,g=u}return{edge:g,dist:y}};while(B.size()>0){var A=B.pop(),R=L(A),C=A.id();if(N[C]=R,R===1/0)continue;var I=A.neighborhood().intersect(M);for(var T=0;T<I.length;T++){var P=I[T],k=P.id(),j=O(A,P),_=R+j.dist;if(_<L(P))E(P,_),H[k]={node:A,edge:j.edge}}}return{distanceTo:function x(f){var v=WJ(f)?M.filter(f)[0]:f[0];return N[v.id()]},pathTo:function x(f){var v=WJ(f)?M.filter(f)[0]:f[0],b=[],y=v,g=y.id();if(v.length>0){b.unshift(v);while(H[g]){var m=H[g];b.unshift(m.edge),b.unshift(m.node),y=m.node,g=y.id()}}return G.spawn(b)}}}},a2={kruskal:function Q(J){J=J||function(V){return 1};var Z=this.byGroup(),U=Z.nodes,$=Z.edges,q=U.length,K=new Array(q),G=U,Y=function V(D){for(var O=0;O<K.length;O++){var A=K[O];if(A.has(D))return O}};for(var F=0;F<q;F++)K[F]=this.spawn(U[F]);var X=$.sort(function(V,D){return J(V)-J(D)});for(var H=0;H<X.length;H++){var N=X[H],z=N.source()[0],M=N.target()[0],W=Y(z),L=Y(M),E=K[W],B=K[L];if(W!==L)G.merge(N),E.merge(B),K.splice(L,1)}return G}},r2=A8({root:null,goal:null,weight:function Q(J){return 1},heuristic:function Q(J){return 0},directed:!1}),o2={aStar:function Q(J){var Z=this.cy(),U=r2(J),$=U.root,q=U.goal,K=U.heuristic,G=U.directed,Y=U.weight;$=Z.collection($)[0],q=Z.collection(q)[0];var F=$.id(),X=q.id(),H={},N={},z={},M=new lZ(function(g,m){return N[g.id()]-N[m.id()]}),W=new sQ,L={},E={},B=function g(m,u){M.push(m),W.add(u)},V,D,O=function g(){V=M.pop(),D=V.id(),W.delete(D)},A=function g(m){return W.has(m)};B($,F),H[F]=0,N[F]=K($);var R=0;while(M.size()>0){if(O(),R++,D===X){var C=[],I=q,T=X,P=E[T];for(;;){if(C.unshift(I),P!=null)C.unshift(P);if(I=L[T],I==null)break;T=I.id(),P=E[T]}return{found:!0,distance:H[D],path:this.spawn(C),steps:R}}z[D]=!0;var k=V._private.edges;for(var j=0;j<k.length;j++){var _=k[j];if(!this.hasElementWithId(_.id()))continue;if(G&&_.data(\"source\")!==D)continue;var x=_.source(),f=_.target(),v=x.id()!==D?x:f,b=v.id();if(!this.hasElementWithId(b))continue;if(z[b])continue;var y=H[D]+Y(_);if(!A(b)){H[b]=y,N[b]=y+K(v),B(v,b),L[b]=V,E[b]=_;continue}if(y<H[b])H[b]=y,N[b]=y+K(v),L[b]=V,E[b]=_}}return{found:!1,distance:void 0,path:void 0,steps:R}}},t2=A8({weight:function Q(J){return 1},directed:!1}),e2={floydWarshall:function Q(J){var Z=this.cy(),U=t2(J),$=U.weight,q=U.directed,K=$,G=this.byGroup(),Y=G.nodes,F=G.edges,X=Y.length,H=X*X,N=function u(n){return Y.indexOf(n)},z=function u(n){return Y[n]},M=new Array(H);for(var W=0;W<H;W++){var L=W%X,E=(W-L)/X;if(E===L)M[W]=0;else M[W]=1/0}var B=new Array(H),V=new Array(H);for(var D=0;D<F.length;D++){var O=F[D],A=O.source()[0],R=O.target()[0];if(A===R)continue;var C=N(A),I=N(R),T=C*X+I,P=K(O);if(M[T]>P)M[T]=P,B[T]=I,V[T]=O;if(!q){var k=I*X+C;if(!q&&M[k]>P)M[k]=P,B[k]=C,V[k]=O}}for(var j=0;j<X;j++)for(var _=0;_<X;_++){var x=_*X+j;for(var f=0;f<X;f++){var v=_*X+f,b=j*X+f;if(M[x]+M[b]<M[v])M[v]=M[x]+M[b],B[v]=B[x]}}var y=function u(n){return(WJ(n)?Z.filter(n):n)[0]},g=function u(n){return N(y(n))},m={distance:function u(n,t){var s=g(n),JJ=g(t);return M[s*X+JJ]},path:function u(n,t){var s=g(n),JJ=g(t),ZJ=z(s);if(s===JJ)return ZJ.collection();if(B[s*X+JJ]==null)return Z.collection();var qJ=Z.collection(),e=s,h;qJ.merge(ZJ);while(s!==JJ)e=s,s=B[s*X+JJ],h=V[e*X+s],qJ.merge(h),qJ.merge(z(s));return qJ}};return m}},JV=A8({weight:function Q(J){return 1},directed:!1,root:null}),QV={bellmanFord:function Q(J){var Z=this,U=JV(J),$=U.weight,q=U.directed,K=U.root,G=$,Y=this,F=this.cy(),X=this.byGroup(),H=X.edges,N=X.nodes,z=N.length,M=new E9,W=!1,L=[];K=F.collection(K)[0],H.unmergeBy(function(CJ){return CJ.isLoop()});var E=H.length,B=function CJ(RJ){var BJ=M.get(RJ.id());if(!BJ)BJ={},M.set(RJ.id(),BJ);return BJ},V=function CJ(RJ){return(WJ(RJ)?F.$(RJ):RJ)[0]},D=function CJ(RJ){return B(V(RJ)).dist},O=function CJ(RJ){var BJ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,KJ=V(RJ),zJ=[],LJ=KJ;for(;;){if(LJ==null)return Z.spawn();var AJ=B(LJ),EJ=AJ.edge,PJ=AJ.pred;if(zJ.unshift(LJ[0]),LJ.same(BJ)&&zJ.length>0)break;if(EJ!=null)zJ.unshift(EJ);LJ=PJ}return Y.spawn(zJ)};for(var A=0;A<z;A++){var R=N[A],C=B(R);if(R.same(K))C.dist=0;else C.dist=1/0;C.pred=null,C.edge=null}var I=!1,T=function CJ(RJ,BJ,KJ,zJ,LJ,AJ){var EJ=zJ.dist+AJ;if(EJ<LJ.dist&&!KJ.same(zJ.edge))LJ.dist=EJ,LJ.pred=RJ,LJ.edge=KJ,I=!0};for(var P=1;P<z;P++){I=!1;for(var k=0;k<E;k++){var j=H[k],_=j.source(),x=j.target(),f=G(j),v=B(_),b=B(x);if(T(_,x,j,v,b,f),!q)T(x,_,j,b,v,f)}if(!I)break}if(I){var y=[];for(var g=0;g<E;g++){var m=H[g],u=m.source(),n=m.target(),t=G(m),s=B(u).dist,JJ=B(n).dist;if(s+t<JJ||!q&&JJ+t<s){if(!W)lJ(\"Graph contains a negative weight cycle for Bellman-Ford\"),W=!0;if(J.findNegativeWeightCycles!==!1){var ZJ=[];if(s+t<JJ)ZJ.push(u);if(!q&&JJ+t<s)ZJ.push(n);var qJ=ZJ.length;for(var e=0;e<qJ;e++){var h=ZJ[e],d=[h];d.push(B(h).edge);var p=B(h).pred;while(d.indexOf(p)===-1)d.push(p),d.push(B(p).edge),p=B(p).pred;d=d.slice(d.indexOf(p));var r=d[0].id(),UJ=0;for(var MJ=2;MJ<d.length;MJ+=2)if(d[MJ].id()<r)r=d[MJ].id(),UJ=MJ;d=d.slice(UJ).concat(d.slice(0,UJ)),d.push(d[0]);var xJ=d.map(function(CJ){return CJ.id()}).join(\",\");if(y.indexOf(xJ)===-1)L.push(Y.spawn(d)),y.push(xJ)}}else break}}}return{distanceTo:D,pathTo:O,hasNegativeWeightCycle:W,negativeWeightCycles:L}}},ZV=Math.sqrt(2),UV=function Q(J,Z,U){if(U.length===0)J8(\"Karger-Stein must be run on a connected (sub)graph\");var $=U[J],q=$[1],K=$[2],G=Z[q],Y=Z[K],F=U;for(var X=F.length-1;X>=0;X--){var H=F[X],N=H[1],z=H[2];if(Z[N]===G&&Z[z]===Y||Z[N]===Y&&Z[z]===G)F.splice(X,1)}for(var M=0;M<F.length;M++){var W=F[M];if(W[1]===Y)F[M]=W.slice(),F[M][1]=G;else if(W[2]===Y)F[M]=W.slice(),F[M][2]=G}for(var L=0;L<Z.length;L++)if(Z[L]===Y)Z[L]=G;return F},P5=function Q(J,Z,U,$){while(U>$){var q=Math.floor(Math.random()*Z.length);Z=UV(q,J,Z),U--}return Z},$V={kargerStein:function Q(){var J=this,Z=this.byGroup(),U=Z.nodes,$=Z.edges;$.unmergeBy(function(b){return b.isLoop()});var q=U.length,K=$.length,G=Math.ceil(Math.pow(Math.log(q)/Math.LN2,2)),Y=Math.floor(q/ZV);if(q<2){J8(\"At least 2 nodes are required for Karger-Stein algorithm\");return}var F=[];for(var X=0;X<K;X++){var H=$[X];F.push([X,U.indexOf(H.source()),U.indexOf(H.target())])}var N=1/0,z=[],M=new Array(q),W=new Array(q),L=new Array(q),E=function b(y,g){for(var m=0;m<q;m++)g[m]=y[m]};for(var B=0;B<=G;B++){for(var V=0;V<q;V++)W[V]=V;var D=P5(W,F.slice(),q,Y),O=D.slice();E(W,L);var A=P5(W,D,Y,2),R=P5(L,O,Y,2);if(A.length<=R.length&&A.length<N)N=A.length,z=A,E(W,M);else if(R.length<=A.length&&R.length<N)N=R.length,z=R,E(L,M)}var C=this.spawn(z.map(function(b){return $[b[0]]})),I=this.spawn(),T=this.spawn(),P=M[0];for(var k=0;k<M.length;k++){var j=M[k],_=U[k];if(j===P)I.merge(_);else T.merge(_)}var x=function b(y){var g=J.spawn();return y.forEach(function(m){g.merge(m),m.connectedEdges().forEach(function(u){if(J.contains(u)&&!C.contains(u))g.merge(u)})}),g},f=[x(I),x(T)],v={cut:C,components:f,partition1:I,partition2:T};return v}},k5,qV=function Q(J){return{x:J.x,y:J.y}},z7=function Q(J,Z,U){return{x:J.x*Z+U.x,y:J.y*Z+U.y}},qK=function Q(J,Z,U){return{x:(J.x-U.x)/Z,y:(J.y-U.y)/Z}},yQ=function Q(J){return{x:J[0],y:J[1]}},KV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=1/0;for(var q=Z;q<U;q++){var K=J[q];if(isFinite(K))$=Math.min(K,$)}return $},GV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=-1/0;for(var q=Z;q<U;q++){var K=J[q];if(isFinite(K))$=Math.max(K,$)}return $},YV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=0,q=0;for(var K=Z;K<U;K++){var G=J[K];if(isFinite(G))$+=G,q++}return $/q},FV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if($)J=J.slice(Z,U);else{if(U<J.length)J.splice(U,J.length-U);if(Z>0)J.splice(0,Z)}var G=0;for(var Y=J.length-1;Y>=0;Y--){var F=J[Y];if(K){if(!isFinite(F))J[Y]=-1/0,G++}else J.splice(Y,1)}if(q)J.sort(function(N,z){return N-z});var X=J.length,H=Math.floor(X/2);if(X%2!==0)return J[H+1+G];else return(J[H-1+G]+J[H+G])/2},XV=function Q(J){return Math.PI*J/180},k6=function Q(J,Z){return Math.atan2(Z,J)-Math.PI/2},LU=Math.log2||function(Q){return Math.log(Q)/Math.log(2)},WU=function Q(J){if(J>0)return 1;else if(J<0)return-1;else return 0},NQ=function Q(J,Z){return Math.sqrt(KQ(J,Z))},KQ=function Q(J,Z){var U=Z.x-J.x,$=Z.y-J.y;return U*U+$*$},HV=function Q(J){var Z=J.length,U=0;for(var $=0;$<Z;$++)U+=J[$];for(var q=0;q<Z;q++)J[q]=J[q]/U;return J},E8=function Q(J,Z,U,$){return(1-$)*(1-$)*J+2*(1-$)*$*Z+$*$*U},gQ=function Q(J,Z,U,$){return{x:E8(J.x,Z.x,U.x,$),y:E8(J.y,Z.y,U.y,$)}},NV=function Q(J,Z,U,$){var q={x:Z.x-J.x,y:Z.y-J.y},K=NQ(J,Z),G={x:q.x/K,y:q.y/K};return U=U==null?0:U,$=$!=null?$:U*K,{x:J.x+G.x*$,y:J.y+G.y*$}},_Z=function Q(J,Z,U){return Math.max(J,Math.min(U,Z))},w8=function Q(J){if(J==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};else if(J.x1!=null&&J.y1!=null){if(J.x2!=null&&J.y2!=null&&J.x2>=J.x1&&J.y2>=J.y1)return{x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,w:J.x2-J.x1,h:J.y2-J.y1};else if(J.w!=null&&J.h!=null&&J.w>=0&&J.h>=0)return{x1:J.x1,y1:J.y1,x2:J.x1+J.w,y2:J.y1+J.h,w:J.w,h:J.h}}},MV=function Q(J){return{x1:J.x1,x2:J.x2,w:J.w,y1:J.y1,y2:J.y2,h:J.h}},zV=function Q(J){J.x1=1/0,J.y1=1/0,J.x2=-1/0,J.y2=-1/0,J.w=0,J.h=0},LV=function Q(J,Z){J.x1=Math.min(J.x1,Z.x1),J.x2=Math.max(J.x2,Z.x2),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,Z.y1),J.y2=Math.max(J.y2,Z.y2),J.h=J.y2-J.y1},KK=function Q(J,Z,U){J.x1=Math.min(J.x1,Z),J.x2=Math.max(J.x2,Z),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,U),J.y2=Math.max(J.y2,U),J.h=J.y2-J.y1},g6=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return J.x1-=Z,J.x2+=Z,J.y1-=Z,J.y2+=Z,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},d6=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],U,$,q,K;if(Z.length===1)U=$=q=K=Z[0];else if(Z.length===2)U=q=Z[0],K=$=Z[1];else if(Z.length===4){var G=Y8(Z,4);U=G[0],$=G[1],q=G[2],K=G[3]}return J.x1-=K,J.x2+=$,J.y1-=U,J.y2+=q,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},f4=function Q(J,Z){J.x1=Z.x1,J.y1=Z.y1,J.x2=Z.x2,J.y2=Z.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},EU=function Q(J,Z){if(J.x1>Z.x2)return!1;if(Z.x1>J.x2)return!1;if(J.x2<Z.x1)return!1;if(Z.x2<J.x1)return!1;if(J.y2<Z.y1)return!1;if(Z.y2<J.y1)return!1;if(J.y1>Z.y2)return!1;if(Z.y1>J.y2)return!1;return!0},f9=function Q(J,Z,U){return J.x1<=Z&&Z<=J.x2&&J.y1<=U&&U<=J.y2},x4=function Q(J,Z){return f9(J,Z.x,Z.y)},GK=function Q(J,Z){return f9(J,Z.x1,Z.y1)&&f9(J,Z.x2,Z.y2)},WV=(k5=Math.hypot)!==null&&k5!==void 0?k5:function(Q,J){return Math.sqrt(Q*Q+J*J)};function EV(Q,J){if(Q.length<3)throw new Error(\"Need at least 3 vertices\");var Z=function R(C,I){return{x:C.x+I.x,y:C.y+I.y}},U=function R(C,I){return{x:C.x-I.x,y:C.y-I.y}},$=function R(C,I){return{x:C.x*I,y:C.y*I}},q=function R(C,I){return C.x*I.y-C.y*I.x},K=function R(C){var I=WV(C.x,C.y);return I===0?{x:0,y:0}:{x:C.x/I,y:C.y/I}},G=function R(C){var I=0;for(var T=0;T<C.length;T++){var P=C[T],k=C[(T+1)%C.length];I+=P.x*k.y-k.x*P.y}return I/2},Y=function R(C,I,T,P){var k=U(I,C),j=U(P,T),_=q(k,j);if(Math.abs(_)<0.000000001)return Z(C,$(k,0.5));var x=q(U(T,C),j)/_;return Z(C,$(k,x))},F=Q.map(function(R){return{x:R.x,y:R.y}});if(G(F)<0)F.reverse();var X=F.length,H=[];for(var N=0;N<X;N++){var z=F[N],M=F[(N+1)%X],W=U(M,z),L=K({x:W.y,y:-W.x});H.push(L)}var E=H.map(function(R,C){var I=Z(F[C],$(R,J)),T=Z(F[(C+1)%X],$(R,J));return{p1:I,p2:T}}),B=[];for(var V=0;V<X;V++){var D=E[(V-1+X)%X],O=E[V],A=Y(D.p1,D.p2,O.p1,O.p2);B.push(A)}return B}function BV(Q,J,Z,U,$,q){var K=TV(Q,J,Z,U,$),G=EV(K,q),Y=w8();return G.forEach(function(F){return KK(Y,F.x,F.y)}),Y}var YK=function Q(J,Z,U,$,q,K,G){var Y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:\"auto\",F=Y===\"auto\"?u9(q,K):Y,X=q/2,H=K/2;F=Math.min(F,X,H);var N=F!==X,z=F!==H,M;if(N){var W=U-X+F-G,L=$-H-G,E=U+X-F+G,B=L;if(M=x9(J,Z,U,$,W,L,E,B,!1),M.length>0)return M}if(z){var V=U+X+G,D=$-H+F-G,O=V,A=$+H-F+G;if(M=x9(J,Z,U,$,V,D,O,A,!1),M.length>0)return M}if(N){var R=U-X+F-G,C=$+H+G,I=U+X-F+G,T=C;if(M=x9(J,Z,U,$,R,C,I,T,!1),M.length>0)return M}if(z){var P=U-X-G,k=$-H+F-G,j=P,_=$+H-F+G;if(M=x9(J,Z,U,$,P,k,j,_,!1),M.length>0)return M}var x;{var f=U-X+F,v=$-H+F;if(x=AZ(J,Z,U,$,f,v,F+G),x.length>0&&x[0]<=f&&x[1]<=v)return[x[0],x[1]]}{var b=U+X-F,y=$-H+F;if(x=AZ(J,Z,U,$,b,y,F+G),x.length>0&&x[0]>=b&&x[1]<=y)return[x[0],x[1]]}{var g=U+X-F,m=$+H-F;if(x=AZ(J,Z,U,$,g,m,F+G),x.length>0&&x[0]>=g&&x[1]>=m)return[x[0],x[1]]}{var u=U-X+F,n=$+H-F;if(x=AZ(J,Z,U,$,u,n,F+G),x.length>0&&x[0]<=u&&x[1]>=n)return[x[0],x[1]]}return[]},VV=function Q(J,Z,U,$,q,K,G){var Y=G,F=Math.min(U,q),X=Math.max(U,q),H=Math.min($,K),N=Math.max($,K);return F-Y<=J&&J<=X+Y&&H-Y<=Z&&Z<=N+Y},DV=function Q(J,Z,U,$,q,K,G,Y,F){var X={x1:Math.min(U,G,q)-F,x2:Math.max(U,G,q)+F,y1:Math.min($,Y,K)-F,y2:Math.max($,Y,K)+F};if(J<X.x1||J>X.x2||Z<X.y1||Z>X.y2)return!1;else return!0},RV=function Q(J,Z,U,$){U-=$;var q=Z*Z-4*J*U;if(q<0)return[];var K=Math.sqrt(q),G=2*J,Y=(-Z+K)/G,F=(-Z-K)/G;return[Y,F]},OV=function Q(J,Z,U,$,q){var K=0.00001;if(J===0)J=K;Z/=J,U/=J,$/=J;var G,Y,F,X,H,N,z,M;if(Y=(3*U-Z*Z)/9,F=-(27*$)+Z*(9*U-2*(Z*Z)),F/=54,G=Y*Y*Y+F*F,q[1]=0,z=Z/3,G>0){H=F+Math.sqrt(G),H=H<0?-Math.pow(-H,0.3333333333333333):Math.pow(H,0.3333333333333333),N=F-Math.sqrt(G),N=N<0?-Math.pow(-N,0.3333333333333333):Math.pow(N,0.3333333333333333),q[0]=-z+H+N,z+=(H+N)/2,q[4]=q[2]=-z,z=Math.sqrt(3)*(-N+H)/2,q[3]=z,q[5]=-z;return}if(q[5]=q[3]=0,G===0){M=F<0?-Math.pow(-F,0.3333333333333333):Math.pow(F,0.3333333333333333),q[0]=-z+2*M,q[4]=q[2]=-(M+z);return}Y=-Y,X=Y*Y*Y,X=Math.acos(F/Math.sqrt(X)),M=2*Math.sqrt(Y),q[0]=-z+M*Math.cos(X/3),q[2]=-z+M*Math.cos((X+2*Math.PI)/3),q[4]=-z+M*Math.cos((X+4*Math.PI)/3);return},AV=function Q(J,Z,U,$,q,K,G,Y){var F=1*U*U-4*U*q+2*U*G+4*q*q-4*q*G+G*G+$*$-4*$*K+2*$*Y+4*K*K-4*K*Y+Y*Y,X=9*U*q-3*U*U-3*U*G-6*q*q+3*q*G+9*$*K-3*$*$-3*$*Y-6*K*K+3*K*Y,H=3*U*U-6*U*q+U*G-U*J+2*q*q+2*q*J-G*J+3*$*$-6*$*K+$*Y-$*Z+2*K*K+2*K*Z-Y*Z,N=1*U*q-U*U+U*J-q*J+$*K-$*$+$*Z-K*Z,z=[];OV(F,X,H,N,z);var M=0.0000001,W=[];for(var L=0;L<6;L+=2)if(Math.abs(z[L+1])<M&&z[L]>=0&&z[L]<=1)W.push(z[L]);W.push(1),W.push(0);var E=-1,B,V,D;for(var O=0;O<W.length;O++)if(B=Math.pow(1-W[O],2)*U+2*(1-W[O])*W[O]*q+W[O]*W[O]*G,V=Math.pow(1-W[O],2)*$+2*(1-W[O])*W[O]*K+W[O]*W[O]*Y,D=Math.pow(B-J,2)+Math.pow(V-Z,2),E>=0){if(D<E)E=D}else E=D;return E},CV=function Q(J,Z,U,$,q,K){var G=[J-U,Z-$],Y=[q-U,K-$],F=Y[0]*Y[0]+Y[1]*Y[1],X=G[0]*G[0]+G[1]*G[1],H=G[0]*Y[0]+G[1]*Y[1],N=H*H/F;if(H<0)return X;if(N>F)return(J-q)*(J-q)+(Z-K)*(Z-K);return X-N},m8=function Q(J,Z,U){var $,q,K,G,Y,F=0;for(var X=0;X<U.length/2;X++){if($=U[X*2],q=U[X*2+1],X+1<U.length/2)K=U[(X+1)*2],G=U[(X+1)*2+1];else K=U[(X+1-U.length/2)*2],G=U[(X+1-U.length/2)*2+1];if($==J&&K==J);else if($>=J&&J>=K||$<=J&&J<=K){if(Y=(J-$)/(K-$)*(G-q)+q,Y>Z)F++}else continue}if(F%2===0)return!1;else return!0},V9=function Q(J,Z,U,$,q,K,G,Y,F){var X=new Array(U.length),H;if(Y[0]!=null)if(H=Math.atan(Y[1]/Y[0]),Y[0]<0)H=H+Math.PI/2;else H=-H-Math.PI/2;else H=Y;var N=Math.cos(-H),z=Math.sin(-H);for(var M=0;M<X.length/2;M++)X[M*2]=K/2*(U[M*2]*N-U[M*2+1]*z),X[M*2+1]=G/2*(U[M*2+1]*N+U[M*2]*z),X[M*2]+=$,X[M*2+1]+=q;var W;if(F>0){var L=Z7(X,-F);W=Q7(L)}else W=X;return m8(J,Z,W)},SV=function Q(J,Z,U,$,q,K,G,Y){var F=new Array(U.length*2);for(var X=0;X<Y.length;X++){var H=Y[X];F[X*4+0]=H.startX,F[X*4+1]=H.startY,F[X*4+2]=H.stopX,F[X*4+3]=H.stopY;var N=Math.pow(H.cx-J,2)+Math.pow(H.cy-Z,2);if(N<=Math.pow(H.radius,2))return!0}return m8(J,Z,F)},Q7=function Q(J){var Z=new Array(J.length/2),U,$,q,K,G,Y,F,X;for(var H=0;H<J.length/4;H++){if(U=J[H*4],$=J[H*4+1],q=J[H*4+2],K=J[H*4+3],H<J.length/4-1)G=J[(H+1)*4],Y=J[(H+1)*4+1],F=J[(H+1)*4+2],X=J[(H+1)*4+3];else G=J[0],Y=J[1],F=J[2],X=J[3];var N=x9(U,$,q,K,G,Y,F,X,!0);Z[H*2]=N[0],Z[H*2+1]=N[1]}return Z},Z7=function Q(J,Z){var U=new Array(J.length*2),$,q,K,G;for(var Y=0;Y<J.length/2;Y++){if($=J[Y*2],q=J[Y*2+1],Y<J.length/2-1)K=J[(Y+1)*2],G=J[(Y+1)*2+1];else K=J[0],G=J[1];var F=G-q,X=-(K-$),H=Math.sqrt(F*F+X*X),N=F/H,z=X/H;U[Y*4]=$+N*Z,U[Y*4+1]=q+z*Z,U[Y*4+2]=K+N*Z,U[Y*4+3]=G+z*Z}return U},IV=function Q(J,Z,U,$,q,K){var G=U-J,Y=$-Z;G/=q,Y/=K;var F=Math.sqrt(G*G+Y*Y),X=F-1;if(X<0)return[];var H=X/F;return[(U-J)*H+J,($-Z)*H+Z]},XQ=function Q(J,Z,U,$,q,K,G){return J-=q,Z-=K,J/=U/2+G,Z/=$/2+G,J*J+Z*Z<=1},AZ=function Q(J,Z,U,$,q,K,G){var Y=[U-J,$-Z],F=[J-q,Z-K],X=Y[0]*Y[0]+Y[1]*Y[1],H=2*(F[0]*Y[0]+F[1]*Y[1]),N=F[0]*F[0]+F[1]*F[1]-G*G,z=H*H-4*X*N;if(z<0)return[];var M=(-H+Math.sqrt(z))/(2*X),W=(-H-Math.sqrt(z))/(2*X),L=Math.min(M,W),E=Math.max(M,W),B=[];if(L>=0&&L<=1)B.push(L);if(E>=0&&E<=1)B.push(E);if(B.length===0)return[];var V=B[0]*Y[0]+J,D=B[0]*Y[1]+Z;if(B.length>1)if(B[0]==B[1])return[V,D];else{var O=B[1]*Y[0]+J,A=B[1]*Y[1]+Z;return[V,D,O,A]}else return[V,D]},j5=function Q(J,Z,U){if(Z<=J&&J<=U||U<=J&&J<=Z)return J;else if(J<=Z&&Z<=U||U<=Z&&Z<=J)return Z;else return U},x9=function Q(J,Z,U,$,q,K,G,Y,F){var X=J-q,H=U-J,N=G-q,z=Z-K,M=$-Z,W=Y-K,L=N*z-W*X,E=H*z-M*X,B=W*H-N*M;if(B!==0){var V=L/B,D=E/B,O=0.001,A=0-O,R=1+O;if(A<=V&&V<=R&&A<=D&&D<=R)return[J+V*H,Z+V*M];else if(!F)return[];else return[J+V*H,Z+V*M]}else if(L===0||E===0){if(j5(J,U,G)===G)return[G,Y];if(j5(J,U,q)===q)return[q,K];if(j5(q,G,U)===U)return[U,$];return[]}else return[]},TV=function Q(J,Z,U,$,q){var K=[],G=$/2,Y=q/2,F=Z,X=U;K.push({x:F+G*J[0],y:X+Y*J[1]});for(var H=1;H<J.length/2;H++)K.push({x:F+G*J[H*2],y:X+Y*J[H*2+1]});return K},vZ=function Q(J,Z,U,$,q,K,G,Y){var F=[],X,H=new Array(U.length),N=!0;if(K==null)N=!1;var z;if(N){for(var M=0;M<H.length/2;M++)H[M*2]=U[M*2]*K+$,H[M*2+1]=U[M*2+1]*G+q;if(Y>0){var W=Z7(H,-Y);z=Q7(W)}else z=H}else z=U;var L,E,B,V;for(var D=0;D<z.length/2;D++){if(L=z[D*2],E=z[D*2+1],D<z.length/2-1)B=z[(D+1)*2],V=z[(D+1)*2+1];else B=z[0],V=z[1];if(X=x9(J,Z,$,q,L,E,B,V),X.length!==0)F.push(X[0],X[1])}return F},PV=function Q(J,Z,U,$,q,K,G,Y,F){var X=[],H,N=new Array(U.length*2);F.forEach(function(B,V){if(V===0)N[N.length-2]=B.startX,N[N.length-1]=B.startY;else N[V*4-2]=B.startX,N[V*4-1]=B.startY;if(N[V*4]=B.stopX,N[V*4+1]=B.stopY,H=AZ(J,Z,$,q,B.cx,B.cy,B.radius),H.length!==0)X.push(H[0],H[1])});for(var z=0;z<N.length/4;z++)if(H=x9(J,Z,$,q,N[z*4],N[z*4+1],N[z*4+2],N[z*4+3],!1),H.length!==0)X.push(H[0],H[1]);if(X.length>2){var M=[X[0],X[1]],W=Math.pow(M[0]-J,2)+Math.pow(M[1]-Z,2);for(var L=1;L<X.length/2;L++){var E=Math.pow(X[L*2]-J,2)+Math.pow(X[L*2+1]-Z,2);if(E<=W)M[0]=X[L*2],M[1]=X[L*2+1],W=E}return M}return X},j6=function Q(J,Z,U){var $=[J[0]-Z[0],J[1]-Z[1]],q=Math.sqrt($[0]*$[0]+$[1]*$[1]),K=(q-U)/q;if(K<0)K=0.00001;return[Z[0]+K*$[0],Z[1]+K*$[1]]},j8=function Q(J,Z){var U=c0(J,Z);return U=FK(U),U},FK=function Q(J){var Z,U,$=J.length/2,q=1/0,K=1/0,G=-1/0,Y=-1/0;for(var F=0;F<$;F++)Z=J[2*F],U=J[2*F+1],q=Math.min(q,Z),G=Math.max(G,Z),K=Math.min(K,U),Y=Math.max(Y,U);var X=2/(G-q),H=2/(Y-K);for(var N=0;N<$;N++)Z=J[2*N]=J[2*N]*X,U=J[2*N+1]=J[2*N+1]*H,q=Math.min(q,Z),G=Math.max(G,Z),K=Math.min(K,U),Y=Math.max(Y,U);if(K<-1)for(var z=0;z<$;z++)U=J[2*z+1]=J[2*z+1]+(-1-K);return J},c0=function Q(J,Z){var U=1/J*2*Math.PI,$=J%2===0?Math.PI/2+U/2:Math.PI/2;$+=Z;var q=new Array(J*2),K;for(var G=0;G<J;G++)K=G*U+$,q[2*G]=Math.cos(K),q[2*G+1]=Math.sin(-K);return q},u9=function Q(J,Z){return Math.min(J/4,Z/4,8)},XK=function Q(J,Z){return Math.min(J/10,Z/10,8)},BU=function Q(){return 8},kV=function Q(J,Z,U){return[J-2*Z+U,2*(Z-J),J]},p0=function Q(J,Z){return{heightOffset:Math.min(15,0.05*Z),widthOffset:Math.min(100,0.25*J),ctrlPtOffsetPct:0.05}};function w5(Q,J){function Z(H){var N=[];for(var z=0;z<H.length;z++){var M=H[z],W=H[(z+1)%H.length],L={x:W.x-M.x,y:W.y-M.y},E={x:-L.y,y:L.x},B=Math.sqrt(E.x*E.x+E.y*E.y);N.push({x:E.x/B,y:E.y/B})}return N}function U(H,N){var z=1/0,M=-1/0,W=y8(H),L;try{for(W.s();!(L=W.n()).done;){var E=L.value,B=E.x*N.x+E.y*N.y;z=Math.min(z,B),M=Math.max(M,B)}}catch(V){W.e(V)}finally{W.f()}return{min:z,max:M}}function $(H,N){return!(H.max<N.min||N.max<H.min)}var q=[].concat(o6(Z(Q)),o6(Z(J))),K=y8(q),G;try{for(K.s();!(G=K.n()).done;){var Y=G.value,F=U(Q,Y),X=U(J,Y);if(!$(F,X))return!1}}catch(H){K.e(H)}finally{K.f()}return!0}var jV=A8({dampingFactor:0.8,precision:0.000001,iterations:200,weight:function Q(J){return 1}}),wV={pageRank:function Q(J){var Z=jV(J),U=Z.dampingFactor,$=Z.precision,q=Z.iterations,K=Z.weight,G=this._private.cy,Y=this.byGroup(),F=Y.nodes,X=Y.edges,H=F.length,N=H*H,z=X.length,M=new Array(N),W=new Array(H),L=(1-U)/H;for(var E=0;E<H;E++){for(var B=0;B<H;B++){var V=E*H+B;M[V]=0}W[E]=0}for(var D=0;D<z;D++){var O=X[D],A=O.data(\"source\"),R=O.data(\"target\");if(A===R)continue;var C=F.indexOfId(A),I=F.indexOfId(R),T=K(O),P=I*H+C;M[P]+=T,W[C]+=T}var k=1/H+L;for(var j=0;j<H;j++)if(W[j]===0)for(var _=0;_<H;_++){var x=_*H+j;M[x]=k}else for(var f=0;f<H;f++){var v=f*H+j;M[v]=M[v]/W[j]+L}var b=new Array(H),y=new Array(H),g;for(var m=0;m<H;m++)b[m]=1;for(var u=0;u<q;u++){for(var n=0;n<H;n++)y[n]=0;for(var t=0;t<H;t++)for(var s=0;s<H;s++){var JJ=t*H+s;y[t]+=M[JJ]*b[s]}HV(y),g=b,b=y,y=g;var ZJ=0;for(var qJ=0;qJ<H;qJ++){var e=g[qJ]-b[qJ];ZJ+=e*e}if(ZJ<$)break}var h={rank:function d(p){return p=G.collection(p)[0],b[F.indexOf(p)]}};return h}},b4=A8({root:null,weight:function Q(J){return 1},directed:!1,alpha:0}),dQ={degreeCentralityNormalized:function Q(J){J=b4(J);var Z=this.cy(),U=this.nodes(),$=U.length;if(!J.directed){var q={},K=0;for(var G=0;G<$;G++){var Y=U[G];J.root=Y;var F=this.degreeCentrality(J);if(K<F.degree)K=F.degree;q[Y.id()]=F.degree}return{degree:function B(V){if(K===0)return 0;if(WJ(V))V=Z.filter(V);return q[V.id()]/K}}}else{var X={},H={},N=0,z=0;for(var M=0;M<$;M++){var W=U[M],L=W.id();J.root=W;var E=this.degreeCentrality(J);if(N<E.indegree)N=E.indegree;if(z<E.outdegree)z=E.outdegree;X[L]=E.indegree,H[L]=E.outdegree}return{indegree:function B(V){if(N==0)return 0;if(WJ(V))V=Z.filter(V);return X[V.id()]/N},outdegree:function B(V){if(z===0)return 0;if(WJ(V))V=Z.filter(V);return H[V.id()]/z}}}},degreeCentrality:function Q(J){J=b4(J);var Z=this.cy(),U=this,$=J,q=$.root,K=$.weight,G=$.directed,Y=$.alpha;if(q=Z.collection(q)[0],!G){var F=q.connectedEdges().intersection(U),X=F.length,H=0;for(var N=0;N<F.length;N++)H+=K(F[N]);return{degree:Math.pow(X,1-Y)*Math.pow(H,Y)}}else{var z=q.connectedEdges(),M=z.filter(function(A){return A.target().same(q)&&U.has(A)}),W=z.filter(function(A){return A.source().same(q)&&U.has(A)}),L=M.length,E=W.length,B=0,V=0;for(var D=0;D<M.length;D++)B+=K(M[D]);for(var O=0;O<W.length;O++)V+=K(W[O]);return{indegree:Math.pow(L,1-Y)*Math.pow(B,Y),outdegree:Math.pow(E,1-Y)*Math.pow(V,Y)}}}};dQ.dc=dQ.degreeCentrality;dQ.dcn=dQ.degreeCentralityNormalised=dQ.degreeCentralityNormalized;var m4=A8({harmonic:!0,weight:function Q(){return 1},directed:!1,root:null}),cQ={closenessCentralityNormalized:function Q(J){var Z=m4(J),U=Z.harmonic,$=Z.weight,q=Z.directed,K=this.cy(),G={},Y=0,F=this.nodes(),X=this.floydWarshall({weight:$,directed:q});for(var H=0;H<F.length;H++){var N=0,z=F[H];for(var M=0;M<F.length;M++)if(H!==M){var W=X.distance(z,F[M]);if(U)N+=1/W;else N+=W}if(!U)N=1/N;if(Y<N)Y=N;G[z.id()]=N}return{closeness:function L(E){if(Y==0)return 0;if(WJ(E))E=K.filter(E)[0].id();else E=E.id();return G[E]/Y}}},closenessCentrality:function Q(J){var Z=m4(J),U=Z.root,$=Z.weight,q=Z.directed,K=Z.harmonic;U=this.filter(U)[0];var G=this.dijkstra({root:U,weight:$,directed:q}),Y=0,F=this.nodes();for(var X=0;X<F.length;X++){var H=F[X];if(!H.same(U)){var N=G.distanceTo(H);if(K)Y+=1/N;else Y+=N}}return K?Y:1/Y}};cQ.cc=cQ.closenessCentrality;cQ.ccn=cQ.closenessCentralityNormalised=cQ.closenessCentralityNormalized;var _V=A8({weight:null,directed:!1}),l0={betweennessCentrality:function Q(J){var Z=_V(J),U=Z.directed,$=Z.weight,q=$!=null,K=this.cy(),G=this.nodes(),Y={},F={},X=0,H={set:function B(V,D){if(F[V]=D,D>X)X=D},get:function B(V){return F[V]}};for(var N=0;N<G.length;N++){var z=G[N],M=z.id();if(U)Y[M]=z.outgoers().nodes();else Y[M]=z.openNeighborhood().nodes();H.set(M,0)}var W=function B(){var V=G[L].id(),D=[],O={},A={},R={},C=new lZ(function(t,s){return R[t]-R[s]});for(var I=0;I<G.length;I++){var T=G[I].id();O[T]=[],A[T]=0,R[T]=1/0}A[V]=1,R[V]=0,C.push(V);while(!C.empty()){var P=C.pop();if(D.push(P),q)for(var k=0;k<Y[P].length;k++){var j=Y[P][k],_=K.getElementById(P),x=void 0;if(_.edgesTo(j).length>0)x=_.edgesTo(j)[0];else x=j.edgesTo(_)[0];var f=$(x);if(j=j.id(),R[j]>R[P]+f){if(R[j]=R[P]+f,C.nodes.indexOf(j)<0)C.push(j);else C.updateItem(j);A[j]=0,O[j]=[]}if(R[j]==R[P]+f)A[j]=A[j]+A[P],O[j].push(P)}else for(var v=0;v<Y[P].length;v++){var b=Y[P][v].id();if(R[b]==1/0)C.push(b),R[b]=R[P]+1;if(R[b]==R[P]+1)A[b]=A[b]+A[P],O[b].push(P)}}var y={};for(var g=0;g<G.length;g++)y[G[g].id()]=0;while(D.length>0){var m=D.pop();for(var u=0;u<O[m].length;u++){var n=O[m][u];y[n]=y[n]+A[n]/A[m]*(1+y[m])}if(m!=G[L].id())H.set(m,H.get(m)+y[m])}};for(var L=0;L<G.length;L++)W();var E={betweenness:function B(V){var D=K.collection(V).id();return H.get(D)},betweennessNormalized:function B(V){if(X==0)return 0;var D=K.collection(V).id();return H.get(D)/X}};return E.betweennessNormalised=E.betweennessNormalized,E}};l0.bc=l0.betweennessCentrality;var vV=A8({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(Q){return 1}]}),fV=function Q(J){return vV(J)},xV=function Q(J,Z){var U=0;for(var $=0;$<Z.length;$++)U+=Z[$](J);return U},bV=function Q(J,Z,U){for(var $=0;$<Z;$++)J[$*Z+$]=U},HK=function Q(J,Z){var U;for(var $=0;$<Z;$++){U=0;for(var q=0;q<Z;q++)U+=J[q*Z+$];for(var K=0;K<Z;K++)J[K*Z+$]=J[K*Z+$]/U}},mV=function Q(J,Z,U){var $=new Array(U*U);for(var q=0;q<U;q++){for(var K=0;K<U;K++)$[q*U+K]=0;for(var G=0;G<U;G++)for(var Y=0;Y<U;Y++)$[q*U+Y]+=J[q*U+G]*Z[G*U+Y]}return $},yV=function Q(J,Z,U){var $=J.slice(0);for(var q=1;q<U;q++)J=mV(J,$,Z);return J},hV=function Q(J,Z,U){var $=new Array(Z*Z);for(var q=0;q<Z*Z;q++)$[q]=Math.pow(J[q],U);return HK($,Z),$},uV=function Q(J,Z,U,$){for(var q=0;q<U;q++){var K=Math.round(J[q]*Math.pow(10,$))/Math.pow(10,$),G=Math.round(Z[q]*Math.pow(10,$))/Math.pow(10,$);if(K!==G)return!1}return!0},gV=function Q(J,Z,U,$){var q=[];for(var K=0;K<Z;K++){var G=[];for(var Y=0;Y<Z;Y++)if(Math.round(J[K*Z+Y]*1000)/1000>0)G.push(U[Y]);if(G.length!==0)q.push($.collection(G))}return q},dV=function Q(J,Z){for(var U=0;U<J.length;U++)if(!Z[U]||J[U].id()!==Z[U].id())return!1;return!0},cV=function Q(J){for(var Z=0;Z<J.length;Z++)for(var U=0;U<J.length;U++)if(Z!=U&&dV(J[Z],J[U]))J.splice(U,1);return J},y4=function Q(J){var Z=this.nodes(),U=this.edges(),$=this.cy(),q=fV(J),K={};for(var G=0;G<Z.length;G++)K[Z[G].id()]=G;var Y=Z.length,F=Y*Y,X=new Array(F),H;for(var N=0;N<F;N++)X[N]=0;for(var z=0;z<U.length;z++){var M=U[z],W=K[M.source().id()],L=K[M.target().id()],E=xV(M,q.attributes);X[W*Y+L]+=E,X[L*Y+W]+=E}bV(X,Y,q.multFactor),HK(X,Y);var B=!0,V=0;while(B&&V<q.maxIterations){if(B=!1,H=yV(X,Y,q.expandFactor),X=hV(H,Y,q.inflateFactor),!uV(X,H,F,4))B=!0;V++}var D=gV(X,Y,Z,$);return D=cV(D),D},pV={markovClustering:y4,mcl:y4},lV=function Q(J){return J},NK=function Q(J,Z){return Math.abs(Z-J)},h4=function Q(J,Z,U){return J+NK(Z,U)},u4=function Q(J,Z,U){return J+Math.pow(U-Z,2)},iV=function Q(J){return Math.sqrt(J)},nV=function Q(J,Z,U){return Math.max(J,NK(Z,U))},WZ=function Q(J,Z,U,$,q){var K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:lV,G=$,Y,F;for(var X=0;X<J;X++)Y=Z(X),F=U(X),G=q(G,Y,F);return K(G)},iQ={euclidean:function Q(J,Z,U){if(J>=2)return WZ(J,Z,U,0,u4,iV);else return WZ(J,Z,U,0,h4)},squaredEuclidean:function Q(J,Z,U){return WZ(J,Z,U,0,u4)},manhattan:function Q(J,Z,U){return WZ(J,Z,U,0,h4)},max:function Q(J,Z,U){return WZ(J,Z,U,-1/0,nV)}};iQ[\"squared-euclidean\"]=iQ.squaredEuclidean;iQ.squaredeuclidean=iQ.squaredEuclidean;function L7(Q,J,Z,U,$,q){var K;if(Q8(Q))K=Q;else K=iQ[Q]||iQ.euclidean;if(J===0&&Q8(Q))return K($,q);else return K(J,Z,U,$,q)}var sV=A8({k:2,m:2,sensitivityThreshold:0.0001,distance:\"euclidean\",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),VU=function Q(J){return sV(J)},U7=function Q(J,Z,U,$,q){var K=q!==\"kMedoids\",G=K?function(H){return U[H]}:function(H){return $[H](U)},Y=function H(N){return $[N](Z)},F=U,X=Z;return L7(J,$.length,G,Y,F,X)},_5=function Q(J,Z,U){var $=U.length,q=new Array($),K=new Array($),G=new Array(Z),Y=null;for(var F=0;F<$;F++)q[F]=J.min(U[F]).value,K[F]=J.max(U[F]).value;for(var X=0;X<Z;X++){Y=[];for(var H=0;H<$;H++)Y[H]=Math.random()*(K[H]-q[H])+q[H];G[X]=Y}return G},MK=function Q(J,Z,U,$,q){var K=1/0,G=0;for(var Y=0;Y<Z.length;Y++){var F=U7(U,J,Z[Y],$,q);if(F<K)K=F,G=Y}return G},zK=function Q(J,Z,U){var $=[],q=null;for(var K=0;K<Z.length;K++)if(q=Z[K],U[q.id()]===J)$.push(q);return $},aV=function Q(J,Z,U){return Math.abs(Z-J)<=U},rV=function Q(J,Z,U){for(var $=0;$<J.length;$++)for(var q=0;q<J[$].length;q++){var K=Math.abs(J[$][q]-Z[$][q]);if(K>U)return!1}return!0},oV=function Q(J,Z,U){for(var $=0;$<U;$++)if(J===Z[$])return!0;return!1},g4=function Q(J,Z){var U=new Array(Z);if(J.length<50)for(var $=0;$<Z;$++){var q=J[Math.floor(Math.random()*J.length)];while(oV(q,U,$))q=J[Math.floor(Math.random()*J.length)];U[$]=q}else for(var K=0;K<Z;K++)U[K]=J[Math.floor(Math.random()*J.length)];return U},d4=function Q(J,Z,U){var $=0;for(var q=0;q<Z.length;q++)$+=U7(\"manhattan\",Z[q],J,U,\"kMedoids\");return $},tV=function Q(J){var Z=this.cy(),U=this.nodes(),$=null,q=VU(J),K=new Array(q.k),G={},Y;if(q.testMode)if(typeof q.testCentroids===\"number\")q.testCentroids,Y=_5(U,q.k,q.attributes);else if(M8(q.testCentroids)===\"object\")Y=q.testCentroids;else Y=_5(U,q.k,q.attributes);else Y=_5(U,q.k,q.attributes);var F=!0,X=0;while(F&&X<q.maxIterations){for(var H=0;H<U.length;H++)$=U[H],G[$.id()]=MK($,Y,q.distance,q.attributes,\"kMeans\");F=!1;for(var N=0;N<q.k;N++){var z=zK(N,U,G);if(z.length===0)continue;var M=q.attributes.length,W=Y[N],L=new Array(M),E=new Array(M);for(var B=0;B<M;B++){E[B]=0;for(var V=0;V<z.length;V++)$=z[V],E[B]+=q.attributes[B]($);if(L[B]=E[B]/z.length,!aV(L[B],W[B],q.sensitivityThreshold))F=!0}Y[N]=L,K[N]=Z.collection(z)}X++}return K},eV=function Q(J){var Z=this.cy(),U=this.nodes(),$=null,q=VU(J),K=new Array(q.k),G,Y={},F,X=new Array(q.k);if(q.testMode)if(typeof q.testCentroids===\"number\");else if(M8(q.testCentroids)===\"object\")G=q.testCentroids;else G=g4(U,q.k);else G=g4(U,q.k);var H=!0,N=0;while(H&&N<q.maxIterations){for(var z=0;z<U.length;z++)$=U[z],Y[$.id()]=MK($,G,q.distance,q.attributes,\"kMedoids\");H=!1;for(var M=0;M<G.length;M++){var W=zK(M,U,Y);if(W.length===0)continue;X[M]=d4(G[M],W,q.attributes);for(var L=0;L<W.length;L++)if(F=d4(W[L],W,q.attributes),F<X[M])X[M]=F,G[M]=W[L],H=!0;K[M]=Z.collection(W)}N++}return K},JD=function Q(J,Z,U,$,q){var K,G;for(var Y=0;Y<Z.length;Y++)for(var F=0;F<J.length;F++)$[Y][F]=Math.pow(U[Y][F],q.m);for(var X=0;X<J.length;X++)for(var H=0;H<q.attributes.length;H++){K=0,G=0;for(var N=0;N<Z.length;N++)K+=$[N][X]*q.attributes[H](Z[N]),G+=$[N][X];J[X][H]=K/G}},QD=function Q(J,Z,U,$,q){for(var K=0;K<J.length;K++)Z[K]=J[K].slice();var G,Y,F,X=2/(q.m-1);for(var H=0;H<U.length;H++)for(var N=0;N<$.length;N++){G=0;for(var z=0;z<U.length;z++)Y=U7(q.distance,$[N],U[H],q.attributes,\"cmeans\"),F=U7(q.distance,$[N],U[z],q.attributes,\"cmeans\"),G+=Math.pow(Y/F,X);J[N][H]=1/G}},ZD=function Q(J,Z,U,$){var q=new Array(U.k);for(var K=0;K<q.length;K++)q[K]=[];var G,Y;for(var F=0;F<Z.length;F++){G=-1/0,Y=-1;for(var X=0;X<Z[0].length;X++)if(Z[F][X]>G)G=Z[F][X],Y=X;q[Y].push(J[F])}for(var H=0;H<q.length;H++)q[H]=$.collection(q[H]);return q},c4=function Q(J){var Z=this.cy(),U=this.nodes(),$=VU(J),q,K,G,Y,F;Y=new Array(U.length);for(var X=0;X<U.length;X++)Y[X]=new Array($.k);G=new Array(U.length);for(var H=0;H<U.length;H++)G[H]=new Array($.k);for(var N=0;N<U.length;N++){var z=0;for(var M=0;M<$.k;M++)G[N][M]=Math.random(),z+=G[N][M];for(var W=0;W<$.k;W++)G[N][W]=G[N][W]/z}K=new Array($.k);for(var L=0;L<$.k;L++)K[L]=new Array($.attributes.length);F=new Array(U.length);for(var E=0;E<U.length;E++)F[E]=new Array($.k);var B=!0,V=0;while(B&&V<$.maxIterations){if(B=!1,JD(K,U,G,F,$),QD(G,Y,K,U,$),!rV(G,Y,$.sensitivityThreshold))B=!0;V++}return q=ZD(U,G,$,Z),{clusters:q,degreeOfMembership:G}},UD={kMeans:tV,kMedoids:eV,fuzzyCMeans:c4,fcm:c4},$D=A8({distance:\"euclidean\",linkage:\"min\",mode:\"threshold\",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),qD={single:\"min\",complete:\"max\"},KD=function Q(J){var Z=$D(J),U=qD[Z.linkage];if(U!=null)Z.linkage=U;return Z},p4=function Q(J,Z,U,$,q){var K=0,G=1/0,Y,F=q.attributes,X=function C(I,T){return L7(q.distance,F.length,function(P){return F[P](I)},function(P){return F[P](T)},I,T)};for(var H=0;H<J.length;H++){var N=J[H].key,z=U[N][$[N]];if(z<G)K=N,G=z}if(q.mode===\"threshold\"&&G>=q.threshold||q.mode===\"dendrogram\"&&J.length===1)return!1;var M=Z[K],W=Z[$[K]],L;if(q.mode===\"dendrogram\")L={left:M,right:W,key:M.key};else L={value:M.value.concat(W.value),key:M.key};J[M.index]=L,J.splice(W.index,1),Z[M.key]=L;for(var E=0;E<J.length;E++){var B=J[E];if(M.key===B.key)Y=1/0;else if(q.linkage===\"min\"){if(Y=U[M.key][B.key],U[M.key][B.key]>U[W.key][B.key])Y=U[W.key][B.key]}else if(q.linkage===\"max\"){if(Y=U[M.key][B.key],U[M.key][B.key]<U[W.key][B.key])Y=U[W.key][B.key]}else if(q.linkage===\"mean\")Y=(U[M.key][B.key]*M.size+U[W.key][B.key]*W.size)/(M.size+W.size);else if(q.mode===\"dendrogram\")Y=X(B.value,M.value);else Y=X(B.value[0],M.value[0]);U[M.key][B.key]=U[B.key][M.key]=Y}for(var V=0;V<J.length;V++){var D=J[V].key;if($[D]===M.key||$[D]===W.key){var O=D;for(var A=0;A<J.length;A++){var R=J[A].key;if(U[D][R]<U[D][O])O=R}$[D]=O}J[V].index=V}return M.key=W.key=M.index=W.index=null,!0},hQ=function Q(J,Z,U){if(!J)return;if(J.value)Z.push(J.value);else{if(J.left)hQ(J.left,Z);if(J.right)hQ(J.right,Z)}},i0=function Q(J,Z){if(!J)return\"\";if(J.left&&J.right){var U=i0(J.left,Z),$=i0(J.right,Z),q=Z.add({group:\"nodes\",data:{id:U+\",\"+$}});return Z.add({group:\"edges\",data:{source:U,target:q.id()}}),Z.add({group:\"edges\",data:{source:$,target:q.id()}}),q.id()}else if(J.value)return J.value.id()},n0=function Q(J,Z,U){if(!J)return[];var $=[],q=[],K=[];if(Z===0){if(J.left)hQ(J.left,$);if(J.right)hQ(J.right,q);return K=$.concat(q),[U.collection(K)]}else if(Z===1)if(J.value)return[U.collection(J.value)];else{if(J.left)hQ(J.left,$);if(J.right)hQ(J.right,q);return[U.collection($),U.collection(q)]}else if(J.value)return[U.collection(J.value)];else{if(J.left)$=n0(J.left,Z-1,U);if(J.right)q=n0(J.right,Z-1,U);return $.concat(q)}},l4=function Q(J){var Z=this.cy(),U=this.nodes(),$=KD(J),q=$.attributes,K=function B(V,D){return L7($.distance,q.length,function(O){return q[O](V)},function(O){return q[O](D)},V,D)},G=[],Y=[],F=[],X=[];for(var H=0;H<U.length;H++){var N={value:$.mode===\"dendrogram\"?U[H]:[U[H]],key:H,index:H};G[H]=N,X[H]=N,Y[H]=[],F[H]=0}for(var z=0;z<G.length;z++)for(var M=0;M<=z;M++){var W=void 0;if($.mode===\"dendrogram\")W=z===M?1/0:K(G[z].value,G[M].value);else W=z===M?1/0:K(G[z].value[0],G[M].value[0]);if(Y[z][M]=W,Y[M][z]=W,W<Y[z][F[z]])F[z]=M}var L=p4(G,X,Y,F,$);while(L)L=p4(G,X,Y,F,$);var E;if($.mode===\"dendrogram\"){if(E=n0(G[0],$.dendrogramDepth,Z),$.addDendrogram)i0(G[0],Z)}else E=new Array(G.length),G.forEach(function(B,V){B.key=B.index=null,E[V]=Z.collection(B.value)});return E},GD={hierarchicalClustering:l4,hca:l4},YD=A8({distance:\"euclidean\",preference:\"median\",damping:0.8,maxIterations:1000,minIterations:100,attributes:[]}),FD=function Q(J){var{damping:Z,preference:U}=J;if(!(0.5<=Z&&Z<1))J8(\"Damping must range on [0.5, 1).  Got: \".concat(Z));var $=[\"median\",\"mean\",\"min\",\"max\"];if(!($.some(function(q){return q===U})||$J(U)))J8(\"Preference must be one of [\".concat($.map(function(q){return\"'\".concat(q,\"'\")}).join(\", \"),\"] or a number.  Got: \").concat(U));return YD(J)},XD=function Q(J,Z,U,$){var q=function K(G,Y){return $[Y](G)};return-L7(J,$.length,function(K){return q(Z,K)},function(K){return q(U,K)},Z,U)},HD=function Q(J,Z){var U=null;if(Z===\"median\")U=FV(J);else if(Z===\"mean\")U=YV(J);else if(Z===\"min\")U=KV(J);else if(Z===\"max\")U=GV(J);else U=Z;return U},ND=function Q(J,Z,U){var $=[];for(var q=0;q<J;q++)if(Z[q*J+q]+U[q*J+q]>0)$.push(q);return $},i4=function Q(J,Z,U){var $=[];for(var q=0;q<J;q++){var K=-1,G=-1/0;for(var Y=0;Y<U.length;Y++){var F=U[Y];if(Z[q*J+F]>G)K=F,G=Z[q*J+F]}if(K>0)$.push(K)}for(var X=0;X<U.length;X++)$[U[X]]=U[X];return $},MD=function Q(J,Z,U){var $=i4(J,Z,U);for(var q=0;q<U.length;q++){var K=[];for(var G=0;G<$.length;G++)if($[G]===U[q])K.push(G);var Y=-1,F=-1/0;for(var X=0;X<K.length;X++){var H=0;for(var N=0;N<K.length;N++)H+=Z[K[N]*J+K[X]];if(H>F)Y=X,F=H}U[q]=K[Y]}return $=i4(J,Z,U),$},n4=function Q(J){var Z=this.cy(),U=this.nodes(),$=FD(J),q={};for(var K=0;K<U.length;K++)q[U[K].id()]=K;var G,Y,F,X,H,N;G=U.length,Y=G*G,F=new Array(Y);for(var z=0;z<Y;z++)F[z]=-1/0;for(var M=0;M<G;M++)for(var W=0;W<G;W++)if(M!==W)F[M*G+W]=XD($.distance,U[M],U[W],$.attributes);X=HD(F,$.preference);for(var L=0;L<G;L++)F[L*G+L]=X;H=new Array(Y);for(var E=0;E<Y;E++)H[E]=0;N=new Array(Y);for(var B=0;B<Y;B++)N[B]=0;var V=new Array(G),D=new Array(G),O=new Array(G);for(var A=0;A<G;A++)V[A]=0,D[A]=0,O[A]=0;var R=new Array(G*$.minIterations);for(var C=0;C<R.length;C++)R[C]=0;var I;for(I=0;I<$.maxIterations;I++){for(var T=0;T<G;T++){var P=-1/0,k=-1/0,j=-1,_=0;for(var x=0;x<G;x++)if(V[x]=H[T*G+x],_=N[T*G+x]+F[T*G+x],_>=P)k=P,P=_,j=x;else if(_>k)k=_;for(var f=0;f<G;f++)H[T*G+f]=(1-$.damping)*(F[T*G+f]-P)+$.damping*V[f];H[T*G+j]=(1-$.damping)*(F[T*G+j]-k)+$.damping*V[j]}for(var v=0;v<G;v++){var b=0;for(var y=0;y<G;y++)V[y]=N[y*G+v],D[y]=Math.max(0,H[y*G+v]),b+=D[y];b-=D[v],D[v]=H[v*G+v],b+=D[v];for(var g=0;g<G;g++)N[g*G+v]=(1-$.damping)*Math.min(0,b-D[g])+$.damping*V[g];N[v*G+v]=(1-$.damping)*(b-D[v])+$.damping*V[v]}var m=0;for(var u=0;u<G;u++){var n=N[u*G+u]+H[u*G+u]>0?1:0;R[I%$.minIterations*G+u]=n,m+=n}if(m>0&&(I>=$.minIterations-1||I==$.maxIterations-1)){var t=0;for(var s=0;s<G;s++){O[s]=0;for(var JJ=0;JJ<$.minIterations;JJ++)O[s]+=R[JJ*G+s];if(O[s]===0||O[s]===$.minIterations)t++}if(t===G)break}}var ZJ=ND(G,H,N),qJ=MD(G,F,ZJ),e={};for(var h=0;h<ZJ.length;h++)e[ZJ[h]]=[];for(var d=0;d<U.length;d++){var p=q[U[d].id()],r=qJ[p];if(r!=null)e[r].push(U[d])}var UJ=new Array(ZJ.length);for(var MJ=0;MJ<ZJ.length;MJ++)UJ[MJ]=Z.collection(e[ZJ[MJ]]);return UJ},zD={affinityPropagation:n4,ap:n4},LD=A8({root:void 0,directed:!1}),WD={hierholzer:function Q(J){if(!yJ(J)){var Z=arguments;J={root:Z[0],directed:Z[1]}}var U=LD(J),$=U.root,q=U.directed,K=this,G=!1,Y,F,X;if($)X=WJ($)?this.filter($)[0].id():$[0].id();var H={},N={};if(q)K.forEach(function(B){var V=B.id();if(B.isNode()){var D=B.indegree(!0),O=B.outdegree(!0),A=D-O,R=O-D;if(A==1)if(Y)G=!0;else Y=V;else if(R==1)if(F)G=!0;else F=V;else if(R>1||A>1)G=!0;H[V]=[],B.outgoers().forEach(function(C){if(C.isEdge())H[V].push(C.id())})}else N[V]=[void 0,B.target().id()]});else K.forEach(function(B){var V=B.id();if(B.isNode()){var D=B.degree(!0);if(D%2)if(!Y)Y=V;else if(!F)F=V;else G=!0;H[V]=[],B.connectedEdges().forEach(function(O){return H[V].push(O.id())})}else N[V]=[B.source().id(),B.target().id()]});var z={found:!1,trail:void 0};if(G)return z;else if(F&&Y){if(q){if(X&&F!=X)return z;X=F}else if(X&&F!=X&&Y!=X)return z;else if(!X)X=F}else if(!X)X=K[0].id();var M=function B(V){var D=V,O=[V],A,R,C;while(H[D].length){if(A=H[D].shift(),R=N[A][0],C=N[A][1],D!=C)H[C]=H[C].filter(function(I){return I!=A}),D=C;else if(!q&&D!=R)H[R]=H[R].filter(function(I){return I!=A}),D=R;O.unshift(A),O.unshift(D)}return O},W=[],L=[];L=M(X);while(L.length!=1)if(H[L[0]].length==0)W.unshift(K.getElementById(L.shift())),W.unshift(K.getElementById(L.shift()));else L=M(L.shift()).concat(L);W.unshift(K.getElementById(L.shift()));for(var E in H)if(H[E].length)return z;return z.found=!0,z.trail=this.spawn(W,!0),z}},w6=function Q(){var J=this,Z={},U=0,$=0,q=[],K=[],G={},Y=function H(N,z){var M=K.length-1,W=[],L=J.spawn();while(K[M].x!=N||K[M].y!=z)W.push(K.pop().edge),M--;W.push(K.pop().edge),W.forEach(function(E){var B=E.connectedNodes().intersection(J);L.merge(E),B.forEach(function(V){var D=V.id(),O=V.connectedEdges().intersection(J);if(L.merge(V),!Z[D].cutVertex)L.merge(O);else L.merge(O.filter(function(A){return A.isLoop()}))})}),q.push(L)},F=function H(N,z,M){if(N===M)$+=1;Z[z]={id:U,low:U++,cutVertex:!1};var W=J.getElementById(z).connectedEdges().intersection(J);if(W.size()===0)q.push(J.spawn(J.getElementById(z)));else{var L,E,B,V;W.forEach(function(D){if(L=D.source().id(),E=D.target().id(),B=L===z?E:L,B!==M){if(V=D.id(),!G[V])G[V]=!0,K.push({x:z,y:B,edge:D});if(!(B in Z)){if(F(N,B,z),Z[z].low=Math.min(Z[z].low,Z[B].low),Z[z].id<=Z[B].low)Z[z].cutVertex=!0,Y(z,B)}else Z[z].low=Math.min(Z[z].low,Z[B].id)}})}};J.forEach(function(H){if(H.isNode()){var N=H.id();if(!(N in Z))$=0,F(N,N),Z[N].cutVertex=$>1}});var X=Object.keys(Z).filter(function(H){return Z[H].cutVertex}).map(function(H){return J.getElementById(H)});return{cut:J.spawn(X),components:q}},ED={hopcroftTarjanBiconnected:w6,htbc:w6,htb:w6,hopcroftTarjanBiconnectedComponents:w6},_6=function Q(){var J=this,Z={},U=0,$=[],q=[],K=J.spawn(J),G=function Y(F){q.push(F),Z[F]={index:U,low:U++,explored:!1};var X=J.getElementById(F).connectedEdges().intersection(J);if(X.forEach(function(W){var L=W.target().id();if(L!==F){if(!(L in Z))G(L);if(!Z[L].explored)Z[F].low=Math.min(Z[F].low,Z[L].low)}}),Z[F].index===Z[F].low){var H=J.spawn();for(;;){var N=q.pop();if(H.merge(J.getElementById(N)),Z[N].low=Z[F].index,Z[N].explored=!0,N===F)break}var z=H.edgesWith(H),M=H.merge(z);$.push(M),K=K.difference(M)}};return J.forEach(function(Y){if(Y.isNode()){var F=Y.id();if(!(F in Z))G(F)}}),{cut:K,components:$}},BD={tarjanStronglyConnected:_6,tsc:_6,tscc:_6,tarjanStronglyConnectedComponents:_6},LK={};[wZ,s2,a2,o2,e2,QV,$V,wV,dQ,cQ,l0,pV,UD,GD,zD,WD,ED,BD].forEach(function(Q){DJ(LK,Q)});/*!\nEmbeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\nCopyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)\nLicensed under The MIT License (http://opensource.org/licenses/MIT)\n*/var WK=0,EK=1,BK=2,J9=function Q(J){if(!(this instanceof J9))return new J9(J);if(this.id=\"Thenable/1.0.7\",this.state=WK,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof J===\"function\")J.call(this,this.fulfill.bind(this),this.reject.bind(this))};J9.prototype={fulfill:function Q(J){return s4(this,EK,\"fulfillValue\",J)},reject:function Q(J){return s4(this,BK,\"rejectReason\",J)},then:function Q(J,Z){var U=this,$=new J9;return U.onFulfilled.push(r4(J,$,\"fulfill\")),U.onRejected.push(r4(Z,$,\"reject\")),VK(U),$.proxy}};var s4=function Q(J,Z,U,$){if(J.state===WK)J.state=Z,J[U]=$,VK(J);return J},VK=function Q(J){if(J.state===EK)a4(J,\"onFulfilled\",J.fulfillValue);else if(J.state===BK)a4(J,\"onRejected\",J.rejectReason)},a4=function Q(J,Z,U){if(J[Z].length===0)return;var $=J[Z];J[Z]=[];var q=function K(){for(var G=0;G<$.length;G++)$[G](U)};if(typeof setImmediate===\"function\")setImmediate(q);else setTimeout(q,0)},r4=function Q(J,Z,U){return function($){if(typeof J!==\"function\")Z[U].call(Z,$);else{var q;try{q=J($)}catch(K){Z.reject(K);return}DK(Z,q)}}},DK=function Q(J,Z){if(J===Z||J.proxy===Z){J.reject(new TypeError(\"cannot resolve promise with itself\"));return}var U;if(M8(Z)===\"object\"&&Z!==null||typeof Z===\"function\")try{U=Z.then}catch(q){J.reject(q);return}if(typeof U===\"function\"){var $=!1;try{U.call(Z,function(q){if($)return;if($=!0,q===Z)J.reject(new TypeError(\"circular thenable chain\"));else DK(J,q)},function(q){if($)return;$=!0,J.reject(q)})}catch(q){if(!$)J.reject(q)}return}J.fulfill(Z)};J9.all=function(Q){return new J9(function(J,Z){var U=new Array(Q.length),$=0,q=function G(Y,F){if(U[Y]=F,$++,$===Q.length)J(U)};for(var K=0;K<Q.length;K++)(function(G){var Y=Q[G],F=Y!=null&&Y.then!=null;if(F)Y.then(function(H){q(G,H)},function(H){Z(H)});else{var X=Y;q(G,X)}})(K)})};J9.resolve=function(Q){return new J9(function(J,Z){J(Q)})};J9.reject=function(Q){return new J9(function(J,Z){Z(Q)})};var aQ=typeof Promise!==\"undefined\"?Promise:J9,s0=function Q(J,Z,U){var $=FU(J),q=!$,K=this._private=DJ({duration:1000},Z,U);if(K.target=J,K.style=K.style||K.css,K.started=!1,K.playing=!1,K.hooked=!1,K.applying=!1,K.progress=0,K.completes=[],K.frames=[],K.complete&&Q8(K.complete))K.completes.push(K.complete);if(q){var G=J.position();K.startPosition=K.startPosition||{x:G.x,y:G.y},K.startStyle=K.startStyle||J.cy().style().getAnimationStartStyle(J,K.style)}if($){var Y=J.pan();K.startPan={x:Y.x,y:Y.y},K.startZoom=J.zoom()}this.length=1,this[0]=this},MQ=s0.prototype;DJ(MQ,{instanceString:function Q(){return\"animation\"},hook:function Q(){var J=this._private;if(!J.hooked){var Z,U=J.target._private.animation;if(J.queue)Z=U.queue;else Z=U.current;if(Z.push(this),h8(J.target))J.target.cy().addToAnimationPool(J.target);J.hooked=!0}return this},play:function Q(){var J=this._private;if(J.progress===1)J.progress=0;return J.playing=!0,J.started=!1,J.stopped=!1,this.hook(),this},playing:function Q(){return this._private.playing},apply:function Q(){var J=this._private;return J.applying=!0,J.started=!1,J.stopped=!1,this.hook(),this},applying:function Q(){return this._private.applying},pause:function Q(){var J=this._private;return J.playing=!1,J.started=!1,this},stop:function Q(){var J=this._private;return J.playing=!1,J.started=!1,J.stopped=!0,this},rewind:function Q(){return this.progress(0)},fastforward:function Q(){return this.progress(1)},time:function Q(J){var Z=this._private;if(J===void 0)return Z.progress*Z.duration;else return this.progress(J/Z.duration)},progress:function Q(J){var Z=this._private,U=Z.playing;if(J===void 0)return Z.progress;else{if(U)this.pause();if(Z.progress=J,Z.started=!1,U)this.play()}return this},completed:function Q(){return this._private.progress===1},reverse:function Q(){var J=this._private,Z=J.playing;if(Z)this.pause();J.progress=1-J.progress,J.started=!1;var U=function Y(F,X){var H=J[F];if(H==null)return;J[F]=J[X],J[X]=H};if(U(\"zoom\",\"startZoom\"),U(\"pan\",\"startPan\"),U(\"position\",\"startPosition\"),J.style)for(var $=0;$<J.style.length;$++){var q=J.style[$],K=q.name,G=J.startStyle[K];J.startStyle[K]=q,J.style[$]=G}if(Z)this.play();return this},promise:function Q(J){var Z=this._private,U;switch(J){case\"frame\":U=Z.frames;break;default:case\"complete\":case\"completed\":U=Z.completes}return new aQ(function($,q){U.push(function(){$()})})}});MQ.complete=MQ.completed;MQ.run=MQ.play;MQ.running=MQ.playing;var VD={animated:function Q(){return function J(){var Z=this,U=Z.length!==void 0,$=U?Z:[Z],q=this._private.cy||this;if(!q.styleEnabled())return!1;var K=$[0];if(K)return K._private.animation.current.length>0}},clearQueue:function Q(){return function J(){var Z=this,U=Z.length!==void 0,$=U?Z:[Z],q=this._private.cy||this;if(!q.styleEnabled())return this;for(var K=0;K<$.length;K++){var G=$[K];G._private.animation.queue=[]}return this}},delay:function Q(){return function J(Z,U){var $=this._private.cy||this;if(!$.styleEnabled())return this;return this.animate({delay:Z,duration:Z,complete:U})}},delayAnimation:function Q(){return function J(Z,U){var $=this._private.cy||this;if(!$.styleEnabled())return this;return this.animation({delay:Z,duration:Z,complete:U})}},animation:function Q(){return function J(Z,U){var $=this,q=$.length!==void 0,K=q?$:[$],G=this._private.cy||this,Y=!q,F=!Y;if(!G.styleEnabled())return this;var X=G.style();Z=DJ({},Z,U);var H=Object.keys(Z).length===0;if(H)return new s0(K[0],Z);if(Z.duration===void 0)Z.duration=400;switch(Z.duration){case\"slow\":Z.duration=600;break;case\"fast\":Z.duration=200;break}if(F)Z.style=X.getPropsList(Z.style||Z.css),Z.css=void 0;if(F&&Z.renderedPosition!=null){var N=Z.renderedPosition,z=G.pan(),M=G.zoom();Z.position=qK(N,M,z)}if(Y&&Z.panBy!=null){var W=Z.panBy,L=G.pan();Z.pan={x:L.x+W.x,y:L.y+W.y}}var E=Z.center||Z.centre;if(Y&&E!=null){var B=G.getCenterPan(E.eles,Z.zoom);if(B!=null)Z.pan=B}if(Y&&Z.fit!=null){var V=Z.fit,D=G.getFitViewport(V.eles||V.boundingBox,V.padding);if(D!=null)Z.pan=D.pan,Z.zoom=D.zoom}if(Y&&yJ(Z.zoom)){var O=G.getZoomedViewport(Z.zoom);if(O!=null){if(O.zoomed)Z.zoom=O.zoom;if(O.panned)Z.pan=O.pan}else Z.zoom=null}return new s0(K[0],Z)}},animate:function Q(){return function J(Z,U){var $=this,q=$.length!==void 0,K=q?$:[$],G=this._private.cy||this;if(!G.styleEnabled())return this;if(U)Z=DJ({},Z,U);for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F.animated()&&(Z.queue===void 0||Z.queue),H=F.animation(Z,X?{queue:!0}:void 0);H.play()}return this}},stop:function Q(){return function J(Z,U){var $=this,q=$.length!==void 0,K=q?$:[$],G=this._private.cy||this;if(!G.styleEnabled())return this;for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F._private,H=X.animation.current;for(var N=0;N<H.length;N++){var z=H[N],M=z._private;if(U)M.duration=0}if(Z)X.animation.queue=[];if(!U)X.animation.current=[]}return G.notify(\"draw\"),this}}},v5,o4;function W7(){if(o4)return v5;o4=1;var Q=Array.isArray;return v5=Q,v5}var f5,t4;function DD(){if(t4)return f5;t4=1;var Q=W7(),J=cZ(),Z=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,U=/^\\w*$/;function $(q,K){if(Q(q))return!1;var G=typeof q;if(G==\"number\"||G==\"symbol\"||G==\"boolean\"||q==null||J(q))return!0;return U.test(q)||!Z.test(q)||K!=null&&q in Object(K)}return f5=$,f5}var x5,e4;function RD(){if(e4)return x5;e4=1;var Q=r1(),J=dZ(),Z=\"[object AsyncFunction]\",U=\"[object Function]\",$=\"[object GeneratorFunction]\",q=\"[object Proxy]\";function K(G){if(!J(G))return!1;var Y=Q(G);return Y==U||Y==$||Y==Z||Y==q}return x5=K,x5}var b5,Jq;function OD(){if(Jq)return b5;Jq=1;var Q=N7(),J=Q[\"__core-js_shared__\"];return b5=J,b5}var m5,Qq;function AD(){if(Qq)return m5;Qq=1;var Q=OD(),J=function(){var U=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||\"\");return U?\"Symbol(src)_1.\"+U:\"\"}();function Z(U){return!!J&&J in U}return m5=Z,m5}var y5,Zq;function CD(){if(Zq)return y5;Zq=1;var Q=Function.prototype,J=Q.toString;function Z(U){if(U!=null){try{return J.call(U)}catch($){}try{return U+\"\"}catch($){}}return\"\"}return y5=Z,y5}var h5,Uq;function SD(){if(Uq)return h5;Uq=1;var Q=RD(),J=AD(),Z=dZ(),U=CD(),$=/[\\\\^$.*+?()[\\]{}|]/g,q=/^\\[object .+?Constructor\\]$/,K=Function.prototype,G=Object.prototype,Y=K.toString,F=G.hasOwnProperty,X=RegExp(\"^\"+Y.call(F).replace($,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function H(N){if(!Z(N)||J(N))return!1;var z=Q(N)?X:q;return z.test(U(N))}return h5=H,h5}var u5,$q;function ID(){if($q)return u5;$q=1;function Q(J,Z){return J==null?void 0:J[Z]}return u5=Q,u5}var g5,qq;function DU(){if(qq)return g5;qq=1;var Q=SD(),J=ID();function Z(U,$){var q=J(U,$);return Q(q)?q:void 0}return g5=Z,g5}var d5,Kq;function E7(){if(Kq)return d5;Kq=1;var Q=DU(),J=Q(Object,\"create\");return d5=J,d5}var c5,Gq;function TD(){if(Gq)return c5;Gq=1;var Q=E7();function J(){this.__data__=Q?Q(null):{},this.size=0}return c5=J,c5}var p5,Yq;function PD(){if(Yq)return p5;Yq=1;function Q(J){var Z=this.has(J)&&delete this.__data__[J];return this.size-=Z?1:0,Z}return p5=Q,p5}var l5,Fq;function kD(){if(Fq)return l5;Fq=1;var Q=E7(),J=\"__lodash_hash_undefined__\",Z=Object.prototype,U=Z.hasOwnProperty;function $(q){var K=this.__data__;if(Q){var G=K[q];return G===J?void 0:G}return U.call(K,q)?K[q]:void 0}return l5=$,l5}var i5,Xq;function jD(){if(Xq)return i5;Xq=1;var Q=E7(),J=Object.prototype,Z=J.hasOwnProperty;function U($){var q=this.__data__;return Q?q[$]!==void 0:Z.call(q,$)}return i5=U,i5}var n5,Hq;function wD(){if(Hq)return n5;Hq=1;var Q=E7(),J=\"__lodash_hash_undefined__\";function Z(U,$){var q=this.__data__;return this.size+=this.has(U)?0:1,q[U]=Q&&$===void 0?J:$,this}return n5=Z,n5}var s5,Nq;function _D(){if(Nq)return s5;Nq=1;var Q=TD(),J=PD(),Z=kD(),U=jD(),$=wD();function q(K){var G=-1,Y=K==null?0:K.length;this.clear();while(++G<Y){var F=K[G];this.set(F[0],F[1])}}return q.prototype.clear=Q,q.prototype.delete=J,q.prototype.get=Z,q.prototype.has=U,q.prototype.set=$,s5=q,s5}var a5,Mq;function vD(){if(Mq)return a5;Mq=1;function Q(){this.__data__=[],this.size=0}return a5=Q,a5}var r5,zq;function RK(){if(zq)return r5;zq=1;function Q(J,Z){return J===Z||J!==J&&Z!==Z}return r5=Q,r5}var o5,Lq;function B7(){if(Lq)return o5;Lq=1;var Q=RK();function J(Z,U){var $=Z.length;while($--)if(Q(Z[$][0],U))return $;return-1}return o5=J,o5}var t5,Wq;function fD(){if(Wq)return t5;Wq=1;var Q=B7(),J=Array.prototype,Z=J.splice;function U($){var q=this.__data__,K=Q(q,$);if(K<0)return!1;var G=q.length-1;if(K==G)q.pop();else Z.call(q,K,1);return--this.size,!0}return t5=U,t5}var e5,Eq;function xD(){if(Eq)return e5;Eq=1;var Q=B7();function J(Z){var U=this.__data__,$=Q(U,Z);return $<0?void 0:U[$][1]}return e5=J,e5}var J0,Bq;function bD(){if(Bq)return J0;Bq=1;var Q=B7();function J(Z){return Q(this.__data__,Z)>-1}return J0=J,J0}var Q0,Vq;function mD(){if(Vq)return Q0;Vq=1;var Q=B7();function J(Z,U){var $=this.__data__,q=Q($,Z);if(q<0)++this.size,$.push([Z,U]);else $[q][1]=U;return this}return Q0=J,Q0}var Z0,Dq;function yD(){if(Dq)return Z0;Dq=1;var Q=vD(),J=fD(),Z=xD(),U=bD(),$=mD();function q(K){var G=-1,Y=K==null?0:K.length;this.clear();while(++G<Y){var F=K[G];this.set(F[0],F[1])}}return q.prototype.clear=Q,q.prototype.delete=J,q.prototype.get=Z,q.prototype.has=U,q.prototype.set=$,Z0=q,Z0}var U0,Rq;function hD(){if(Rq)return U0;Rq=1;var Q=DU(),J=N7(),Z=Q(J,\"Map\");return U0=Z,U0}var $0,Oq;function uD(){if(Oq)return $0;Oq=1;var Q=_D(),J=yD(),Z=hD();function U(){this.size=0,this.__data__={hash:new Q,map:new(Z||J),string:new Q}}return $0=U,$0}var q0,Aq;function gD(){if(Aq)return q0;Aq=1;function Q(J){var Z=typeof J;return Z==\"string\"||Z==\"number\"||Z==\"symbol\"||Z==\"boolean\"?J!==\"__proto__\":J===null}return q0=Q,q0}var K0,Cq;function V7(){if(Cq)return K0;Cq=1;var Q=gD();function J(Z,U){var $=Z.__data__;return Q(U)?$[typeof U==\"string\"?\"string\":\"hash\"]:$.map}return K0=J,K0}var G0,Sq;function dD(){if(Sq)return G0;Sq=1;var Q=V7();function J(Z){var U=Q(this,Z).delete(Z);return this.size-=U?1:0,U}return G0=J,G0}var Y0,Iq;function cD(){if(Iq)return Y0;Iq=1;var Q=V7();function J(Z){return Q(this,Z).get(Z)}return Y0=J,Y0}var F0,Tq;function pD(){if(Tq)return F0;Tq=1;var Q=V7();function J(Z){return Q(this,Z).has(Z)}return F0=J,F0}var X0,Pq;function lD(){if(Pq)return X0;Pq=1;var Q=V7();function J(Z,U){var $=Q(this,Z),q=$.size;return $.set(Z,U),this.size+=$.size==q?0:1,this}return X0=J,X0}var H0,kq;function iD(){if(kq)return H0;kq=1;var Q=uD(),J=dD(),Z=cD(),U=pD(),$=lD();function q(K){var G=-1,Y=K==null?0:K.length;this.clear();while(++G<Y){var F=K[G];this.set(F[0],F[1])}}return q.prototype.clear=Q,q.prototype.delete=J,q.prototype.get=Z,q.prototype.has=U,q.prototype.set=$,H0=q,H0}var N0,jq;function nD(){if(jq)return N0;jq=1;var Q=iD(),J=\"Expected a function\";function Z(U,$){if(typeof U!=\"function\"||$!=null&&typeof $!=\"function\")throw new TypeError(J);var q=function(){var K=arguments,G=$?$.apply(this,K):K[0],Y=q.cache;if(Y.has(G))return Y.get(G);var F=U.apply(this,K);return q.cache=Y.set(G,F)||Y,F};return q.cache=new(Z.Cache||Q),q}return Z.Cache=Q,N0=Z,N0}var M0,wq;function sD(){if(wq)return M0;wq=1;var Q=nD(),J=500;function Z(U){var $=Q(U,function(K){if(q.size===J)q.clear();return K}),q=$.cache;return $}return M0=Z,M0}var z0,_q;function OK(){if(_q)return z0;_q=1;var Q=sD(),J=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Z=/\\\\(\\\\)?/g,U=Q(function($){var q=[];if($.charCodeAt(0)===46)q.push(\"\");return $.replace(J,function(K,G,Y,F){q.push(Y?F.replace(Z,\"$1\"):G||K)}),q});return z0=U,z0}var L0,vq;function AK(){if(vq)return L0;vq=1;function Q(J,Z){var U=-1,$=J==null?0:J.length,q=Array($);while(++U<$)q[U]=Z(J[U],U,J);return q}return L0=Q,L0}var W0,fq;function aD(){if(fq)return W0;fq=1;var Q=HU(),J=AK(),Z=W7(),U=cZ(),$=Q?Q.prototype:void 0,q=$?$.toString:void 0;function K(G){if(typeof G==\"string\")return G;if(Z(G))return J(G,K)+\"\";if(U(G))return q?q.call(G):\"\";var Y=G+\"\";return Y==\"0\"&&1/G==-1/0?\"-0\":Y}return W0=K,W0}var E0,xq;function CK(){if(xq)return E0;xq=1;var Q=aD();function J(Z){return Z==null?\"\":Q(Z)}return E0=J,E0}var B0,bq;function SK(){if(bq)return B0;bq=1;var Q=W7(),J=DD(),Z=OK(),U=CK();function $(q,K){if(Q(q))return q;return J(q,K)?[q]:Z(U(q))}return B0=$,B0}var V0,mq;function RU(){if(mq)return V0;mq=1;var Q=cZ();function J(Z){if(typeof Z==\"string\"||Q(Z))return Z;var U=Z+\"\";return U==\"0\"&&1/Z==-1/0?\"-0\":U}return V0=J,V0}var D0,yq;function rD(){if(yq)return D0;yq=1;var Q=SK(),J=RU();function Z(U,$){$=Q($,U);var q=0,K=$.length;while(U!=null&&q<K)U=U[J($[q++])];return q&&q==K?U:void 0}return D0=Z,D0}var R0,hq;function oD(){if(hq)return R0;hq=1;var Q=rD();function J(Z,U,$){var q=Z==null?void 0:Q(Z,U);return q===void 0?$:q}return R0=J,R0}var tD=oD(),eD=gZ(tD),O0,uq;function JR(){if(uq)return O0;uq=1;var Q=DU(),J=function(){try{var Z=Q(Object,\"defineProperty\");return Z({},\"\",{}),Z}catch(U){}}();return O0=J,O0}var A0,gq;function QR(){if(gq)return A0;gq=1;var Q=JR();function J(Z,U,$){if(U==\"__proto__\"&&Q)Q(Z,U,{configurable:!0,enumerable:!0,value:$,writable:!0});else Z[U]=$}return A0=J,A0}var C0,dq;function ZR(){if(dq)return C0;dq=1;var Q=QR(),J=RK(),Z=Object.prototype,U=Z.hasOwnProperty;function $(q,K,G){var Y=q[K];if(!(U.call(q,K)&&J(Y,G))||G===void 0&&!(K in q))Q(q,K,G)}return C0=$,C0}var S0,cq;function UR(){if(cq)return S0;cq=1;var Q=9007199254740991,J=/^(?:0|[1-9]\\d*)$/;function Z(U,$){var q=typeof U;return $=$==null?Q:$,!!$&&(q==\"number\"||q!=\"symbol\"&&J.test(U))&&(U>-1&&U%1==0&&U<$)}return S0=Z,S0}var I0,pq;function $R(){if(pq)return I0;pq=1;var Q=ZR(),J=SK(),Z=UR(),U=dZ(),$=RU();function q(K,G,Y,F){if(!U(K))return K;G=J(G,K);var X=-1,H=G.length,N=H-1,z=K;while(z!=null&&++X<H){var M=$(G[X]),W=Y;if(M===\"__proto__\"||M===\"constructor\"||M===\"prototype\")return K;if(X!=N){var L=z[M];if(W=F?F(L,M,z):void 0,W===void 0)W=U(L)?L:Z(G[X+1])?[]:{}}Q(z,M,W),z=z[M]}return K}return I0=q,I0}var T0,lq;function qR(){if(lq)return T0;lq=1;var Q=$R();function J(Z,U,$){return Z==null?Z:Q(Z,U,$)}return T0=J,T0}var KR=qR(),GR=gZ(KR),P0,iq;function YR(){if(iq)return P0;iq=1;function Q(J,Z){var U=-1,$=J.length;Z||(Z=Array($));while(++U<$)Z[U]=J[U];return Z}return P0=Q,P0}var k0,nq;function FR(){if(nq)return k0;nq=1;var Q=AK(),J=YR(),Z=W7(),U=cZ(),$=OK(),q=RU(),K=CK();function G(Y){if(Z(Y))return Q(Y,q);return U(Y)?[Y]:J($(K(Y)))}return k0=G,k0}var XR=FR(),HR=gZ(XR),NR={data:function Q(J){var Z={field:\"data\",bindingEvent:\"data\",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:\"data\",settingTriggersEvent:!1,triggerFnName:\"trigger\",immutableKeys:{},updateStyle:!1,beforeGet:function U($){},beforeSet:function U($,q){},onSet:function U($){},canSet:function U($){return!0}};return J=DJ({},Z,J),function U($,q){var K=J,G=this,Y=G.length!==void 0,F=Y?G:[G],X=Y?G[0]:G;if(WJ($)){var H=$.indexOf(\".\")!==-1,N=H&&HR($);if(K.allowGetting&&q===void 0){var z;if(X)if(K.beforeGet(X),N&&X._private[K.field][$]===void 0)z=eD(X._private[K.field],N);else z=X._private[K.field][$];return z}else if(K.allowSetting&&q!==void 0){var M=!K.immutableKeys[$];if(M){var W=u1({},$,q);K.beforeSet(G,W);for(var L=0,E=F.length;L<E;L++){var B=F[L];if(K.canSet(B))if(N&&X._private[K.field][$]===void 0)GR(B._private[K.field],N,q);else B._private[K.field][$]=q}if(K.updateStyle)G.updateStyle();if(K.onSet(G),K.settingTriggersEvent)G[K.triggerFnName](K.settingEvent)}}}else if(K.allowSetting&&yJ($)){var V=$,D,O,A=Object.keys(V);K.beforeSet(G,V);for(var R=0;R<A.length;R++){D=A[R],O=V[D];var C=!K.immutableKeys[D];if(C)for(var I=0;I<F.length;I++){var T=F[I];if(K.canSet(T))T._private[K.field][D]=O}}if(K.updateStyle)G.updateStyle();if(K.onSet(G),K.settingTriggersEvent)G[K.triggerFnName](K.settingEvent)}else if(K.allowBinding&&Q8($)){var P=$;G.on(K.bindingEvent,P)}else if(K.allowGetting&&$===void 0){var k;if(X)K.beforeGet(X),k=X._private[K.field];return k}return G}},removeData:function Q(J){var Z={field:\"data\",event:\"data\",triggerFnName:\"trigger\",triggerEvent:!1,immutableKeys:{}};return J=DJ({},Z,J),function U($){var q=J,K=this,G=K.length!==void 0,Y=G?K:[K];if(WJ($)){var F=$.split(/\\s+/),X=F.length;for(var H=0;H<X;H++){var N=F[H];if(y9(N))continue;var z=!q.immutableKeys[N];if(z)for(var M=0,W=Y.length;M<W;M++)Y[M]._private[q.field][N]=void 0}if(q.triggerEvent)K[q.triggerFnName](q.event)}else if($===void 0){for(var L=0,E=Y.length;L<E;L++){var B=Y[L]._private[q.field],V=Object.keys(B);for(var D=0;D<V.length;D++){var O=V[D],A=!q.immutableKeys[O];if(A)B[O]=void 0}}if(q.triggerEvent)K[q.triggerFnName](q.event)}return K}}},MR={eventAliasesOn:function Q(J){var Z=J;Z.addListener=Z.listen=Z.bind=Z.on,Z.unlisten=Z.unbind=Z.off=Z.removeListener,Z.trigger=Z.emit,Z.pon=Z.promiseOn=function(U,$){var q=this,K=Array.prototype.slice.call(arguments,0);return new aQ(function(G,Y){var F=function N(z){q.off.apply(q,H),G(z)},X=K.concat([F]),H=X.concat([]);q.on.apply(q,X)})}}},pJ={};[VD,NR,MR].forEach(function(Q){DJ(pJ,Q)});var zR={animate:pJ.animate(),animation:pJ.animation(),animated:pJ.animated(),clearQueue:pJ.clearQueue(),delay:pJ.delay(),delayAnimation:pJ.delayAnimation(),stop:pJ.stop()},c6={classes:function Q(J){var Z=this;if(J===void 0){var U=[];return Z[0]._private.classes.forEach(function(M){return U.push(M)}),U}else if(!nJ(J))J=(J||\"\").match(/\\S+/g)||[];var $=[],q=new sQ(J);for(var K=0;K<Z.length;K++){var G=Z[K],Y=G._private,F=Y.classes,X=!1;for(var H=0;H<J.length;H++){var N=J[H],z=F.has(N);if(!z){X=!0;break}}if(!X)X=F.size!==J.length;if(X)Y.classes=q,$.push(G)}if($.length>0)this.spawn($).updateStyle().emit(\"class\");return Z},addClass:function Q(J){return this.toggleClass(J,!0)},hasClass:function Q(J){var Z=this[0];return Z!=null&&Z._private.classes.has(J)},toggleClass:function Q(J,Z){if(!nJ(J))J=J.match(/\\S+/g)||[];var U=this,$=Z===void 0,q=[];for(var K=0,G=U.length;K<G;K++){var Y=U[K],F=Y._private.classes,X=!1;for(var H=0;H<J.length;H++){var N=J[H],z=F.has(N),M=!1;if(Z||$&&!z)F.add(N),M=!0;else if(!Z||$&&z)F.delete(N),M=!0;if(!X&&M)q.push(Y),X=!0}}if(q.length>0)this.spawn(q).updateStyle().emit(\"class\");return U},removeClass:function Q(J){return this.toggleClass(J,!1)},flashClass:function Q(J,Z){var U=this;if(Z==null)Z=250;else if(Z===0)return U;return U.addClass(J),setTimeout(function(){U.removeClass(J)},Z),U}};c6.className=c6.classNames=c6.classes;var mJ={metaChar:\"[\\\\!\\\\\\\"\\\\#\\\\$\\\\%\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\.\\\\/\\\\:\\\\;\\\\<\\\\=\\\\>\\\\?\\\\@\\\\[\\\\]\\\\^\\\\`\\\\{\\\\|\\\\}\\\\~]\",comparatorOp:\"=|\\\\!=|>|>=|<|<=|\\\\$=|\\\\^=|\\\\*=\",boolOp:\"\\\\?|\\\\!|\\\\^\",string:`\"(?:\\\\\\\\\"|[^\"])*\"|'(?:\\\\\\\\'|[^'])*'`,number:N8,meta:\"degree|indegree|outdegree\",separator:\"\\\\s*,\\\\s*\",descendant:\"\\\\s+\",child:\"\\\\s+>\\\\s+\",subject:\"\\\\$\",group:\"node|edge|\\\\*\",directedEdge:\"\\\\s+->\\\\s+\",undirectedEdge:\"\\\\s+<->\\\\s+\"};mJ.variable=\"(?:[\\\\w-.]|(?:\\\\\\\\\"+mJ.metaChar+\"))+\";mJ.className=\"(?:[\\\\w-]|(?:\\\\\\\\\"+mJ.metaChar+\"))+\";mJ.value=mJ.string+\"|\"+mJ.number;mJ.id=mJ.variable;(function(){var Q,J,Z;Q=mJ.comparatorOp.split(\"|\");for(Z=0;Z<Q.length;Z++)J=Q[Z],mJ.comparatorOp+=\"|@\"+J;Q=mJ.comparatorOp.split(\"|\");for(Z=0;Z<Q.length;Z++){if(J=Q[Z],J.indexOf(\"!\")>=0)continue;if(J===\"=\")continue;mJ.comparatorOp+=\"|\\\\!\"+J}})();var iJ=function Q(){return{checks:[]}},GJ={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},a0=[{selector:\":selected\",matches:function Q(J){return J.selected()}},{selector:\":unselected\",matches:function Q(J){return!J.selected()}},{selector:\":selectable\",matches:function Q(J){return J.selectable()}},{selector:\":unselectable\",matches:function Q(J){return!J.selectable()}},{selector:\":locked\",matches:function Q(J){return J.locked()}},{selector:\":unlocked\",matches:function Q(J){return!J.locked()}},{selector:\":visible\",matches:function Q(J){return J.visible()}},{selector:\":hidden\",matches:function Q(J){return!J.visible()}},{selector:\":transparent\",matches:function Q(J){return J.transparent()}},{selector:\":grabbed\",matches:function Q(J){return J.grabbed()}},{selector:\":free\",matches:function Q(J){return!J.grabbed()}},{selector:\":removed\",matches:function Q(J){return J.removed()}},{selector:\":inside\",matches:function Q(J){return!J.removed()}},{selector:\":grabbable\",matches:function Q(J){return J.grabbable()}},{selector:\":ungrabbable\",matches:function Q(J){return!J.grabbable()}},{selector:\":animated\",matches:function Q(J){return J.animated()}},{selector:\":unanimated\",matches:function Q(J){return!J.animated()}},{selector:\":parent\",matches:function Q(J){return J.isParent()}},{selector:\":childless\",matches:function Q(J){return J.isChildless()}},{selector:\":child\",matches:function Q(J){return J.isChild()}},{selector:\":orphan\",matches:function Q(J){return J.isOrphan()}},{selector:\":nonorphan\",matches:function Q(J){return J.isChild()}},{selector:\":compound\",matches:function Q(J){if(J.isNode())return J.isParent();else return J.source().isParent()||J.target().isParent()}},{selector:\":loop\",matches:function Q(J){return J.isLoop()}},{selector:\":simple\",matches:function Q(J){return J.isSimple()}},{selector:\":active\",matches:function Q(J){return J.active()}},{selector:\":inactive\",matches:function Q(J){return!J.active()}},{selector:\":backgrounding\",matches:function Q(J){return J.backgrounding()}},{selector:\":nonbackgrounding\",matches:function Q(J){return!J.backgrounding()}}].sort(function(Q,J){return N2(Q.selector,J.selector)}),LR=function(){var Q={},J;for(var Z=0;Z<a0.length;Z++)J=a0[Z],Q[J.selector]=J.matches;return Q}(),WR=function Q(J,Z){return LR[J](Z)},ER=\"(\"+a0.map(function(Q){return Q.selector}).join(\"|\")+\")\",jQ=function Q(J){return J.replace(new RegExp(\"\\\\\\\\(\"+mJ.metaChar+\")\",\"g\"),function(Z,U){return U})},j9=function Q(J,Z,U){J[J.length-1]=U},r0=[{name:\"group\",query:!0,regex:\"(\"+mJ.group+\")\",populate:function Q(J,Z,U){var $=Y8(U,1),q=$[0];Z.checks.push({type:GJ.GROUP,value:q===\"*\"?q:q+\"s\"})}},{name:\"state\",query:!0,regex:ER,populate:function Q(J,Z,U){var $=Y8(U,1),q=$[0];Z.checks.push({type:GJ.STATE,value:q})}},{name:\"id\",query:!0,regex:\"\\\\#(\"+mJ.id+\")\",populate:function Q(J,Z,U){var $=Y8(U,1),q=$[0];Z.checks.push({type:GJ.ID,value:jQ(q)})}},{name:\"className\",query:!0,regex:\"\\\\.(\"+mJ.className+\")\",populate:function Q(J,Z,U){var $=Y8(U,1),q=$[0];Z.checks.push({type:GJ.CLASS,value:jQ(q)})}},{name:\"dataExists\",query:!0,regex:\"\\\\[\\\\s*(\"+mJ.variable+\")\\\\s*\\\\]\",populate:function Q(J,Z,U){var $=Y8(U,1),q=$[0];Z.checks.push({type:GJ.DATA_EXIST,field:jQ(q)})}},{name:\"dataCompare\",query:!0,regex:\"\\\\[\\\\s*(\"+mJ.variable+\")\\\\s*(\"+mJ.comparatorOp+\")\\\\s*(\"+mJ.value+\")\\\\s*\\\\]\",populate:function Q(J,Z,U){var $=Y8(U,3),q=$[0],K=$[1],G=$[2],Y=new RegExp(\"^\"+mJ.string+\"$\").exec(G)!=null;if(Y)G=G.substring(1,G.length-1);else G=parseFloat(G);Z.checks.push({type:GJ.DATA_COMPARE,field:jQ(q),operator:K,value:G})}},{name:\"dataBool\",query:!0,regex:\"\\\\[\\\\s*(\"+mJ.boolOp+\")\\\\s*(\"+mJ.variable+\")\\\\s*\\\\]\",populate:function Q(J,Z,U){var $=Y8(U,2),q=$[0],K=$[1];Z.checks.push({type:GJ.DATA_BOOL,field:jQ(K),operator:q})}},{name:\"metaCompare\",query:!0,regex:\"\\\\[\\\\[\\\\s*(\"+mJ.meta+\")\\\\s*(\"+mJ.comparatorOp+\")\\\\s*(\"+mJ.number+\")\\\\s*\\\\]\\\\]\",populate:function Q(J,Z,U){var $=Y8(U,3),q=$[0],K=$[1],G=$[2];Z.checks.push({type:GJ.META_COMPARE,field:jQ(q),operator:K,value:parseFloat(G)})}},{name:\"nextQuery\",separator:!0,regex:mJ.separator,populate:function Q(J,Z){var{currentSubject:U,edgeCount:$,compoundCount:q}=J,K=J[J.length-1];if(U!=null)K.subject=U,J.currentSubject=null;K.edgeCount=$,K.compoundCount=q,J.edgeCount=0,J.compoundCount=0;var G=J[J.length++]=iJ();return G}},{name:\"directedEdge\",separator:!0,regex:mJ.directedEdge,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=Z,q=iJ();return U.checks.push({type:GJ.DIRECTED_EDGE,source:$,target:q}),j9(J,Z,U),J.edgeCount++,q}else{var K=iJ(),G=Z,Y=iJ();return K.checks.push({type:GJ.NODE_SOURCE,source:G,target:Y}),j9(J,Z,K),J.edgeCount++,Y}}},{name:\"undirectedEdge\",separator:!0,regex:mJ.undirectedEdge,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=Z,q=iJ();return U.checks.push({type:GJ.UNDIRECTED_EDGE,nodes:[$,q]}),j9(J,Z,U),J.edgeCount++,q}else{var K=iJ(),G=Z,Y=iJ();return K.checks.push({type:GJ.NODE_NEIGHBOR,node:G,neighbor:Y}),j9(J,Z,K),Y}}},{name:\"child\",separator:!0,regex:mJ.child,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=iJ(),q=J[J.length-1];return U.checks.push({type:GJ.CHILD,parent:q,child:$}),j9(J,Z,U),J.compoundCount++,$}else if(J.currentSubject===Z){var K=iJ(),G=J[J.length-1],Y=iJ(),F=iJ(),X=iJ(),H=iJ();return K.checks.push({type:GJ.COMPOUND_SPLIT,left:G,right:Y,subject:F}),F.checks=Z.checks,Z.checks=[{type:GJ.TRUE}],H.checks.push({type:GJ.TRUE}),Y.checks.push({type:GJ.PARENT,parent:H,child:X}),j9(J,G,K),J.currentSubject=F,J.compoundCount++,X}else{var N=iJ(),z=iJ(),M=[{type:GJ.PARENT,parent:N,child:z}];return N.checks=Z.checks,Z.checks=M,J.compoundCount++,z}}},{name:\"descendant\",separator:!0,regex:mJ.descendant,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=iJ(),q=J[J.length-1];return U.checks.push({type:GJ.DESCENDANT,ancestor:q,descendant:$}),j9(J,Z,U),J.compoundCount++,$}else if(J.currentSubject===Z){var K=iJ(),G=J[J.length-1],Y=iJ(),F=iJ(),X=iJ(),H=iJ();return K.checks.push({type:GJ.COMPOUND_SPLIT,left:G,right:Y,subject:F}),F.checks=Z.checks,Z.checks=[{type:GJ.TRUE}],H.checks.push({type:GJ.TRUE}),Y.checks.push({type:GJ.ANCESTOR,ancestor:H,descendant:X}),j9(J,G,K),J.currentSubject=F,J.compoundCount++,X}else{var N=iJ(),z=iJ(),M=[{type:GJ.ANCESTOR,ancestor:N,descendant:z}];return N.checks=Z.checks,Z.checks=M,J.compoundCount++,z}}},{name:\"subject\",modifier:!0,regex:mJ.subject,populate:function Q(J,Z){if(J.currentSubject!=null&&J.currentSubject!==Z)return lJ(\"Redefinition of subject in selector `\"+J.toString()+\"`\"),!1;J.currentSubject=Z;var U=J[J.length-1],$=U.checks[0],q=$==null?null:$.type;if(q===GJ.DIRECTED_EDGE)$.type=GJ.NODE_TARGET;else if(q===GJ.UNDIRECTED_EDGE)$.type=GJ.NODE_NEIGHBOR,$.node=$.nodes[1],$.neighbor=$.nodes[0],$.nodes=null}}];r0.forEach(function(Q){return Q.regexObj=new RegExp(\"^\"+Q.regex)});var BR=function Q(J){var Z,U,$;for(var q=0;q<r0.length;q++){var K=r0[q],G=K.name,Y=J.match(K.regexObj);if(Y!=null){U=Y,Z=K,$=G;var F=Y[0];J=J.substring(F.length);break}}return{expr:Z,match:U,name:$,remaining:J}},VR=function Q(J){var Z=J.match(/^\\s+/);if(Z){var U=Z[0];J=J.substring(U.length)}return J},DR=function Q(J){var Z=this,U=Z.inputText=J,$=Z[0]=iJ();Z.length=1,U=VR(U);for(;;){var q=BR(U);if(q.expr==null)return lJ(\"The selector `\"+J+\"`is invalid\"),!1;else{var K=q.match.slice(1),G=q.expr.populate(Z,$,K);if(G===!1)return!1;else if(G!=null)$=G}if(U=q.remaining,U.match(/^\\s*$/))break}var Y=Z[Z.length-1];if(Z.currentSubject!=null)Y.subject=Z.currentSubject;Y.edgeCount=Z.edgeCount,Y.compoundCount=Z.compoundCount;for(var F=0;F<Z.length;F++){var X=Z[F];if(X.compoundCount>0&&X.edgeCount>0)return lJ(\"The selector `\"+J+\"` is invalid because it uses both a compound selector and an edge selector\"),!1;if(X.edgeCount>1)return lJ(\"The selector `\"+J+\"` is invalid because it uses multiple edge selectors\"),!1;else if(X.edgeCount===1)lJ(\"The selector `\"+J+\"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.\")}return!0},RR=function Q(){if(this.toStringCache!=null)return this.toStringCache;var J=function F(X){if(X==null)return\"\";else return X},Z=function F(X){if(WJ(X))return'\"'+X+'\"';else return J(X)},U=function F(X){return\" \"+X+\" \"},$=function F(X,H){var{type:N,value:z}=X;switch(N){case GJ.GROUP:{var M=J(z);return M.substring(0,M.length-1)}case GJ.DATA_COMPARE:{var{field:W,operator:L}=X;return\"[\"+W+U(J(L))+Z(z)+\"]\"}case GJ.DATA_BOOL:{var{operator:E,field:B}=X;return\"[\"+J(E)+B+\"]\"}case GJ.DATA_EXIST:{var V=X.field;return\"[\"+V+\"]\"}case GJ.META_COMPARE:{var{operator:D,field:O}=X;return\"[[\"+O+U(J(D))+Z(z)+\"]]\"}case GJ.STATE:return z;case GJ.ID:return\"#\"+z;case GJ.CLASS:return\".\"+z;case GJ.PARENT:case GJ.CHILD:return q(X.parent,H)+U(\">\")+q(X.child,H);case GJ.ANCESTOR:case GJ.DESCENDANT:return q(X.ancestor,H)+\" \"+q(X.descendant,H);case GJ.COMPOUND_SPLIT:{var A=q(X.left,H),R=q(X.subject,H),C=q(X.right,H);return A+(A.length>0?\" \":\"\")+R+C}case GJ.TRUE:return\"\"}},q=function F(X,H){return X.checks.reduce(function(N,z,M){return N+(H===X&&M===0?\"$\":\"\")+$(z,H)},\"\")},K=\"\";for(var G=0;G<this.length;G++){var Y=this[G];if(K+=q(Y,Y.subject),this.length>1&&G<this.length-1)K+=\", \"}return this.toStringCache=K,K},OR={parse:DR,toString:RR},IK=function Q(J,Z,U){var $,q=WJ(J),K=$J(J),G=WJ(U),Y,F,X=!1,H=!1,N=!1;if(Z.indexOf(\"!\")>=0)Z=Z.replace(\"!\",\"\"),H=!0;if(Z.indexOf(\"@\")>=0)Z=Z.replace(\"@\",\"\"),X=!0;if(q||G||X)Y=!q&&!K?\"\":\"\"+J,F=\"\"+U;if(X)J=Y=Y.toLowerCase(),U=F=F.toLowerCase();switch(Z){case\"*=\":$=Y.indexOf(F)>=0;break;case\"$=\":$=Y.indexOf(F,Y.length-F.length)>=0;break;case\"^=\":$=Y.indexOf(F)===0;break;case\"=\":$=J===U;break;case\">\":N=!0,$=J>U;break;case\">=\":N=!0,$=J>=U;break;case\"<\":N=!0,$=J<U;break;case\"<=\":N=!0,$=J<=U;break;default:$=!1;break}if(H&&(J!=null||!N))$=!$;return $},AR=function Q(J,Z){switch(Z){case\"?\":return J?!0:!1;case\"!\":return J?!1:!0;case\"^\":return J===void 0}},CR=function Q(J){return J!==void 0},OU=function Q(J,Z){return J.data(Z)},SR=function Q(J,Z){return J[Z]()},U8=[],oJ=function Q(J,Z){return J.checks.every(function(U){return U8[U.type](U,Z)})};U8[GJ.GROUP]=function(Q,J){var Z=Q.value;return Z===\"*\"||Z===J.group()};U8[GJ.STATE]=function(Q,J){var Z=Q.value;return WR(Z,J)};U8[GJ.ID]=function(Q,J){var Z=Q.value;return J.id()===Z};U8[GJ.CLASS]=function(Q,J){var Z=Q.value;return J.hasClass(Z)};U8[GJ.META_COMPARE]=function(Q,J){var{field:Z,operator:U,value:$}=Q;return IK(SR(J,Z),U,$)};U8[GJ.DATA_COMPARE]=function(Q,J){var{field:Z,operator:U,value:$}=Q;return IK(OU(J,Z),U,$)};U8[GJ.DATA_BOOL]=function(Q,J){var{field:Z,operator:U}=Q;return AR(OU(J,Z),U)};U8[GJ.DATA_EXIST]=function(Q,J){var Z=Q.field;return Q.operator,CR(OU(J,Z))};U8[GJ.UNDIRECTED_EDGE]=function(Q,J){var Z=Q.nodes[0],U=Q.nodes[1],$=J.source(),q=J.target();return oJ(Z,$)&&oJ(U,q)||oJ(U,$)&&oJ(Z,q)};U8[GJ.NODE_NEIGHBOR]=function(Q,J){return oJ(Q.node,J)&&J.neighborhood().some(function(Z){return Z.isNode()&&oJ(Q.neighbor,Z)})};U8[GJ.DIRECTED_EDGE]=function(Q,J){return oJ(Q.source,J.source())&&oJ(Q.target,J.target())};U8[GJ.NODE_SOURCE]=function(Q,J){return oJ(Q.source,J)&&J.outgoers().some(function(Z){return Z.isNode()&&oJ(Q.target,Z)})};U8[GJ.NODE_TARGET]=function(Q,J){return oJ(Q.target,J)&&J.incomers().some(function(Z){return Z.isNode()&&oJ(Q.source,Z)})};U8[GJ.CHILD]=function(Q,J){return oJ(Q.child,J)&&oJ(Q.parent,J.parent())};U8[GJ.PARENT]=function(Q,J){return oJ(Q.parent,J)&&J.children().some(function(Z){return oJ(Q.child,Z)})};U8[GJ.DESCENDANT]=function(Q,J){return oJ(Q.descendant,J)&&J.ancestors().some(function(Z){return oJ(Q.ancestor,Z)})};U8[GJ.ANCESTOR]=function(Q,J){return oJ(Q.ancestor,J)&&J.descendants().some(function(Z){return oJ(Q.descendant,Z)})};U8[GJ.COMPOUND_SPLIT]=function(Q,J){return oJ(Q.subject,J)&&oJ(Q.left,J)&&oJ(Q.right,J)};U8[GJ.TRUE]=function(){return!0};U8[GJ.COLLECTION]=function(Q,J){var Z=Q.value;return Z.has(J)};U8[GJ.FILTER]=function(Q,J){var Z=Q.value;return Z(J)};var IR=function Q(J){var Z=this;if(Z.length===1&&Z[0].checks.length===1&&Z[0].checks[0].type===GJ.ID)return J.getElementById(Z[0].checks[0].value).collection();var U=function $(q){for(var K=0;K<Z.length;K++){var G=Z[K];if(oJ(G,q))return!0}return!1};if(Z.text()==null)U=function $(){return!0};return J.filter(U)},TR=function Q(J){var Z=this;for(var U=0;U<Z.length;U++){var $=Z[U];if(oJ($,J))return!0}return!1},PR={matches:TR,filter:IR},g9=function Q(J){if(this.inputText=J,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,J==null||WJ(J)&&J.match(/^\\s*$/));else if(h8(J))this.addQuery({checks:[{type:GJ.COLLECTION,value:J.collection()}]});else if(Q8(J))this.addQuery({checks:[{type:GJ.FILTER,value:J}]});else if(WJ(J)){if(!this.parse(J))this.invalid=!0}else J8(\"A selector must be created from a string; found \")},d9=g9.prototype;[OR,PR].forEach(function(Q){return DJ(d9,Q)});d9.text=function(){return this.inputText};d9.size=function(){return this.length};d9.eq=function(Q){return this[Q]};d9.sameText=function(Q){return!this.invalid&&!Q.invalid&&this.text()===Q.text()};d9.addQuery=function(Q){this[this.length++]=Q};d9.selector=d9.toString;var b9={allAre:function Q(J){var Z=new g9(J);return this.every(function(U){return Z.matches(U)})},is:function Q(J){var Z=new g9(J);return this.some(function(U){return Z.matches(U)})},some:function Q(J,Z){for(var U=0;U<this.length;U++){var $=!Z?J(this[U],U,this):J.apply(Z,[this[U],U,this]);if($)return!0}return!1},every:function Q(J,Z){for(var U=0;U<this.length;U++){var $=!Z?J(this[U],U,this):J.apply(Z,[this[U],U,this]);if(!$)return!1}return!0},same:function Q(J){if(this===J)return!0;J=this.cy().collection(J);var Z=this.length,U=J.length;if(Z!==U)return!1;if(Z===1)return this[0]===J[0];return this.every(function($){return J.hasElementWithId($.id())})},anySame:function Q(J){return J=this.cy().collection(J),this.some(function(Z){return J.hasElementWithId(Z.id())})},allAreNeighbors:function Q(J){J=this.cy().collection(J);var Z=this.neighborhood();return J.every(function(U){return Z.hasElementWithId(U.id())})},contains:function Q(J){J=this.cy().collection(J);var Z=this;return J.every(function(U){return Z.hasElementWithId(U.id())})}};b9.allAreNeighbours=b9.allAreNeighbors;b9.has=b9.contains;b9.equal=b9.equals=b9.same;var i8=function Q(J,Z){return function U($,q,K,G){var Y=$,F=this,X;if(Y==null)X=\"\";else if(h8(Y)&&Y.length===1)X=Y.id();if(F.length===1&&X){var H=F[0]._private,N=H.traversalCache=H.traversalCache||{},z=N[Z]=N[Z]||[],M=HQ(X),W=z[M];if(W)return W;else return z[M]=J.call(F,$,q,K,G)}else return J.call(F,$,q,K,G)}},nQ={parent:function Q(J){var Z=[];if(this.length===1){var U=this[0]._private.parent;if(U)return U}for(var $=0;$<this.length;$++){var q=this[$],K=q._private.parent;if(K)Z.push(K)}return this.spawn(Z,!0).filter(J)},parents:function Q(J){var Z=[],U=this.parent();while(U.nonempty()){for(var $=0;$<U.length;$++){var q=U[$];Z.push(q)}U=U.parent()}return this.spawn(Z,!0).filter(J)},commonAncestors:function Q(J){var Z;for(var U=0;U<this.length;U++){var $=this[U],q=$.parents();Z=Z||q,Z=Z.intersect(q)}return Z.filter(J)},orphans:function Q(J){return this.stdFilter(function(Z){return Z.isOrphan()}).filter(J)},nonorphans:function Q(J){return this.stdFilter(function(Z){return Z.isChild()}).filter(J)},children:i8(function(Q){var J=[];for(var Z=0;Z<this.length;Z++){var U=this[Z],$=U._private.children;for(var q=0;q<$.length;q++)J.push($[q])}return this.spawn(J,!0).filter(Q)},\"children\"),siblings:function Q(J){return this.parent().children().not(this).filter(J)},isParent:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.children.length!==0},isChildless:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.children.length===0},isChild:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.parent!=null},isOrphan:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.parent==null},descendants:function Q(J){var Z=[];function U($){for(var q=0;q<$.length;q++){var K=$[q];if(Z.push(K),K.children().nonempty())U(K.children())}}return U(this.children()),this.spawn(Z,!0).filter(J)}};function AU(Q,J,Z,U){var $=[],q=new sQ,K=Q.cy(),G=K.hasCompoundNodes();for(var Y=0;Y<Q.length;Y++){var F=Q[Y];if(Z)$.push(F);else if(G)U($,q,F)}while($.length>0){var X=$.shift();if(J(X),q.add(X.id()),G)U($,q,X)}return Q}function TK(Q,J,Z){if(Z.isParent()){var U=Z._private.children;for(var $=0;$<U.length;$++){var q=U[$];if(!J.has(q.id()))Q.push(q)}}}nQ.forEachDown=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return AU(this,Q,J,TK)};function PK(Q,J,Z){if(Z.isChild()){var U=Z._private.parent;if(!J.has(U.id()))Q.push(U)}}nQ.forEachUp=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return AU(this,Q,J,PK)};function kR(Q,J,Z){PK(Q,J,Z),TK(Q,J,Z)}nQ.forEachUpAndDown=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return AU(this,Q,J,kR)};nQ.ancestors=nQ.parents;var fZ,kK;fZ=kK={data:pJ.data({field:\"data\",bindingEvent:\"data\",allowBinding:!0,allowSetting:!0,settingEvent:\"data\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:pJ.removeData({field:\"data\",event:\"data\",triggerFnName:\"trigger\",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:pJ.data({field:\"scratch\",bindingEvent:\"scratch\",allowBinding:!0,allowSetting:!0,settingEvent:\"scratch\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,updateStyle:!0}),removeScratch:pJ.removeData({field:\"scratch\",event:\"scratch\",triggerFnName:\"trigger\",triggerEvent:!0,updateStyle:!0}),rscratch:pJ.data({field:\"rscratch\",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:pJ.removeData({field:\"rscratch\",triggerEvent:!1}),id:function Q(){var J=this[0];if(J)return J._private.data.id}};fZ.attr=fZ.data;fZ.removeAttr=fZ.removeData;var jR=kK,D7={};function j0(Q){return function(J){var Z=this;if(J===void 0)J=!0;if(Z.length===0)return;if(Z.isNode()&&!Z.removed()){var U=0,$=Z[0],q=$._private.edges;for(var K=0;K<q.length;K++){var G=q[K];if(!J&&G.isLoop())continue;U+=Q($,G)}return U}else return}}DJ(D7,{degree:j0(function(Q,J){if(J.source().same(J.target()))return 2;else return 1}),indegree:j0(function(Q,J){if(J.target().same(Q))return 1;else return 0}),outdegree:j0(function(Q,J){if(J.source().same(Q))return 1;else return 0})});function wQ(Q,J){return function(Z){var U,$=this.nodes();for(var q=0;q<$.length;q++){var K=$[q],G=K[Q](Z);if(G!==void 0&&(U===void 0||J(G,U)))U=G}return U}}DJ(D7,{minDegree:wQ(\"degree\",function(Q,J){return Q<J}),maxDegree:wQ(\"degree\",function(Q,J){return Q>J}),minIndegree:wQ(\"indegree\",function(Q,J){return Q<J}),maxIndegree:wQ(\"indegree\",function(Q,J){return Q>J}),minOutdegree:wQ(\"outdegree\",function(Q,J){return Q<J}),maxOutdegree:wQ(\"outdegree\",function(Q,J){return Q>J})});DJ(D7,{totalDegree:function Q(J){var Z=0,U=this.nodes();for(var $=0;$<U.length;$++)Z+=U[$].degree(J);return Z}});var e8,jK,wK=function Q(J,Z,U){for(var $=0;$<J.length;$++){var q=J[$];if(!q.locked()){var K=q._private.position,G={x:Z.x!=null?Z.x-K.x:0,y:Z.y!=null?Z.y-K.y:0};if(q.isParent()&&!(G.x===0&&G.y===0))q.children().shift(G,U);q.dirtyBoundingBoxCache()}}},sq={field:\"position\",bindingEvent:\"position\",allowBinding:!0,allowSetting:!0,settingEvent:\"position\",settingTriggersEvent:!0,triggerFnName:\"emitAndNotify\",allowGetting:!0,validKeys:[\"x\",\"y\"],beforeGet:function Q(J){J.updateCompoundBounds()},beforeSet:function Q(J,Z){wK(J,Z,!1)},onSet:function Q(J){J.dirtyCompoundBoundsCache()},canSet:function Q(J){return!J.locked()}};e8=jK={position:pJ.data(sq),silentPosition:pJ.data(DJ({},sq,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function Q(J,Z){wK(J,Z,!0)},onSet:function Q(J){J.dirtyCompoundBoundsCache()}})),positions:function Q(J,Z){if(yJ(J))if(Z)this.silentPosition(J);else this.position(J);else if(Q8(J)){var U=J,$=this.cy();$.startBatch();for(var q=0;q<this.length;q++){var K=this[q],G=void 0;if(G=U(K,q))if(Z)K.silentPosition(G);else K.position(G)}$.endBatch()}return this},silentPositions:function Q(J){return this.positions(J,!0)},shift:function Q(J,Z,U){var $;if(yJ(J))$={x:$J(J.x)?J.x:0,y:$J(J.y)?J.y:0},U=Z;else if(WJ(J)&&$J(Z))$={x:0,y:0},$[J]=Z;if($!=null){var q=this.cy();q.startBatch();for(var K=0;K<this.length;K++){var G=this[K];if(q.hasCompoundNodes()&&G.isChild()&&G.ancestors().anySame(this))continue;var Y=G.position(),F={x:Y.x+$.x,y:Y.y+$.y};if(U)G.silentPosition(F);else G.position(F)}q.endBatch()}return this},silentShift:function Q(J,Z){if(yJ(J))this.shift(J,!0);else if(WJ(J)&&$J(Z))this.shift(J,Z,!0);return this},renderedPosition:function Q(J,Z){var U=this[0],$=this.cy(),q=$.zoom(),K=$.pan(),G=yJ(J)?J:void 0,Y=G!==void 0||Z!==void 0&&WJ(J);if(U&&U.isNode())if(Y)for(var F=0;F<this.length;F++){var X=this[F];if(Z!==void 0)X.position(J,(Z-K[J])/q);else if(G!==void 0)X.position(qK(G,q,K))}else{var H=U.position();if(G=z7(H,q,K),J===void 0)return G;else return G[J]}else if(!Y)return;return this},relativePosition:function Q(J,Z){var U=this[0],$=this.cy(),q=yJ(J)?J:void 0,K=q!==void 0||Z!==void 0&&WJ(J),G=$.hasCompoundNodes();if(U&&U.isNode())if(K)for(var Y=0;Y<this.length;Y++){var F=this[Y],X=G?F.parent():null,H=X&&X.length>0,N=H;if(H)X=X[0];var z=N?X.position():{x:0,y:0};if(Z!==void 0)F.position(J,Z+z[J]);else if(q!==void 0)F.position({x:q.x+z.x,y:q.y+z.y})}else{var M=U.position(),W=G?U.parent():null,L=W&&W.length>0,E=L;if(L)W=W[0];var B=E?W.position():{x:0,y:0};if(q={x:M.x-B.x,y:M.y-B.y},J===void 0)return q;else return q[J]}else if(!K)return;return this}};e8.modelPosition=e8.point=e8.position;e8.modelPositions=e8.points=e8.positions;e8.renderedPoint=e8.renderedPosition;e8.relativePoint=e8.relativePosition;var wR=jK,pQ,i9;pQ=i9={};i9.renderedBoundingBox=function(Q){var J=this.boundingBox(Q),Z=this.cy(),U=Z.zoom(),$=Z.pan(),q=J.x1*U+$.x,K=J.x2*U+$.x,G=J.y1*U+$.y,Y=J.y2*U+$.y;return{x1:q,x2:K,y1:G,y2:Y,w:K-q,h:Y-G}};i9.dirtyCompoundBoundsCache=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;return this.forEachUp(function(Z){if(Z.isParent()){var U=Z._private;if(U.compoundBoundsClean=!1,U.bbCache=null,!Q)Z.emitAndNotify(\"bounds\")}}),this};i9.updateCompoundBounds=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;if(!Q&&J.batching())return this;function Z(K){if(!K.isParent())return;var G=K._private,Y=K.children(),F=K.pstyle(\"compound-sizing-wrt-labels\").value===\"include\",X={width:{val:K.pstyle(\"min-width\").pfValue,left:K.pstyle(\"min-width-bias-left\"),right:K.pstyle(\"min-width-bias-right\")},height:{val:K.pstyle(\"min-height\").pfValue,top:K.pstyle(\"min-height-bias-top\"),bottom:K.pstyle(\"min-height-bias-bottom\")}},H=Y.boundingBox({includeLabels:F,includeOverlays:!1,useCache:!1}),N=G.position;if(H.w===0||H.h===0)H={w:K.pstyle(\"width\").pfValue,h:K.pstyle(\"height\").pfValue},H.x1=N.x-H.w/2,H.x2=N.x+H.w/2,H.y1=N.y-H.h/2,H.y2=N.y+H.h/2;function z(I,T,P){var k=0,j=0,_=T+P;if(I>0&&_>0)k=T/_*I,j=P/_*I;return{biasDiff:k,biasComplementDiff:j}}function M(I,T,P,k){if(P.units===\"%\")switch(k){case\"width\":return I>0?P.pfValue*I:0;case\"height\":return T>0?P.pfValue*T:0;case\"average\":return I>0&&T>0?P.pfValue*(I+T)/2:0;case\"min\":return I>0&&T>0?I>T?P.pfValue*T:P.pfValue*I:0;case\"max\":return I>0&&T>0?I>T?P.pfValue*I:P.pfValue*T:0;default:return 0}else if(P.units===\"px\")return P.pfValue;else return 0}var W=X.width.left.value;if(X.width.left.units===\"px\"&&X.width.val>0)W=W*100/X.width.val;var L=X.width.right.value;if(X.width.right.units===\"px\"&&X.width.val>0)L=L*100/X.width.val;var E=X.height.top.value;if(X.height.top.units===\"px\"&&X.height.val>0)E=E*100/X.height.val;var B=X.height.bottom.value;if(X.height.bottom.units===\"px\"&&X.height.val>0)B=B*100/X.height.val;var V=z(X.width.val-H.w,W,L),D=V.biasDiff,O=V.biasComplementDiff,A=z(X.height.val-H.h,E,B),R=A.biasDiff,C=A.biasComplementDiff;G.autoPadding=M(H.w,H.h,K.pstyle(\"padding\"),K.pstyle(\"padding-relative-to\").value),G.autoWidth=Math.max(H.w,X.width.val),N.x=(-D+H.x1+H.x2+O)/2,G.autoHeight=Math.max(H.h,X.height.val),N.y=(-R+H.y1+H.y2+C)/2}for(var U=0;U<this.length;U++){var $=this[U],q=$._private;if(!q.compoundBoundsClean||Q){if(Z($),!J.batching())q.compoundBoundsClean=!0}}return this};var l8=function Q(J){if(J===1/0||J===-1/0)return 0;return J},t8=function Q(J,Z,U,$,q){if($-Z===0||q-U===0)return;if(Z==null||U==null||$==null||q==null)return;J.x1=Z<J.x1?Z:J.x1,J.x2=$>J.x2?$:J.x2,J.y1=U<J.y1?U:J.y1,J.y2=q>J.y2?q:J.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},_9=function Q(J,Z){if(Z==null)return J;return t8(J,Z.x1,Z.y1,Z.x2,Z.y2)},EZ=function Q(J,Z,U){return b8(J,Z,U)},v6=function Q(J,Z,U){if(Z.cy().headless())return;var $=Z._private,q=$.rstyle,K=q.arrowWidth/2,G=Z.pstyle(U+\"-arrow-shape\").value,Y,F;if(G!==\"none\"){if(U===\"source\")Y=q.srcX,F=q.srcY;else if(U===\"target\")Y=q.tgtX,F=q.tgtY;else Y=q.midX,F=q.midY;var X=$.arrowBounds=$.arrowBounds||{},H=X[U]=X[U]||{};H.x1=Y-K,H.y1=F-K,H.x2=Y+K,H.y2=F+K,H.w=H.x2-H.x1,H.h=H.y2-H.y1,g6(H,1),t8(J,H.x1,H.y1,H.x2,H.y2)}},w0=function Q(J,Z,U){if(Z.cy().headless())return;var $;if(U)$=U+\"-\";else $=\"\";var q=Z._private,K=q.rstyle,G=Z.pstyle($+\"label\").strValue;if(G){var Y=Z.pstyle(\"text-halign\"),F=Z.pstyle(\"text-valign\"),X=EZ(K,\"labelWidth\",U),H=EZ(K,\"labelHeight\",U),N=EZ(K,\"labelX\",U),z=EZ(K,\"labelY\",U),M=Z.pstyle($+\"text-margin-x\").pfValue,W=Z.pstyle($+\"text-margin-y\").pfValue,L=Z.isEdge(),E=Z.pstyle($+\"text-rotation\"),B=Z.pstyle(\"text-outline-width\").pfValue,V=Z.pstyle(\"text-border-width\").pfValue,D=V/2,O=Z.pstyle(\"text-background-padding\").pfValue,A=2,R=H,C=X,I=C/2,T=R/2,P,k,j,_;if(L)P=N-I,k=N+I,j=z-T,_=z+T;else{switch(Y.value){case\"left\":P=N-C,k=N;break;case\"center\":P=N-I,k=N+I;break;case\"right\":P=N,k=N+C;break}switch(F.value){case\"top\":j=z-R,_=z;break;case\"center\":j=z-T,_=z+T;break;case\"bottom\":j=z,_=z+R;break}}var x=M-Math.max(B,D)-O-A,f=M+Math.max(B,D)+O+A,v=W-Math.max(B,D)-O-A,b=W+Math.max(B,D)+O+A;P+=x,k+=f,j+=v,_+=b;var y=U||\"main\",g=q.labelBounds,m=g[y]=g[y]||{};m.x1=P,m.y1=j,m.x2=k,m.y2=_,m.w=k-P,m.h=_-j,m.leftPad=x,m.rightPad=f,m.topPad=v,m.botPad=b;var u=L&&E.strValue===\"autorotate\",n=E.pfValue!=null&&E.pfValue!==0;if(u||n){var t=u?EZ(q.rstyle,\"labelAngle\",U):E.pfValue,s=Math.cos(t),JJ=Math.sin(t),ZJ=(P+k)/2,qJ=(j+_)/2;if(!L){switch(Y.value){case\"left\":ZJ=k;break;case\"right\":ZJ=P;break}switch(F.value){case\"top\":qJ=_;break;case\"bottom\":qJ=j;break}}var e=function xJ(CJ,RJ){return CJ=CJ-ZJ,RJ=RJ-qJ,{x:CJ*s-RJ*JJ+ZJ,y:CJ*JJ+RJ*s+qJ}},h=e(P,j),d=e(P,_),p=e(k,j),r=e(k,_);P=Math.min(h.x,d.x,p.x,r.x),k=Math.max(h.x,d.x,p.x,r.x),j=Math.min(h.y,d.y,p.y,r.y),_=Math.max(h.y,d.y,p.y,r.y)}var UJ=y+\"Rot\",MJ=g[UJ]=g[UJ]||{};MJ.x1=P,MJ.y1=j,MJ.x2=k,MJ.y2=_,MJ.w=k-P,MJ.h=_-j,t8(J,P,j,k,_),t8(q.labelBounds.all,P,j,k,_)}return J},aq=function Q(J,Z){if(Z.cy().headless())return;var U=Z.pstyle(\"outline-opacity\").value,$=Z.pstyle(\"outline-width\").value,q=Z.pstyle(\"outline-offset\").value,K=$+q;_K(J,Z,U,K,\"outside\",K/2)},_K=function Q(J,Z,U,$,q,K){if(U===0||$<=0||q===\"inside\")return;var G=Z.cy(),Y=Z.pstyle(\"shape\").value,F=G.renderer().nodeShapes[Y],X=Z.position(),H=X.x,N=X.y,z=Z.width(),M=Z.height();if(F.hasMiterBounds){if(q===\"center\")$/=2;var W=F.miterBounds(H,N,z,M,$);_9(J,W)}else if(K!=null&&K>0)d6(J,[K,K,K,K])},_R=function Q(J,Z){if(Z.cy().headless())return;var U=Z.pstyle(\"border-opacity\").value,$=Z.pstyle(\"border-width\").pfValue,q=Z.pstyle(\"border-position\").value;_K(J,Z,U,$,q)},vR=function Q(J,Z){var U=J._private.cy,$=U.styleEnabled(),q=U.headless(),K=w8(),G=J._private,Y=J.isNode(),F=J.isEdge(),X,H,N,z,M,W,L=G.rstyle,E=Y&&$?J.pstyle(\"bounds-expansion\").pfValue:[0],B=function MJ(xJ){return xJ.pstyle(\"display\").value!==\"none\"},V=!$||B(J)&&(!F||B(J.source())&&B(J.target()));if(V){var D=0,O=0;if($&&Z.includeOverlays){if(D=J.pstyle(\"overlay-opacity\").value,D!==0)O=J.pstyle(\"overlay-padding\").value}var A=0,R=0;if($&&Z.includeUnderlays){if(A=J.pstyle(\"underlay-opacity\").value,A!==0)R=J.pstyle(\"underlay-padding\").value}var C=Math.max(O,R),I=0,T=0;if($)I=J.pstyle(\"width\").pfValue,T=I/2;if(Y&&Z.includeNodes){var P=J.position();M=P.x,W=P.y;var k=J.outerWidth(),j=k/2,_=J.outerHeight(),x=_/2;if(X=M-j,H=M+j,N=W-x,z=W+x,t8(K,X,N,H,z),$)aq(K,J);if($&&Z.includeOutlines&&!q)aq(K,J);if($)_R(K,J)}else if(F&&Z.includeEdges)if($&&!q){var f=J.pstyle(\"curve-style\").strValue;if(X=Math.min(L.srcX,L.midX,L.tgtX),H=Math.max(L.srcX,L.midX,L.tgtX),N=Math.min(L.srcY,L.midY,L.tgtY),z=Math.max(L.srcY,L.midY,L.tgtY),X-=T,H+=T,N-=T,z+=T,t8(K,X,N,H,z),f===\"haystack\"){var v=L.haystackPts;if(v&&v.length===2){if(X=v[0].x,N=v[0].y,H=v[1].x,z=v[1].y,X>H){var b=X;X=H,H=b}if(N>z){var y=N;N=z,z=y}t8(K,X-T,N-T,H+T,z+T)}}else if(f===\"bezier\"||f===\"unbundled-bezier\"||v9(f,\"segments\")||v9(f,\"taxi\")){var g;switch(f){case\"bezier\":case\"unbundled-bezier\":g=L.bezierPts;break;case\"segments\":case\"taxi\":case\"round-segments\":case\"round-taxi\":g=L.linePts;break}if(g!=null)for(var m=0;m<g.length;m++){var u=g[m];X=u.x-T,H=u.x+T,N=u.y-T,z=u.y+T,t8(K,X,N,H,z)}}}else{var n=J.source(),t=n.position(),s=J.target(),JJ=s.position();if(X=t.x,H=JJ.x,N=t.y,z=JJ.y,X>H){var ZJ=X;X=H,H=ZJ}if(N>z){var qJ=N;N=z,z=qJ}X-=T,H+=T,N-=T,z+=T,t8(K,X,N,H,z)}if($&&Z.includeEdges&&F)v6(K,J,\"mid-source\"),v6(K,J,\"mid-target\"),v6(K,J,\"source\"),v6(K,J,\"target\");if($){var e=J.pstyle(\"ghost\").value===\"yes\";if(e){var h=J.pstyle(\"ghost-offset-x\").pfValue,d=J.pstyle(\"ghost-offset-y\").pfValue;t8(K,K.x1+h,K.y1+d,K.x2+h,K.y2+d)}}var p=G.bodyBounds=G.bodyBounds||{};if(f4(p,K),d6(p,E),g6(p,1),$)X=K.x1,H=K.x2,N=K.y1,z=K.y2,t8(K,X-C,N-C,H+C,z+C);var r=G.overlayBounds=G.overlayBounds||{};f4(r,K),d6(r,E),g6(r,1);var UJ=G.labelBounds=G.labelBounds||{};if(UJ.all!=null)zV(UJ.all);else UJ.all=w8();if($&&Z.includeLabels){if(Z.includeMainLabels)w0(K,J,null);if(F){if(Z.includeSourceLabels)w0(K,J,\"source\");if(Z.includeTargetLabels)w0(K,J,\"target\")}}}if(K.x1=l8(K.x1),K.y1=l8(K.y1),K.x2=l8(K.x2),K.y2=l8(K.y2),K.w=l8(K.x2-K.x1),K.h=l8(K.y2-K.y1),K.w>0&&K.h>0&&V)d6(K,E),g6(K,1);return K},vK=function Q(J){var Z=0,U=function q(K){return(K?1:0)<<Z++},$=0;return $+=U(J.incudeNodes),$+=U(J.includeEdges),$+=U(J.includeLabels),$+=U(J.includeMainLabels),$+=U(J.includeSourceLabels),$+=U(J.includeTargetLabels),$+=U(J.includeOverlays),$+=U(J.includeOutlines),$},fK=function Q(J){var Z=function K(G){return Math.round(G)};if(J.isEdge()){var U=J.source().position(),$=J.target().position();return P4([Z(U.x),Z(U.y),Z($.x),Z($.y)])}else{var q=J.position();return P4([Z(q.x),Z(q.y)])}},rq=function Q(J,Z){var U=J._private,$,q=J.isEdge(),K=Z==null?oq:vK(Z),G=K===oq;if(U.bbCache==null)$=vR(J,xZ),U.bbCache=$,U.bbCachePosKey=fK(J);else $=U.bbCache;if(!G){var Y=J.isNode();if($=w8(),Z.includeNodes&&Y||Z.includeEdges&&!Y)if(Z.includeOverlays)_9($,U.overlayBounds);else _9($,U.bodyBounds);if(Z.includeLabels)if(Z.includeMainLabels&&(!q||Z.includeSourceLabels&&Z.includeTargetLabels))_9($,U.labelBounds.all);else{if(Z.includeMainLabels)_9($,U.labelBounds.mainRot);if(Z.includeSourceLabels)_9($,U.labelBounds.sourceRot);if(Z.includeTargetLabels)_9($,U.labelBounds.targetRot)}$.w=$.x2-$.x1,$.h=$.y2-$.y1}return $},xZ={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},oq=vK(xZ),tq=A8(xZ);i9.boundingBox=function(Q){var J,Z=Q===void 0||Q.useCache===void 0||Q.useCache===!0,U=lQ(function(X){var H=X._private;return H.bbCache==null||H.styleDirty||H.bbCachePosKey!==fK(X)},function(X){return X.id()});if(Z&&this.length===1&&!U(this[0])){if(Q===void 0)Q=xZ;else Q=tq(Q);J=rq(this[0],Q)}else{J=w8(),Q=Q||xZ;var $=tq(Q),q=this,K=q.cy(),G=K.styleEnabled();if(this.edges().forEach(U),this.nodes().forEach(U),G)this.recalculateRenderedStyle(Z);this.updateCompoundBounds(!Z);for(var Y=0;Y<q.length;Y++){var F=q[Y];if(U(F))F.dirtyBoundingBoxCache();_9(J,rq(F,$))}}return J.x1=l8(J.x1),J.y1=l8(J.y1),J.x2=l8(J.x2),J.y2=l8(J.y2),J.w=l8(J.x2-J.x1),J.h=l8(J.y2-J.y1),J};i9.dirtyBoundingBoxCache=function(){for(var Q=0;Q<this.length;Q++){var J=this[Q]._private;J.bbCache=null,J.bbCachePosKey=null,J.bodyBounds=null,J.overlayBounds=null,J.labelBounds.all=null,J.labelBounds.source=null,J.labelBounds.target=null,J.labelBounds.main=null,J.labelBounds.sourceRot=null,J.labelBounds.targetRot=null,J.labelBounds.mainRot=null,J.arrowBounds.source=null,J.arrowBounds.target=null,J.arrowBounds[\"mid-source\"]=null,J.arrowBounds[\"mid-target\"]=null}return this.emitAndNotify(\"bounds\"),this};i9.boundingBoxAt=function(Q){var J=this.nodes(),Z=this.cy(),U=Z.hasCompoundNodes(),$=Z.collection();if(U)$=J.filter(function(F){return F.isParent()}),J=J.not($);if(yJ(Q)){var q=Q;Q=function F(){return q}}var K=function F(X,H){return X._private.bbAtOldPos=Q(X,H)},G=function F(X){return X._private.bbAtOldPos};if(Z.startBatch(),J.forEach(K).silentPositions(Q),U)$.dirtyCompoundBoundsCache(),$.dirtyBoundingBoxCache(),$.updateCompoundBounds(!0);var Y=MV(this.boundingBox({useCache:!1}));if(J.silentPositions(G),U)$.dirtyCompoundBoundsCache(),$.dirtyBoundingBoxCache(),$.updateCompoundBounds(!0);return Z.endBatch(),Y};pQ.boundingbox=pQ.bb=pQ.boundingBox;pQ.renderedBoundingbox=pQ.renderedBoundingBox;var fR=i9,CZ,iZ;CZ=iZ={};var xK=function Q(J){J.uppercaseName=M4(J.name),J.autoName=\"auto\"+J.uppercaseName,J.labelName=\"label\"+J.uppercaseName,J.outerName=\"outer\"+J.uppercaseName,J.uppercaseOuterName=M4(J.outerName),CZ[J.name]=function Z(){var U=this[0],$=U._private,q=$.cy,K=q._private.styleEnabled;if(U)if(K){if(U.isParent())return U.updateCompoundBounds(),$[J.autoName]||0;var G=U.pstyle(J.name);switch(G.strValue){case\"label\":return U.recalculateRenderedStyle(),$.rstyle[J.labelName]||0;default:return G.pfValue}}else return 1},CZ[\"outer\"+J.uppercaseName]=function Z(){var U=this[0],$=U._private,q=$.cy,K=q._private.styleEnabled;if(U)if(K){var G=U[J.name](),Y=U.pstyle(\"border-position\").value,F;if(Y===\"center\")F=U.pstyle(\"border-width\").pfValue;else if(Y===\"outside\")F=2*U.pstyle(\"border-width\").pfValue;else F=0;var X=2*U.padding();return G+F+X}else return 1},CZ[\"rendered\"+J.uppercaseName]=function Z(){var U=this[0];if(U){var $=U[J.name]();return $*this.cy().zoom()}},CZ[\"rendered\"+J.uppercaseOuterName]=function Z(){var U=this[0];if(U){var $=U[J.outerName]();return $*this.cy().zoom()}}};xK({name:\"width\"});xK({name:\"height\"});iZ.padding=function(){var Q=this[0],J=Q._private;if(Q.isParent())if(Q.updateCompoundBounds(),J.autoPadding!==void 0)return J.autoPadding;else return Q.pstyle(\"padding\").pfValue;else return Q.pstyle(\"padding\").pfValue};iZ.paddedHeight=function(){var Q=this[0];return Q.height()+2*Q.padding()};iZ.paddedWidth=function(){var Q=this[0];return Q.width()+2*Q.padding()};var xR=iZ,bR=function Q(J,Z){if(J.isEdge()&&J.takesUpSpace())return Z(J)},mR=function Q(J,Z){if(J.isEdge()&&J.takesUpSpace()){var U=J.cy();return z7(Z(J),U.zoom(),U.pan())}},yR=function Q(J,Z){if(J.isEdge()&&J.takesUpSpace()){var U=J.cy(),$=U.pan(),q=U.zoom();return Z(J).map(function(K){return z7(K,q,$)})}},hR=function Q(J){return J.renderer().getControlPoints(J)},uR=function Q(J){return J.renderer().getSegmentPoints(J)},gR=function Q(J){return J.renderer().getSourceEndpoint(J)},dR=function Q(J){return J.renderer().getTargetEndpoint(J)},cR=function Q(J){return J.renderer().getEdgeMidpoint(J)},eq={controlPoints:{get:hR,mult:!0},segmentPoints:{get:uR,mult:!0},sourceEndpoint:{get:gR},targetEndpoint:{get:dR},midpoint:{get:cR}},pR=function Q(J){return\"rendered\"+J[0].toUpperCase()+J.substr(1)},lR=Object.keys(eq).reduce(function(Q,J){var Z=eq[J],U=pR(J);if(Q[J]=function(){return bR(this,Z.get)},Z.mult)Q[U]=function(){return yR(this,Z.get)};else Q[U]=function(){return mR(this,Z.get)};return Q},{}),iR=DJ({},wR,fR,xR,lR);/*!\nEvent object based on jQuery events, MIT license\n\nhttps://jquery.org/license/\nhttps://tldrlegal.com/license/mit-license\nhttps://github.com/jquery/jquery/blob/master/src/event.js\n*/var bK=function Q(J,Z){this.recycle(J,Z)};function BZ(){return!1}function f6(){return!0}bK.prototype={instanceString:function Q(){return\"event\"},recycle:function Q(J,Z){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=BZ,J!=null&&J.preventDefault)this.type=J.type,this.isDefaultPrevented=J.defaultPrevented?f6:BZ;else if(J!=null&&J.type)Z=J;else this.type=J;if(Z!=null)this.originalEvent=Z.originalEvent,this.type=Z.type!=null?Z.type:this.type,this.cy=Z.cy,this.target=Z.target,this.position=Z.position,this.renderedPosition=Z.renderedPosition,this.namespace=Z.namespace,this.layout=Z.layout;if(this.cy!=null&&this.position!=null&&this.renderedPosition==null){var U=this.position,$=this.cy.zoom(),q=this.cy.pan();this.renderedPosition={x:U.x*$+q.x,y:U.y*$+q.y}}this.timeStamp=J&&J.timeStamp||Date.now()},preventDefault:function Q(){this.isDefaultPrevented=f6;var J=this.originalEvent;if(!J)return;if(J.preventDefault)J.preventDefault()},stopPropagation:function Q(){this.isPropagationStopped=f6;var J=this.originalEvent;if(!J)return;if(J.stopPropagation)J.stopPropagation()},stopImmediatePropagation:function Q(){this.isImmediatePropagationStopped=f6,this.stopPropagation()},isDefaultPrevented:BZ,isPropagationStopped:BZ,isImmediatePropagationStopped:BZ};var mK=/^([^.]+)(\\.(?:[^.]+))?$/,nR=\".*\",yK={qualifierCompare:function Q(J,Z){return J===Z},eventMatches:function Q(){return!0},addEventFields:function Q(){},callbackContext:function Q(J){return J},beforeEmit:function Q(){},afterEmit:function Q(){},bubble:function Q(){return!1},parent:function Q(){return null},context:null},J1=Object.keys(yK),sR={};function R7(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sR,J=arguments.length>1?arguments[1]:void 0;for(var Z=0;Z<J1.length;Z++){var U=J1[Z];this[U]=Q[U]||yK[U]}this.context=J||this.context,this.listeners=[],this.emitting=0}var c9=R7.prototype,hK=function Q(J,Z,U,$,q,K,G){if(Q8($))q=$,$=null;if(G)if(K==null)K=G;else K=DJ({},K,G);var Y=nJ(U)?U:U.split(/\\s+/);for(var F=0;F<Y.length;F++){var X=Y[F];if(y9(X))continue;var H=X.match(mK);if(H){var N=H[1],z=H[2]?H[2]:null,M=Z(J,X,N,z,$,q,K);if(M===!1)break}}},Q1=function Q(J,Z){return J.addEventFields(J.context,Z),new bK(Z.type,Z)},aR=function Q(J,Z,U){if(Q2(U)){Z(J,U);return}else if(yJ(U)){Z(J,Q1(J,U));return}var $=nJ(U)?U:U.split(/\\s+/);for(var q=0;q<$.length;q++){var K=$[q];if(y9(K))continue;var G=K.match(mK);if(G){var Y=G[1],F=G[2]?G[2]:null,X=Q1(J,{type:Y,namespace:F,target:J.context});Z(J,X)}}};c9.on=c9.addListener=function(Q,J,Z,U,$){return hK(this,function(q,K,G,Y,F,X,H){if(Q8(X))q.listeners.push({event:K,callback:X,type:G,namespace:Y,qualifier:F,conf:H})},Q,J,Z,U,$),this};c9.one=function(Q,J,Z,U){return this.on(Q,J,Z,U,{one:!0})};c9.removeListener=c9.off=function(Q,J,Z,U){var $=this;if(this.emitting!==0)this.listeners=m2(this.listeners);var q=this.listeners,K=function Y(F){var X=q[F];hK($,function(H,N,z,M,W,L){if((X.type===z||Q===\"*\")&&(!M&&X.namespace!==\".*\"||X.namespace===M)&&(!W||H.qualifierCompare(X.qualifier,W))&&(!L||X.callback===L))return q.splice(F,1),!1},Q,J,Z,U)};for(var G=q.length-1;G>=0;G--)K(G);return this};c9.removeAllListeners=function(){return this.removeListener(\"*\")};c9.emit=c9.trigger=function(Q,J,Z){var U=this.listeners,$=U.length;if(this.emitting++,!nJ(J))J=[J];return aR(this,function(q,K){if(Z!=null)U=[{event:K.event,type:K.type,namespace:K.namespace,callback:Z}],$=U.length;var G=function F(){var X=U[Y];if(X.type===K.type&&(!X.namespace||X.namespace===K.namespace||X.namespace===nR)&&q.eventMatches(q.context,X,K)){var H=[K];if(J!=null)h2(H,J);if(q.beforeEmit(q.context,X,K),X.conf&&X.conf.one)q.listeners=q.listeners.filter(function(M){return M!==X});var N=q.callbackContext(q.context,X,K),z=X.callback.apply(N,H);if(q.afterEmit(q.context,X,K),z===!1)K.stopPropagation(),K.preventDefault()}};for(var Y=0;Y<$;Y++)G();if(q.bubble(q.context)&&!K.isPropagationStopped())q.parent(q.context).emit(K,J)},Q),this.emitting--,this};var rR={qualifierCompare:function Q(J,Z){if(J==null||Z==null)return J==null&&Z==null;else return J.sameText(Z)},eventMatches:function Q(J,Z,U){var $=Z.qualifier;if($!=null)return J!==U.target&&uZ(U.target)&&$.matches(U.target);return!0},addEventFields:function Q(J,Z){Z.cy=J.cy(),Z.target=J},callbackContext:function Q(J,Z,U){return Z.qualifier!=null?U.target:J},beforeEmit:function Q(J,Z){if(Z.conf&&Z.conf.once)Z.conf.onceCollection.removeListener(Z.event,Z.qualifier,Z.callback)},bubble:function Q(){return!0},parent:function Q(J){return J.isChild()?J.parent():J.cy()}},x6=function Q(J){if(WJ(J))return new g9(J);else return J},uK={createEmitter:function Q(){for(var J=0;J<this.length;J++){var Z=this[J],U=Z._private;if(!U.emitter)U.emitter=new R7(rR,Z)}return this},emitter:function Q(){return this._private.emitter},on:function Q(J,Z,U){var $=x6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().on(J,$,U)}return this},removeListener:function Q(J,Z,U){var $=x6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().removeListener(J,$,U)}return this},removeAllListeners:function Q(){for(var J=0;J<this.length;J++){var Z=this[J];Z.emitter().removeAllListeners()}return this},one:function Q(J,Z,U){var $=x6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().one(J,$,U)}return this},once:function Q(J,Z,U){var $=x6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().on(J,$,U,{once:!0,onceCollection:this})}},emit:function Q(J,Z){for(var U=0;U<this.length;U++){var $=this[U];$.emitter().emit(J,Z)}return this},emitAndNotify:function Q(J,Z){if(this.length===0)return;return this.cy().notify(J,this),this.emit(J,Z),this}};pJ.eventAliasesOn(uK);var gK={nodes:function Q(J){return this.filter(function(Z){return Z.isNode()}).filter(J)},edges:function Q(J){return this.filter(function(Z){return Z.isEdge()}).filter(J)},byGroup:function Q(){var J=this.spawn(),Z=this.spawn();for(var U=0;U<this.length;U++){var $=this[U];if($.isNode())J.push($);else Z.push($)}return{nodes:J,edges:Z}},filter:function Q(J,Z){if(J===void 0)return this;else if(WJ(J)||h8(J))return new g9(J).filter(this);else if(Q8(J)){var U=this.spawn(),$=this;for(var q=0;q<$.length;q++){var K=$[q],G=Z?J.apply(Z,[K,q,$]):J(K,q,$);if(G)U.push(K)}return U}return this.spawn()},not:function Q(J){if(!J)return this;else{if(WJ(J))J=this.filter(J);var Z=this.spawn();for(var U=0;U<this.length;U++){var $=this[U],q=J.has($);if(!q)Z.push($)}return Z}},absoluteComplement:function Q(){var J=this.cy();return J.mutableElements().not(this)},intersect:function Q(J){if(WJ(J)){var Z=J;return this.filter(Z)}var U=this.spawn(),$=this,q=J,K=this.length<J.length,G=K?$:q,Y=K?q:$;for(var F=0;F<G.length;F++){var X=G[F];if(Y.has(X))U.push(X)}return U},xor:function Q(J){var Z=this._private.cy;if(WJ(J))J=Z.$(J);var U=this.spawn(),$=this,q=J,K=function G(Y,F){for(var X=0;X<Y.length;X++){var H=Y[X],N=H._private.data.id,z=F.hasElementWithId(N);if(!z)U.push(H)}};return K($,q),K(q,$),U},diff:function Q(J){var Z=this._private.cy;if(WJ(J))J=Z.$(J);var U=this.spawn(),$=this.spawn(),q=this.spawn(),K=this,G=J,Y=function F(X,H,N){for(var z=0;z<X.length;z++){var M=X[z],W=M._private.data.id,L=H.hasElementWithId(W);if(L)q.merge(M);else N.push(M)}};return Y(K,G,U),Y(G,K,$),{left:U,right:$,both:q}},add:function Q(J){var Z=this._private.cy;if(!J)return this;if(WJ(J)){var U=J;J=Z.mutableElements().filter(U)}var $=this.spawnSelf();for(var q=0;q<J.length;q++){var K=J[q],G=!this.has(K);if(G)$.push(K)}return $},merge:function Q(J){var Z=this._private,U=Z.cy;if(!J)return this;if(J&&WJ(J)){var $=J;J=U.mutableElements().filter($)}var q=Z.map;for(var K=0;K<J.length;K++){var G=J[K],Y=G._private.data.id,F=!q.has(Y);if(F){var X=this.length++;this[X]=G,q.set(Y,{ele:G,index:X})}}return this},unmergeAt:function Q(J){var Z=this[J],U=Z.id(),$=this._private,q=$.map;this[J]=void 0,q.delete(U);var K=J===this.length-1;if(this.length>1&&!K){var G=this.length-1,Y=this[G],F=Y._private.data.id;this[G]=void 0,this[J]=Y,q.set(F,{ele:Y,index:J})}return this.length--,this},unmergeOne:function Q(J){J=J[0];var Z=this._private,U=J._private.data.id,$=Z.map,q=$.get(U);if(!q)return this;var K=q.index;return this.unmergeAt(K),this},unmerge:function Q(J){var Z=this._private.cy;if(!J)return this;if(J&&WJ(J)){var U=J;J=Z.mutableElements().filter(U)}for(var $=0;$<J.length;$++)this.unmergeOne(J[$]);return this},unmergeBy:function Q(J){for(var Z=this.length-1;Z>=0;Z--){var U=this[Z];if(J(U))this.unmergeAt(Z)}return this},map:function Q(J,Z){var U=[],$=this;for(var q=0;q<$.length;q++){var K=$[q],G=Z?J.apply(Z,[K,q,$]):J(K,q,$);U.push(G)}return U},reduce:function Q(J,Z){var U=Z,$=this;for(var q=0;q<$.length;q++)U=J(U,$[q],q,$);return U},max:function Q(J,Z){var U=-1/0,$,q=this;for(var K=0;K<q.length;K++){var G=q[K],Y=Z?J.apply(Z,[G,K,q]):J(G,K,q);if(Y>U)U=Y,$=G}return{value:U,ele:$}},min:function Q(J,Z){var U=1/0,$,q=this;for(var K=0;K<q.length;K++){var G=q[K],Y=Z?J.apply(Z,[G,K,q]):J(G,K,q);if(Y<U)U=Y,$=G}return{value:U,ele:$}}},hJ=gK;hJ.u=hJ[\"|\"]=hJ[\"+\"]=hJ.union=hJ.or=hJ.add;hJ[\"\\\\\"]=hJ[\"!\"]=hJ[\"-\"]=hJ.difference=hJ.relativeComplement=hJ.subtract=hJ.not;hJ.n=hJ[\"&\"]=hJ[\".\"]=hJ.and=hJ.intersection=hJ.intersect;hJ[\"^\"]=hJ[\"(+)\"]=hJ[\"(-)\"]=hJ.symmetricDifference=hJ.symdiff=hJ.xor;hJ.fnFilter=hJ.filterFn=hJ.stdFilter=hJ.filter;hJ.complement=hJ.abscomp=hJ.absoluteComplement;var oR={isNode:function Q(){return this.group()===\"nodes\"},isEdge:function Q(){return this.group()===\"edges\"},isLoop:function Q(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function Q(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function Q(){var J=this[0];if(J)return J._private.group}},dK=function Q(J,Z){var U=J.cy(),$=U.hasCompoundNodes();function q(X){var H=X.pstyle(\"z-compound-depth\");if(H.value===\"auto\")return $?X.zDepth():0;else if(H.value===\"bottom\")return-1;else if(H.value===\"top\")return NU;return 0}var K=q(J)-q(Z);if(K!==0)return K;function G(X){var H=X.pstyle(\"z-index-compare\");if(H.value===\"auto\")return X.isNode()?1:0;return 0}var Y=G(J)-G(Z);if(Y!==0)return Y;var F=J.pstyle(\"z-index\").value-Z.pstyle(\"z-index\").value;if(F!==0)return F;return J.poolIndex()-Z.poolIndex()},$7={forEach:function Q(J,Z){if(Q8(J)){var U=this.length;for(var $=0;$<U;$++){var q=this[$],K=Z?J.apply(Z,[q,$,this]):J(q,$,this);if(K===!1)break}}return this},toArray:function Q(){var J=[];for(var Z=0;Z<this.length;Z++)J.push(this[Z]);return J},slice:function Q(J,Z){var U=[],$=this.length;if(Z==null)Z=$;if(J==null)J=0;if(J<0)J=$+J;if(Z<0)Z=$+Z;for(var q=J;q>=0&&q<Z&&q<$;q++)U.push(this[q]);return this.spawn(U)},size:function Q(){return this.length},eq:function Q(J){return this[J]||this.spawn()},first:function Q(){return this[0]||this.spawn()},last:function Q(){return this[this.length-1]||this.spawn()},empty:function Q(){return this.length===0},nonempty:function Q(){return!this.empty()},sort:function Q(J){if(!Q8(J))return this;var Z=this.toArray().sort(J);return this.spawn(Z)},sortByZIndex:function Q(){return this.sort(dK)},zDepth:function Q(){var J=this[0];if(!J)return;var Z=J._private,U=Z.group;if(U===\"nodes\"){var $=Z.data.parent?J.parents().size():0;if(!J.isParent())return NU-1;return $}else{var{source:q,target:K}=Z,G=q.zDepth(),Y=K.zDepth();return Math.max(G,Y,0)}}};$7.each=$7.forEach;var tR=function Q(){var J=\"undefined\",Z=(typeof Symbol===\"undefined\"?\"undefined\":M8(Symbol))!=J&&M8(Symbol.iterator)!=J;if(Z)$7[Symbol.iterator]=function(){var U=this,$={value:void 0,done:!1},q=0,K=this.length;return u1({next:function G(){if(q<K)$.value=U[q++];else $.value=void 0,$.done=!0;return $}},Symbol.iterator,function(){return this})}};tR();var eR=A8({nodeDimensionsIncludeLabels:!1}),p6={layoutDimensions:function Q(J){J=eR(J);var Z;if(!this.takesUpSpace())Z={w:0,h:0};else if(J.nodeDimensionsIncludeLabels){var U=this.boundingBox();Z={w:U.w,h:U.h}}else Z={w:this.outerWidth(),h:this.outerHeight()};if(Z.w===0||Z.h===0)Z.w=Z.h=1;return Z},layoutPositions:function Q(J,Z,U){var $=this.nodes().filter(function(O){return!O.isParent()}),q=this.cy(),K=Z.eles,G=function O(A){return A.id()},Y=lQ(U,G);J.emit({type:\"layoutstart\",layout:J}),J.animations=[];var F=function O(A,R,C){var I={x:R.x1+R.w/2,y:R.y1+R.h/2},T={x:(C.x-I.x)*A,y:(C.y-I.y)*A};return{x:I.x+T.x,y:I.y+T.y}},X=Z.spacingFactor&&Z.spacingFactor!==1,H=function O(){if(!X)return null;var A=w8();for(var R=0;R<$.length;R++){var C=$[R],I=Y(C,R);KK(A,I.x,I.y)}return A},N=H(),z=lQ(function(O,A){var R=Y(O,A);if(X){var C=Math.abs(Z.spacingFactor);R=F(C,N,R)}if(Z.transform!=null)R=Z.transform(O,R);return R},G);if(Z.animate){for(var M=0;M<$.length;M++){var W=$[M],L=z(W,M),E=Z.animateFilter==null||Z.animateFilter(W,M);if(E){var B=W.animation({position:L,duration:Z.animationDuration,easing:Z.animationEasing});J.animations.push(B)}else W.position(L)}if(Z.fit){var V=q.animation({fit:{boundingBox:K.boundingBoxAt(z),padding:Z.padding},duration:Z.animationDuration,easing:Z.animationEasing});J.animations.push(V)}else if(Z.zoom!==void 0&&Z.pan!==void 0){var D=q.animation({zoom:Z.zoom,pan:Z.pan,duration:Z.animationDuration,easing:Z.animationEasing});J.animations.push(D)}J.animations.forEach(function(O){return O.play()}),J.one(\"layoutready\",Z.ready),J.emit({type:\"layoutready\",layout:J}),aQ.all(J.animations.map(function(O){return O.promise()})).then(function(){J.one(\"layoutstop\",Z.stop),J.emit({type:\"layoutstop\",layout:J})})}else{if($.positions(z),Z.fit)q.fit(Z.eles,Z.padding);if(Z.zoom!=null)q.zoom(Z.zoom);if(Z.pan)q.pan(Z.pan);J.one(\"layoutready\",Z.ready),J.emit({type:\"layoutready\",layout:J}),J.one(\"layoutstop\",Z.stop),J.emit({type:\"layoutstop\",layout:J})}return this},layout:function Q(J){var Z=this.cy();return Z.makeLayout(DJ({},J,{eles:this}))}};p6.createLayout=p6.makeLayout=p6.layout;function cK(Q,J,Z){var U=Z._private,$=U.styleCache=U.styleCache||[],q;if((q=$[Q])!=null)return q;else return q=$[Q]=J(Z),q}function O7(Q,J){return Q=HQ(Q),function Z(U){return cK(Q,J,U)}}function A7(Q,J){Q=HQ(Q);var Z=function U($){return J.call($)};return function U(){var $=this[0];if($)return cK(Q,Z,$)}}var R8={recalculateRenderedStyle:function Q(J){var Z=this.cy(),U=Z.renderer(),$=Z.styleEnabled();if(U&&$)U.recalculateRenderedStyle(this,J);return this},dirtyStyleCache:function Q(){var J=this.cy(),Z=function $(q){return q._private.styleCache=null};if(J.hasCompoundNodes()){var U=this.spawnSelf().merge(this.descendants()).merge(this.parents());U.merge(U.connectedEdges()),U.forEach(Z)}else this.forEach(function($){Z($),$.connectedEdges().forEach(Z)});return this},updateStyle:function Q(J){var Z=this._private.cy;if(!Z.styleEnabled())return this;if(Z.batching()){var U=Z._private.batchStyleEles;return U.merge(this),this}var $=Z.hasCompoundNodes(),q=this;if(J=J||J===void 0?!0:!1,$)q=this.spawnSelf().merge(this.descendants()).merge(this.parents());var K=q;if(J)K.emitAndNotify(\"style\");else K.emit(\"style\");return q.forEach(function(G){return G._private.styleDirty=!0}),this},cleanStyle:function Q(){var J=this.cy();if(!J.styleEnabled())return;for(var Z=0;Z<this.length;Z++){var U=this[Z];if(U._private.styleDirty)U._private.styleDirty=!1,J.style().apply(U)}},parsedStyle:function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=this[0],$=U.cy();if(!$.styleEnabled())return;if(U){if(U._private.styleDirty)U._private.styleDirty=!1,$.style().apply(U);var q=U._private.style[J];if(q!=null)return q;else if(Z)return $.style().getDefaultProperty(J);else return null}},numericStyle:function Q(J){var Z=this[0];if(!Z.cy().styleEnabled())return;if(Z){var U=Z.pstyle(J);return U.pfValue!==void 0?U.pfValue:U.value}},numericStyleUnits:function Q(J){var Z=this[0];if(!Z.cy().styleEnabled())return;if(Z)return Z.pstyle(J).units},renderedStyle:function Q(J){var Z=this.cy();if(!Z.styleEnabled())return this;var U=this[0];if(U)return Z.style().getRenderedStyle(U,J)},style:function Q(J,Z){var U=this.cy();if(!U.styleEnabled())return this;var $=!1,q=U.style();if(yJ(J)){var K=J;q.applyBypass(this,K,$),this.emitAndNotify(\"style\")}else if(WJ(J))if(Z===void 0){var G=this[0];if(G)return q.getStylePropertyValue(G,J);else return}else q.applyBypass(this,J,Z,$),this.emitAndNotify(\"style\");else if(J===void 0){var Y=this[0];if(Y)return q.getRawStyle(Y);else return}return this},removeStyle:function Q(J){var Z=this.cy();if(!Z.styleEnabled())return this;var U=!1,$=Z.style(),q=this;if(J===void 0)for(var K=0;K<q.length;K++){var G=q[K];$.removeAllBypasses(G,U)}else{J=J.split(/\\s+/);for(var Y=0;Y<q.length;Y++){var F=q[Y];$.removeBypasses(F,J,U)}}return this.emitAndNotify(\"style\"),this},show:function Q(){return this.css(\"display\",\"element\"),this},hide:function Q(){return this.css(\"display\",\"none\"),this},effectiveOpacity:function Q(){var J=this.cy();if(!J.styleEnabled())return 1;var Z=J.hasCompoundNodes(),U=this[0];if(U){var $=U._private,q=U.pstyle(\"opacity\").value;if(!Z)return q;var K=!$.data.parent?null:U.parents();if(K)for(var G=0;G<K.length;G++){var Y=K[G],F=Y.pstyle(\"opacity\").value;q=F*q}return q}},transparent:function Q(){var J=this.cy();if(!J.styleEnabled())return!1;var Z=this[0],U=Z.cy().hasCompoundNodes();if(Z)if(!U)return Z.pstyle(\"opacity\").value===0;else return Z.effectiveOpacity()===0},backgrounding:function Q(){var J=this.cy();if(!J.styleEnabled())return!1;var Z=this[0];return Z._private.backgrounding?!0:!1}};function _0(Q,J){var Z=Q._private,U=Z.data.parent?Q.parents():null;if(U)for(var $=0;$<U.length;$++){var q=U[$];if(!J(q))return!1}return!0}function CU(Q){var J=Q.ok,Z=Q.edgeOkViaNode||Q.ok,U=Q.parentOk||Q.ok;return function(){var $=this.cy();if(!$.styleEnabled())return!0;var q=this[0],K=$.hasCompoundNodes();if(q){var G=q._private;if(!J(q))return!1;if(q.isNode())return!K||_0(q,U);else{var{source:Y,target:F}=G;return Z(Y)&&(!K||_0(Y,Z))&&(Y===F||Z(F)&&(!K||_0(F,Z)))}}}}var rQ=O7(\"eleTakesUpSpace\",function(Q){return Q.pstyle(\"display\").value===\"element\"&&Q.width()!==0&&(Q.isNode()?Q.height()!==0:!0)});R8.takesUpSpace=A7(\"takesUpSpace\",CU({ok:rQ}));var JO=O7(\"eleInteractive\",function(Q){return Q.pstyle(\"events\").value===\"yes\"&&Q.pstyle(\"visibility\").value===\"visible\"&&rQ(Q)}),QO=O7(\"parentInteractive\",function(Q){return Q.pstyle(\"visibility\").value===\"visible\"&&rQ(Q)});R8.interactive=A7(\"interactive\",CU({ok:JO,parentOk:QO,edgeOkViaNode:rQ}));R8.noninteractive=function(){var Q=this[0];if(Q)return!Q.interactive()};var ZO=O7(\"eleVisible\",function(Q){return Q.pstyle(\"visibility\").value===\"visible\"&&Q.pstyle(\"opacity\").pfValue!==0&&rQ(Q)}),UO=rQ;R8.visible=A7(\"visible\",CU({ok:ZO,edgeOkViaNode:UO}));R8.hidden=function(){var Q=this[0];if(Q)return!Q.visible()};R8.isBundledBezier=A7(\"isBundledBezier\",function(){if(!this.cy().styleEnabled())return!1;return!this.removed()&&this.pstyle(\"curve-style\").value===\"bezier\"&&this.takesUpSpace()});R8.bypass=R8.css=R8.style;R8.renderedCss=R8.renderedStyle;R8.removeBypass=R8.removeCss=R8.removeStyle;R8.pstyle=R8.parsedStyle;var m9={};function Z1(Q){return function(){var J=arguments,Z=[];if(J.length===2){var U=J[0],$=J[1];this.on(Q.event,U,$)}else if(J.length===1&&Q8(J[0])){var q=J[0];this.on(Q.event,q)}else if(J.length===0||J.length===1&&nJ(J[0])){var K=J.length===1?J[0]:null;for(var G=0;G<this.length;G++){var Y=this[G],F=!Q.ableField||Y._private[Q.ableField],X=Y._private[Q.field]!=Q.value;if(Q.overrideAble){var H=Q.overrideAble(Y);if(H!==void 0){if(F=H,!H)return this}}if(F){if(Y._private[Q.field]=Q.value,X)Z.push(Y)}}var N=this.spawn(Z);if(N.updateStyle(),N.emit(Q.event),K)N.emit(K)}return this}}function oQ(Q){m9[Q.field]=function(){var J=this[0];if(J){if(Q.overrideField){var Z=Q.overrideField(J);if(Z!==void 0)return Z}return J._private[Q.field]}},m9[Q.on]=Z1({event:Q.on,field:Q.field,ableField:Q.ableField,overrideAble:Q.overrideAble,value:!0}),m9[Q.off]=Z1({event:Q.off,field:Q.field,ableField:Q.ableField,overrideAble:Q.overrideAble,value:!1})}oQ({field:\"locked\",overrideField:function Q(J){return J.cy().autolock()?!0:void 0},on:\"lock\",off:\"unlock\"});oQ({field:\"grabbable\",overrideField:function Q(J){return J.cy().autoungrabify()||J.pannable()?!1:void 0},on:\"grabify\",off:\"ungrabify\"});oQ({field:\"selected\",ableField:\"selectable\",overrideAble:function Q(J){return J.cy().autounselectify()?!1:void 0},on:\"select\",off:\"unselect\"});oQ({field:\"selectable\",overrideField:function Q(J){return J.cy().autounselectify()?!1:void 0},on:\"selectify\",off:\"unselectify\"});m9.deselect=m9.unselect;m9.grabbed=function(){var Q=this[0];if(Q)return Q._private.grabbed};oQ({field:\"active\",on:\"activate\",off:\"unactivate\"});oQ({field:\"pannable\",on:\"panify\",off:\"unpanify\"});m9.inactive=function(){var Q=this[0];if(Q)return!Q._private.active};var I8={},U1=function Q(J){return function Z(U){var $=this,q=[];for(var K=0;K<$.length;K++){var G=$[K];if(!G.isNode())continue;var Y=!1,F=G.connectedEdges();for(var X=0;X<F.length;X++){var H=F[X],N=H.source(),z=H.target();if(J.noIncomingEdges&&z===G&&N!==G||J.noOutgoingEdges&&N===G&&z!==G){Y=!0;break}}if(!Y)q.push(G)}return this.spawn(q,!0).filter(U)}},$1=function Q(J){return function(Z){var U=this,$=[];for(var q=0;q<U.length;q++){var K=U[q];if(!K.isNode())continue;var G=K.connectedEdges();for(var Y=0;Y<G.length;Y++){var F=G[Y],X=F.source(),H=F.target();if(J.outgoing&&X===K)$.push(F),$.push(H);else if(J.incoming&&H===K)$.push(F),$.push(X)}}return this.spawn($,!0).filter(Z)}},q1=function Q(J){return function(Z){var U=this,$=[],q={};for(;;){var K=J.outgoing?U.outgoers():U.incomers();if(K.length===0)break;var G=!1;for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F.id();if(!q[X])q[X]=!0,$.push(F),G=!0}if(!G)break;U=K}return this.spawn($,!0).filter(Z)}};I8.clearTraversalCache=function(){for(var Q=0;Q<this.length;Q++)this[Q]._private.traversalCache=null};DJ(I8,{roots:U1({noIncomingEdges:!0}),leaves:U1({noOutgoingEdges:!0}),outgoers:i8($1({outgoing:!0}),\"outgoers\"),successors:q1({outgoing:!0}),incomers:i8($1({incoming:!0}),\"incomers\"),predecessors:q1({})});DJ(I8,{neighborhood:i8(function(Q){var J=[],Z=this.nodes();for(var U=0;U<Z.length;U++){var $=Z[U],q=$.connectedEdges();for(var K=0;K<q.length;K++){var G=q[K],Y=G.source(),F=G.target(),X=$===Y?F:Y;if(X.length>0)J.push(X[0]);J.push(G[0])}}return this.spawn(J,!0).filter(Q)},\"neighborhood\"),closedNeighborhood:function Q(J){return this.neighborhood().add(this).filter(J)},openNeighborhood:function Q(J){return this.neighborhood(J)}});I8.neighbourhood=I8.neighborhood;I8.closedNeighbourhood=I8.closedNeighborhood;I8.openNeighbourhood=I8.openNeighborhood;DJ(I8,{source:i8(function Q(J){var Z=this[0],U;if(Z)U=Z._private.source||Z.cy().collection();return U&&J?U.filter(J):U},\"source\"),target:i8(function Q(J){var Z=this[0],U;if(Z)U=Z._private.target||Z.cy().collection();return U&&J?U.filter(J):U},\"target\"),sources:K1({attr:\"source\"}),targets:K1({attr:\"target\"})});function K1(Q){return function J(Z){var U=[];for(var $=0;$<this.length;$++){var q=this[$],K=q._private[Q.attr];if(K)U.push(K)}return this.spawn(U,!0).filter(Z)}}DJ(I8,{edgesWith:i8(G1(),\"edgesWith\"),edgesTo:i8(G1({thisIsSrc:!0}),\"edgesTo\")});function G1(Q){return function J(Z){var U=[],$=this._private.cy,q=Q||{};if(WJ(Z))Z=$.$(Z);for(var K=0;K<Z.length;K++){var G=Z[K]._private.edges;for(var Y=0;Y<G.length;Y++){var F=G[Y],X=F._private.data,H=this.hasElementWithId(X.source)&&Z.hasElementWithId(X.target),N=Z.hasElementWithId(X.source)&&this.hasElementWithId(X.target),z=H||N;if(!z)continue;if(q.thisIsSrc||q.thisIsTgt){if(q.thisIsSrc&&!H)continue;if(q.thisIsTgt&&!N)continue}U.push(F)}}return this.spawn(U,!0)}}DJ(I8,{connectedEdges:i8(function(Q){var J=[],Z=this;for(var U=0;U<Z.length;U++){var $=Z[U];if(!$.isNode())continue;var q=$._private.edges;for(var K=0;K<q.length;K++){var G=q[K];J.push(G)}}return this.spawn(J,!0).filter(Q)},\"connectedEdges\"),connectedNodes:i8(function(Q){var J=[],Z=this;for(var U=0;U<Z.length;U++){var $=Z[U];if(!$.isEdge())continue;J.push($.source()[0]),J.push($.target()[0])}return this.spawn(J,!0).filter(Q)},\"connectedNodes\"),parallelEdges:i8(Y1(),\"parallelEdges\"),codirectedEdges:i8(Y1({codirected:!0}),\"codirectedEdges\")});function Y1(Q){var J={codirected:!1};return Q=DJ({},J,Q),function Z(U){var $=[],q=this.edges(),K=Q;for(var G=0;G<q.length;G++){var Y=q[G],F=Y._private,X=F.source,H=X._private.data.id,N=F.data.target,z=X._private.edges;for(var M=0;M<z.length;M++){var W=z[M],L=W._private.data,E=L.target,B=L.source,V=E===N&&B===H,D=H===E&&N===B;if(K.codirected&&V||!K.codirected&&(V||D))$.push(W)}}return this.spawn($,!0).filter(U)}}DJ(I8,{components:function Q(J){var Z=this,U=Z.cy(),$=U.collection(),q=J==null?Z.nodes():J.nodes(),K=[];if(J!=null&&q.empty())q=J.sources();var G=function F(X,H){$.merge(X),q.unmerge(X),H.merge(X)};if(q.empty())return Z.spawn();var Y=function F(){var X=U.collection();K.push(X);var H=q[0];G(H,X),Z.bfs({directed:!1,roots:H,visit:function N(z){return G(z,X)}}),X.forEach(function(N){N.connectedEdges().forEach(function(z){if(Z.has(z)&&X.has(z.source())&&X.has(z.target()))X.merge(z)})})};do Y();while(q.length>0);return K},component:function Q(){var J=this[0];return J.cy().mutableElements().components(J)[0]}});I8.componentsOf=I8.components;var O8=function Q(J,Z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(J===void 0){J8(\"A collection must have a reference to the core\");return}var q=new E9,K=!1;if(!Z)Z=[];else if(Z.length>0&&yJ(Z[0])&&!uZ(Z[0])){K=!0;var G=[],Y=new sQ;for(var F=0,X=Z.length;F<X;F++){var H=Z[F];if(H.data==null)H.data={};var N=H.data;if(N.id==null)N.id=UK();else if(J.hasElementWithId(N.id)||Y.has(N.id))continue;var z=new M7(J,H,!1);G.push(z),Y.add(N.id)}Z=G}this.length=0;for(var M=0,W=Z.length;M<W;M++){var L=Z[M][0];if(L==null)continue;var E=L._private.data.id;if(!U||!q.has(E)){if(U)q.set(E,{index:this.length,ele:L});this[this.length]=L,this.length++}}if(this._private={eles:this,cy:J,get map(){if(this.lazyMap==null)this.rebuildMap();return this.lazyMap},set map(B){this.lazyMap=B},rebuildMap:function B(){var V=this.lazyMap=new E9,D=this.eles;for(var O=0;O<D.length;O++){var A=D[O];V.set(A.id(),{index:O,ele:A})}}},U)this._private.map=q;if(K&&!$)this.restore()},aJ=M7.prototype=O8.prototype=Object.create(Array.prototype);aJ.instanceString=function(){return\"collection\"};aJ.spawn=function(Q,J){return new O8(this.cy(),Q,J)};aJ.spawnSelf=function(){return this.spawn(this)};aJ.cy=function(){return this._private.cy};aJ.renderer=function(){return this._private.cy.renderer()};aJ.element=function(){return this[0]};aJ.collection=function(){if(c1(this))return this;else return new O8(this._private.cy,[this])};aJ.unique=function(){return new O8(this._private.cy,this,!0)};aJ.hasElementWithId=function(Q){return Q=\"\"+Q,this._private.map.has(Q)};aJ.getElementById=function(Q){Q=\"\"+Q;var J=this._private.cy,Z=this._private.map.get(Q);return Z?Z.ele:new O8(J)};aJ.$id=aJ.getElementById;aJ.poolIndex=function(){var Q=this._private.cy,J=Q._private.elements,Z=this[0]._private.data.id;return J._private.map.get(Z).index};aJ.indexOf=function(Q){var J=Q[0]._private.data.id;return this._private.map.get(J).index};aJ.indexOfId=function(Q){return Q=\"\"+Q,this._private.map.get(Q).index};aJ.json=function(Q){var J=this.element(),Z=this.cy();if(J==null&&Q)return this;if(J==null)return;var U=J._private;if(yJ(Q)){if(Z.startBatch(),Q.data){J.data(Q.data);var $=U.data;if(J.isEdge()){var q=!1,K={},G=Q.data.source,Y=Q.data.target;if(G!=null&&G!=$.source)K.source=\"\"+G,q=!0;if(Y!=null&&Y!=$.target)K.target=\"\"+Y,q=!0;if(q)J=J.move(K)}else{var F=\"parent\"in Q.data,X=Q.data.parent;if(F&&(X!=null||$.parent!=null)&&X!=$.parent){if(X===void 0)X=null;if(X!=null)X=\"\"+X;J=J.move({parent:X})}}}if(Q.position)J.position(Q.position);var H=function M(W,L,E){var B=Q[W];if(B!=null&&B!==U[W])if(B)J[L]();else J[E]()};if(H(\"removed\",\"remove\",\"restore\"),H(\"selected\",\"select\",\"unselect\"),H(\"selectable\",\"selectify\",\"unselectify\"),H(\"locked\",\"lock\",\"unlock\"),H(\"grabbable\",\"grabify\",\"ungrabify\"),H(\"pannable\",\"panify\",\"unpanify\"),Q.classes!=null)J.classes(Q.classes);return Z.endBatch(),this}else if(Q===void 0){var N={data:q9(U.data),position:q9(U.position),group:U.group,removed:U.removed,selected:U.selected,selectable:U.selectable,locked:U.locked,grabbable:U.grabbable,pannable:U.pannable,classes:null};N.classes=\"\";var z=0;return U.classes.forEach(function(M){return N.classes+=z++===0?M:\" \"+M}),N}};aJ.jsons=function(){var Q=[];for(var J=0;J<this.length;J++){var Z=this[J],U=Z.json();Q.push(U)}return Q};aJ.clone=function(){var Q=this.cy(),J=[];for(var Z=0;Z<this.length;Z++){var U=this[Z],$=U.json(),q=new M7(Q,$,!1);J.push(q)}return new O8(Q,J)};aJ.copy=aJ.clone;aJ.restore=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Z=this,U=Z.cy(),$=U._private,q=[],K=[],G;for(var Y=0,F=Z.length;Y<F;Y++){var X=Z[Y];if(J&&!X.removed())continue;if(X.isNode())q.push(X);else K.push(X)}G=q.concat(K);var H,N=function n(){G.splice(H,1),H--};for(H=0;H<G.length;H++){var z=G[H],M=z._private,W=M.data;if(z.clearTraversalCache(),!J&&!M.removed);else if(W.id===void 0)W.id=UK();else if($J(W.id))W.id=\"\"+W.id;else if(y9(W.id)||!WJ(W.id)){J8(\"Can not create element with invalid string ID `\"+W.id+\"`\"),N();continue}else if(U.hasElementWithId(W.id)){J8(\"Can not create second element with ID `\"+W.id+\"`\"),N();continue}var L=W.id;if(z.isNode()){var E=M.position;if(E.x==null)E.x=0;if(E.y==null)E.y=0}if(z.isEdge()){var B=z,V=[\"source\",\"target\"],D=V.length,O=!1;for(var A=0;A<D;A++){var R=V[A],C=W[R];if($J(C))C=W[R]=\"\"+W[R];if(C==null||C===\"\")J8(\"Can not create edge `\"+L+\"` with unspecified \"+R),O=!0;else if(!U.hasElementWithId(C))J8(\"Can not create edge `\"+L+\"` with nonexistant \"+R+\" `\"+C+\"`\"),O=!0}if(O){N();continue}var I=U.getElementById(W.source),T=U.getElementById(W.target);if(I.same(T))I._private.edges.push(B);else I._private.edges.push(B),T._private.edges.push(B);B._private.source=I,B._private.target=T}if(M.map=new E9,M.map.set(L,{ele:z,index:0}),M.removed=!1,J)U.addToPool(z)}for(var P=0;P<q.length;P++){var k=q[P],j=k._private.data;if($J(j.parent))j.parent=\"\"+j.parent;var _=j.parent,x=_!=null;if(x||k._private.parent){var f=k._private.parent?U.collection().merge(k._private.parent):U.getElementById(_);if(f.empty())j.parent=void 0;else if(f[0].removed())lJ(\"Node added with missing parent, reference to parent removed\"),j.parent=void 0,k._private.parent=null;else{var v=!1,b=f;while(!b.empty()){if(k.same(b)){v=!0,j.parent=void 0;break}b=b.parent()}if(!v)f[0]._private.children.push(k),k._private.parent=f[0],$.hasCompoundNodes=!0}}}if(G.length>0){var y=G.length===Z.length?Z:new O8(U,G);for(var g=0;g<y.length;g++){var m=y[g];if(m.isNode())continue;m.parallelEdges().clearTraversalCache(),m.source().clearTraversalCache(),m.target().clearTraversalCache()}var u;if($.hasCompoundNodes)u=U.collection().merge(y).merge(y.connectedNodes()).merge(y.parent());else u=y;if(u.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(Q),Q)y.emitAndNotify(\"add\");else if(J)y.emit(\"add\")}return Z};aJ.removed=function(){var Q=this[0];return Q&&Q._private.removed};aJ.inside=function(){var Q=this[0];return Q&&!Q._private.removed};aJ.remove=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Z=this,U=[],$={},q=Z._private.cy;function K(_){var x=_._private.edges;for(var f=0;f<x.length;f++)Y(x[f])}function G(_){var x=_._private.children;for(var f=0;f<x.length;f++)Y(x[f])}function Y(_){var x=$[_.id()];if(J&&_.removed()||x)return;else $[_.id()]=!0;if(_.isNode())U.push(_),K(_),G(_);else U.unshift(_)}for(var F=0,X=Z.length;F<X;F++){var H=Z[F];Y(H)}function N(_,x){var f=_._private.edges;h9(f,x),_.clearTraversalCache()}function z(_){_.clearTraversalCache()}var M=[];M.ids={};function W(_,x){x=x[0],_=_[0];var f=_._private.children,v=_.id();if(h9(f,x),x._private.parent=null,!M.ids[v])M.ids[v]=!0,M.push(_)}if(Z.dirtyCompoundBoundsCache(),J)q.removeFromPool(U);for(var L=0;L<U.length;L++){var E=U[L];if(E.isEdge()){var B=E.source()[0],V=E.target()[0];N(B,E),N(V,E);var D=E.parallelEdges();for(var O=0;O<D.length;O++){var A=D[O];if(z(A),A.isBundledBezier())A.dirtyBoundingBoxCache()}}else{var R=E.parent();if(R.length!==0)W(R,E)}if(J)E._private.removed=!0}var C=q._private.elements;q._private.hasCompoundNodes=!1;for(var I=0;I<C.length;I++){var T=C[I];if(T.isParent()){q._private.hasCompoundNodes=!0;break}}var P=new O8(this.cy(),U);if(P.size()>0){if(Q)P.emitAndNotify(\"remove\");else if(J)P.emit(\"remove\")}for(var k=0;k<M.length;k++){var j=M[k];if(!J||!j.removed())j.updateStyle()}return P};aJ.move=function(Q){var J=this._private.cy,Z=this,U=!1,$=!1,q=function z(M){return M==null?M:\"\"+M};if(Q.source!==void 0||Q.target!==void 0){var K=q(Q.source),G=q(Q.target),Y=K!=null&&J.hasElementWithId(K),F=G!=null&&J.hasElementWithId(G);if(Y||F)J.batch(function(){Z.remove(U,$),Z.emitAndNotify(\"moveout\");for(var z=0;z<Z.length;z++){var M=Z[z],W=M._private.data;if(M.isEdge()){if(Y)W.source=K;if(F)W.target=G}}Z.restore(U,$)}),Z.emitAndNotify(\"move\")}else if(Q.parent!==void 0){var X=q(Q.parent),H=X===null||J.hasElementWithId(X);if(H){var N=X===null?void 0:X;J.batch(function(){var z=Z.remove(U,$);z.emitAndNotify(\"moveout\");for(var M=0;M<Z.length;M++){var W=Z[M],L=W._private.data;if(W.isNode())L.parent=N}z.restore(U,$)}),Z.emitAndNotify(\"move\")}}return this};[LK,zR,c6,b9,nQ,jR,D7,iR,uK,gK,oR,$7,p6,R8,m9,I8].forEach(function(Q){DJ(aJ,Q)});var $O={add:function Q(J){var Z,U=this;if(h8(J)){var $=J;if($._private.cy===U)Z=$.restore();else{var q=[];for(var K=0;K<$.length;K++){var G=$[K];q.push(G.json())}Z=new O8(U,q)}}else if(nJ(J)){var Y=J;Z=new O8(U,Y)}else if(yJ(J)&&(nJ(J.nodes)||nJ(J.edges))){var F=J,X=[],H=[\"nodes\",\"edges\"];for(var N=0,z=H.length;N<z;N++){var M=H[N],W=F[M];if(nJ(W))for(var L=0,E=W.length;L<E;L++){var B=DJ({group:M},W[L]);X.push(B)}}Z=new O8(U,X)}else{var V=J;Z=new M7(U,V).collection()}return Z},remove:function Q(J){if(h8(J));else if(WJ(J)){var Z=J;J=this.$(Z)}return J.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function qO(Q,J,Z,U){var $=4,q=0.001,K=0.0000001,G=10,Y=11,F=1/(Y-1),X=typeof Float32Array!==\"undefined\";if(arguments.length!==4)return!1;for(var H=0;H<4;++H)if(typeof arguments[H]!==\"number\"||isNaN(arguments[H])||!isFinite(arguments[H]))return!1;Q=Math.min(Q,1),Z=Math.min(Z,1),Q=Math.max(Q,0),Z=Math.max(Z,0);var N=X?new Float32Array(Y):new Array(Y);function z(T,P){return 1-3*P+3*T}function M(T,P){return 3*P-6*T}function W(T){return 3*T}function L(T,P,k){return((z(P,k)*T+M(P,k))*T+W(P))*T}function E(T,P,k){return 3*z(P,k)*T*T+2*M(P,k)*T+W(P)}function B(T,P){for(var k=0;k<$;++k){var j=E(P,Q,Z);if(j===0)return P;var _=L(P,Q,Z)-T;P-=_/j}return P}function V(){for(var T=0;T<Y;++T)N[T]=L(T*F,Q,Z)}function D(T,P,k){var j,_,x=0;do if(_=P+(k-P)/2,j=L(_,Q,Z)-T,j>0)k=_;else P=_;while(Math.abs(j)>K&&++x<G);return _}function O(T){var P=0,k=1,j=Y-1;for(;k!==j&&N[k]<=T;++k)P+=F;--k;var _=(T-N[k])/(N[k+1]-N[k]),x=P+_*F,f=E(x,Q,Z);if(f>=q)return B(T,x);else if(f===0)return x;else return D(T,P,P+F)}var A=!1;function R(){if(A=!0,Q!==J||Z!==U)V()}var C=function T(P){if(!A)R();if(Q===J&&Z===U)return P;if(P===0)return 0;if(P===1)return 1;return L(O(P),J,U)};C.getControlPoints=function(){return[{x:Q,y:J},{x:Z,y:U}]};var I=\"generateBezier(\"+[Q,J,Z,U]+\")\";return C.toString=function(){return I},C}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var KO=function(){function Q(U){return-U.tension*U.x-U.friction*U.v}function J(U,$,q){var K={x:U.x+q.dx*$,v:U.v+q.dv*$,tension:U.tension,friction:U.friction};return{dx:K.v,dv:Q(K)}}function Z(U,$){var q={dx:U.v,dv:Q(U)},K=J(U,$*0.5,q),G=J(U,$*0.5,K),Y=J(U,$,G),F=0.16666666666666666*(q.dx+2*(K.dx+G.dx)+Y.dx),X=0.16666666666666666*(q.dv+2*(K.dv+G.dv)+Y.dv);return U.x=U.x+F*$,U.v=U.v+X*$,U}return function U($,q,K){var G={x:-1,v:0,tension:null,friction:null},Y=[0],F=0,X=0.0001,H=0.016,N,z,M;if($=parseFloat($)||500,q=parseFloat(q)||20,K=K||null,G.tension=$,G.friction=q,N=K!==null,N)F=U($,q),z=F/K*H;else z=H;for(;;)if(M=Z(M||G,z),Y.push(1+M.x),F+=16,!(Math.abs(M.x)>X&&Math.abs(M.v)>X))break;return!N?F:function(W){return Y[W*(Y.length-1)|0]}}}(),sJ=function Q(J,Z,U,$){var q=qO(J,Z,U,$);return function(K,G,Y){return K+(G-K)*q(Y)}},l6={linear:function Q(J,Z,U){return J+(Z-J)*U},ease:sJ(0.25,0.1,0.25,1),\"ease-in\":sJ(0.42,0,1,1),\"ease-out\":sJ(0,0,0.58,1),\"ease-in-out\":sJ(0.42,0,0.58,1),\"ease-in-sine\":sJ(0.47,0,0.745,0.715),\"ease-out-sine\":sJ(0.39,0.575,0.565,1),\"ease-in-out-sine\":sJ(0.445,0.05,0.55,0.95),\"ease-in-quad\":sJ(0.55,0.085,0.68,0.53),\"ease-out-quad\":sJ(0.25,0.46,0.45,0.94),\"ease-in-out-quad\":sJ(0.455,0.03,0.515,0.955),\"ease-in-cubic\":sJ(0.55,0.055,0.675,0.19),\"ease-out-cubic\":sJ(0.215,0.61,0.355,1),\"ease-in-out-cubic\":sJ(0.645,0.045,0.355,1),\"ease-in-quart\":sJ(0.895,0.03,0.685,0.22),\"ease-out-quart\":sJ(0.165,0.84,0.44,1),\"ease-in-out-quart\":sJ(0.77,0,0.175,1),\"ease-in-quint\":sJ(0.755,0.05,0.855,0.06),\"ease-out-quint\":sJ(0.23,1,0.32,1),\"ease-in-out-quint\":sJ(0.86,0,0.07,1),\"ease-in-expo\":sJ(0.95,0.05,0.795,0.035),\"ease-out-expo\":sJ(0.19,1,0.22,1),\"ease-in-out-expo\":sJ(1,0,0,1),\"ease-in-circ\":sJ(0.6,0.04,0.98,0.335),\"ease-out-circ\":sJ(0.075,0.82,0.165,1),\"ease-in-out-circ\":sJ(0.785,0.135,0.15,0.86),spring:function Q(J,Z,U){if(U===0)return l6.linear;var $=KO(J,Z,U);return function(q,K,G){return q+(K-q)*$(G)}},\"cubic-bezier\":sJ};function F1(Q,J,Z,U,$){if(U===1)return Z;if(J===Z)return Z;var q=$(J,Z,U);if(Q==null)return q;if(Q.roundValue||Q.color)q=Math.round(q);if(Q.min!==void 0)q=Math.max(q,Q.min);if(Q.max!==void 0)q=Math.min(q,Q.max);return q}function X1(Q,J){if(Q.pfValue!=null||Q.value!=null)if(Q.pfValue!=null&&(J==null||J.type.units!==\"%\"))return Q.pfValue;else return Q.value;else return Q}function _Q(Q,J,Z,U,$){var q=$!=null?$.type:null;if(Z<0)Z=0;else if(Z>1)Z=1;var K=X1(Q,$),G=X1(J,$);if($J(K)&&$J(G))return F1(q,K,G,Z,U);else if(nJ(K)&&nJ(G)){var Y=[];for(var F=0;F<G.length;F++){var X=K[F],H=G[F];if(X!=null&&H!=null){var N=F1(q,X,H,Z,U);Y.push(N)}else Y.push(H)}return Y}return}function GO(Q,J,Z,U){var $=!U,q=Q._private,K=J._private,G=K.easing,Y=K.startTime,F=U?Q:Q.cy(),X=F.style();if(!K.easingImpl)if(G==null)K.easingImpl=l6.linear;else{var H;if(WJ(G)){var N=X.parse(\"transition-timing-function\",G);H=N.value}else H=G;var z,M;if(WJ(H))z=H,M=[];else z=H[1],M=H.slice(2).map(function(y){return+y});if(M.length>0){if(z===\"spring\")M.push(K.duration);K.easingImpl=l6[z].apply(null,M)}else K.easingImpl=l6[z]}var W=K.easingImpl,L;if(K.duration===0)L=1;else L=(Z-Y)/K.duration;if(K.applying)L=K.progress;if(L<0)L=0;else if(L>1)L=1;if(K.delay==null){var{startPosition:E,position:B}=K;if(B&&$&&!Q.locked()){var V={};if(VZ(E.x,B.x))V.x=_Q(E.x,B.x,L,W);if(VZ(E.y,B.y))V.y=_Q(E.y,B.y,L,W);Q.position(V)}var{startPan:D,pan:O}=K,A=q.pan,R=O!=null&&U;if(R){if(VZ(D.x,O.x))A.x=_Q(D.x,O.x,L,W);if(VZ(D.y,O.y))A.y=_Q(D.y,O.y,L,W);Q.emit(\"pan\")}var{startZoom:C,zoom:I}=K,T=I!=null&&U;if(T){if(VZ(C,I))q.zoom=_Z(q.minZoom,_Q(C,I,L,W),q.maxZoom);Q.emit(\"zoom\")}if(R||T)Q.emit(\"viewport\");var P=K.style;if(P&&P.length>0&&$){for(var k=0;k<P.length;k++){var j=P[k],_=j.name,x=j,f=K.startStyle[_],v=X.properties[f.name],b=_Q(f,x,L,W,v);X.overrideBypass(Q,_,b)}Q.emit(\"style\")}}return K.progress=L,L}function VZ(Q,J){if(Q==null||J==null)return!1;if($J(Q)&&$J(J))return!0;else if(Q&&J)return!0;return!1}function YO(Q,J,Z,U){var $=J._private;$.started=!0,$.startTime=Z-$.progress*$.duration}function H1(Q,J){var Z=J._private.aniEles,U=[];function $(X,H){var N=X._private,z=N.animation.current,M=N.animation.queue,W=!1;if(z.length===0){var L=M.shift();if(L)z.push(L)}var E=function O(A){for(var R=A.length-1;R>=0;R--){var C=A[R];C()}A.splice(0,A.length)};for(var B=z.length-1;B>=0;B--){var V=z[B],D=V._private;if(D.stopped){z.splice(B,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.frames);continue}if(!D.playing&&!D.applying)continue;if(D.playing&&D.applying)D.applying=!1;if(!D.started)YO(X,V,Q);if(GO(X,V,Q,H),D.applying)D.applying=!1;if(E(D.frames),D.step!=null)D.step(Q);if(V.completed())z.splice(B,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.completes);W=!0}if(!H&&z.length===0&&M.length===0)U.push(X);return W}var q=!1;for(var K=0;K<Z.length;K++){var G=Z[K],Y=$(G);q=q||Y}var F=$(J,!0);if(q||F)if(Z.length>0)J.notify(\"draw\",Z);else J.notify(\"draw\");Z.unmerge(U),J.emit(\"step\")}var FO={animate:pJ.animate(),animation:pJ.animation(),animated:pJ.animated(),clearQueue:pJ.clearQueue(),delay:pJ.delay(),delayAnimation:pJ.delayAnimation(),stop:pJ.stop(),addToAnimationPool:function Q(J){var Z=this;if(!Z.styleEnabled())return;Z._private.aniEles.merge(J)},stopAnimationLoop:function Q(){this._private.animationsRunning=!1},startAnimationLoop:function Q(){var J=this;if(J._private.animationsRunning=!0,!J.styleEnabled())return;function Z(){if(!J._private.animationsRunning)return;e6(function $(q){H1(q,J),Z()})}var U=J.renderer();if(U&&U.beforeRender)U.beforeRender(function $(q,K){H1(K,J)},U.beforeRenderPriorities.animations);else Z()}},XO={qualifierCompare:function Q(J,Z){if(J==null||Z==null)return J==null&&Z==null;else return J.sameText(Z)},eventMatches:function Q(J,Z,U){var $=Z.qualifier;if($!=null)return J!==U.target&&uZ(U.target)&&$.matches(U.target);return!0},addEventFields:function Q(J,Z){Z.cy=J,Z.target=J},callbackContext:function Q(J,Z,U){return Z.qualifier!=null?U.target:J}},b6=function Q(J){if(WJ(J))return new g9(J);else return J},pK={createEmitter:function Q(){var J=this._private;if(!J.emitter)J.emitter=new R7(XO,this);return this},emitter:function Q(){return this._private.emitter},on:function Q(J,Z,U){return this.emitter().on(J,b6(Z),U),this},removeListener:function Q(J,Z,U){return this.emitter().removeListener(J,b6(Z),U),this},removeAllListeners:function Q(){return this.emitter().removeAllListeners(),this},one:function Q(J,Z,U){return this.emitter().one(J,b6(Z),U),this},once:function Q(J,Z,U){return this.emitter().one(J,b6(Z),U),this},emit:function Q(J,Z){return this.emitter().emit(J,Z),this},emitAndNotify:function Q(J,Z){return this.emit(J),this.notify(J,Z),this}};pJ.eventAliasesOn(pK);var o0={png:function Q(J){var Z=this._private.renderer;return J=J||{},Z.png(J)},jpg:function Q(J){var Z=this._private.renderer;return J=J||{},J.bg=J.bg||\"#fff\",Z.jpg(J)}};o0.jpeg=o0.jpg;var i6={layout:function Q(J){var Z=this;if(J==null){J8(\"Layout options must be specified to make a layout\");return}if(J.name==null){J8(\"A `name` must be specified to make a layout\");return}var U=J.name,$=Z.extension(\"layout\",U);if($==null){J8(\"No such layout `\"+U+\"` found.  Did you forget to import it and `cytoscape.use()` it?\");return}var q;if(WJ(J.eles))q=Z.$(J.eles);else q=J.eles!=null?J.eles:Z.$();var K=new $(DJ({},J,{cy:Z,eles:q}));return K}};i6.createLayout=i6.makeLayout=i6.layout;var HO={notify:function Q(J,Z){var U=this._private;if(this.batching()){U.batchNotifications=U.batchNotifications||{};var $=U.batchNotifications[J]=U.batchNotifications[J]||this.collection();if(Z!=null)$.merge(Z);return}if(!U.notificationsEnabled)return;var q=this.renderer();if(this.destroyed()||!q)return;q.notify(J,Z)},notifications:function Q(J){var Z=this._private;if(J===void 0)return Z.notificationsEnabled;else Z.notificationsEnabled=J?!0:!1;return this},noNotifications:function Q(J){this.notifications(!1),J(),this.notifications(!0)},batching:function Q(){return this._private.batchCount>0},startBatch:function Q(){var J=this._private;if(J.batchCount==null)J.batchCount=0;if(J.batchCount===0)J.batchStyleEles=this.collection(),J.batchNotifications={};return J.batchCount++,this},endBatch:function Q(){var J=this._private;if(J.batchCount===0)return this;if(J.batchCount--,J.batchCount===0){J.batchStyleEles.updateStyle();var Z=this.renderer();Object.keys(J.batchNotifications).forEach(function(U){var $=J.batchNotifications[U];if($.empty())Z.notify(U);else Z.notify(U,$)})}return this},batch:function Q(J){return this.startBatch(),J(),this.endBatch(),this},batchData:function Q(J){var Z=this;return this.batch(function(){var U=Object.keys(J);for(var $=0;$<U.length;$++){var q=U[$],K=J[q],G=Z.getElementById(q);G.data(K)}})}},NO=A8({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:0.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),t0={renderTo:function Q(J,Z,U,$){var q=this._private.renderer;return q.renderTo(J,Z,U,$),this},renderer:function Q(){return this._private.renderer},forceRender:function Q(){return this.notify(\"draw\"),this},resize:function Q(){return this.invalidateSize(),this.emitAndNotify(\"resize\"),this},initRenderer:function Q(J){var Z=this,U=Z.extension(\"renderer\",J.name);if(U==null){J8(\"Can not initialise: No such renderer `\".concat(J.name,\"` found. Did you forget to import it and `cytoscape.use()` it?\"));return}if(J.wheelSensitivity!==void 0)lJ(\"You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.\");var $=NO(J);$.cy=Z,Z._private.renderer=new U($),this.notify(\"init\")},destroyRenderer:function Q(){var J=this;J.notify(\"destroy\");var Z=J.container();if(Z){Z._cyreg=null;while(Z.childNodes.length>0)Z.removeChild(Z.childNodes[0])}J._private.renderer=null,J.mutableElements().forEach(function(U){var $=U._private;$.rscratch={},$.rstyle={},$.animation.current=[],$.animation.queue=[]})},onRender:function Q(J){return this.on(\"render\",J)},offRender:function Q(J){return this.off(\"render\",J)}};t0.invalidateDimensions=t0.resize;var n6={collection:function Q(J,Z){if(WJ(J))return this.$(J);else if(h8(J))return J.collection();else if(nJ(J)){if(!Z)Z={};return new O8(this,J,Z.unique,Z.removed)}return new O8(this)},nodes:function Q(J){var Z=this.$(function(U){return U.isNode()});if(J)return Z.filter(J);return Z},edges:function Q(J){var Z=this.$(function(U){return U.isEdge()});if(J)return Z.filter(J);return Z},$:function Q(J){var Z=this._private.elements;if(J)return Z.filter(J);else return Z.spawnSelf()},mutableElements:function Q(){return this._private.elements}};n6.elements=n6.filter=n6.$;var V8={},IZ=\"t\",MO=\"f\";V8.apply=function(Q){var J=this,Z=J._private,U=Z.cy,$=U.collection();for(var q=0;q<Q.length;q++){var K=Q[q],G=J.getContextMeta(K);if(G.empty)continue;var Y=J.getContextStyle(G),F=J.applyContextStyle(G,Y,K);if(K._private.appliedInitStyle)J.updateTransitions(K,F.diffProps);else K._private.appliedInitStyle=!0;var X=J.updateStyleHints(K);if(X)$.push(K)}return $};V8.getPropertiesDiff=function(Q,J){var Z=this,U=Z._private.propDiffs=Z._private.propDiffs||{},$=Q+\"-\"+J,q=U[$];if(q)return q;var K=[],G={};for(var Y=0;Y<Z.length;Y++){var F=Z[Y],X=Q[Y]===IZ,H=J[Y]===IZ,N=X!==H,z=F.mappedProperties.length>0;if(N||H&&z){var M=void 0;if(N&&z)M=F.properties;else if(N)M=F.properties;else if(z)M=F.mappedProperties;for(var W=0;W<M.length;W++){var L=M[W],E=L.name,B=!1;for(var V=Y+1;V<Z.length;V++){var D=Z[V],O=J[V]===IZ;if(!O)continue;if(B=D.properties[L.name]!=null,B)break}if(!G[E]&&!B)G[E]=!0,K.push(E)}}}return U[$]=K,K};V8.getContextMeta=function(Q){var J=this,Z=\"\",U,$=Q._private.styleCxtKey||\"\";for(var q=0;q<J.length;q++){var K=J[q],G=K.selector&&K.selector.matches(Q);if(G)Z+=IZ;else Z+=MO}return U=J.getPropertiesDiff($,Z),Q._private.styleCxtKey=Z,{key:Z,diffPropNames:U,empty:U.length===0}};V8.getContextStyle=function(Q){var J=Q.key,Z=this,U=this._private.contextStyles=this._private.contextStyles||{};if(U[J])return U[J];var $={_private:{key:J}};for(var q=0;q<Z.length;q++){var K=Z[q],G=J[q]===IZ;if(!G)continue;for(var Y=0;Y<K.properties.length;Y++){var F=K.properties[Y];$[F.name]=F}}return U[J]=$,$};V8.applyContextStyle=function(Q,J,Z){var U=this,$=Q.diffPropNames,q={},K=U.types;for(var G=0;G<$.length;G++){var Y=$[G],F=J[Y],X=Z.pstyle(Y);if(!F)if(!X)continue;else if(X.bypass)F={name:Y,deleteBypassed:!0};else F={name:Y,delete:!0};if(X===F)continue;if(F.mapped===K.fn&&X!=null&&X.mapping!=null&&X.mapping.value===F.value){var H=X.mapping,N=H.fnValue=F.value(Z);if(N===H.prevFnValue)continue}var z=q[Y]={prev:X};if(U.applyParsedProperty(Z,F),z.next=Z.pstyle(Y),z.next&&z.next.bypass)z.next=z.next.bypassed}return{diffProps:q}};V8.updateStyleHints=function(Q){var J=Q._private,Z=this,U=Z.propertyGroupNames,$=Z.propertyGroupKeys,q=function d(p,r,UJ){return Z.getPropertiesHash(p,r,UJ)},K=J.styleKey;if(Q.removed())return!1;var G=J.group===\"nodes\",Y=Q._private.style;U=Object.keys(Y);for(var F=0;F<$.length;F++){var X=$[F];J.styleKeys[X]=[YQ,mQ]}var H=function d(p,r){return J.styleKeys[r][0]=kZ(p,J.styleKeys[r][0])},N=function d(p,r){return J.styleKeys[r][1]=jZ(p,J.styleKeys[r][1])},z=function d(p,r){H(p,r),N(p,r)},M=function d(p,r){for(var UJ=0;UJ<p.length;UJ++){var MJ=p.charCodeAt(UJ);H(MJ,r),N(MJ,r)}},W=2000000000,L=function d(p){return-128<p&&p<128&&Math.floor(p)!==p?W-(p*1024|0):p};for(var E=0;E<U.length;E++){var B=U[E],V=Y[B];if(V==null)continue;var D=this.properties[B],O=D.type,A=D.groupKey,R=void 0;if(D.hashOverride!=null)R=D.hashOverride(Q,V);else if(V.pfValue!=null)R=V.pfValue;var C=D.enums==null?V.value:null,I=R!=null,T=C!=null,P=I||T,k=V.units;if(O.number&&P&&!O.multiple){var j=I?R:C;if(z(L(j),A),!I&&k!=null)M(k,A)}else M(V.strValue,A)}var _=[YQ,mQ];for(var x=0;x<$.length;x++){var f=$[x],v=J.styleKeys[f];_[0]=kZ(v[0],_[0]),_[1]=jZ(v[1],_[1])}J.styleKey=k2(_[0],_[1]);var b=J.styleKeys;J.labelDimsKey=k9(b.labelDimensions);var y=q(Q,[\"label\"],b.labelDimensions);if(J.labelKey=k9(y),J.labelStyleKey=k9(P6(b.commonLabel,y)),!G){var g=q(Q,[\"source-label\"],b.labelDimensions);J.sourceLabelKey=k9(g),J.sourceLabelStyleKey=k9(P6(b.commonLabel,g));var m=q(Q,[\"target-label\"],b.labelDimensions);J.targetLabelKey=k9(m),J.targetLabelStyleKey=k9(P6(b.commonLabel,m))}if(G){var u=J.styleKeys,n=u.nodeBody,t=u.nodeBorder,s=u.nodeOutline,JJ=u.backgroundImage,ZJ=u.compound,qJ=u.pie,e=u.stripe,h=[n,t,s,JJ,ZJ,qJ,e].filter(function(d){return d!=null}).reduce(P6,[YQ,mQ]);J.nodeKey=k9(h),J.hasPie=qJ!=null&&qJ[0]!==YQ&&qJ[1]!==mQ,J.hasStripe=e!=null&&e[0]!==YQ&&e[1]!==mQ}return K!==J.styleKey};V8.clearStyleHints=function(Q){var J=Q._private;J.styleCxtKey=\"\",J.styleKeys={},J.styleKey=null,J.labelKey=null,J.labelStyleKey=null,J.sourceLabelKey=null,J.sourceLabelStyleKey=null,J.targetLabelKey=null,J.targetLabelStyleKey=null,J.nodeKey=null,J.hasPie=null,J.hasStripe=null};V8.applyParsedProperty=function(Q,J){var Z=this,U=J,$=Q._private.style,q,K=Z.types,G=Z.properties[U.name].type,Y=U.bypass,F=$[U.name],X=F&&F.bypass,H=Q._private,N=\"mapping\",z=function u(n){if(n==null)return null;else if(n.pfValue!=null)return n.pfValue;else return n.value},M=function u(){var n=z(F),t=z(U);Z.checkTriggers(Q,U.name,n,t)};if(J.name===\"curve-style\"&&Q.isEdge()&&(J.value!==\"bezier\"&&Q.isLoop()||J.value===\"haystack\"&&(Q.source().isParent()||Q.target().isParent())))U=J=this.parse(J.name,\"bezier\",Y);if(U.delete)return $[U.name]=void 0,M(),!0;if(U.deleteBypassed)if(!F)return M(),!0;else if(F.bypass)return F.bypassed=void 0,M(),!0;else return!1;if(U.deleteBypass)if(!F)return M(),!0;else if(F.bypass)return $[U.name]=F.bypassed,M(),!0;else return!1;var W=function u(){lJ(\"Do not assign mappings to elements without corresponding data (i.e. ele `\"+Q.id()+\"` has no mapping for property `\"+U.name+\"` with data field `\"+U.field+\"`); try a `[\"+U.field+\"]` selector to limit scope to elements with `\"+U.field+\"` defined\")};switch(U.mapped){case K.mapData:{var L=U.field.split(\".\"),E=H.data;for(var B=0;B<L.length&&E;B++){var V=L[B];E=E[V]}if(E==null)return W(),!1;var D;if(!$J(E))return lJ(\"Do not use continuous mappers without specifying numeric data (i.e. `\"+U.field+\": \"+E+\"` for `\"+Q.id()+\"` is non-numeric)\"),!1;else{var O=U.fieldMax-U.fieldMin;if(O===0)D=0;else D=(E-U.fieldMin)/O}if(D<0)D=0;else if(D>1)D=1;if(G.color){var A=U.valueMin[0],R=U.valueMax[0],C=U.valueMin[1],I=U.valueMax[1],T=U.valueMin[2],P=U.valueMax[2],k=U.valueMin[3]==null?1:U.valueMin[3],j=U.valueMax[3]==null?1:U.valueMax[3],_=[Math.round(A+(R-A)*D),Math.round(C+(I-C)*D),Math.round(T+(P-T)*D),Math.round(k+(j-k)*D)];q={bypass:U.bypass,name:U.name,value:_,strValue:\"rgb(\"+_[0]+\", \"+_[1]+\", \"+_[2]+\")\"}}else if(G.number){var x=U.valueMin+(U.valueMax-U.valueMin)*D;q=this.parse(U.name,x,U.bypass,N)}else return!1;if(!q)return W(),!1;q.mapping=U,U=q;break}case K.data:{var f=U.field.split(\".\"),v=H.data;for(var b=0;b<f.length&&v;b++){var y=f[b];v=v[y]}if(v!=null)q=this.parse(U.name,v,U.bypass,N);if(!q)return W(),!1;q.mapping=U,U=q;break}case K.fn:{var g=U.value,m=U.fnValue!=null?U.fnValue:g(Q);if(U.prevFnValue=m,m==null)return lJ(\"Custom function mappers may not return null (i.e. `\"+U.name+\"` for ele `\"+Q.id()+\"` is null)\"),!1;if(q=this.parse(U.name,m,U.bypass,N),!q)return lJ(\"Custom function mappers may not return invalid values for the property type (i.e. `\"+U.name+\"` for ele `\"+Q.id()+\"` is invalid)\"),!1;q.mapping=q9(U),U=q;break}case void 0:break;default:return!1}if(Y){if(X)U.bypassed=F.bypassed;else U.bypassed=F;$[U.name]=U}else if(X)F.bypassed=U;else $[U.name]=U;return M(),!0};V8.cleanElements=function(Q,J){for(var Z=0;Z<Q.length;Z++){var U=Q[Z];if(this.clearStyleHints(U),U.dirtyCompoundBoundsCache(),U.dirtyBoundingBoxCache(),!J)U._private.style={};else{var $=U._private.style,q=Object.keys($);for(var K=0;K<q.length;K++){var G=q[K],Y=$[G];if(Y!=null)if(Y.bypass)Y.bypassed=null;else $[G]=null}}}};V8.update=function(){var Q=this._private.cy,J=Q.mutableElements();J.updateStyle()};V8.updateTransitions=function(Q,J){var Z=this,U=Q._private,$=Q.pstyle(\"transition-property\").value,q=Q.pstyle(\"transition-duration\").pfValue,K=Q.pstyle(\"transition-delay\").pfValue;if($.length>0&&q>0){var G={},Y=!1;for(var F=0;F<$.length;F++){var X=$[F],H=Q.pstyle(X),N=J[X];if(!N)continue;var z=N.prev,M=z,W=N.next!=null?N.next:H,L=!1,E=void 0,B=0.000001;if(!M)continue;if($J(M.pfValue)&&$J(W.pfValue))L=W.pfValue-M.pfValue,E=M.pfValue+B*L;else if($J(M.value)&&$J(W.value))L=W.value-M.value,E=M.value+B*L;else if(nJ(M.value)&&nJ(W.value))L=M.value[0]!==W.value[0]||M.value[1]!==W.value[1]||M.value[2]!==W.value[2],E=M.strValue;if(L)G[X]=W.strValue,this.applyBypass(Q,X,E),Y=!0}if(!Y)return;U.transitioning=!0,new aQ(function(V){if(K>0)Q.delayAnimation(K).play().promise().then(V);else V()}).then(function(){return Q.animation({style:G,duration:q,easing:Q.pstyle(\"transition-timing-function\").value,queue:!1}).play().promise()}).then(function(){Z.removeBypasses(Q,$),Q.emitAndNotify(\"style\"),U.transitioning=!1})}else if(U.transitioning)this.removeBypasses(Q,$),Q.emitAndNotify(\"style\"),U.transitioning=!1};V8.checkTrigger=function(Q,J,Z,U,$,q){var K=this.properties[J],G=$(K);if(Q.removed())return;if(G!=null&&G(Z,U,Q))q(K)};V8.checkZOrderTrigger=function(Q,J,Z,U){var $=this;this.checkTrigger(Q,J,Z,U,function(q){return q.triggersZOrder},function(){$._private.cy.notify(\"zorder\",Q)})};V8.checkBoundsTrigger=function(Q,J,Z,U){this.checkTrigger(Q,J,Z,U,function($){return $.triggersBounds},function($){Q.dirtyCompoundBoundsCache(),Q.dirtyBoundingBoxCache()})};V8.checkConnectedEdgesBoundsTrigger=function(Q,J,Z,U){this.checkTrigger(Q,J,Z,U,function($){return $.triggersBoundsOfConnectedEdges},function($){Q.connectedEdges().forEach(function(q){q.dirtyBoundingBoxCache()})})};V8.checkParallelEdgesBoundsTrigger=function(Q,J,Z,U){this.checkTrigger(Q,J,Z,U,function($){return $.triggersBoundsOfParallelEdges},function($){Q.parallelEdges().forEach(function(q){q.dirtyBoundingBoxCache()})})};V8.checkTriggers=function(Q,J,Z,U){Q.dirtyStyleCache(),this.checkZOrderTrigger(Q,J,Z,U),this.checkBoundsTrigger(Q,J,Z,U),this.checkConnectedEdgesBoundsTrigger(Q,J,Z,U),this.checkParallelEdgesBoundsTrigger(Q,J,Z,U)};var nZ={};nZ.applyBypass=function(Q,J,Z,U){var $=this,q=[],K=!0;if(J===\"*\"||J===\"**\"){if(Z!==void 0)for(var G=0;G<$.properties.length;G++){var Y=$.properties[G],F=Y.name,X=this.parse(F,Z,!0);if(X)q.push(X)}}else if(WJ(J)){var H=this.parse(J,Z,!0);if(H)q.push(H)}else if(yJ(J)){var N=J;U=Z;var z=Object.keys(N);for(var M=0;M<z.length;M++){var W=z[M],L=N[W];if(L===void 0)L=N[H7(W)];if(L!==void 0){var E=this.parse(W,L,!0);if(E)q.push(E)}}}else return!1;if(q.length===0)return!1;var B=!1;for(var V=0;V<Q.length;V++){var D=Q[V],O={},A=void 0;for(var R=0;R<q.length;R++){var C=q[R];if(U){var I=D.pstyle(C.name);A=O[C.name]={prev:I}}if(B=this.applyParsedProperty(D,q9(C))||B,U)A.next=D.pstyle(C.name)}if(B)this.updateStyleHints(D);if(U)this.updateTransitions(D,O,K)}return B};nZ.overrideBypass=function(Q,J,Z){J=XU(J);for(var U=0;U<Q.length;U++){var $=Q[U],q=$._private.style[J],K=this.properties[J].type,G=K.color,Y=K.mutiple,F=!q?null:q.pfValue!=null?q.pfValue:q.value;if(!q||!q.bypass)this.applyBypass($,J,Z);else{if(q.value=Z,q.pfValue!=null)q.pfValue=Z;if(G)q.strValue=\"rgb(\"+Z.join(\",\")+\")\";else if(Y)q.strValue=Z.join(\" \");else q.strValue=\"\"+Z;this.updateStyleHints($)}this.checkTriggers($,J,F,Z)}};nZ.removeAllBypasses=function(Q,J){return this.removeBypasses(Q,this.propertyNames,J)};nZ.removeBypasses=function(Q,J,Z){var U=!0;for(var $=0;$<Q.length;$++){var q=Q[$],K={};for(var G=0;G<J.length;G++){var Y=J[G],F=this.properties[Y],X=q.pstyle(F.name);if(!X||!X.bypass)continue;var H=\"\",N=this.parse(Y,H,!0),z=K[F.name]={prev:X};this.applyParsedProperty(q,N),z.next=q.pstyle(F.name)}if(this.updateStyleHints(q),Z)this.updateTransitions(q,K,U)}};var SU={};SU.getEmSizeInPixels=function(){var Q=this.containerCss(\"font-size\");if(Q!=null)return parseFloat(Q);else return 1};SU.containerCss=function(Q){var J=this._private.cy,Z=J.container(),U=J.window();if(U&&Z&&U.getComputedStyle)return U.getComputedStyle(Z).getPropertyValue(Q)};var K9={};K9.getRenderedStyle=function(Q,J){if(J)return this.getStylePropertyValue(Q,J,!0);else return this.getRawStyle(Q,!0)};K9.getRawStyle=function(Q,J){var Z=this;if(Q=Q[0],Q){var U={};for(var $=0;$<Z.properties.length;$++){var q=Z.properties[$],K=Z.getStylePropertyValue(Q,q.name,J);if(K!=null)U[q.name]=K,U[H7(q.name)]=K}return U}};K9.getIndexedStyle=function(Q,J,Z,U){var $=Q.pstyle(J)[Z][U];return $!=null?$:Q.cy().style().getDefaultProperty(J)[Z][0]};K9.getStylePropertyValue=function(Q,J,Z){var U=this;if(Q=Q[0],Q){var $=U.properties[J];if($.alias)$=$.pointsTo;var q=$.type,K=Q.pstyle($.name);if(K){var{value:G,units:Y,strValue:F}=K;if(Z&&q.number&&G!=null&&$J(G)){var X=Q.cy().zoom(),H=function W(L){return L*X},N=function W(L,E){return H(L)+E},z=nJ(G),M=z?Y.every(function(W){return W!=null}):Y!=null;if(M)if(z)return G.map(function(W,L){return N(W,Y[L])}).join(\" \");else return N(G,Y);else if(z)return G.map(function(W){return WJ(W)?W:\"\"+H(W)}).join(\" \");else return\"\"+H(G)}else if(F!=null)return F}return null}};K9.getAnimationStartStyle=function(Q,J){var Z={};for(var U=0;U<J.length;U++){var $=J[U],q=$.name,K=Q.pstyle(q);if(K!==void 0)if(yJ(K))K=this.parse(q,K.strValue);else K=this.parse(q,K);if(K)Z[q]=K}return Z};K9.getPropsList=function(Q){var J=this,Z=[],U=Q,$=J.properties;if(U){var q=Object.keys(U);for(var K=0;K<q.length;K++){var G=q[K],Y=U[G],F=$[G]||$[XU(G)],X=this.parse(F.name,Y);if(X)Z.push(X)}}return Z};K9.getNonDefaultPropertiesHash=function(Q,J,Z){var U=Z.slice(),$,q,K,G,Y,F;for(Y=0;Y<J.length;Y++)if($=J[Y],q=Q.pstyle($,!1),q==null)continue;else if(q.pfValue!=null)U[0]=kZ(G,U[0]),U[1]=jZ(G,U[1]);else{K=q.strValue;for(F=0;F<K.length;F++)G=K.charCodeAt(F),U[0]=kZ(G,U[0]),U[1]=jZ(G,U[1])}return U};K9.getPropertiesHash=K9.getNonDefaultPropertiesHash;var C7={};C7.appendFromJson=function(Q){var J=this;for(var Z=0;Z<Q.length;Z++){var U=Q[Z],$=U.selector,q=U.style||U.css,K=Object.keys(q);J.selector($);for(var G=0;G<K.length;G++){var Y=K[G],F=q[Y];J.css(Y,F)}}return J};C7.fromJson=function(Q){var J=this;return J.resetToDefault(),J.appendFromJson(Q),J};C7.json=function(){var Q=[];for(var J=this.defaultLength;J<this.length;J++){var Z=this[J],U=Z.selector,$=Z.properties,q={};for(var K=0;K<$.length;K++){var G=$[K];q[G.name]=G.strValue}Q.push({selector:!U?\"core\":U.toString(),style:q})}return Q};var IU={};IU.appendFromString=function(Q){var J=this,Z=this,U=\"\"+Q,$,q,K;U=U.replace(/[/][*](\\s|.)+?[*][/]/g,\"\");function G(){if(U.length>$.length)U=U.substr($.length);else U=\"\"}function Y(){if(q.length>K.length)q=q.substr(K.length);else q=\"\"}for(;;){var F=U.match(/^\\s*$/);if(F)break;var X=U.match(/^\\s*((?:.|\\s)+?)\\s*\\{((?:.|\\s)+?)\\}/);if(!X){lJ(\"Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: \"+U);break}$=X[0];var H=X[1];if(H!==\"core\"){var N=new g9(H);if(N.invalid){lJ(\"Skipping parsing of block: Invalid selector found in string stylesheet: \"+H),G();continue}}var z=X[2],M=!1;q=z;var W=[];for(;;){var L=q.match(/^\\s*$/);if(L)break;var E=q.match(/^\\s*(.+?)\\s*:\\s*(.+?)(?:\\s*;|\\s*$)/);if(!E){lJ(\"Skipping parsing of block: Invalid formatting of style property and value definitions found in:\"+z),M=!0;break}K=E[0];var B=E[1],V=E[2],D=J.properties[B];if(!D){lJ(\"Skipping property: Invalid property name in: \"+K),Y();continue}var O=Z.parse(B,V);if(!O){lJ(\"Skipping property: Invalid property definition in: \"+K),Y();continue}W.push({name:B,val:V}),Y()}if(M){G();break}Z.selector(H);for(var A=0;A<W.length;A++){var R=W[A];Z.css(R.name,R.val)}G()}return Z};IU.fromString=function(Q){var J=this;return J.resetToDefault(),J.appendFromString(Q),J};var G8={};(function(){var Q=N8,J=G2,Z=F2,U=X2,$=H2,q=function h(d){return\"^\"+d+\"\\\\s*\\\\(\\\\s*([\\\\w\\\\.]+)\\\\s*\\\\)$\"},K=function h(d){var p=Q+\"|\\\\w+|\"+J+\"|\"+Z+\"|\"+U+\"|\"+$;return\"^\"+d+\"\\\\s*\\\\(([\\\\w\\\\.]+)\\\\s*\\\\,\\\\s*(\"+Q+\")\\\\s*\\\\,\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+p+\")\\\\s*\\\\,\\\\s*(\"+p+\")\\\\)$\"},G=[`^url\\\\s*\\\\(\\\\s*['\"]?(.+?)['\"]?\\\\s*\\\\)$`,\"^(none)$\",\"^(.+)$\"];G8.types={time:{number:!0,min:0,units:\"s|ms\",implicitUnits:\"ms\"},percent:{number:!0,min:0,max:100,units:\"%\",implicitUnits:\"%\"},percentages:{number:!0,min:0,max:100,units:\"%\",implicitUnits:\"%\",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:[\"parent\",\"origin\"]},nodeSize:{number:!0,min:0,enums:[\"label\"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:[\"horizontal\",\"leftward\",\"rightward\",\"vertical\",\"upward\",\"downward\",\"auto\"]},axisDirectionExplicit:{enums:[\"leftward\",\"rightward\",\"upward\",\"downward\"]},axisDirectionPrimary:{enums:[\"horizontal\",\"vertical\"]},paddingRelativeTo:{enums:[\"width\",\"height\",\"average\",\"min\",\"max\"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:[\"auto\"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:[\"inner\",\"include-padding\"],multiple:!0},bgRepeat:{enums:[\"repeat\",\"repeat-x\",\"repeat-y\",\"no-repeat\"],multiple:!0},bgFit:{enums:[\"none\",\"contain\",\"cover\"],multiple:!0},bgCrossOrigin:{enums:[\"anonymous\",\"use-credentials\",\"null\"],multiple:!0},bgClip:{enums:[\"none\",\"node\"],multiple:!0},bgContainment:{enums:[\"inside\",\"over\"],multiple:!0},boxSelection:{enums:[\"contain\",\"overlap\",\"none\"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:[\"solid\",\"linear-gradient\",\"radial-gradient\"]},bool:{enums:[\"yes\",\"no\"]},bools:{enums:[\"yes\",\"no\"],multiple:!0},lineStyle:{enums:[\"solid\",\"dotted\",\"dashed\"]},lineCap:{enums:[\"butt\",\"round\",\"square\"]},linePosition:{enums:[\"center\",\"inside\",\"outside\"]},lineJoin:{enums:[\"round\",\"bevel\",\"miter\"]},borderStyle:{enums:[\"solid\",\"dotted\",\"dashed\",\"double\"]},curveStyle:{enums:[\"bezier\",\"unbundled-bezier\",\"haystack\",\"segments\",\"straight\",\"straight-triangle\",\"taxi\",\"round-segments\",\"round-taxi\"]},radiusType:{enums:[\"arc-radius\",\"influence-radius\"],multiple:!0},fontFamily:{regex:\"^([\\\\w- \\\\\\\"]+(?:\\\\s*,\\\\s*[\\\\w- \\\\\\\"]+)*)$\"},fontStyle:{enums:[\"italic\",\"normal\",\"oblique\"]},fontWeight:{enums:[\"normal\",\"bold\",\"bolder\",\"lighter\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"800\",\"900\",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:[\"none\",\"underline\",\"overline\",\"line-through\"]},textTransform:{enums:[\"none\",\"uppercase\",\"lowercase\"]},textWrap:{enums:[\"none\",\"wrap\",\"ellipsis\"]},textOverflowWrap:{enums:[\"whitespace\",\"anywhere\"]},textBackgroundShape:{enums:[\"rectangle\",\"roundrectangle\",\"round-rectangle\",\"circle\"]},nodeShape:{enums:[\"rectangle\",\"roundrectangle\",\"round-rectangle\",\"cutrectangle\",\"cut-rectangle\",\"bottomroundrectangle\",\"bottom-round-rectangle\",\"barrel\",\"ellipse\",\"triangle\",\"round-triangle\",\"square\",\"pentagon\",\"round-pentagon\",\"hexagon\",\"round-hexagon\",\"concavehexagon\",\"concave-hexagon\",\"heptagon\",\"round-heptagon\",\"octagon\",\"round-octagon\",\"tag\",\"round-tag\",\"star\",\"diamond\",\"round-diamond\",\"vee\",\"rhomboid\",\"right-rhomboid\",\"polygon\"]},overlayShape:{enums:[\"roundrectangle\",\"round-rectangle\",\"ellipse\"]},cornerRadius:{number:!0,min:0,units:\"px|em\",implicitUnits:\"px\",enums:[\"auto\"]},compoundIncludeLabels:{enums:[\"include\",\"exclude\"]},arrowShape:{enums:[\"tee\",\"triangle\",\"triangle-tee\",\"circle-triangle\",\"triangle-cross\",\"triangle-backcurve\",\"vee\",\"square\",\"circle\",\"diamond\",\"chevron\",\"none\"]},arrowFill:{enums:[\"filled\",\"hollow\"]},arrowWidth:{number:!0,units:\"%|px|em\",implicitUnits:\"px\",enums:[\"match-line\"]},display:{enums:[\"element\",\"none\"]},visibility:{enums:[\"hidden\",\"visible\"]},zCompoundDepth:{enums:[\"bottom\",\"orphan\",\"auto\",\"top\"]},zIndexCompare:{enums:[\"auto\",\"manual\"]},valign:{enums:[\"top\",\"center\",\"bottom\"]},halign:{enums:[\"left\",\"center\",\"right\"]},justification:{enums:[\"left\",\"center\",\"right\",\"auto\"]},text:{string:!0},data:{mapping:!0,regex:q(\"data\")},layoutData:{mapping:!0,regex:q(\"layoutData\")},scratch:{mapping:!0,regex:q(\"scratch\")},mapData:{mapping:!0,regex:K(\"mapData\")},mapLayoutData:{mapping:!0,regex:K(\"mapLayoutData\")},mapScratch:{mapping:!0,regex:K(\"mapScratch\")},fn:{mapping:!0,fn:!0},url:{regexes:G,singleRegexMatchValue:!0},urls:{regexes:G,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:\"deg|rad\",implicitUnits:\"rad\"},textRotation:{number:!0,units:\"deg|rad\",implicitUnits:\"rad\",enums:[\"none\",\"autorotate\"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:[\"intersection\",\"node-position\",\"endpoints\"]},edgeEndpoint:{number:!0,multiple:!0,units:\"%|px|em|deg|rad\",implicitUnits:\"px\",enums:[\"inside-to-node\",\"outside-to-node\",\"outside-to-node-or-label\",\"outside-to-line\",\"outside-to-line-or-label\"],singleEnum:!0,validate:function h(d,p){switch(d.length){case 2:return p[0]!==\"deg\"&&p[0]!==\"rad\"&&p[1]!==\"deg\"&&p[1]!==\"rad\";case 1:return WJ(d[0])||p[0]===\"deg\"||p[0]===\"rad\";default:return!1}}},easing:{regexes:[\"^(spring)\\\\s*\\\\(\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*\\\\)$\",\"^(cubic-bezier)\\\\s*\\\\(\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*\\\\)$\"],enums:[\"linear\",\"ease\",\"ease-in\",\"ease-out\",\"ease-in-out\",\"ease-in-sine\",\"ease-out-sine\",\"ease-in-out-sine\",\"ease-in-quad\",\"ease-out-quad\",\"ease-in-out-quad\",\"ease-in-cubic\",\"ease-out-cubic\",\"ease-in-out-cubic\",\"ease-in-quart\",\"ease-out-quart\",\"ease-in-out-quart\",\"ease-in-quint\",\"ease-out-quint\",\"ease-in-out-quint\",\"ease-in-expo\",\"ease-out-expo\",\"ease-in-out-expo\",\"ease-in-circ\",\"ease-out-circ\",\"ease-in-out-circ\"]},gradientDirection:{enums:[\"to-bottom\",\"to-top\",\"to-left\",\"to-right\",\"to-bottom-right\",\"to-bottom-left\",\"to-top-right\",\"to-top-left\",\"to-right-bottom\",\"to-left-bottom\",\"to-right-top\",\"to-left-top\"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function h(d){var p=d.length;return p===1||p===2||p===4}}};var Y={zeroNonZero:function h(d,p){if((d==null||p==null)&&d!==p)return!0;if(d==0&&p!=0)return!0;else if(d!=0&&p==0)return!0;else return!1},any:function h(d,p){return d!=p},emptyNonEmpty:function h(d,p){var r=y9(d),UJ=y9(p);return r&&!UJ||!r&&UJ}},F=G8.types,X=[{name:\"label\",type:F.text,triggersBounds:Y.any,triggersZOrder:Y.emptyNonEmpty},{name:\"text-rotation\",type:F.textRotation,triggersBounds:Y.any},{name:\"text-margin-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"text-margin-y\",type:F.bidirectionalSize,triggersBounds:Y.any}],H=[{name:\"source-label\",type:F.text,triggersBounds:Y.any},{name:\"source-text-rotation\",type:F.textRotation,triggersBounds:Y.any},{name:\"source-text-margin-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"source-text-margin-y\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"source-text-offset\",type:F.size,triggersBounds:Y.any}],N=[{name:\"target-label\",type:F.text,triggersBounds:Y.any},{name:\"target-text-rotation\",type:F.textRotation,triggersBounds:Y.any},{name:\"target-text-margin-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"target-text-margin-y\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"target-text-offset\",type:F.size,triggersBounds:Y.any}],z=[{name:\"font-family\",type:F.fontFamily,triggersBounds:Y.any},{name:\"font-style\",type:F.fontStyle,triggersBounds:Y.any},{name:\"font-weight\",type:F.fontWeight,triggersBounds:Y.any},{name:\"font-size\",type:F.size,triggersBounds:Y.any},{name:\"text-transform\",type:F.textTransform,triggersBounds:Y.any},{name:\"text-wrap\",type:F.textWrap,triggersBounds:Y.any},{name:\"text-overflow-wrap\",type:F.textOverflowWrap,triggersBounds:Y.any},{name:\"text-max-width\",type:F.size,triggersBounds:Y.any},{name:\"text-outline-width\",type:F.size,triggersBounds:Y.any},{name:\"line-height\",type:F.positiveNumber,triggersBounds:Y.any}],M=[{name:\"text-valign\",type:F.valign,triggersBounds:Y.any},{name:\"text-halign\",type:F.halign,triggersBounds:Y.any},{name:\"color\",type:F.color},{name:\"text-outline-color\",type:F.color},{name:\"text-outline-opacity\",type:F.zeroOneNumber},{name:\"text-background-color\",type:F.color},{name:\"text-background-opacity\",type:F.zeroOneNumber},{name:\"text-background-padding\",type:F.size,triggersBounds:Y.any},{name:\"text-border-opacity\",type:F.zeroOneNumber},{name:\"text-border-color\",type:F.color},{name:\"text-border-width\",type:F.size,triggersBounds:Y.any},{name:\"text-border-style\",type:F.borderStyle,triggersBounds:Y.any},{name:\"text-background-shape\",type:F.textBackgroundShape,triggersBounds:Y.any},{name:\"text-justification\",type:F.justification},{name:\"box-select-labels\",type:F.bool,triggersBounds:Y.any}],W=[{name:\"events\",type:F.bool,triggersZOrder:Y.any},{name:\"text-events\",type:F.bool,triggersZOrder:Y.any},{name:\"box-selection\",type:F.boxSelection,triggersZOrder:Y.any}],L=[{name:\"display\",type:F.display,triggersZOrder:Y.any,triggersBounds:Y.any,triggersBoundsOfConnectedEdges:Y.any,triggersBoundsOfParallelEdges:function h(d,p,r){if(d===p)return!1;return r.pstyle(\"curve-style\").value===\"bezier\"}},{name:\"visibility\",type:F.visibility,triggersZOrder:Y.any},{name:\"opacity\",type:F.zeroOneNumber,triggersZOrder:Y.zeroNonZero},{name:\"text-opacity\",type:F.zeroOneNumber},{name:\"min-zoomed-font-size\",type:F.size},{name:\"z-compound-depth\",type:F.zCompoundDepth,triggersZOrder:Y.any},{name:\"z-index-compare\",type:F.zIndexCompare,triggersZOrder:Y.any},{name:\"z-index\",type:F.number,triggersZOrder:Y.any}],E=[{name:\"overlay-padding\",type:F.size,triggersBounds:Y.any},{name:\"overlay-color\",type:F.color},{name:\"overlay-opacity\",type:F.zeroOneNumber,triggersBounds:Y.zeroNonZero},{name:\"overlay-shape\",type:F.overlayShape,triggersBounds:Y.any},{name:\"overlay-corner-radius\",type:F.cornerRadius}],B=[{name:\"underlay-padding\",type:F.size,triggersBounds:Y.any},{name:\"underlay-color\",type:F.color},{name:\"underlay-opacity\",type:F.zeroOneNumber,triggersBounds:Y.zeroNonZero},{name:\"underlay-shape\",type:F.overlayShape,triggersBounds:Y.any},{name:\"underlay-corner-radius\",type:F.cornerRadius}],V=[{name:\"transition-property\",type:F.propList},{name:\"transition-duration\",type:F.time},{name:\"transition-delay\",type:F.time},{name:\"transition-timing-function\",type:F.easing}],D=function h(d,p){if(p.value===\"label\")return-d.poolIndex();else return p.pfValue},O=[{name:\"height\",type:F.nodeSize,triggersBounds:Y.any,hashOverride:D},{name:\"width\",type:F.nodeSize,triggersBounds:Y.any,hashOverride:D},{name:\"shape\",type:F.nodeShape,triggersBounds:Y.any},{name:\"shape-polygon-points\",type:F.polygonPointList,triggersBounds:Y.any},{name:\"corner-radius\",type:F.cornerRadius},{name:\"background-color\",type:F.color},{name:\"background-fill\",type:F.fill},{name:\"background-opacity\",type:F.zeroOneNumber},{name:\"background-blacken\",type:F.nOneOneNumber},{name:\"background-gradient-stop-colors\",type:F.colors},{name:\"background-gradient-stop-positions\",type:F.percentages},{name:\"background-gradient-direction\",type:F.gradientDirection},{name:\"padding\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"padding-relative-to\",type:F.paddingRelativeTo,triggersBounds:Y.any},{name:\"bounds-expansion\",type:F.boundsExpansion,triggersBounds:Y.any}],A=[{name:\"border-color\",type:F.color},{name:\"border-opacity\",type:F.zeroOneNumber},{name:\"border-width\",type:F.size,triggersBounds:Y.any},{name:\"border-style\",type:F.borderStyle},{name:\"border-cap\",type:F.lineCap},{name:\"border-join\",type:F.lineJoin},{name:\"border-dash-pattern\",type:F.numbers},{name:\"border-dash-offset\",type:F.number},{name:\"border-position\",type:F.linePosition}],R=[{name:\"outline-color\",type:F.color},{name:\"outline-opacity\",type:F.zeroOneNumber},{name:\"outline-width\",type:F.size,triggersBounds:Y.any},{name:\"outline-style\",type:F.borderStyle},{name:\"outline-offset\",type:F.size,triggersBounds:Y.any}],C=[{name:\"background-image\",type:F.urls},{name:\"background-image-crossorigin\",type:F.bgCrossOrigin},{name:\"background-image-opacity\",type:F.zeroOneNumbers},{name:\"background-image-containment\",type:F.bgContainment},{name:\"background-image-smoothing\",type:F.bools},{name:\"background-position-x\",type:F.bgPos},{name:\"background-position-y\",type:F.bgPos},{name:\"background-width-relative-to\",type:F.bgRelativeTo},{name:\"background-height-relative-to\",type:F.bgRelativeTo},{name:\"background-repeat\",type:F.bgRepeat},{name:\"background-fit\",type:F.bgFit},{name:\"background-clip\",type:F.bgClip},{name:\"background-width\",type:F.bgWH},{name:\"background-height\",type:F.bgWH},{name:\"background-offset-x\",type:F.bgPos},{name:\"background-offset-y\",type:F.bgPos}],I=[{name:\"position\",type:F.position,triggersBounds:Y.any},{name:\"compound-sizing-wrt-labels\",type:F.compoundIncludeLabels,triggersBounds:Y.any},{name:\"min-width\",type:F.size,triggersBounds:Y.any},{name:\"min-width-bias-left\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"min-width-bias-right\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"min-height\",type:F.size,triggersBounds:Y.any},{name:\"min-height-bias-top\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"min-height-bias-bottom\",type:F.sizeMaybePercent,triggersBounds:Y.any}],T=[{name:\"line-style\",type:F.lineStyle},{name:\"line-color\",type:F.color},{name:\"line-fill\",type:F.fill},{name:\"line-cap\",type:F.lineCap},{name:\"line-opacity\",type:F.zeroOneNumber},{name:\"line-dash-pattern\",type:F.numbers},{name:\"line-dash-offset\",type:F.number},{name:\"line-outline-width\",type:F.size},{name:\"line-outline-color\",type:F.color},{name:\"line-gradient-stop-colors\",type:F.colors},{name:\"line-gradient-stop-positions\",type:F.percentages},{name:\"curve-style\",type:F.curveStyle,triggersBounds:Y.any,triggersBoundsOfParallelEdges:function h(d,p){if(d===p)return!1;return d===\"bezier\"||p===\"bezier\"}},{name:\"haystack-radius\",type:F.zeroOneNumber,triggersBounds:Y.any},{name:\"source-endpoint\",type:F.edgeEndpoint,triggersBounds:Y.any},{name:\"target-endpoint\",type:F.edgeEndpoint,triggersBounds:Y.any},{name:\"control-point-step-size\",type:F.size,triggersBounds:Y.any},{name:\"control-point-distances\",type:F.bidirectionalSizes,triggersBounds:Y.any},{name:\"control-point-weights\",type:F.numbers,triggersBounds:Y.any},{name:\"segment-distances\",type:F.bidirectionalSizes,triggersBounds:Y.any},{name:\"segment-weights\",type:F.numbers,triggersBounds:Y.any},{name:\"segment-radii\",type:F.numbers,triggersBounds:Y.any},{name:\"radius-type\",type:F.radiusType,triggersBounds:Y.any},{name:\"taxi-turn\",type:F.bidirectionalSizeMaybePercent,triggersBounds:Y.any},{name:\"taxi-turn-min-distance\",type:F.size,triggersBounds:Y.any},{name:\"taxi-direction\",type:F.axisDirection,triggersBounds:Y.any},{name:\"taxi-radius\",type:F.number,triggersBounds:Y.any},{name:\"edge-distances\",type:F.edgeDistances,triggersBounds:Y.any},{name:\"arrow-scale\",type:F.positiveNumber,triggersBounds:Y.any},{name:\"loop-direction\",type:F.angle,triggersBounds:Y.any},{name:\"loop-sweep\",type:F.angle,triggersBounds:Y.any},{name:\"source-distance-from-node\",type:F.size,triggersBounds:Y.any},{name:\"target-distance-from-node\",type:F.size,triggersBounds:Y.any}],P=[{name:\"ghost\",type:F.bool,triggersBounds:Y.any},{name:\"ghost-offset-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"ghost-offset-y\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"ghost-opacity\",type:F.zeroOneNumber}],k=[{name:\"selection-box-color\",type:F.color},{name:\"selection-box-opacity\",type:F.zeroOneNumber},{name:\"selection-box-border-color\",type:F.color},{name:\"selection-box-border-width\",type:F.size},{name:\"active-bg-color\",type:F.color},{name:\"active-bg-opacity\",type:F.zeroOneNumber},{name:\"active-bg-size\",type:F.size},{name:\"outside-texture-bg-color\",type:F.color},{name:\"outside-texture-bg-opacity\",type:F.zeroOneNumber}],j=[];G8.pieBackgroundN=16,j.push({name:\"pie-size\",type:F.sizeMaybePercent}),j.push({name:\"pie-hole\",type:F.sizeMaybePercent}),j.push({name:\"pie-start-angle\",type:F.angle});for(var _=1;_<=G8.pieBackgroundN;_++)j.push({name:\"pie-\"+_+\"-background-color\",type:F.color}),j.push({name:\"pie-\"+_+\"-background-size\",type:F.percent}),j.push({name:\"pie-\"+_+\"-background-opacity\",type:F.zeroOneNumber});var x=[];G8.stripeBackgroundN=16,x.push({name:\"stripe-size\",type:F.sizeMaybePercent}),x.push({name:\"stripe-direction\",type:F.axisDirectionPrimary});for(var f=1;f<=G8.stripeBackgroundN;f++)x.push({name:\"stripe-\"+f+\"-background-color\",type:F.color}),x.push({name:\"stripe-\"+f+\"-background-size\",type:F.percent}),x.push({name:\"stripe-\"+f+\"-background-opacity\",type:F.zeroOneNumber});var v=[],b=G8.arrowPrefixes=[\"source\",\"mid-source\",\"target\",\"mid-target\"];[{name:\"arrow-shape\",type:F.arrowShape,triggersBounds:Y.any},{name:\"arrow-color\",type:F.color},{name:\"arrow-fill\",type:F.arrowFill},{name:\"arrow-width\",type:F.arrowWidth}].forEach(function(h){b.forEach(function(d){var p=d+\"-\"+h.name,r=h.type,UJ=h.triggersBounds;v.push({name:p,type:r,triggersBounds:UJ})})},{});var y=G8.properties=[].concat(W,V,L,E,B,P,M,z,X,H,N,O,A,R,C,j,x,I,T,v,k),g=G8.propertyGroups={behavior:W,transition:V,visibility:L,overlay:E,underlay:B,ghost:P,commonLabel:M,labelDimensions:z,mainLabel:X,sourceLabel:H,targetLabel:N,nodeBody:O,nodeBorder:A,nodeOutline:R,backgroundImage:C,pie:j,stripe:x,compound:I,edgeLine:T,edgeArrow:v,core:k},m=G8.propertyGroupNames={},u=G8.propertyGroupKeys=Object.keys(g);u.forEach(function(h){m[h]=g[h].map(function(d){return d.name}),g[h].forEach(function(d){return d.groupKey=h})});var n=G8.aliases=[{name:\"content\",pointsTo:\"label\"},{name:\"control-point-distance\",pointsTo:\"control-point-distances\"},{name:\"control-point-weight\",pointsTo:\"control-point-weights\"},{name:\"segment-distance\",pointsTo:\"segment-distances\"},{name:\"segment-weight\",pointsTo:\"segment-weights\"},{name:\"segment-radius\",pointsTo:\"segment-radii\"},{name:\"edge-text-rotation\",pointsTo:\"text-rotation\"},{name:\"padding-left\",pointsTo:\"padding\"},{name:\"padding-right\",pointsTo:\"padding\"},{name:\"padding-top\",pointsTo:\"padding\"},{name:\"padding-bottom\",pointsTo:\"padding\"}];G8.propertyNames=y.map(function(h){return h.name});for(var t=0;t<y.length;t++){var s=y[t];y[s.name]=s}for(var JJ=0;JJ<n.length;JJ++){var ZJ=n[JJ],qJ=y[ZJ.pointsTo],e={name:ZJ.name,alias:!0,pointsTo:qJ};y.push(e),y[ZJ.name]=e}})();G8.getDefaultProperty=function(Q){return this.getDefaultProperties()[Q]};G8.getDefaultProperties=function(){var Q=this._private;if(Q.defaultProperties!=null)return Q.defaultProperties;var J=DJ({\"selection-box-color\":\"#ddd\",\"selection-box-opacity\":0.65,\"selection-box-border-color\":\"#aaa\",\"selection-box-border-width\":1,\"active-bg-color\":\"black\",\"active-bg-opacity\":0.15,\"active-bg-size\":30,\"outside-texture-bg-color\":\"#000\",\"outside-texture-bg-opacity\":0.125,events:\"yes\",\"text-events\":\"no\",\"text-valign\":\"top\",\"text-halign\":\"center\",\"text-justification\":\"auto\",\"line-height\":1,color:\"#000\",\"box-selection\":\"contain\",\"text-outline-color\":\"#000\",\"text-outline-width\":0,\"text-outline-opacity\":1,\"text-opacity\":1,\"text-decoration\":\"none\",\"text-transform\":\"none\",\"text-wrap\":\"none\",\"text-overflow-wrap\":\"whitespace\",\"text-max-width\":9999,\"text-background-color\":\"#000\",\"text-background-opacity\":0,\"text-background-shape\":\"rectangle\",\"text-background-padding\":0,\"text-border-opacity\":0,\"text-border-width\":0,\"text-border-style\":\"solid\",\"text-border-color\":\"#000\",\"font-family\":\"Helvetica Neue, Helvetica, sans-serif\",\"font-style\":\"normal\",\"font-weight\":\"normal\",\"font-size\":16,\"min-zoomed-font-size\":0,\"text-rotation\":\"none\",\"source-text-rotation\":\"none\",\"target-text-rotation\":\"none\",visibility:\"visible\",display:\"element\",opacity:1,\"z-compound-depth\":\"auto\",\"z-index-compare\":\"auto\",\"z-index\":0,label:\"\",\"text-margin-x\":0,\"text-margin-y\":0,\"source-label\":\"\",\"source-text-offset\":0,\"source-text-margin-x\":0,\"source-text-margin-y\":0,\"target-label\":\"\",\"target-text-offset\":0,\"target-text-margin-x\":0,\"target-text-margin-y\":0,\"overlay-opacity\":0,\"overlay-color\":\"#000\",\"overlay-padding\":10,\"overlay-shape\":\"round-rectangle\",\"overlay-corner-radius\":\"auto\",\"underlay-opacity\":0,\"underlay-color\":\"#000\",\"underlay-padding\":10,\"underlay-shape\":\"round-rectangle\",\"underlay-corner-radius\":\"auto\",\"transition-property\":\"none\",\"transition-duration\":0,\"transition-delay\":0,\"transition-timing-function\":\"linear\",\"box-select-labels\":\"no\",\"background-blacken\":0,\"background-color\":\"#999\",\"background-fill\":\"solid\",\"background-opacity\":1,\"background-image\":\"none\",\"background-image-crossorigin\":\"anonymous\",\"background-image-opacity\":1,\"background-image-containment\":\"inside\",\"background-image-smoothing\":\"yes\",\"background-position-x\":\"50%\",\"background-position-y\":\"50%\",\"background-offset-x\":0,\"background-offset-y\":0,\"background-width-relative-to\":\"include-padding\",\"background-height-relative-to\":\"include-padding\",\"background-repeat\":\"no-repeat\",\"background-fit\":\"none\",\"background-clip\":\"node\",\"background-width\":\"auto\",\"background-height\":\"auto\",\"border-color\":\"#000\",\"border-opacity\":1,\"border-width\":0,\"border-style\":\"solid\",\"border-dash-pattern\":[4,2],\"border-dash-offset\":0,\"border-cap\":\"butt\",\"border-join\":\"miter\",\"border-position\":\"center\",\"outline-color\":\"#999\",\"outline-opacity\":1,\"outline-width\":0,\"outline-offset\":0,\"outline-style\":\"solid\",height:30,width:30,shape:\"ellipse\",\"shape-polygon-points\":\"-1, -1,   1, -1,   1, 1,   -1, 1\",\"corner-radius\":\"auto\",\"bounds-expansion\":0,\"background-gradient-direction\":\"to-bottom\",\"background-gradient-stop-colors\":\"#999\",\"background-gradient-stop-positions\":\"0%\",ghost:\"no\",\"ghost-offset-y\":0,\"ghost-offset-x\":0,\"ghost-opacity\":0,padding:0,\"padding-relative-to\":\"width\",position:\"origin\",\"compound-sizing-wrt-labels\":\"include\",\"min-width\":0,\"min-width-bias-left\":0,\"min-width-bias-right\":0,\"min-height\":0,\"min-height-bias-top\":0,\"min-height-bias-bottom\":0},{\"pie-size\":\"100%\",\"pie-hole\":0,\"pie-start-angle\":\"0deg\"},[{name:\"pie-{{i}}-background-color\",value:\"black\"},{name:\"pie-{{i}}-background-size\",value:\"0%\"},{name:\"pie-{{i}}-background-opacity\",value:1}].reduce(function(Y,F){for(var X=1;X<=G8.pieBackgroundN;X++){var H=F.name.replace(\"{{i}}\",X),N=F.value;Y[H]=N}return Y},{}),{\"stripe-size\":\"100%\",\"stripe-direction\":\"horizontal\"},[{name:\"stripe-{{i}}-background-color\",value:\"black\"},{name:\"stripe-{{i}}-background-size\",value:\"0%\"},{name:\"stripe-{{i}}-background-opacity\",value:1}].reduce(function(Y,F){for(var X=1;X<=G8.stripeBackgroundN;X++){var H=F.name.replace(\"{{i}}\",X),N=F.value;Y[H]=N}return Y},{}),{\"line-style\":\"solid\",\"line-color\":\"#999\",\"line-fill\":\"solid\",\"line-cap\":\"butt\",\"line-opacity\":1,\"line-outline-width\":0,\"line-outline-color\":\"#000\",\"line-gradient-stop-colors\":\"#999\",\"line-gradient-stop-positions\":\"0%\",\"control-point-step-size\":40,\"control-point-weights\":0.5,\"segment-weights\":0.5,\"segment-distances\":20,\"segment-radii\":15,\"radius-type\":\"arc-radius\",\"taxi-turn\":\"50%\",\"taxi-radius\":15,\"taxi-turn-min-distance\":10,\"taxi-direction\":\"auto\",\"edge-distances\":\"intersection\",\"curve-style\":\"haystack\",\"haystack-radius\":0,\"arrow-scale\":1,\"loop-direction\":\"-45deg\",\"loop-sweep\":\"-90deg\",\"source-distance-from-node\":0,\"target-distance-from-node\":0,\"source-endpoint\":\"outside-to-node\",\"target-endpoint\":\"outside-to-node\",\"line-dash-pattern\":[6,3],\"line-dash-offset\":0},[{name:\"arrow-shape\",value:\"none\"},{name:\"arrow-color\",value:\"#999\"},{name:\"arrow-fill\",value:\"filled\"},{name:\"arrow-width\",value:1}].reduce(function(Y,F){return G8.arrowPrefixes.forEach(function(X){var H=X+\"-\"+F.name,N=F.value;Y[H]=N}),Y},{})),Z={};for(var U=0;U<this.properties.length;U++){var $=this.properties[U];if($.pointsTo)continue;var q=$.name,K=J[q],G=this.parse(q,K);Z[q]=G}return Q.defaultProperties=Z,Q.defaultProperties};G8.addDefaultStylesheet=function(){this.selector(\":parent\").css({shape:\"rectangle\",padding:10,\"background-color\":\"#eee\",\"border-color\":\"#ccc\",\"border-width\":1}).selector(\"edge\").css({width:3}).selector(\":loop\").css({\"curve-style\":\"bezier\"}).selector(\"edge:compound\").css({\"curve-style\":\"bezier\",\"source-endpoint\":\"outside-to-line\",\"target-endpoint\":\"outside-to-line\"}).selector(\":selected\").css({\"background-color\":\"#0169D9\",\"line-color\":\"#0169D9\",\"source-arrow-color\":\"#0169D9\",\"target-arrow-color\":\"#0169D9\",\"mid-source-arrow-color\":\"#0169D9\",\"mid-target-arrow-color\":\"#0169D9\"}).selector(\":parent:selected\").css({\"background-color\":\"#CCE1F9\",\"border-color\":\"#aec8e5\"}).selector(\":active\").css({\"overlay-color\":\"black\",\"overlay-padding\":10,\"overlay-opacity\":0.25}),this.defaultLength=this.length};var S7={};S7.parse=function(Q,J,Z,U){var $=this;if(Q8(J))return $.parseImplWarn(Q,J,Z,U);var q=U===\"mapping\"||U===!0||U===!1||U==null?\"dontcare\":U,K=Z?\"t\":\"f\",G=\"\"+J,Y=JK(Q,G,K,q),F=$.propCache=$.propCache||[],X;if(!(X=F[Y]))X=F[Y]=$.parseImplWarn(Q,J,Z,U);if(Z||U===\"mapping\"){if(X=q9(X),X)X.value=q9(X.value)}return X};S7.parseImplWarn=function(Q,J,Z,U){var $=this.parseImpl(Q,J,Z,U);if(!$&&J!=null)lJ(\"The style property `\".concat(Q,\": \").concat(J,\"` is invalid\"));if($&&($.name===\"width\"||$.name===\"height\")&&J===\"label\")lJ(\"The style value of `label` is deprecated for `\"+$.name+\"`\");return $};S7.parseImpl=function(Q,J,Z,U){var $=this;Q=XU(Q);var q=$.properties[Q],K=J,G=$.types;if(!q)return null;if(J===void 0)return null;if(q.alias)q=q.pointsTo,Q=q.name;var Y=WJ(J);if(Y)J=J.trim();var F=q.type;if(!F)return null;if(Z&&(J===\"\"||J===null))return{name:Q,value:J,bypass:!0,deleteBypass:!0};if(Q8(J))return{name:Q,value:J,strValue:\"fn\",mapped:G.fn,bypass:Z};var X,H;if(!Y||U||J.length<7||J[1]!==\"a\");else if(J.length>=7&&J[0]===\"d\"&&(X=new RegExp(G.data.regex).exec(J))){if(Z)return!1;var N=G.data;return{name:Q,value:X,strValue:\"\"+J,mapped:N,field:X[1],bypass:Z}}else if(J.length>=10&&J[0]===\"m\"&&(H=new RegExp(G.mapData.regex).exec(J))){if(Z)return!1;if(F.multiple)return!1;var z=G.mapData;if(!(F.color||F.number))return!1;var M=this.parse(Q,H[4]);if(!M||M.mapped)return!1;var W=this.parse(Q,H[5]);if(!W||W.mapped)return!1;if(M.pfValue===W.pfValue||M.strValue===W.strValue)return lJ(\"`\"+Q+\": \"+J+\"` is not a valid mapper because the output range is zero; converting to `\"+Q+\": \"+M.strValue+\"`\"),this.parse(Q,M.strValue);else if(F.color){var L=M.value,E=W.value,B=L[0]===E[0]&&L[1]===E[1]&&L[2]===E[2]&&(L[3]===E[3]||(L[3]==null||L[3]===1)&&(E[3]==null||E[3]===1));if(B)return!1}return{name:Q,value:H,strValue:\"\"+J,mapped:z,field:H[1],fieldMin:parseFloat(H[2]),fieldMax:parseFloat(H[3]),valueMin:M.value,valueMax:W.value,bypass:Z}}if(F.multiple&&U!==\"multiple\"){var V;if(Y)V=J.split(/\\s+/);else if(nJ(J))V=J;else V=[J];if(F.evenMultiple&&V.length%2!==0)return null;var D=[],O=[],A=[],R=\"\",C=!1;for(var I=0;I<V.length;I++){var T=$.parse(Q,V[I],Z,\"multiple\");C=C||WJ(T.value),D.push(T.value),A.push(T.pfValue!=null?T.pfValue:T.value),O.push(T.units),R+=(I>0?\" \":\"\")+T.strValue}if(F.validate&&!F.validate(D,O))return null;if(F.singleEnum&&C)if(D.length===1&&WJ(D[0]))return{name:Q,value:D[0],strValue:D[0],bypass:Z};else return null;return{name:Q,value:D,pfValue:A,strValue:R,bypass:Z,units:O}}var P=function qJ(){for(var e=0;e<F.enums.length;e++){var h=F.enums[e];if(h===J)return{name:Q,value:J,strValue:\"\"+J,bypass:Z}}return null};if(F.number){var k,j=\"px\";if(F.units)k=F.units;if(F.implicitUnits)j=F.implicitUnits;if(!F.unitless){if(Y){var _=\"px|em\"+(F.allowPercent?\"|\\\\%\":\"\");if(k)_=k;var x=J.match(\"^(\"+N8+\")(\"+_+\")?$\");if(x)J=x[1],k=x[2]||j}else if(!k||F.implicitUnits)k=j}if(J=parseFloat(J),isNaN(J)&&F.enums===void 0)return null;if(isNaN(J)&&F.enums!==void 0)return J=K,P();if(F.integer&&!J2(J))return null;if(F.min!==void 0&&(J<F.min||F.strictMin&&J===F.min)||F.max!==void 0&&(J>F.max||F.strictMax&&J===F.max))return null;var f={name:Q,value:J,strValue:\"\"+J+(k?k:\"\"),units:k,bypass:Z};if(F.unitless||k!==\"px\"&&k!==\"em\")f.pfValue=J;else f.pfValue=k===\"px\"||!k?J:this.getEmSizeInPixels()*J;if(k===\"ms\"||k===\"s\")f.pfValue=k===\"ms\"?J:1000*J;if(k===\"deg\"||k===\"rad\")f.pfValue=k===\"rad\"?J:XV(J);if(k===\"%\")f.pfValue=J/100;return f}else if(F.propList){var v=[],b=\"\"+J;if(b===\"none\");else{var y=b.split(/\\s*,\\s*|\\s+/);for(var g=0;g<y.length;g++){var m=y[g].trim();if($.properties[m])v.push(m);else lJ(\"`\"+m+\"` is not a valid property name\")}if(v.length===0)return null}return{name:Q,value:v,strValue:v.length===0?\"none\":v.join(\" \"),bypass:Z}}else if(F.color){var u=n1(J);if(!u)return null;return{name:Q,value:u,pfValue:u,strValue:\"rgb(\"+u[0]+\",\"+u[1]+\",\"+u[2]+\")\",bypass:Z}}else if(F.regex||F.regexes){if(F.enums){var n=P();if(n)return n}var t=F.regexes?F.regexes:[F.regex];for(var s=0;s<t.length;s++){var JJ=new RegExp(t[s]),ZJ=JJ.exec(J);if(ZJ)return{name:Q,value:F.singleRegexMatchValue?ZJ[1]:ZJ,strValue:\"\"+J,bypass:Z}}return null}else if(F.string)return{name:Q,value:\"\"+J,strValue:\"\"+J,bypass:Z};else if(F.enums)return P();else return null};var B8=function Q(J){if(!(this instanceof B8))return new B8(J);if(!FU(J)){J8(\"A style must have a core reference\");return}this._private={cy:J,coreStyle:{}},this.length=0,this.resetToDefault()},T8=B8.prototype;T8.instanceString=function(){return\"style\"};T8.clear=function(){var Q=this._private,J=Q.cy,Z=J.elements();for(var U=0;U<this.length;U++)this[U]=void 0;return this.length=0,Q.contextStyles={},Q.propDiffs={},this.cleanElements(Z,!0),Z.forEach(function($){var q=$[0]._private;q.styleDirty=!0,q.appliedInitStyle=!1}),this};T8.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};T8.core=function(Q){return this._private.coreStyle[Q]||this.getDefaultProperty(Q)};T8.selector=function(Q){var J=Q===\"core\"?null:new g9(Q),Z=this.length++;return this[Z]={selector:J,properties:[],mappedProperties:[],index:Z},this};T8.css=function(){var Q=this,J=arguments;if(J.length===1){var Z=J[0];for(var U=0;U<Q.properties.length;U++){var $=Q.properties[U],q=Z[$.name];if(q===void 0)q=Z[H7($.name)];if(q!==void 0)this.cssRule($.name,q)}}else if(J.length===2)this.cssRule(J[0],J[1]);return this};T8.style=T8.css;T8.cssRule=function(Q,J){var Z=this.parse(Q,J);if(Z){var U=this.length-1;if(this[U].properties.push(Z),this[U].properties[Z.name]=Z,Z.name.match(/pie-(\\d+)-background-size/)&&Z.value)this._private.hasPie=!0;if(Z.name.match(/stripe-(\\d+)-background-size/)&&Z.value)this._private.hasStripe=!0;if(Z.mapped)this[U].mappedProperties.push(Z);var $=!this[U].selector;if($)this._private.coreStyle[Z.name]=Z}return this};T8.append=function(Q){if(p1(Q))Q.appendToStyle(this);else if(nJ(Q))this.appendFromJson(Q);else if(WJ(Q))this.appendFromString(Q);return this};B8.fromJson=function(Q,J){var Z=new B8(Q);return Z.fromJson(J),Z};B8.fromString=function(Q,J){return new B8(Q).fromString(J)};[V8,nZ,SU,K9,C7,IU,G8,S7].forEach(function(Q){DJ(T8,Q)});B8.types=T8.types;B8.properties=T8.properties;B8.propertyGroups=T8.propertyGroups;B8.propertyGroupNames=T8.propertyGroupNames;B8.propertyGroupKeys=T8.propertyGroupKeys;var zO={style:function Q(J){if(J){var Z=this.setStyle(J);Z.update()}return this._private.style},setStyle:function Q(J){var Z=this._private;if(p1(J))Z.style=J.generateStyle(this);else if(nJ(J))Z.style=B8.fromJson(this,J);else if(WJ(J))Z.style=B8.fromString(this,J);else Z.style=B8(this);return Z.style},updateStyle:function Q(){this.mutableElements().updateStyle()}},LO=\"single\",zQ={autolock:function Q(J){if(J!==void 0)this._private.autolock=J?!0:!1;else return this._private.autolock;return this},autoungrabify:function Q(J){if(J!==void 0)this._private.autoungrabify=J?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function Q(J){if(J!==void 0)this._private.autounselectify=J?!0:!1;else return this._private.autounselectify;return this},selectionType:function Q(J){var Z=this._private;if(Z.selectionType==null)Z.selectionType=LO;if(J!==void 0){if(J===\"additive\"||J===\"single\")Z.selectionType=J}else return Z.selectionType;return this},panningEnabled:function Q(J){if(J!==void 0)this._private.panningEnabled=J?!0:!1;else return this._private.panningEnabled;return this},userPanningEnabled:function Q(J){if(J!==void 0)this._private.userPanningEnabled=J?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function Q(J){if(J!==void 0)this._private.zoomingEnabled=J?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function Q(J){if(J!==void 0)this._private.userZoomingEnabled=J?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function Q(J){if(J!==void 0)this._private.boxSelectionEnabled=J?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function Q(){var J=arguments,Z=this._private.pan,U,$,q,K,G;switch(J.length){case 0:return Z;case 1:if(WJ(J[0]))return U=J[0],Z[U];else if(yJ(J[0])){if(!this._private.panningEnabled)return this;if(q=J[0],K=q.x,G=q.y,$J(K))Z.x=K;if($J(G))Z.y=G;this.emit(\"pan viewport\")}break;case 2:if(!this._private.panningEnabled)return this;if(U=J[0],$=J[1],(U===\"x\"||U===\"y\")&&$J($))Z[U]=$;this.emit(\"pan viewport\");break}return this.notify(\"viewport\"),this},panBy:function Q(J,Z){var U=arguments,$=this._private.pan,q,K,G,Y,F;if(!this._private.panningEnabled)return this;switch(U.length){case 1:if(yJ(J)){if(G=U[0],Y=G.x,F=G.y,$J(Y))$.x+=Y;if($J(F))$.y+=F;this.emit(\"pan viewport\")}break;case 2:if(q=J,K=Z,(q===\"x\"||q===\"y\")&&$J(K))$[q]+=K;this.emit(\"pan viewport\");break}return this.notify(\"viewport\"),this},gc:function Q(){this.notify(\"gc\")},fit:function Q(J,Z){var U=this.getFitViewport(J,Z);if(U){var $=this._private;$.zoom=U.zoom,$.pan=U.pan,this.emit(\"pan zoom viewport\"),this.notify(\"viewport\")}return this},getFitViewport:function Q(J,Z){if($J(J)&&Z===void 0)Z=J,J=void 0;if(!this._private.panningEnabled||!this._private.zoomingEnabled)return;var U;if(WJ(J)){var $=J;J=this.$($)}else if(U2(J)){var q=J;U={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2},U.w=U.x2-U.x1,U.h=U.y2-U.y1}else if(!h8(J))J=this.mutableElements();if(h8(J)&&J.empty())return;U=U||J.boundingBox();var K=this.width(),G=this.height(),Y;if(Z=$J(Z)?Z:0,!isNaN(K)&&!isNaN(G)&&K>0&&G>0&&!isNaN(U.w)&&!isNaN(U.h)&&U.w>0&&U.h>0){Y=Math.min((K-2*Z)/U.w,(G-2*Z)/U.h),Y=Y>this._private.maxZoom?this._private.maxZoom:Y,Y=Y<this._private.minZoom?this._private.minZoom:Y;var F={x:(K-Y*(U.x1+U.x2))/2,y:(G-Y*(U.y1+U.y2))/2};return{zoom:Y,pan:F}}return},zoomRange:function Q(J,Z){var U=this._private;if(Z==null){var $=J;J=$.min,Z=$.max}if($J(J)&&$J(Z)&&J<=Z)U.minZoom=J,U.maxZoom=Z;else if($J(J)&&Z===void 0&&J<=U.maxZoom)U.minZoom=J;else if($J(Z)&&J===void 0&&Z>=U.minZoom)U.maxZoom=Z;return this},minZoom:function Q(J){if(J===void 0)return this._private.minZoom;else return this.zoomRange({min:J})},maxZoom:function Q(J){if(J===void 0)return this._private.maxZoom;else return this.zoomRange({max:J})},getZoomedViewport:function Q(J){var Z=this._private,U=Z.pan,$=Z.zoom,q,K,G=!1;if(!Z.zoomingEnabled)G=!0;if($J(J))K=J;else if(yJ(J)){if(K=J.level,J.position!=null)q=z7(J.position,$,U);else if(J.renderedPosition!=null)q=J.renderedPosition;if(q!=null&&!Z.panningEnabled)G=!0}if(K=K>Z.maxZoom?Z.maxZoom:K,K=K<Z.minZoom?Z.minZoom:K,G||!$J(K)||K===$||q!=null&&(!$J(q.x)||!$J(q.y)))return null;if(q!=null){var Y=U,F=$,X=K,H={x:-X/F*(q.x-Y.x)+q.x,y:-X/F*(q.y-Y.y)+q.y};return{zoomed:!0,panned:!0,zoom:X,pan:H}}else return{zoomed:!0,panned:!1,zoom:K,pan:U}},zoom:function Q(J){if(J===void 0)return this._private.zoom;else{var Z=this.getZoomedViewport(J),U=this._private;if(Z==null||!Z.zoomed)return this;if(U.zoom=Z.zoom,Z.panned)U.pan.x=Z.pan.x,U.pan.y=Z.pan.y;return this.emit(\"zoom\"+(Z.panned?\" pan\":\"\")+\" viewport\"),this.notify(\"viewport\"),this}},viewport:function Q(J){var Z=this._private,U=!0,$=!0,q=[],K=!1,G=!1;if(!J)return this;if(!$J(J.zoom))U=!1;if(!yJ(J.pan))$=!1;if(!U&&!$)return this;if(U){var Y=J.zoom;if(Y<Z.minZoom||Y>Z.maxZoom||!Z.zoomingEnabled)K=!0;else Z.zoom=Y,q.push(\"zoom\")}if($&&(!K||!J.cancelOnFailedZoom)&&Z.panningEnabled){var F=J.pan;if($J(F.x))Z.pan.x=F.x,G=!1;if($J(F.y))Z.pan.y=F.y,G=!1;if(!G)q.push(\"pan\")}if(q.length>0)q.push(\"viewport\"),this.emit(q.join(\" \")),this.notify(\"viewport\");return this},center:function Q(J){var Z=this.getCenterPan(J);if(Z)this._private.pan=Z,this.emit(\"pan viewport\"),this.notify(\"viewport\");return this},getCenterPan:function Q(J,Z){if(!this._private.panningEnabled)return;if(WJ(J)){var U=J;J=this.mutableElements().filter(U)}else if(!h8(J))J=this.mutableElements();if(J.length===0)return;var $=J.boundingBox(),q=this.width(),K=this.height();Z=Z===void 0?this._private.zoom:Z;var G={x:(q-Z*($.x1+$.x2))/2,y:(K-Z*($.y1+$.y2))/2};return G},reset:function Q(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;return this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function Q(){this._private.sizeCache=null},size:function Q(){var J=this._private,Z=J.container,U=this;return J.sizeCache=J.sizeCache||(Z?function(){var $=U.window().getComputedStyle(Z),q=function K(G){return parseFloat($.getPropertyValue(G))};return{width:Z.clientWidth-q(\"padding-left\")-q(\"padding-right\"),height:Z.clientHeight-q(\"padding-top\")-q(\"padding-bottom\")}}():{width:1,height:1})},width:function Q(){return this.size().width},height:function Q(){return this.size().height},extent:function Q(){var J=this._private.pan,Z=this._private.zoom,U=this.renderedExtent(),$={x1:(U.x1-J.x)/Z,x2:(U.x2-J.x)/Z,y1:(U.y1-J.y)/Z,y2:(U.y2-J.y)/Z};return $.w=$.x2-$.x1,$.h=$.y2-$.y1,$},renderedExtent:function Q(){var J=this.width(),Z=this.height();return{x1:0,y1:0,x2:J,y2:Z,w:J,h:Z}},multiClickDebounceTime:function Q(J){if(J)this._private.multiClickDebounceTime=J;else return this._private.multiClickDebounceTime;return this}};zQ.centre=zQ.center;zQ.autolockNodes=zQ.autolock;zQ.autoungrabifyNodes=zQ.autoungrabify;var bZ={data:pJ.data({field:\"data\",bindingEvent:\"data\",allowBinding:!0,allowSetting:!0,settingEvent:\"data\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,updateStyle:!0}),removeData:pJ.removeData({field:\"data\",event:\"data\",triggerFnName:\"trigger\",triggerEvent:!0,updateStyle:!0}),scratch:pJ.data({field:\"scratch\",bindingEvent:\"scratch\",allowBinding:!0,allowSetting:!0,settingEvent:\"scratch\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,updateStyle:!0}),removeScratch:pJ.removeData({field:\"scratch\",event:\"scratch\",triggerFnName:\"trigger\",triggerEvent:!0,updateStyle:!0})};bZ.attr=bZ.data;bZ.removeAttr=bZ.removeData;var mZ=function Q(J){var Z=this;J=DJ({},J);var U=J.container;if(U&&!t6(U)&&t6(U[0]))U=U[0];var $=U?U._cyreg:null;if($=$||{},$&&$.cy)$.cy.destroy(),$={};var q=$.readies=$.readies||[];if(U)U._cyreg=$;$.cy=Z;var K=H8!==void 0&&U!==void 0&&!J.headless,G=J;G.layout=DJ({name:K?\"grid\":\"null\"},G.layout),G.renderer=DJ({name:K?\"canvas\":\"null\"},G.renderer);var Y=function z(M,W,L){if(W!==void 0)return W;else if(L!==void 0)return L;else return M},F=this._private={container:U,ready:!1,options:G,elements:new O8(this),listeners:[],aniEles:new O8(this),data:G.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:0.00000000000000000000000000000000000000000000000001,maxZoom:100000000000000000000000000000000000000000000000000,zoomingEnabled:Y(!0,G.zoomingEnabled),userZoomingEnabled:Y(!0,G.userZoomingEnabled),panningEnabled:Y(!0,G.panningEnabled),userPanningEnabled:Y(!0,G.userPanningEnabled),boxSelectionEnabled:Y(!0,G.boxSelectionEnabled),autolock:Y(!1,G.autolock,G.autolockNodes),autoungrabify:Y(!1,G.autoungrabify,G.autoungrabifyNodes),autounselectify:Y(!1,G.autounselectify),styleEnabled:G.styleEnabled===void 0?K:G.styleEnabled,zoom:$J(G.zoom)?G.zoom:1,pan:{x:yJ(G.pan)&&$J(G.pan.x)?G.pan.x:0,y:yJ(G.pan)&&$J(G.pan.y)?G.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:Y(250,G.multiClickDebounceTime)};this.createEmitter(),this.selectionType(G.selectionType),this.zoomRange({min:G.minZoom,max:G.maxZoom});var X=function z(M,W){var L=M.some($2);if(L)return aQ.all(M).then(W);else W(M)};if(F.styleEnabled)Z.setStyle([]);var H=DJ({},G,G.renderer);Z.initRenderer(H);var N=function z(M,W,L){Z.notifications(!1);var E=Z.mutableElements();if(E.length>0)E.remove();if(M!=null){if(yJ(M)||nJ(M))Z.add(M)}Z.one(\"layoutready\",function(V){Z.notifications(!0),Z.emit(V),Z.one(\"load\",W),Z.emitAndNotify(\"load\")}).one(\"layoutstop\",function(){Z.one(\"done\",L),Z.emit(\"done\")});var B=DJ({},Z._private.options.layout);B.eles=Z.elements(),Z.layout(B).run()};X([G.style,G.elements],function(z){var M=z[0],W=z[1];if(F.styleEnabled)Z.style().append(M);N(W,function(){if(Z.startAnimationLoop(),F.ready=!0,Q8(G.ready))Z.on(\"ready\",G.ready);for(var L=0;L<q.length;L++){var E=q[L];Z.on(\"ready\",E)}if($)$.readies=[];Z.emit(\"ready\")},G.done)})},q7=mZ.prototype;DJ(q7,{instanceString:function Q(){return\"core\"},isReady:function Q(){return this._private.ready},destroyed:function Q(){return this._private.destroyed},ready:function Q(J){if(this.isReady())this.emitter().emit(\"ready\",[],J);else this.on(\"ready\",J);return this},destroy:function Q(){var J=this;if(J.destroyed())return;return J.stopAnimationLoop(),J.destroyRenderer(),this.emit(\"destroy\"),J._private.destroyed=!0,J},hasElementWithId:function Q(J){return this._private.elements.hasElementWithId(J)},getElementById:function Q(J){return this._private.elements.getElementById(J)},hasCompoundNodes:function Q(){return this._private.hasCompoundNodes},headless:function Q(){return this._private.renderer.isHeadless()},styleEnabled:function Q(){return this._private.styleEnabled},addToPool:function Q(J){return this._private.elements.merge(J),this},removeFromPool:function Q(J){return this._private.elements.unmerge(J),this},container:function Q(){return this._private.container||null},window:function Q(){var J=this._private.container;if(J==null)return H8;var Z=this._private.container.ownerDocument;if(Z===void 0||Z==null)return H8;return Z.defaultView||H8},mount:function Q(J){if(J==null)return;var Z=this,U=Z._private,$=U.options;if(!t6(J)&&t6(J[0]))J=J[0];return Z.stopAnimationLoop(),Z.destroyRenderer(),U.container=J,U.styleEnabled=!0,Z.invalidateSize(),Z.initRenderer(DJ({},$,$.renderer,{name:$.renderer.name===\"null\"?\"canvas\":$.renderer.name})),Z.startAnimationLoop(),Z.style($.style),Z.emit(\"mount\"),Z},unmount:function Q(){var J=this;return J.stopAnimationLoop(),J.destroyRenderer(),J.initRenderer({name:\"null\"}),J.emit(\"unmount\"),J},options:function Q(){return q9(this._private.options)},json:function Q(J){var Z=this,U=Z._private,$=Z.mutableElements(),q=function V(D){return Z.getElementById(D.id())};if(yJ(J)){if(Z.startBatch(),J.elements){var K={},G=function V(D,O){var A=[],R=[];for(var C=0;C<D.length;C++){var I=D[C];if(!I.data.id){lJ(\"cy.json() cannot handle elements without an ID attribute\");continue}var T=\"\"+I.data.id,P=Z.getElementById(T);if(K[T]=!0,P.length!==0)R.push({ele:P,json:I});else if(O)I.group=O,A.push(I);else A.push(I)}Z.add(A);for(var k=0;k<R.length;k++){var j=R[k],_=j.ele,x=j.json;_.json(x)}};if(nJ(J.elements))G(J.elements);else{var Y=[\"nodes\",\"edges\"];for(var F=0;F<Y.length;F++){var X=Y[F],H=J.elements[X];if(nJ(H))G(H,X)}}var N=Z.collection();$.filter(function(V){return!K[V.id()]}).forEach(function(V){if(V.isParent())N.merge(V);else V.remove()}),N.forEach(function(V){return V.children().move({parent:null})}),N.forEach(function(V){return q(V).remove()})}if(J.style)Z.style(J.style);if(J.zoom!=null&&J.zoom!==U.zoom)Z.zoom(J.zoom);if(J.pan){if(J.pan.x!==U.pan.x||J.pan.y!==U.pan.y)Z.pan(J.pan)}if(J.data)Z.data(J.data);var z=[\"minZoom\",\"maxZoom\",\"zoomingEnabled\",\"userZoomingEnabled\",\"panningEnabled\",\"userPanningEnabled\",\"boxSelectionEnabled\",\"autolock\",\"autoungrabify\",\"autounselectify\",\"multiClickDebounceTime\"];for(var M=0;M<z.length;M++){var W=z[M];if(J[W]!=null)Z[W](J[W])}return Z.endBatch(),this}else{var L=!!J,E={};if(L)E.elements=this.elements().map(function(V){return V.json()});else E.elements={},$.forEach(function(V){var D=V.group();if(!E.elements[D])E.elements[D]=[];E.elements[D].push(V.json())});if(this._private.styleEnabled)E.style=Z.style().json();E.data=q9(Z.data());var B=U.options;return E.zoomingEnabled=U.zoomingEnabled,E.userZoomingEnabled=U.userZoomingEnabled,E.zoom=U.zoom,E.minZoom=U.minZoom,E.maxZoom=U.maxZoom,E.panningEnabled=U.panningEnabled,E.userPanningEnabled=U.userPanningEnabled,E.pan=q9(U.pan),E.boxSelectionEnabled=U.boxSelectionEnabled,E.renderer=q9(B.renderer),E.hideEdgesOnViewport=B.hideEdgesOnViewport,E.textureOnViewport=B.textureOnViewport,E.wheelSensitivity=B.wheelSensitivity,E.motionBlur=B.motionBlur,E.multiClickDebounceTime=B.multiClickDebounceTime,E}}});q7.$id=q7.getElementById;[$O,FO,pK,o0,i6,HO,t0,n6,zO,zQ,bZ].forEach(function(Q){DJ(q7,Q)});var WO={fit:!0,directed:!1,direction:\"downward\",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}},EO={maximal:!1,acyclic:!1},vQ=function Q(J){return J.scratch(\"breadthfirst\")},N1=function Q(J,Z){return J.scratch(\"breadthfirst\",Z)};function lK(Q){this.options=DJ({},WO,EO,Q)}lK.prototype.run=function(){var Q=this.options,J=Q.cy,Z=Q.eles,U=Z.nodes().filter(function(BJ){return BJ.isChildless()}),$=Z,q=Q.directed,K=Q.acyclic||Q.maximal||Q.maximalAdjustments>0,G=!!Q.boundingBox,Y=w8(G?Q.boundingBox:structuredClone(J.extent())),F;if(h8(Q.roots))F=Q.roots;else if(nJ(Q.roots)){var X=[];for(var H=0;H<Q.roots.length;H++){var N=Q.roots[H],z=J.getElementById(N);X.push(z)}F=J.collection(X)}else if(WJ(Q.roots))F=J.$(Q.roots);else if(q)F=U.roots();else{var M=Z.components();F=J.collection();var W=function BJ(){var KJ=M[L],zJ=KJ.maxDegree(!1),LJ=KJ.filter(function(AJ){return AJ.degree(!1)===zJ});F=F.add(LJ)};for(var L=0;L<M.length;L++)W()}var E=[],B={},V=function BJ(KJ,zJ){if(E[zJ]==null)E[zJ]=[];var LJ=E[zJ].length;E[zJ].push(KJ),N1(KJ,{index:LJ,depth:zJ})},D=function BJ(KJ,zJ){var LJ=vQ(KJ),AJ=LJ.depth,EJ=LJ.index;if(E[AJ][EJ]=null,KJ.isChildless())V(KJ,zJ)};$.bfs({roots:F,directed:Q.directed,visit:function BJ(KJ,zJ,LJ,AJ,EJ){var PJ=KJ[0],bJ=PJ.id();if(PJ.isChildless())V(PJ,EJ);B[bJ]=!0}});var O=[];for(var A=0;A<U.length;A++){var R=U[A];if(B[R.id()])continue;else O.push(R)}var C=function BJ(KJ){var zJ=E[KJ];for(var LJ=0;LJ<zJ.length;LJ++){var AJ=zJ[LJ];if(AJ==null){zJ.splice(LJ,1),LJ--;continue}N1(AJ,{depth:KJ,index:LJ})}},I=function BJ(KJ,zJ){var LJ=vQ(KJ),AJ=KJ.incomers().filter(function(OJ){return OJ.isNode()&&Z.has(OJ)}),EJ=-1,PJ=KJ.id();for(var bJ=0;bJ<AJ.length;bJ++){var gJ=AJ[bJ],dJ=vQ(gJ);EJ=Math.max(EJ,dJ.depth)}if(LJ.depth<=EJ){if(!Q.acyclic&&zJ[PJ])return null;var cJ=EJ+1;return D(KJ,cJ),zJ[PJ]=cJ,!0}return!1};if(q&&K){var T=[],P={},k=function BJ(KJ){return T.push(KJ)},j=function BJ(){return T.shift()};U.forEach(function(BJ){return T.push(BJ)});while(T.length>0){var _=j(),x=I(_,P);if(x)_.outgoers().filter(function(BJ){return BJ.isNode()&&Z.has(BJ)}).forEach(k);else if(x===null){lJ(\"Detected double maximal shift for node `\"+_.id()+\"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.\");break}}}var f=0;if(Q.avoidOverlap)for(var v=0;v<U.length;v++){var b=U[v],y=b.layoutDimensions(Q),g=y.w,m=y.h;f=Math.max(f,g,m)}var u={},n=function BJ(KJ){if(u[KJ.id()])return u[KJ.id()];var zJ=vQ(KJ).depth,LJ=KJ.neighborhood(),AJ=0,EJ=0;for(var PJ=0;PJ<LJ.length;PJ++){var bJ=LJ[PJ];if(bJ.isEdge()||bJ.isParent()||!U.has(bJ))continue;var gJ=vQ(bJ);if(gJ==null)continue;var{index:dJ,depth:cJ}=gJ;if(dJ==null||cJ==null)continue;var OJ=E[cJ].length;if(cJ<zJ)AJ+=dJ/OJ,EJ++}if(EJ=Math.max(1,EJ),AJ=AJ/EJ,EJ===0)AJ=0;return u[KJ.id()]=AJ,AJ},t=function BJ(KJ,zJ){var LJ=n(KJ),AJ=n(zJ),EJ=LJ-AJ;if(EJ===0)return i1(KJ.id(),zJ.id());else return EJ};if(Q.depthSort!==void 0)t=Q.depthSort;var s=E.length;for(var JJ=0;JJ<s;JJ++)E[JJ].sort(t),C(JJ);var ZJ=[];for(var qJ=0;qJ<O.length;qJ++)ZJ.push(O[qJ]);var e=function BJ(){for(var KJ=0;KJ<s;KJ++)C(KJ)};if(ZJ.length)E.unshift(ZJ),s=E.length,e();var h=0;for(var d=0;d<s;d++)h=Math.max(E[d].length,h);var p={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},r=U.reduce(function(BJ,KJ){return function(zJ){return{w:BJ.w===-1?zJ.w:(BJ.w+zJ.w)/2,h:BJ.h===-1?zJ.h:(BJ.h+zJ.h)/2}}(KJ.boundingBox({includeLabels:Q.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),UJ=Math.max(s===1?0:G?(Y.h-Q.padding*2-r.h)/(s-1):(Y.h-Q.padding*2-r.h)/(s+1),f),MJ=E.reduce(function(BJ,KJ){return Math.max(BJ,KJ.length)},0),xJ=function BJ(KJ){var zJ=vQ(KJ),LJ=zJ.depth,AJ=zJ.index;if(Q.circle){var EJ=Math.min(Y.w/2/s,Y.h/2/s);EJ=Math.max(EJ,f);var PJ=EJ*LJ+EJ-(s>0&&E[0].length<=3?EJ/2:0),bJ=2*Math.PI/E[LJ].length*AJ;if(LJ===0&&E[0].length===1)PJ=1;return{x:p.x+PJ*Math.cos(bJ),y:p.y+PJ*Math.sin(bJ)}}else{var gJ=E[LJ].length,dJ=Math.max(gJ===1?0:G?(Y.w-Q.padding*2-r.w)/((Q.grid?MJ:gJ)-1):(Y.w-Q.padding*2-r.w)/((Q.grid?MJ:gJ)+1),f),cJ={x:p.x+(AJ+1-(gJ+1)/2)*dJ,y:p.y+(LJ+1-(s+1)/2)*UJ};return cJ}},CJ={downward:0,leftward:90,upward:180,rightward:-90};if(Object.keys(CJ).indexOf(Q.direction)===-1)J8(\"Invalid direction '\".concat(Q.direction,\"' specified for breadthfirst layout. Valid values are: \").concat(Object.keys(CJ).join(\", \")));var RJ=function BJ(KJ){return v2(xJ(KJ),Y,CJ[Q.direction])};return Z.nodes().layoutPositions(this,Q,RJ),this};var BO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function iK(Q){this.options=DJ({},BO,Q)}iK.prototype.run=function(){var Q=this.options,J=Q,Z=Q.cy,U=J.eles,$=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,q=U.nodes().not(\":parent\");if(J.sort)q=q.sort(J.sort);var K=w8(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Z.width(),h:Z.height()}),G={x:K.x1+K.w/2,y:K.y1+K.h/2},Y=J.sweep===void 0?2*Math.PI-2*Math.PI/q.length:J.sweep,F=Y/Math.max(1,q.length-1),X,H=0;for(var N=0;N<q.length;N++){var z=q[N],M=z.layoutDimensions(J),W=M.w,L=M.h;H=Math.max(H,W,L)}if($J(J.radius))X=J.radius;else if(q.length<=1)X=0;else X=Math.min(K.h,K.w)/2-H;if(q.length>1&&J.avoidOverlap){H*=1.75;var E=Math.cos(F)-Math.cos(0),B=Math.sin(F)-Math.sin(0),V=Math.sqrt(H*H/(E*E+B*B));X=Math.max(V,X)}var D=function O(A,R){var C=J.startAngle+R*F*($?1:-1),I=X*Math.cos(C),T=X*Math.sin(C),P={x:G.x+I,y:G.y+T};return P};return U.nodes().layoutPositions(this,J,D),this};var VO={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function Q(J){return J.degree()},levelWidth:function Q(J){return J.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function nK(Q){this.options=DJ({},VO,Q)}nK.prototype.run=function(){var Q=this.options,J=Q,Z=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,U=Q.cy,$=J.eles,q=$.nodes().not(\":parent\"),K=w8(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:U.width(),h:U.height()}),G={x:K.x1+K.w/2,y:K.y1+K.h/2},Y=[],F=0;for(var X=0;X<q.length;X++){var H=q[X],N=void 0;N=J.concentric(H),Y.push({value:N,node:H}),H._private.scratch.concentric=N}q.updateStyle();for(var z=0;z<q.length;z++){var M=q[z],W=M.layoutDimensions(J);F=Math.max(F,W.w,W.h)}Y.sort(function(UJ,MJ){return MJ.value-UJ.value});var L=J.levelWidth(q),E=[[]],B=E[0];for(var V=0;V<Y.length;V++){var D=Y[V];if(B.length>0){var O=Math.abs(B[0].value-D.value);if(O>=L)B=[],E.push(B)}B.push(D)}var A=F+J.minNodeSpacing;if(!J.avoidOverlap){var R=E.length>0&&E[0].length>1,C=Math.min(K.w,K.h)/2-A,I=C/(E.length+R?1:0);A=Math.min(A,I)}var T=0;for(var P=0;P<E.length;P++){var k=E[P],j=J.sweep===void 0?2*Math.PI-2*Math.PI/k.length:J.sweep,_=k.dTheta=j/Math.max(1,k.length-1);if(k.length>1&&J.avoidOverlap){var x=Math.cos(_)-Math.cos(0),f=Math.sin(_)-Math.sin(0),v=Math.sqrt(A*A/(x*x+f*f));T=Math.max(v,T)}k.r=T,T+=A}if(J.equidistant){var b=0,y=0;for(var g=0;g<E.length;g++){var m=E[g],u=m.r-y;b=Math.max(b,u)}y=0;for(var n=0;n<E.length;n++){var t=E[n];if(n===0)y=t.r;t.r=y,y+=b}}var s={};for(var JJ=0;JJ<E.length;JJ++){var ZJ=E[JJ],qJ=ZJ.dTheta,e=ZJ.r;for(var h=0;h<ZJ.length;h++){var d=ZJ[h],p=J.startAngle+(Z?1:-1)*qJ*h,r={x:G.x+e*Math.cos(p),y:G.y+e*Math.sin(p)};s[d.node.id()]=r}}return $.nodes().layoutPositions(this,J,function(UJ){var MJ=UJ.id();return s[MJ]}),this};var v0,DO={ready:function Q(){},stop:function Q(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function Q(J,Z){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function Q(J){return 2048},nodeOverlap:4,idealEdgeLength:function Q(J){return 32},edgeElasticity:function Q(J){return 32},nestingFactor:1.2,gravity:1,numIter:1000,initialTemp:1000,coolingFactor:0.99,minTemp:1};function I7(Q){this.options=DJ({},DO,Q),this.options.layout=this;var J=this.options.eles.nodes(),Z=this.options.eles.edges(),U=Z.filter(function($){var q=$.source().data(\"id\"),K=$.target().data(\"id\"),G=J.some(function(F){return F.data(\"id\")===q}),Y=J.some(function(F){return F.data(\"id\")===K});return!G||!Y});this.options.eles=this.options.eles.not(U)}I7.prototype.run=function(){var Q=this.options,J=Q.cy,Z=this;if(Z.stopped=!1,Q.animate===!0||Q.animate===!1)Z.emit({type:\"layoutstart\",layout:Z});if(Q.debug===!0)v0=!0;else v0=!1;var U=RO(J,Z,Q);if(v0)AO(U);if(Q.randomize)CO(U);var $=B9(),q=function H(){if(SO(U,J,Q),Q.fit===!0)J.fit(Q.padding)},K=function H(N){if(Z.stopped||N>=Q.numIter)return!1;if(IO(U,Q),U.temperature=U.temperature*Q.coolingFactor,U.temperature<Q.minTemp)return!1;return!0},G=function H(){if(Q.animate===!0||Q.animate===!1)q(),Z.one(\"layoutstop\",Q.stop),Z.emit({type:\"layoutstop\",layout:Z});else{var N=Q.eles.nodes(),z=aK(U,Q,N);N.layoutPositions(Z,Q,z)}},Y=0,F=!0;if(Q.animate===!0){var X=function H(){var N=0;while(F&&N<Q.refresh)F=K(Y),Y++,N++;if(!F)z1(U,Q),G();else{var z=B9();if(z-$>=Q.animationThreshold)q();e6(X)}};X()}else{while(F)F=K(Y),Y++;z1(U,Q),G()}return this};I7.prototype.stop=function(){if(this.stopped=!0,this.thread)this.thread.stop();return this.emit(\"layoutstop\"),this};I7.prototype.destroy=function(){if(this.thread)this.thread.stop();return this};var RO=function Q(J,Z,U){var $=U.eles.edges(),q=U.eles.nodes(),K=w8(U.boundingBox?U.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),G={isCompound:J.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:q.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:$.size(),temperature:U.initialTemp,clientWidth:K.w,clientHeight:K.h,boundingBox:K},Y=U.eles.components(),F={};for(var X=0;X<Y.length;X++){var H=Y[X];for(var N=0;N<H.length;N++){var z=H[N];F[z.id()]=X}}for(var X=0;X<G.nodeSize;X++){var M=q[X],W=M.layoutDimensions(U),L={};L.isLocked=M.locked(),L.id=M.data(\"id\"),L.parentId=M.data(\"parent\"),L.cmptId=F[M.id()],L.children=[],L.positionX=M.position(\"x\"),L.positionY=M.position(\"y\"),L.offsetX=0,L.offsetY=0,L.height=W.w,L.width=W.h,L.maxX=L.positionX+L.width/2,L.minX=L.positionX-L.width/2,L.maxY=L.positionY+L.height/2,L.minY=L.positionY-L.height/2,L.padLeft=parseFloat(M.style(\"padding\")),L.padRight=parseFloat(M.style(\"padding\")),L.padTop=parseFloat(M.style(\"padding\")),L.padBottom=parseFloat(M.style(\"padding\")),L.nodeRepulsion=Q8(U.nodeRepulsion)?U.nodeRepulsion(M):U.nodeRepulsion,G.layoutNodes.push(L),G.idToIndex[L.id]=X}var E=[],B=0,V=-1,D=[];for(var X=0;X<G.nodeSize;X++){var M=G.layoutNodes[X],O=M.parentId;if(O!=null)G.layoutNodes[G.idToIndex[O]].children.push(M.id);else E[++V]=M.id,D.push(M.id)}G.graphSet.push(D);while(B<=V){var A=E[B++],R=G.idToIndex[A],z=G.layoutNodes[R],C=z.children;if(C.length>0){G.graphSet.push(C);for(var X=0;X<C.length;X++)E[++V]=C[X]}}for(var X=0;X<G.graphSet.length;X++){var I=G.graphSet[X];for(var N=0;N<I.length;N++){var T=G.idToIndex[I[N]];G.indexToGraph[T]=X}}for(var X=0;X<G.edgeSize;X++){var P=$[X],k={};k.id=P.data(\"id\"),k.sourceId=P.data(\"source\"),k.targetId=P.data(\"target\");var j=Q8(U.idealEdgeLength)?U.idealEdgeLength(P):U.idealEdgeLength,_=Q8(U.edgeElasticity)?U.edgeElasticity(P):U.edgeElasticity,x=G.idToIndex[k.sourceId],f=G.idToIndex[k.targetId],v=G.indexToGraph[x],b=G.indexToGraph[f];if(v!=b){var y=OO(k.sourceId,k.targetId,G),g=G.graphSet[y],m=0,L=G.layoutNodes[x];while(g.indexOf(L.id)===-1)L=G.layoutNodes[G.idToIndex[L.parentId]],m++;L=G.layoutNodes[f];while(g.indexOf(L.id)===-1)L=G.layoutNodes[G.idToIndex[L.parentId]],m++;j*=m*U.nestingFactor}k.idealLength=j,k.elasticity=_,G.layoutEdges.push(k)}return G},OO=function Q(J,Z,U){var $=sK(J,Z,0,U);if(2>$.count)return 0;else return $.graph},sK=function Q(J,Z,U,$){var q=$.graphSet[U];if(-1<q.indexOf(J)&&-1<q.indexOf(Z))return{count:2,graph:U};var K=0;for(var G=0;G<q.length;G++){var Y=q[G],F=$.idToIndex[Y],X=$.layoutNodes[F].children;if(X.length===0)continue;var H=$.indexToGraph[$.idToIndex[X[0]]],N=sK(J,Z,H,$);if(N.count===0)continue;else if(N.count===1){if(K++,K===2)break}else return N}return{count:K,graph:U}},AO,CO=function Q(J,Z){var{clientWidth:U,clientHeight:$}=J;for(var q=0;q<J.nodeSize;q++){var K=J.layoutNodes[q];if(K.children.length===0&&!K.isLocked)K.positionX=Math.random()*U,K.positionY=Math.random()*$}},aK=function Q(J,Z,U){var $=J.boundingBox,q={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};if(Z.boundingBox)U.forEach(function(K){var G=J.layoutNodes[J.idToIndex[K.data(\"id\")]];q.x1=Math.min(q.x1,G.positionX),q.x2=Math.max(q.x2,G.positionX),q.y1=Math.min(q.y1,G.positionY),q.y2=Math.max(q.y2,G.positionY)}),q.w=q.x2-q.x1,q.h=q.y2-q.y1;return function(K,G){var Y=J.layoutNodes[J.idToIndex[K.data(\"id\")]];if(Z.boundingBox){var F=q.w===0?0.5:(Y.positionX-q.x1)/q.w,X=q.h===0?0.5:(Y.positionY-q.y1)/q.h;return{x:$.x1+F*$.w,y:$.y1+X*$.h}}else return{x:Y.positionX,y:Y.positionY}}},SO=function Q(J,Z,U){var $=U.layout,q=U.eles.nodes(),K=aK(J,U,q);if(q.positions(K),J.ready!==!0)J.ready=!0,$.one(\"layoutready\",U.ready),$.emit({type:\"layoutready\",layout:this})},IO=function Q(J,Z,U){TO(J,Z),jO(J),wO(J,Z),_O(J),vO(J)},TO=function Q(J,Z){for(var U=0;U<J.graphSet.length;U++){var $=J.graphSet[U],q=$.length;for(var K=0;K<q;K++){var G=J.layoutNodes[J.idToIndex[$[K]]];for(var Y=K+1;Y<q;Y++){var F=J.layoutNodes[J.idToIndex[$[Y]]];PO(G,F,J,Z)}}}},M1=function Q(J){return-1+2*J*Math.random()},PO=function Q(J,Z,U,$){var q=J.cmptId,K=Z.cmptId;if(q!==K&&!U.isCompound)return;var G=Z.positionX-J.positionX,Y=Z.positionY-J.positionY,F=1;if(G===0&&Y===0)G=M1(F),Y=M1(F);var X=kO(J,Z,G,Y);if(X>0)var H=$.nodeOverlap*X,N=Math.sqrt(G*G+Y*Y),z=H*G/N,M=H*Y/N;else var W=K7(J,G,Y),L=K7(Z,-1*G,-1*Y),E=L.x-W.x,B=L.y-W.y,V=E*E+B*B,N=Math.sqrt(V),H=(J.nodeRepulsion+Z.nodeRepulsion)/V,z=H*E/N,M=H*B/N;if(!J.isLocked)J.offsetX-=z,J.offsetY-=M;if(!Z.isLocked)Z.offsetX+=z,Z.offsetY+=M;return},kO=function Q(J,Z,U,$){if(U>0)var q=J.maxX-Z.minX;else var q=Z.maxX-J.minX;if($>0)var K=J.maxY-Z.minY;else var K=Z.maxY-J.minY;if(q>=0&&K>=0)return Math.sqrt(q*q+K*K);else return 0},K7=function Q(J,Z,U){var{positionX:$,positionY:q}=J,K=J.height||1,G=J.width||1,Y=U/Z,F=K/G,X={};if(Z===0&&0<U)return X.x=$,X.y=q+K/2,X;if(Z===0&&0>U)return X.x=$,X.y=q+K/2,X;if(0<Z&&-1*F<=Y&&Y<=F)return X.x=$+G/2,X.y=q+G*U/2/Z,X;if(0>Z&&-1*F<=Y&&Y<=F)return X.x=$-G/2,X.y=q-G*U/2/Z,X;if(0<U&&(Y<=-1*F||Y>=F))return X.x=$+K*Z/2/U,X.y=q+K/2,X;if(0>U&&(Y<=-1*F||Y>=F))return X.x=$-K*Z/2/U,X.y=q-K/2,X;return X},jO=function Q(J,Z){for(var U=0;U<J.edgeSize;U++){var $=J.layoutEdges[U],q=J.idToIndex[$.sourceId],K=J.layoutNodes[q],G=J.idToIndex[$.targetId],Y=J.layoutNodes[G],F=Y.positionX-K.positionX,X=Y.positionY-K.positionY;if(F===0&&X===0)continue;var H=K7(K,F,X),N=K7(Y,-1*F,-1*X),z=N.x-H.x,M=N.y-H.y,W=Math.sqrt(z*z+M*M),L=Math.pow($.idealLength-W,2)/$.elasticity;if(W!==0)var E=L*z/W,B=L*M/W;else var E=0,B=0;if(!K.isLocked)K.offsetX+=E,K.offsetY+=B;if(!Y.isLocked)Y.offsetX-=E,Y.offsetY-=B}},wO=function Q(J,Z){if(Z.gravity===0)return;var U=1;for(var $=0;$<J.graphSet.length;$++){var q=J.graphSet[$],K=q.length;if($===0)var G=J.clientHeight/2,Y=J.clientWidth/2;else var F=J.layoutNodes[J.idToIndex[q[0]]],X=J.layoutNodes[J.idToIndex[F.parentId]],G=X.positionX,Y=X.positionY;for(var H=0;H<K;H++){var N=J.layoutNodes[J.idToIndex[q[H]]];if(N.isLocked)continue;var z=G-N.positionX,M=Y-N.positionY,W=Math.sqrt(z*z+M*M);if(W>U){var L=Z.gravity*z/W,E=Z.gravity*M/W;N.offsetX+=L,N.offsetY+=E}}}},_O=function Q(J,Z){var U=[],$=0,q=-1;U.push.apply(U,J.graphSet[0]),q+=J.graphSet[0].length;while($<=q){var K=U[$++],G=J.idToIndex[K],Y=J.layoutNodes[G],F=Y.children;if(0<F.length&&!Y.isLocked){var{offsetX:X,offsetY:H}=Y;for(var N=0;N<F.length;N++){var z=J.layoutNodes[J.idToIndex[F[N]]];z.offsetX+=X,z.offsetY+=H,U[++q]=F[N]}Y.offsetX=0,Y.offsetY=0}}},vO=function Q(J,Z){for(var U=0;U<J.nodeSize;U++){var $=J.layoutNodes[U];if(0<$.children.length)$.maxX=void 0,$.minX=void 0,$.maxY=void 0,$.minY=void 0}for(var U=0;U<J.nodeSize;U++){var $=J.layoutNodes[U];if(0<$.children.length||$.isLocked)continue;var q=fO($.offsetX,$.offsetY,J.temperature);$.positionX+=q.x,$.positionY+=q.y,$.offsetX=0,$.offsetY=0,$.minX=$.positionX-$.width,$.maxX=$.positionX+$.width,$.minY=$.positionY-$.height,$.maxY=$.positionY+$.height,rK($,J)}for(var U=0;U<J.nodeSize;U++){var $=J.layoutNodes[U];if(0<$.children.length&&!$.isLocked)$.positionX=($.maxX+$.minX)/2,$.positionY=($.maxY+$.minY)/2,$.width=$.maxX-$.minX,$.height=$.maxY-$.minY}},fO=function Q(J,Z,U){var $=Math.sqrt(J*J+Z*Z);if($>U)var q={x:U*J/$,y:U*Z/$};else var q={x:J,y:Z};return q},rK=function Q(J,Z){var U=J.parentId;if(U==null)return;var $=Z.layoutNodes[Z.idToIndex[U]],q=!1;if($.maxX==null||J.maxX+$.padRight>$.maxX)$.maxX=J.maxX+$.padRight,q=!0;if($.minX==null||J.minX-$.padLeft<$.minX)$.minX=J.minX-$.padLeft,q=!0;if($.maxY==null||J.maxY+$.padBottom>$.maxY)$.maxY=J.maxY+$.padBottom,q=!0;if($.minY==null||J.minY-$.padTop<$.minY)$.minY=J.minY-$.padTop,q=!0;if(q)return rK($,Z);return},z1=function Q(J,Z){var U=J.layoutNodes,$=[];for(var q=0;q<U.length;q++){var K=U[q],G=K.cmptId,Y=$[G]=$[G]||[];Y.push(K)}var F=0;for(var q=0;q<$.length;q++){var X=$[q];if(!X)continue;X.x1=1/0,X.x2=-1/0,X.y1=1/0,X.y2=-1/0;for(var H=0;H<X.length;H++){var N=X[H];X.x1=Math.min(X.x1,N.positionX-N.width/2),X.x2=Math.max(X.x2,N.positionX+N.width/2),X.y1=Math.min(X.y1,N.positionY-N.height/2),X.y2=Math.max(X.y2,N.positionY+N.height/2)}X.w=X.x2-X.x1,X.h=X.y2-X.y1,F+=X.w*X.h}$.sort(function(B,V){return V.w*V.h-B.w*B.h});var z=0,M=0,W=0,L=0,E=Math.sqrt(F)*J.clientWidth/J.clientHeight;for(var q=0;q<$.length;q++){var X=$[q];if(!X)continue;for(var H=0;H<X.length;H++){var N=X[H];if(!N.isLocked)N.positionX+=z-X.x1,N.positionY+=M-X.y1}if(z+=X.w+Z.componentSpacing,W+=X.w+Z.componentSpacing,L=Math.max(L,X.h),W>E)M+=L+Z.componentSpacing,z=0,W=0,L=0}},xO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function Q(J){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function oK(Q){this.options=DJ({},xO,Q)}oK.prototype.run=function(){var Q=this.options,J=Q,Z=Q.cy,U=J.eles,$=U.nodes().not(\":parent\");if(J.sort)$=$.sort(J.sort);var q=w8(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Z.width(),h:Z.height()});if(q.h===0||q.w===0)U.nodes().layoutPositions(this,J,function(n){return{x:q.x1,y:q.y1}});else{var K=$.size(),G=Math.sqrt(K*q.h/q.w),Y=Math.round(G),F=Math.round(q.w/q.h*G),X=function n(t){if(t==null)return Math.min(Y,F);else{var s=Math.min(Y,F);if(s==Y)Y=t;else F=t}},H=function n(t){if(t==null)return Math.max(Y,F);else{var s=Math.max(Y,F);if(s==Y)Y=t;else F=t}},N=J.rows,z=J.cols!=null?J.cols:J.columns;if(N!=null&&z!=null)Y=N,F=z;else if(N!=null&&z==null)Y=N,F=Math.ceil(K/Y);else if(N==null&&z!=null)F=z,Y=Math.ceil(K/F);else if(F*Y>K){var M=X(),W=H();if((M-1)*W>=K)X(M-1);else if((W-1)*M>=K)H(W-1)}else while(F*Y<K){var L=X(),E=H();if((E+1)*L>=K)H(E+1);else X(L+1)}var B=q.w/F,V=q.h/Y;if(J.condense)B=0,V=0;if(J.avoidOverlap)for(var D=0;D<$.length;D++){var O=$[D],A=O._private.position;if(A.x==null||A.y==null)A.x=0,A.y=0;var R=O.layoutDimensions(J),C=J.avoidOverlapPadding,I=R.w+C,T=R.h+C;B=Math.max(B,I),V=Math.max(V,T)}var P={},k=function n(t,s){return P[\"c-\"+t+\"-\"+s]?!0:!1},j=function n(t,s){P[\"c-\"+t+\"-\"+s]=!0},_=0,x=0,f=function n(){if(x++,x>=F)x=0,_++},v={};for(var b=0;b<$.length;b++){var y=$[b],g=J.position(y);if(g&&(g.row!==void 0||g.col!==void 0)){var m={row:g.row,col:g.col};if(m.col===void 0){m.col=0;while(k(m.row,m.col))m.col++}else if(m.row===void 0){m.row=0;while(k(m.row,m.col))m.row++}v[y.id()]=m,j(m.row,m.col)}}var u=function n(t,s){var JJ,ZJ;if(t.locked()||t.isParent())return!1;var qJ=v[t.id()];if(qJ)JJ=qJ.col*B+B/2+q.x1,ZJ=qJ.row*V+V/2+q.y1;else{while(k(_,x))f();JJ=x*B+B/2+q.x1,ZJ=_*V+V/2+q.y1,j(_,x),f()}return{x:JJ,y:ZJ}};$.layoutPositions(this,J,u)}return this};var bO={ready:function Q(){},stop:function Q(){}};function TU(Q){this.options=DJ({},bO,Q)}TU.prototype.run=function(){var Q=this.options,J=Q.eles,Z=this;return Q.cy,Z.emit(\"layoutstart\"),J.nodes().positions(function(){return{x:0,y:0}}),Z.one(\"layoutready\",Q.ready),Z.emit(\"layoutready\"),Z.one(\"layoutstop\",Q.stop),Z.emit(\"layoutstop\"),this};TU.prototype.stop=function(){return this};var mO={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function tK(Q){this.options=DJ({},mO,Q)}tK.prototype.run=function(){var Q=this.options,J=Q.eles,Z=J.nodes(),U=Q8(Q.positions);function $(q){if(Q.positions==null)return qV(q.position());if(U)return Q.positions(q);var K=Q.positions[q._private.data.id];if(K==null)return null;return K}return Z.layoutPositions(this,Q,function(q,K){var G=$(q);if(q.locked()||G==null)return!1;return G}),this};var yO={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function eK(Q){this.options=DJ({},yO,Q)}eK.prototype.run=function(){var Q=this.options,J=Q.cy,Z=Q.eles,U=w8(Q.boundingBox?Q.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),$=function q(K,G){return{x:U.x1+Math.round(Math.random()*U.w),y:U.y1+Math.round(Math.random()*U.h)}};return Z.nodes().layoutPositions(this,Q,$),this};var hO=[{name:\"breadthfirst\",impl:lK},{name:\"circle\",impl:iK},{name:\"concentric\",impl:nK},{name:\"cose\",impl:I7},{name:\"grid\",impl:oK},{name:\"null\",impl:TU},{name:\"preset\",impl:tK},{name:\"random\",impl:eK}];function JG(Q){this.options=Q,this.notifications=0}var L1=function Q(){},W1=function Q(){throw new Error(\"A headless instance can not render images\")};JG.prototype={recalculateRenderedStyle:L1,notify:function Q(){this.notifications++},init:L1,isHeadless:function Q(){return!0},png:W1,jpg:W1};var PU={};PU.arrowShapeWidth=0.3;PU.registerArrowShapes=function(){var Q=this.arrowShapes={},J=this,Z=function Y(F,X,H,N,z,M,W){var L=z.x-H/2-W,E=z.x+H/2+W,B=z.y-H/2-W,V=z.y+H/2+W,D=L<=F&&F<=E&&B<=X&&X<=V;return D},U=function Y(F,X,H,N,z){var M=F*Math.cos(N)-X*Math.sin(N),W=F*Math.sin(N)+X*Math.cos(N),L=M*H,E=W*H,B=L+z.x,V=E+z.y;return{x:B,y:V}},$=function Y(F,X,H,N){var z=[];for(var M=0;M<F.length;M+=2){var W=F[M],L=F[M+1];z.push(U(W,L,X,H,N))}return z},q=function Y(F){var X=[];for(var H=0;H<F.length;H++){var N=F[H];X.push(N.x,N.y)}return X},K=function Y(F){return F.pstyle(\"width\").pfValue*F.pstyle(\"arrow-scale\").pfValue*2},G=function Y(F,X){if(WJ(X))X=Q[X];Q[F]=DJ({name:F,points:[-0.15,-0.3,0.15,-0.3,0.15,0.3,-0.15,0.3],collide:function H(N,z,M,W,L,E){var B=q($(this.points,M+2*E,W,L)),V=m8(N,z,B);return V},roughCollide:Z,draw:function H(N,z,M,W){var L=$(this.points,z,M,W);J.arrowShapeImpl(\"polygon\")(N,L)},spacing:function H(N){return 0},gap:K},X)};G(\"none\",{collide:J7,roughCollide:J7,draw:MU,spacing:j4,gap:j4}),G(\"triangle\",{points:[-0.15,-0.3,0,0,0.15,-0.3]}),G(\"arrow\",\"triangle\"),G(\"triangle-backcurve\",{points:Q.triangle.points,controlPoint:[0,-0.15],roughCollide:Z,draw:function Y(F,X,H,N,z){var M=$(this.points,X,H,N),W=this.controlPoint,L=U(W[0],W[1],X,H,N);J.arrowShapeImpl(this.name)(F,M,L)},gap:function Y(F){return K(F)*0.8}}),G(\"triangle-tee\",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],pointsTee:[-0.15,-0.4,-0.15,-0.5,0.15,-0.5,0.15,-0.4],collide:function Y(F,X,H,N,z,M,W){var L=q($(this.points,H+2*W,N,z)),E=q($(this.pointsTee,H+2*W,N,z)),B=m8(F,X,L)||m8(F,X,E);return B},draw:function Y(F,X,H,N,z){var M=$(this.points,X,H,N),W=$(this.pointsTee,X,H,N);J.arrowShapeImpl(this.name)(F,M,W)}}),G(\"circle-triangle\",{radius:0.15,pointsTr:[0,-0.15,0.15,-0.45,-0.15,-0.45,0,-0.15],collide:function Y(F,X,H,N,z,M,W){var L=z,E=Math.pow(L.x-F,2)+Math.pow(L.y-X,2)<=Math.pow((H+2*W)*this.radius,2),B=q($(this.points,H+2*W,N,z));return m8(F,X,B)||E},draw:function Y(F,X,H,N,z){var M=$(this.pointsTr,X,H,N);J.arrowShapeImpl(this.name)(F,M,N.x,N.y,this.radius*X)},spacing:function Y(F){return J.getArrowWidth(F.pstyle(\"width\").pfValue,F.pstyle(\"arrow-scale\").value)*this.radius}}),G(\"triangle-cross\",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],baseCrossLinePts:[-0.15,-0.4,-0.15,-0.4,0.15,-0.4,0.15,-0.4],crossLinePts:function Y(F,X){var H=this.baseCrossLinePts.slice(),N=X/F,z=3,M=5;return H[z]=H[z]-N,H[M]=H[M]-N,H},collide:function Y(F,X,H,N,z,M,W){var L=q($(this.points,H+2*W,N,z)),E=q($(this.crossLinePts(H,M),H+2*W,N,z)),B=m8(F,X,L)||m8(F,X,E);return B},draw:function Y(F,X,H,N,z){var M=$(this.points,X,H,N),W=$(this.crossLinePts(X,z),X,H,N);J.arrowShapeImpl(this.name)(F,M,W)}}),G(\"vee\",{points:[-0.15,-0.3,0,0,0.15,-0.3,0,-0.15],gap:function Y(F){return K(F)*0.525}}),G(\"circle\",{radius:0.15,collide:function Y(F,X,H,N,z,M,W){var L=z,E=Math.pow(L.x-F,2)+Math.pow(L.y-X,2)<=Math.pow((H+2*W)*this.radius,2);return E},draw:function Y(F,X,H,N,z){J.arrowShapeImpl(this.name)(F,N.x,N.y,this.radius*X)},spacing:function Y(F){return J.getArrowWidth(F.pstyle(\"width\").pfValue,F.pstyle(\"arrow-scale\").value)*this.radius}}),G(\"tee\",{points:[-0.15,0,-0.15,-0.1,0.15,-0.1,0.15,0],spacing:function Y(F){return 1},gap:function Y(F){return 1}}),G(\"square\",{points:[-0.15,0,0.15,0,0.15,-0.3,-0.15,-0.3]}),G(\"diamond\",{points:[-0.15,-0.15,0,-0.3,0.15,-0.15,0,0],gap:function Y(F){return F.pstyle(\"width\").pfValue*F.pstyle(\"arrow-scale\").value}}),G(\"chevron\",{points:[0,0,-0.15,-0.15,-0.1,-0.2,0,-0.1,0.1,-0.2,0.15,-0.15],gap:function Y(F){return 0.95*F.pstyle(\"width\").pfValue*F.pstyle(\"arrow-scale\").value}})};var WQ={};WQ.projectIntoViewport=function(Q,J){var Z=this.cy,U=this.findContainerClientCoords(),$=U[0],q=U[1],K=U[4],G=Z.pan(),Y=Z.zoom(),F=((Q-$)/K-G.x)/Y,X=((J-q)/K-G.y)/Y;return[F,X]};WQ.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var Q=this.container,J=Q.getBoundingClientRect(),Z=this.cy.window().getComputedStyle(Q),U=function L(E){return parseFloat(Z.getPropertyValue(E))},$={left:U(\"padding-left\"),right:U(\"padding-right\"),top:U(\"padding-top\"),bottom:U(\"padding-bottom\")},q={left:U(\"border-left-width\"),right:U(\"border-right-width\"),top:U(\"border-top-width\"),bottom:U(\"border-bottom-width\")},K=Q.clientWidth,G=Q.clientHeight,Y=$.left+$.right,F=$.top+$.bottom,X=q.left+q.right,H=J.width/(K+X),N=K-Y,z=G-F,M=J.left+$.left+q.left,W=J.top+$.top+q.top;return this.containerBB=[M,W,N,z,H]};WQ.invalidateContainerClientCoordsCache=function(){this.containerBB=null};WQ.findNearestElement=function(Q,J,Z,U){return this.findNearestElements(Q,J,Z,U)[0]};WQ.findNearestElements=function(Q,J,Z,U){var $=this,q=this,K=q.getCachedZSortedEles(),G=[],Y=q.cy.zoom(),F=q.cy.hasCompoundNodes(),X=(U?24:8)/Y,H=(U?8:2)/Y,N=(U?8:2)/Y,z=1/0,M,W;if(Z)K=K.interactive;function L(R,C){if(R.isNode())if(W)return;else W=R,G.push(R);if(R.isEdge()&&(C==null||C<z))if(M){if(M.pstyle(\"z-compound-depth\").value===R.pstyle(\"z-compound-depth\").value&&M.pstyle(\"z-compound-depth\").value===R.pstyle(\"z-compound-depth\").value){for(var I=0;I<G.length;I++)if(G[I].isEdge()){G[I]=R,M=R,z=C!=null?C:z;break}}}else G.push(R),M=R,z=C!=null?C:z}function E(R){var C=R.outerWidth()+2*H,I=R.outerHeight()+2*H,T=C/2,P=I/2,k=R.position(),j=R.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":R.pstyle(\"corner-radius\").pfValue,_=R._private.rscratch;if(k.x-T<=Q&&Q<=k.x+T&&k.y-P<=J&&J<=k.y+P){var x=q.nodeShapes[$.getNodeShape(R)];if(x.checkPoint(Q,J,0,C,I,k.x,k.y,j,_))return L(R,0),!0}}function B(R){var C=R._private,I=C.rscratch,T=R.pstyle(\"width\").pfValue,P=R.pstyle(\"arrow-scale\").value,k=T/2+X,j=k*k,_=k*2,b=C.source,y=C.target,x;if(I.edgeType===\"segments\"||I.edgeType===\"straight\"||I.edgeType===\"haystack\"){var f=I.allpts;for(var v=0;v+3<f.length;v+=2)if(VV(Q,J,f[v],f[v+1],f[v+2],f[v+3],_)&&j>(x=CV(Q,J,f[v],f[v+1],f[v+2],f[v+3])))return L(R,x),!0}else if(I.edgeType===\"bezier\"||I.edgeType===\"multibezier\"||I.edgeType===\"self\"||I.edgeType===\"compound\"){var f=I.allpts;for(var v=0;v+5<I.allpts.length;v+=4)if(DV(Q,J,f[v],f[v+1],f[v+2],f[v+3],f[v+4],f[v+5],_)&&j>(x=AV(Q,J,f[v],f[v+1],f[v+2],f[v+3],f[v+4],f[v+5])))return L(R,x),!0}var b=b||C.source,y=y||C.target,g=$.getArrowWidth(T,P),m=[{name:\"source\",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:\"target\",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:\"mid-source\",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:\"mid-target\",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}];for(var v=0;v<m.length;v++){var u=m[v],n=q.arrowShapes[R.pstyle(u.name+\"-arrow-shape\").value],t=R.pstyle(\"width\").pfValue;if(n.roughCollide(Q,J,g,u.angle,{x:u.x,y:u.y},t,X)&&n.collide(Q,J,g,u.angle,{x:u.x,y:u.y},t,X))return L(R),!0}if(F&&G.length>0)E(b),E(y)}function V(R,C,I){return b8(R,C,I)}function D(R,C){var I=R._private,T=N,P;if(C)P=C+\"-\";else P=\"\";R.boundingBox();var k=I.labelBounds[C||\"main\"],j=R.pstyle(P+\"label\").value,_=R.pstyle(\"text-events\").strValue===\"yes\";if(!_||!j)return;var x=V(I.rscratch,\"labelX\",C),f=V(I.rscratch,\"labelY\",C),v=V(I.rscratch,\"labelAngle\",C),b=R.pstyle(P+\"text-margin-x\").pfValue,y=R.pstyle(P+\"text-margin-y\").pfValue,g=k.x1-T-b,m=k.x2+T-b,u=k.y1-T-y,n=k.y2+T-y;if(v){var t=Math.cos(v),s=Math.sin(v),JJ=function p(r,UJ){return r=r-x,UJ=UJ-f,{x:r*t-UJ*s+x,y:r*s+UJ*t+f}},ZJ=JJ(g,u),qJ=JJ(g,n),e=JJ(m,u),h=JJ(m,n),d=[ZJ.x+b,ZJ.y+y,e.x+b,e.y+y,h.x+b,h.y+y,qJ.x+b,qJ.y+y];if(m8(Q,J,d))return L(R),!0}else if(f9(k,Q,J))return L(R),!0}for(var O=K.length-1;O>=0;O--){var A=K[O];if(A.isNode())E(A)||D(A);else B(A)||D(A)||D(A,\"source\")||D(A,\"target\")}return G};WQ.getAllInBox=function(Q,J,Z,U){var $=this.getCachedZSortedEles().interactive,q=this.cy.zoom(),K=2/q,G=[],Y=Math.min(Q,Z),F=Math.max(Q,Z),X=Math.min(J,U),H=Math.max(J,U);Q=Y,Z=F,J=X,U=H;var N=w8({x1:Q,y1:J,x2:Z,y2:U}),z=[{x:N.x1,y:N.y1},{x:N.x2,y:N.y1},{x:N.x2,y:N.y2},{x:N.x1,y:N.y2}],M=[[z[0],z[1]],[z[1],z[2]],[z[2],z[3]],[z[3],z[0]]];function W(r,UJ,MJ){return b8(r,UJ,MJ)}function L(r,UJ){var MJ=r._private,xJ=K,CJ=\"\";r.boundingBox();var RJ=MJ.labelBounds.main;if(!RJ)return null;var BJ=W(MJ.rscratch,\"labelX\",UJ),KJ=W(MJ.rscratch,\"labelY\",UJ),zJ=W(MJ.rscratch,\"labelAngle\",UJ),LJ=r.pstyle(CJ+\"text-margin-x\").pfValue,AJ=r.pstyle(CJ+\"text-margin-y\").pfValue,EJ=RJ.x1-xJ-LJ,PJ=RJ.x2+xJ-LJ,bJ=RJ.y1-xJ-AJ,gJ=RJ.y2+xJ-AJ;if(zJ){var dJ=Math.cos(zJ),cJ=Math.sin(zJ),OJ=function FJ(a,S){return a=a-BJ,S=S-KJ,{x:a*dJ-S*cJ+BJ,y:a*cJ+S*dJ+KJ}};return[OJ(EJ,bJ),OJ(PJ,bJ),OJ(PJ,gJ),OJ(EJ,gJ)]}else return[{x:EJ,y:bJ},{x:PJ,y:bJ},{x:PJ,y:gJ},{x:EJ,y:gJ}]}function E(r,UJ,MJ,xJ){function CJ(RJ,BJ,KJ){return(KJ.y-RJ.y)*(BJ.x-RJ.x)>(BJ.y-RJ.y)*(KJ.x-RJ.x)}return CJ(r,MJ,xJ)!==CJ(UJ,MJ,xJ)&&CJ(r,UJ,MJ)!==CJ(r,UJ,xJ)}for(var B=0;B<$.length;B++){var V=$[B];if(V.isNode()){var D=V,O=D.pstyle(\"text-events\").strValue===\"yes\",A=D.pstyle(\"box-selection\").strValue,R=D.pstyle(\"box-select-labels\").strValue===\"yes\";if(A===\"none\")continue;var C=(A===\"overlap\"||R)&&O,I=D.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:C});if(A===\"contain\"){var T=!1;if(R&&O){var P=L(D);if(P&&w5(P,z))G.push(D),T=!0}if(!T&&GK(N,I))G.push(D)}else if(A===\"overlap\"){if(EU(N,I)){var k=D.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),j=[{x:k.x1,y:k.y1},{x:k.x2,y:k.y1},{x:k.x2,y:k.y2},{x:k.x1,y:k.y2}];if(w5(j,z))G.push(D);else{var _=L(D);if(_&&w5(_,z))G.push(D)}}}}else{var x=V,f=x._private,v=f.rscratch,b=x.pstyle(\"box-selection\").strValue;if(b===\"none\")continue;if(b===\"contain\"){if(v.startX!=null&&v.startY!=null&&!f9(N,v.startX,v.startY))continue;if(v.endX!=null&&v.endY!=null&&!f9(N,v.endX,v.endY))continue;if(v.edgeType===\"bezier\"||v.edgeType===\"multibezier\"||v.edgeType===\"self\"||v.edgeType===\"compound\"||v.edgeType===\"segments\"||v.edgeType===\"haystack\"){var y=f.rstyle.bezierPts||f.rstyle.linePts||f.rstyle.haystackPts,g=!0;for(var m=0;m<y.length;m++)if(!x4(N,y[m])){g=!1;break}if(g)G.push(x)}else if(v.edgeType===\"straight\")G.push(x)}else if(b===\"overlap\"){var u=!1;if(v.startX!=null&&v.startY!=null&&v.endX!=null&&v.endY!=null&&(f9(N,v.startX,v.startY)||f9(N,v.endX,v.endY)))G.push(x),u=!0;else if(!u&&v.edgeType===\"haystack\"){var n=f.rstyle.haystackPts;for(var t=0;t<n.length;t++)if(x4(N,n[t])){G.push(x),u=!0;break}}if(!u){var s=f.rstyle.bezierPts||f.rstyle.linePts||f.rstyle.haystackPts;if((!s||s.length<2)&&v.edgeType===\"straight\"){if(v.startX!=null&&v.startY!=null&&v.endX!=null&&v.endY!=null)s=[{x:v.startX,y:v.startY},{x:v.endX,y:v.endY}]}if(!s||s.length<2)continue;for(var JJ=0;JJ<s.length-1;JJ++){var ZJ=s[JJ],qJ=s[JJ+1];for(var e=0;e<M.length;e++){var h=Y8(M[e],2),d=h[0],p=h[1];if(E(ZJ,qJ,d,p)){G.push(x),u=!0;break}}if(u)break}}}}}return G};var G7={};G7.calculateArrowAngles=function(Q){var J=Q._private.rscratch,Z=J.edgeType===\"haystack\",U=J.edgeType===\"bezier\",$=J.edgeType===\"multibezier\",q=J.edgeType===\"segments\",K=J.edgeType===\"compound\",G=J.edgeType===\"self\",Y,F,X,H,N,z,E,B;if(Z)X=J.haystackPts[0],H=J.haystackPts[1],N=J.haystackPts[2],z=J.haystackPts[3];else X=J.arrowStartX,H=J.arrowStartY,N=J.arrowEndX,z=J.arrowEndY;if(E=J.midX,B=J.midY,q)Y=X-J.segpts[0],F=H-J.segpts[1];else if($||K||G||U){var M=J.allpts,W=E8(M[0],M[2],M[4],0.1),L=E8(M[1],M[3],M[5],0.1);Y=X-W,F=H-L}else Y=X-E,F=H-B;J.srcArrowAngle=k6(Y,F);var{midX:E,midY:B}=J;if(Z)E=(X+N)/2,B=(H+z)/2;if(Y=N-X,F=z-H,q){var M=J.allpts;if(M.length/2%2===0){var V=M.length/2,D=V-2;Y=M[V]-M[D],F=M[V+1]-M[D+1]}else if(J.isRound)Y=J.midVector[1],F=-J.midVector[0];else{var V=M.length/2-1,D=V-2;Y=M[V]-M[D],F=M[V+1]-M[D+1]}}else if($||K||G){var{allpts:M,ctrlpts:O}=J,A,R,C,I;if(O.length/2%2===0){var T=M.length/2-1,P=T+2,k=P+2;A=E8(M[T],M[P],M[k],0),R=E8(M[T+1],M[P+1],M[k+1],0),C=E8(M[T],M[P],M[k],0.0001),I=E8(M[T+1],M[P+1],M[k+1],0.0001)}else{var P=M.length/2-1,T=P-2,k=P+2;A=E8(M[T],M[P],M[k],0.4999),R=E8(M[T+1],M[P+1],M[k+1],0.4999),C=E8(M[T],M[P],M[k],0.5),I=E8(M[T+1],M[P+1],M[k+1],0.5)}Y=C-A,F=I-R}if(J.midtgtArrowAngle=k6(Y,F),J.midDispX=Y,J.midDispY=F,Y*=-1,F*=-1,q){var M=J.allpts;if(M.length/2%2===0);else if(!J.isRound){var V=M.length/2-1,j=V+2;Y=-(M[j]-M[V]),F=-(M[j+1]-M[V+1])}}if(J.midsrcArrowAngle=k6(Y,F),q)Y=N-J.segpts[J.segpts.length-2],F=z-J.segpts[J.segpts.length-1];else if($||K||G||U){var M=J.allpts,_=M.length,W=E8(M[_-6],M[_-4],M[_-2],0.9),L=E8(M[_-5],M[_-3],M[_-1],0.9);Y=N-W,F=z-L}else Y=N-E,F=z-B;J.tgtArrowAngle=k6(Y,F)};G7.getArrowWidth=G7.getArrowHeight=function(Q,J){var Z=this.arrowWidthCache=this.arrowWidthCache||{},U=Z[Q+\", \"+J];if(U)return U;return U=Math.max(Math.pow(Q*13.37,0.9),29)*J,Z[Q+\", \"+J]=U,U};var e0,JU,$9={},p8={},E1,B1,FQ,s6,L9,$Q,GQ,Z9,fQ,m6,QG,ZG,QU,ZU,V1,D1=function Q(J,Z,U){U.x=Z.x-J.x,U.y=Z.y-J.y,U.len=Math.sqrt(U.x*U.x+U.y*U.y),U.nx=U.x/U.len,U.ny=U.y/U.len,U.ang=Math.atan2(U.ny,U.nx)},uO=function Q(J,Z){Z.x=J.x*-1,Z.y=J.y*-1,Z.nx=J.nx*-1,Z.ny=J.ny*-1,Z.ang=J.ang>0?-(Math.PI-J.ang):Math.PI+J.ang},gO=function Q(J,Z,U,$,q){if(J!==V1?D1(Z,J,$9):uO(p8,$9),D1(Z,U,p8),E1=$9.nx*p8.ny-$9.ny*p8.nx,B1=$9.nx*p8.nx-$9.ny*-p8.ny,L9=Math.asin(Math.max(-1,Math.min(1,E1))),Math.abs(L9)<0.000001){e0=Z.x,JU=Z.y,GQ=fQ=0;return}if(FQ=1,s6=!1,B1<0)if(L9<0)L9=Math.PI+L9;else L9=Math.PI-L9,FQ=-1,s6=!0;else if(L9>0)FQ=-1,s6=!0;if(Z.radius!==void 0)fQ=Z.radius;else fQ=$;if($Q=L9/2,m6=Math.min($9.len/2,p8.len/2),q)if(Z9=Math.abs(Math.cos($Q)*fQ/Math.sin($Q)),Z9>m6)Z9=m6,GQ=Math.abs(Z9*Math.sin($Q)/Math.cos($Q));else GQ=fQ;else Z9=Math.min(m6,fQ),GQ=Math.abs(Z9*Math.sin($Q)/Math.cos($Q));QU=Z.x+p8.nx*Z9,ZU=Z.y+p8.ny*Z9,e0=QU-p8.ny*GQ*FQ,JU=ZU+p8.nx*GQ*FQ,QG=Z.x+$9.nx*Z9,ZG=Z.y+$9.ny*Z9,V1=Z};function UG(Q,J){if(J.radius===0)Q.lineTo(J.cx,J.cy);else Q.arc(J.cx,J.cy,J.radius,J.startAngle,J.endAngle,J.counterClockwise)}function kU(Q,J,Z,U){var $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(U===0||J.radius===0)return{cx:J.x,cy:J.y,radius:0,startX:J.x,startY:J.y,stopX:J.x,stopY:J.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0};return gO(Q,J,Z,U,$),{cx:e0,cy:JU,radius:GQ,startX:QG,startY:ZG,stopX:QU,stopY:ZU,startAngle:$9.ang+Math.PI/2*FQ,endAngle:p8.ang-Math.PI/2*FQ,counterClockwise:s6}}var yZ=0.01,dO=Math.sqrt(2*yZ),P8={};P8.findMidptPtsEtc=function(Q,J){var{posPts:Z,intersectionPts:U,vectorNormInverse:$}=J,q,K=Q.pstyle(\"source-endpoint\"),G=Q.pstyle(\"target-endpoint\"),Y=K.units!=null&&G.units!=null,F=function D(O,A,R,C){var I=C-A,T=R-O,P=Math.sqrt(T*T+I*I);return{x:-I/P,y:T/P}},X=Q.pstyle(\"edge-distances\").value;switch(X){case\"node-position\":q=Z;break;case\"intersection\":q=U;break;case\"endpoints\":{if(Y){var H=this.manualEndptToPx(Q.source()[0],K),N=Y8(H,2),z=N[0],M=N[1],W=this.manualEndptToPx(Q.target()[0],G),L=Y8(W,2),E=L[0],B=L[1],V={x1:z,y1:M,x2:E,y2:B};$=F(z,M,E,B),q=V}else lJ(\"Edge \".concat(Q.id(),\" has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).\")),q=U;break}}return{midptPts:q,vectorNormInverse:$}};P8.findHaystackPoints=function(Q){for(var J=0;J<Q.length;J++){var Z=Q[J],U=Z._private,$=U.rscratch;if(!$.haystack){var q=Math.random()*2*Math.PI;$.source={x:Math.cos(q),y:Math.sin(q)},q=Math.random()*2*Math.PI,$.target={x:Math.cos(q),y:Math.sin(q)}}var{source:K,target:G}=U,Y=K.position(),F=G.position(),X=K.width(),H=G.width(),N=K.height(),z=G.height(),M=Z.pstyle(\"haystack-radius\").value,W=M/2;$.haystackPts=$.allpts=[$.source.x*X*W+Y.x,$.source.y*N*W+Y.y,$.target.x*H*W+F.x,$.target.y*z*W+F.y],$.midX=($.allpts[0]+$.allpts[2])/2,$.midY=($.allpts[1]+$.allpts[3])/2,$.edgeType=\"haystack\",$.haystack=!0,this.storeEdgeProjections(Z),this.calculateArrowAngles(Z),this.recalculateEdgeLabelProjections(Z),this.calculateLabelAngles(Z)}};P8.findSegmentsPoints=function(Q,J){var Z=Q._private.rscratch,U=Q.pstyle(\"segment-weights\"),$=Q.pstyle(\"segment-distances\"),q=Q.pstyle(\"segment-radii\"),K=Q.pstyle(\"radius-type\"),G=Math.min(U.pfValue.length,$.pfValue.length),Y=q.pfValue[q.pfValue.length-1],F=K.pfValue[K.pfValue.length-1];Z.edgeType=\"segments\",Z.segpts=[],Z.radii=[],Z.isArcRadius=[];for(var X=0;X<G;X++){var H=U.pfValue[X],N=$.pfValue[X],z=1-H,M=H,W=this.findMidptPtsEtc(Q,J),L=W.midptPts,E=W.vectorNormInverse,B={x:L.x1*z+L.x2*M,y:L.y1*z+L.y2*M};Z.segpts.push(B.x+E.x*N,B.y+E.y*N),Z.radii.push(q.pfValue[X]!==void 0?q.pfValue[X]:Y),Z.isArcRadius.push((K.pfValue[X]!==void 0?K.pfValue[X]:F)===\"arc-radius\")}};P8.findLoopPoints=function(Q,J,Z,U){var $=Q._private.rscratch,q=J.dirCounts,K=J.srcPos,G=Q.pstyle(\"control-point-distances\"),Y=G?G.pfValue[0]:void 0,F=Q.pstyle(\"loop-direction\").pfValue,X=Q.pstyle(\"loop-sweep\").pfValue,H=Q.pstyle(\"control-point-step-size\").pfValue;$.edgeType=\"self\";var N=Z,z=H;if(U)N=0,z=Y;var M=F-Math.PI/2,W=M-X/2,L=M+X/2,E=String(F+\"_\"+X);N=q[E]===void 0?q[E]=0:++q[E],$.ctrlpts=[K.x+Math.cos(W)*1.4*z*(N/3+1),K.y+Math.sin(W)*1.4*z*(N/3+1),K.x+Math.cos(L)*1.4*z*(N/3+1),K.y+Math.sin(L)*1.4*z*(N/3+1)]};P8.findCompoundLoopPoints=function(Q,J,Z,U){var $=Q._private.rscratch;$.edgeType=\"compound\";var{srcPos:q,tgtPos:K,srcW:G,srcH:Y,tgtW:F,tgtH:X}=J,H=Q.pstyle(\"control-point-step-size\").pfValue,N=Q.pstyle(\"control-point-distances\"),z=N?N.pfValue[0]:void 0,M=Z,W=H;if(U)M=0,W=z;var L=50,E={x:q.x-G/2,y:q.y-Y/2},B={x:K.x-F/2,y:K.y-X/2},V={x:Math.min(E.x,B.x),y:Math.min(E.y,B.y)},D=0.5,O=Math.max(D,Math.log(G*yZ)),A=Math.max(D,Math.log(F*yZ));$.ctrlpts=[V.x,V.y-(1+Math.pow(L,1.12)/100)*W*(M/3+1)*O,V.x-(1+Math.pow(L,1.12)/100)*W*(M/3+1)*A,V.y]};P8.findStraightEdgePoints=function(Q){Q._private.rscratch.edgeType=\"straight\"};P8.findBezierPoints=function(Q,J,Z,U,$){var q=Q._private.rscratch,K=Q.pstyle(\"control-point-step-size\").pfValue,G=Q.pstyle(\"control-point-distances\"),Y=Q.pstyle(\"control-point-weights\"),F=G&&Y?Math.min(G.value.length,Y.value.length):1,X=G?G.pfValue[0]:void 0,H=Y.value[0],N=U;q.edgeType=N?\"multibezier\":\"bezier\",q.ctrlpts=[];for(var z=0;z<F;z++){var M=(0.5-J.eles.length/2+Z)*K*($?-1:1),W=void 0,L=WU(M);if(N)X=G?G.pfValue[z]:K,H=Y.value[z];if(U)W=X;else W=X!==void 0?L*X:void 0;var E=W!==void 0?W:M,B=1-H,V=H,D=this.findMidptPtsEtc(Q,J),O=D.midptPts,A=D.vectorNormInverse,R={x:O.x1*B+O.x2*V,y:O.y1*B+O.y2*V};q.ctrlpts.push(R.x+A.x*E,R.y+A.y*E)}};P8.findTaxiPoints=function(Q,J){var Z=Q._private.rscratch;Z.edgeType=\"segments\";var U=\"vertical\",$=\"horizontal\",q=\"leftward\",K=\"rightward\",G=\"downward\",Y=\"upward\",F=\"auto\",X=J.posPts,H=J.srcW,N=J.srcH,z=J.tgtW,M=J.tgtH,W=Q.pstyle(\"edge-distances\").value,L=W!==\"node-position\",E=Q.pstyle(\"taxi-direction\").value,B=E,V=Q.pstyle(\"taxi-turn\"),D=V.units===\"%\",O=V.pfValue,A=O<0,R=Q.pstyle(\"taxi-turn-min-distance\").pfValue,C=L?(H+z)/2:0,I=L?(N+M)/2:0,T=X.x2-X.x1,P=X.y2-X.y1,k=function a(S,c){if(S>0)return Math.max(S-c,0);else return Math.min(S+c,0)},j=k(T,C),_=k(P,I),x=!1;if(B===F)E=Math.abs(j)>Math.abs(_)?$:U;else if(B===Y||B===G)E=U,x=!0;else if(B===q||B===K)E=$,x=!0;var f=E===U,v=f?_:j,b=f?P:T,y=WU(b),g=!1;if(!(x&&(D||A))&&(B===G&&b<0||B===Y&&b>0||B===q&&b>0||B===K&&b<0))y*=-1,v=y*Math.abs(v),g=!0;var m;if(D){var u=O<0?1+O:O;m=u*v}else{var n=O<0?v:0;m=n+O*y}var t=function a(S){return Math.abs(S)<R||Math.abs(S)>=Math.abs(v)},s=t(m),JJ=t(Math.abs(v)-Math.abs(m)),ZJ=s||JJ;if(ZJ&&!g)if(f){var qJ=Math.abs(b)<=N/2,e=Math.abs(T)<=z/2;if(qJ){var h=(X.x1+X.x2)/2,d=X.y1,p=X.y2;Z.segpts=[h,d,h,p]}else if(e){var r=(X.y1+X.y2)/2,UJ=X.x1,MJ=X.x2;Z.segpts=[UJ,r,MJ,r]}else Z.segpts=[X.x1,X.y2]}else{var xJ=Math.abs(b)<=H/2,CJ=Math.abs(P)<=M/2;if(xJ){var RJ=(X.y1+X.y2)/2,BJ=X.x1,KJ=X.x2;Z.segpts=[BJ,RJ,KJ,RJ]}else if(CJ){var zJ=(X.x1+X.x2)/2,LJ=X.y1,AJ=X.y2;Z.segpts=[zJ,LJ,zJ,AJ]}else Z.segpts=[X.x2,X.y1]}else if(f){var EJ=X.y1+m+(L?N/2*y:0),PJ=X.x1,bJ=X.x2;Z.segpts=[PJ,EJ,bJ,EJ]}else{var gJ=X.x1+m+(L?H/2*y:0),dJ=X.y1,cJ=X.y2;Z.segpts=[gJ,dJ,gJ,cJ]}if(Z.isRound){var OJ=Q.pstyle(\"taxi-radius\").value,FJ=Q.pstyle(\"radius-type\").value[0]===\"arc-radius\";Z.radii=new Array(Z.segpts.length/2).fill(OJ),Z.isArcRadius=new Array(Z.segpts.length/2).fill(FJ)}};P8.tryToCorrectInvalidPoints=function(Q,J){var Z=Q._private.rscratch;if(Z.edgeType===\"bezier\"){var{srcPos:U,tgtPos:$,srcW:q,srcH:K,tgtW:G,tgtH:Y,srcShape:F,tgtShape:X,srcCornerRadius:H,tgtCornerRadius:N,srcRs:z,tgtRs:M}=J,W=!$J(Z.startX)||!$J(Z.startY),L=!$J(Z.arrowStartX)||!$J(Z.arrowStartY),E=!$J(Z.endX)||!$J(Z.endY),B=!$J(Z.arrowEndX)||!$J(Z.arrowEndY),V=3,D=this.getArrowWidth(Q.pstyle(\"width\").pfValue,Q.pstyle(\"arrow-scale\").value)*this.arrowShapeWidth,O=V*D,A=NQ({x:Z.ctrlpts[0],y:Z.ctrlpts[1]},{x:Z.startX,y:Z.startY}),R=A<O,C=NQ({x:Z.ctrlpts[0],y:Z.ctrlpts[1]},{x:Z.endX,y:Z.endY}),I=C<O,T=!1;if(W||L||R){T=!0;var P={x:Z.ctrlpts[0]-U.x,y:Z.ctrlpts[1]-U.y},k=Math.sqrt(P.x*P.x+P.y*P.y),j={x:P.x/k,y:P.y/k},_=Math.max(q,K),x={x:Z.ctrlpts[0]+j.x*2*_,y:Z.ctrlpts[1]+j.y*2*_},f=F.intersectLine(U.x,U.y,q,K,x.x,x.y,0,H,z);if(R)Z.ctrlpts[0]=Z.ctrlpts[0]+j.x*(O-A),Z.ctrlpts[1]=Z.ctrlpts[1]+j.y*(O-A);else Z.ctrlpts[0]=f[0]+j.x*O,Z.ctrlpts[1]=f[1]+j.y*O}if(E||B||I){T=!0;var v={x:Z.ctrlpts[0]-$.x,y:Z.ctrlpts[1]-$.y},b=Math.sqrt(v.x*v.x+v.y*v.y),y={x:v.x/b,y:v.y/b},g=Math.max(q,K),m={x:Z.ctrlpts[0]+y.x*2*g,y:Z.ctrlpts[1]+y.y*2*g},u=X.intersectLine($.x,$.y,G,Y,m.x,m.y,0,N,M);if(I)Z.ctrlpts[0]=Z.ctrlpts[0]+y.x*(O-C),Z.ctrlpts[1]=Z.ctrlpts[1]+y.y*(O-C);else Z.ctrlpts[0]=u[0]+y.x*O,Z.ctrlpts[1]=u[1]+y.y*O}if(T)this.findEndpoints(Q)}};P8.storeAllpts=function(Q){var J=Q._private.rscratch;if(J.edgeType===\"multibezier\"||J.edgeType===\"bezier\"||J.edgeType===\"self\"||J.edgeType===\"compound\"){J.allpts=[],J.allpts.push(J.startX,J.startY);for(var Z=0;Z+1<J.ctrlpts.length;Z+=2)if(J.allpts.push(J.ctrlpts[Z],J.ctrlpts[Z+1]),Z+3<J.ctrlpts.length)J.allpts.push((J.ctrlpts[Z]+J.ctrlpts[Z+2])/2,(J.ctrlpts[Z+1]+J.ctrlpts[Z+3])/2);J.allpts.push(J.endX,J.endY);var U,$;if(J.ctrlpts.length/2%2===0)U=J.allpts.length/2-1,J.midX=J.allpts[U],J.midY=J.allpts[U+1];else U=J.allpts.length/2-3,$=0.5,J.midX=E8(J.allpts[U],J.allpts[U+2],J.allpts[U+4],$),J.midY=E8(J.allpts[U+1],J.allpts[U+3],J.allpts[U+5],$)}else if(J.edgeType===\"straight\")J.allpts=[J.startX,J.startY,J.endX,J.endY],J.midX=(J.startX+J.endX+J.arrowStartX+J.arrowEndX)/4,J.midY=(J.startY+J.endY+J.arrowStartY+J.arrowEndY)/4;else if(J.edgeType===\"segments\"){if(J.allpts=[],J.allpts.push(J.startX,J.startY),J.allpts.push.apply(J.allpts,J.segpts),J.allpts.push(J.endX,J.endY),J.isRound){J.roundCorners=[];for(var q=2;q+3<J.allpts.length;q+=2){var K=J.radii[q/2-1],G=J.isArcRadius[q/2-1];J.roundCorners.push(kU({x:J.allpts[q-2],y:J.allpts[q-1]},{x:J.allpts[q],y:J.allpts[q+1],radius:K},{x:J.allpts[q+2],y:J.allpts[q+3]},K,G))}}if(J.segpts.length%4===0){var Y=J.segpts.length/2,F=Y-2;J.midX=(J.segpts[F]+J.segpts[Y])/2,J.midY=(J.segpts[F+1]+J.segpts[Y+1])/2}else{var X=J.segpts.length/2-1;if(!J.isRound)J.midX=J.segpts[X],J.midY=J.segpts[X+1];else{var H={x:J.segpts[X],y:J.segpts[X+1]},N=J.roundCorners[X/2];if(N.radius===0){var z={x:J.segpts[X+2],y:J.segpts[X+3]};J.midX=H.x,J.midY=H.y,J.midVector=[H.y-z.y,z.x-H.x]}else{var M=[H.x-N.cx,H.y-N.cy],W=N.radius/Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2));M=M.map(function(L){return L*W}),J.midX=N.cx+M[0],J.midY=N.cy+M[1],J.midVector=M}}}}};P8.checkForInvalidEdgeWarning=function(Q){var J=Q[0]._private.rscratch;if(J.nodesOverlap||$J(J.startX)&&$J(J.startY)&&$J(J.endX)&&$J(J.endY))J.loggedErr=!1;else if(!J.loggedErr)J.loggedErr=!0,lJ(\"Edge `\"+Q.id()+\"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.\")};P8.findEdgeControlPoints=function(Q){var J=this;if(!Q||Q.length===0)return;var Z=this,U=Z.cy,$=U.hasCompoundNodes(),q=new E9,K=function C(I,T){return[].concat(o6(I),[T?1:0]).join(\"-\")},G=[],Y=[];for(var F=0;F<Q.length;F++){var X=Q[F],H=X._private,N=X.pstyle(\"curve-style\").value;if(X.removed()||!X.takesUpSpace())continue;if(N===\"haystack\"){Y.push(X);continue}var z=N===\"unbundled-bezier\"||v9(N,\"segments\")||N===\"straight\"||N===\"straight-triangle\"||v9(N,\"taxi\"),M=N===\"unbundled-bezier\"||N===\"bezier\",W=H.source,L=H.target,E=W.poolIndex(),B=L.poolIndex(),V=[E,B].sort(),D=K(V,z),O=q.get(D);if(O==null)O={eles:[]},G.push({pairId:V,edgeIsUnbundled:z}),q.set(D,O);if(O.eles.push(X),z)O.hasUnbundled=!0;if(M)O.hasBezier=!0}var A=function C(){var I=G[R],T=I.pairId,P=I.edgeIsUnbundled,k=K(T,P),j=q.get(k),_;if(!j.hasUnbundled){var x=j.eles[0].parallelEdges().filter(function(FJ){return FJ.isBundledBezier()});zU(j.eles),x.forEach(function(FJ){return j.eles.push(FJ)}),j.eles.sort(function(FJ,a){return FJ.poolIndex()-a.poolIndex()})}var f=j.eles[0],v=f.source(),b=f.target();if(v.poolIndex()>b.poolIndex()){var y=v;v=b,b=y}var g=j.srcPos=v.position(),m=j.tgtPos=b.position(),u=j.srcW=v.outerWidth(),n=j.srcH=v.outerHeight(),t=j.tgtW=b.outerWidth(),s=j.tgtH=b.outerHeight(),JJ=j.srcShape=Z.nodeShapes[J.getNodeShape(v)],ZJ=j.tgtShape=Z.nodeShapes[J.getNodeShape(b)],qJ=j.srcCornerRadius=v.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":v.pstyle(\"corner-radius\").pfValue,e=j.tgtCornerRadius=b.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":b.pstyle(\"corner-radius\").pfValue,h=j.tgtRs=b._private.rscratch,d=j.srcRs=v._private.rscratch;j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var p=0;p<j.eles.length;p++){var r=j.eles[p],UJ=r[0]._private.rscratch,MJ=r.pstyle(\"curve-style\").value,xJ=MJ===\"unbundled-bezier\"||v9(MJ,\"segments\")||v9(MJ,\"taxi\"),CJ=!v.same(r.source());if(!j.calculatedIntersection&&v!==b&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var RJ=JJ.intersectLine(g.x,g.y,u,n,m.x,m.y,0,qJ,d),BJ=j.srcIntn=RJ,KJ=ZJ.intersectLine(m.x,m.y,t,s,g.x,g.y,0,e,h),zJ=j.tgtIntn=KJ,LJ=j.intersectionPts={x1:RJ[0],x2:KJ[0],y1:RJ[1],y2:KJ[1]},AJ=j.posPts={x1:g.x,x2:m.x,y1:g.y,y2:m.y},EJ=KJ[1]-RJ[1],PJ=KJ[0]-RJ[0],bJ=Math.sqrt(PJ*PJ+EJ*EJ);if($J(bJ)&&bJ>=dO);else bJ=Math.sqrt(Math.max(PJ*PJ,yZ)+Math.max(EJ*EJ,yZ));var gJ=j.vector={x:PJ,y:EJ},dJ=j.vectorNorm={x:gJ.x/bJ,y:gJ.y/bJ},cJ={x:-dJ.y,y:dJ.x};j.nodesOverlap=!$J(bJ)||ZJ.checkPoint(RJ[0],RJ[1],0,t,s,m.x,m.y,e,h)||JJ.checkPoint(KJ[0],KJ[1],0,u,n,g.x,g.y,qJ,d),j.vectorNormInverse=cJ,_={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:m,srcRs:h,tgtPos:g,tgtRs:d,srcW:t,srcH:s,tgtW:u,tgtH:n,srcIntn:zJ,tgtIntn:BJ,srcShape:ZJ,tgtShape:JJ,posPts:{x1:AJ.x2,y1:AJ.y2,x2:AJ.x1,y2:AJ.y1},intersectionPts:{x1:LJ.x2,y1:LJ.y2,x2:LJ.x1,y2:LJ.y1},vector:{x:-gJ.x,y:-gJ.y},vectorNorm:{x:-dJ.x,y:-dJ.y},vectorNormInverse:{x:-cJ.x,y:-cJ.y}}}var OJ=CJ?_:j;if(UJ.nodesOverlap=OJ.nodesOverlap,UJ.srcIntn=OJ.srcIntn,UJ.tgtIntn=OJ.tgtIntn,UJ.isRound=MJ.startsWith(\"round\"),$&&(v.isParent()||v.isChild()||b.isParent()||b.isChild())&&(v.parents().anySame(b)||b.parents().anySame(v)||v.same(b)&&v.isParent()))J.findCompoundLoopPoints(r,OJ,p,xJ);else if(v===b)J.findLoopPoints(r,OJ,p,xJ);else if(MJ.endsWith(\"segments\"))J.findSegmentsPoints(r,OJ);else if(MJ.endsWith(\"taxi\"))J.findTaxiPoints(r,OJ);else if(MJ===\"straight\"||!xJ&&j.eles.length%2===1&&p===Math.floor(j.eles.length/2))J.findStraightEdgePoints(r);else J.findBezierPoints(r,OJ,p,xJ,CJ);J.findEndpoints(r),J.tryToCorrectInvalidPoints(r,OJ),J.checkForInvalidEdgeWarning(r),J.storeAllpts(r),J.storeEdgeProjections(r),J.calculateArrowAngles(r),J.recalculateEdgeLabelProjections(r),J.calculateLabelAngles(r)}};for(var R=0;R<G.length;R++)A();this.findHaystackPoints(Y)};function $G(Q){var J=[];if(Q==null)return;for(var Z=0;Z<Q.length;Z+=2){var U=Q[Z],$=Q[Z+1];J.push({x:U,y:$})}return J}P8.getSegmentPoints=function(Q){var J=Q[0]._private.rscratch;this.recalculateRenderedStyle(Q);var Z=J.edgeType;if(Z===\"segments\")return $G(J.segpts)};P8.getControlPoints=function(Q){var J=Q[0]._private.rscratch;this.recalculateRenderedStyle(Q);var Z=J.edgeType;if(Z===\"bezier\"||Z===\"multibezier\"||Z===\"self\"||Z===\"compound\")return $G(J.ctrlpts)};P8.getEdgeMidpoint=function(Q){var J=Q[0]._private.rscratch;return this.recalculateRenderedStyle(Q),{x:J.midX,y:J.midY}};var sZ={};sZ.manualEndptToPx=function(Q,J){var Z=this,U=Q.position(),$=Q.outerWidth(),q=Q.outerHeight(),K=Q._private.rscratch;if(J.value.length===2){var G=[J.pfValue[0],J.pfValue[1]];if(J.units[0]===\"%\")G[0]=G[0]*$;if(J.units[1]===\"%\")G[1]=G[1]*q;return G[0]+=U.x,G[1]+=U.y,G}else{var Y=J.pfValue[0];Y=-Math.PI/2+Y;var F=2*Math.max($,q),X=[U.x+Math.cos(Y)*F,U.y+Math.sin(Y)*F];return Z.nodeShapes[this.getNodeShape(Q)].intersectLine(U.x,U.y,$,q,X[0],X[1],0,Q.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":Q.pstyle(\"corner-radius\").pfValue,K)}};sZ.findEndpoints=function(Q){var J,Z,U,$,q=this,K,G=Q.source()[0],Y=Q.target()[0],F=G.position(),X=Y.position(),H=Q.pstyle(\"target-arrow-shape\").value,N=Q.pstyle(\"source-arrow-shape\").value,z=Q.pstyle(\"target-distance-from-node\").pfValue,M=Q.pstyle(\"source-distance-from-node\").pfValue,W=G._private.rscratch,L=Y._private.rscratch,E=Q.pstyle(\"curve-style\").value,B=Q._private.rscratch,V=B.edgeType,D=v9(E,\"taxi\"),O=V===\"self\"||V===\"compound\",A=V===\"bezier\"||V===\"multibezier\"||O,R=V!==\"bezier\",C=V===\"straight\"||V===\"segments\",I=V===\"segments\",T=A||R||C,P=O||D,k=Q.pstyle(\"source-endpoint\"),j=P?\"outside-to-node\":k.value,_=G.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":G.pstyle(\"corner-radius\").pfValue,x=Q.pstyle(\"target-endpoint\"),f=P?\"outside-to-node\":x.value,v=Y.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":Y.pstyle(\"corner-radius\").pfValue;B.srcManEndpt=k,B.tgtManEndpt=x;var b,y,g,m,u=(J=(x===null||x===void 0||(Z=x.pfValue)===null||Z===void 0?void 0:Z.length)===2?x.pfValue:null)!==null&&J!==void 0?J:[0,0],n=(U=(k===null||k===void 0||($=k.pfValue)===null||$===void 0?void 0:$.length)===2?k.pfValue:null)!==null&&U!==void 0?U:[0,0];if(A){var t=[B.ctrlpts[0],B.ctrlpts[1]],s=R?[B.ctrlpts[B.ctrlpts.length-2],B.ctrlpts[B.ctrlpts.length-1]]:t;b=s,y=t}else if(C){var JJ=!I?[X.x+u[0],X.y+u[1]]:B.segpts.slice(0,2),ZJ=!I?[F.x+n[0],F.y+n[1]]:B.segpts.slice(B.segpts.length-2);b=ZJ,y=JJ}if(f===\"inside-to-node\")K=[X.x,X.y];else if(x.units)K=this.manualEndptToPx(Y,x);else if(f===\"outside-to-line\")K=B.tgtIntn;else{if(f===\"outside-to-node\"||f===\"outside-to-node-or-label\")g=b;else if(f===\"outside-to-line\"||f===\"outside-to-line-or-label\")g=[F.x,F.y];if(K=q.nodeShapes[this.getNodeShape(Y)].intersectLine(X.x,X.y,Y.outerWidth(),Y.outerHeight(),g[0],g[1],0,v,L),f===\"outside-to-node-or-label\"||f===\"outside-to-line-or-label\"){var qJ=Y._private.rscratch,e=qJ.labelWidth,h=qJ.labelHeight,d=qJ.labelX,p=qJ.labelY,r=e/2,UJ=h/2,MJ=Y.pstyle(\"text-valign\").value;if(MJ===\"top\")p-=UJ;else if(MJ===\"bottom\")p+=UJ;var xJ=Y.pstyle(\"text-halign\").value;if(xJ===\"left\")d-=r;else if(xJ===\"right\")d+=r;var CJ=vZ(g[0],g[1],[d-r,p-UJ,d+r,p-UJ,d+r,p+UJ,d-r,p+UJ],X.x,X.y);if(CJ.length>0){var RJ=F,BJ=KQ(RJ,yQ(K)),KJ=KQ(RJ,yQ(CJ)),zJ=BJ;if(KJ<BJ)K=CJ,zJ=KJ;if(CJ.length>2){var LJ=KQ(RJ,{x:CJ[2],y:CJ[3]});if(LJ<zJ)K=[CJ[2],CJ[3]]}}}}var AJ=j6(K,b,q.arrowShapes[H].spacing(Q)+z),EJ=j6(K,b,q.arrowShapes[H].gap(Q)+z);if(B.endX=EJ[0],B.endY=EJ[1],B.arrowEndX=AJ[0],B.arrowEndY=AJ[1],j===\"inside-to-node\")K=[F.x,F.y];else if(k.units)K=this.manualEndptToPx(G,k);else if(j===\"outside-to-line\")K=B.srcIntn;else{if(j===\"outside-to-node\"||j===\"outside-to-node-or-label\")m=y;else if(j===\"outside-to-line\"||j===\"outside-to-line-or-label\")m=[X.x,X.y];if(K=q.nodeShapes[this.getNodeShape(G)].intersectLine(F.x,F.y,G.outerWidth(),G.outerHeight(),m[0],m[1],0,_,W),j===\"outside-to-node-or-label\"||j===\"outside-to-line-or-label\"){var PJ=G._private.rscratch,bJ=PJ.labelWidth,gJ=PJ.labelHeight,dJ=PJ.labelX,cJ=PJ.labelY,OJ=bJ/2,FJ=gJ/2,a=G.pstyle(\"text-valign\").value;if(a===\"top\")cJ-=FJ;else if(a===\"bottom\")cJ+=FJ;var S=G.pstyle(\"text-halign\").value;if(S===\"left\")dJ-=OJ;else if(S===\"right\")dJ+=OJ;var c=vZ(m[0],m[1],[dJ-OJ,cJ-FJ,dJ+OJ,cJ-FJ,dJ+OJ,cJ+FJ,dJ-OJ,cJ+FJ],F.x,F.y);if(c.length>0){var l=X,i=KQ(l,yQ(K)),o=KQ(l,yQ(c)),YJ=i;if(o<i)K=[c[0],c[1]],YJ=o;if(c.length>2){var QJ=KQ(l,{x:c[2],y:c[3]});if(QJ<YJ)K=[c[2],c[3]]}}}}var HJ=j6(K,y,q.arrowShapes[N].spacing(Q)+M),XJ=j6(K,y,q.arrowShapes[N].gap(Q)+M);if(B.startX=XJ[0],B.startY=XJ[1],B.arrowStartX=HJ[0],B.arrowStartY=HJ[1],T)if(!$J(B.startX)||!$J(B.startY)||!$J(B.endX)||!$J(B.endY))B.badLine=!0;else B.badLine=!1};sZ.getSourceEndpoint=function(Q){var J=Q[0]._private.rscratch;switch(this.recalculateRenderedStyle(Q),J.edgeType){case\"haystack\":return{x:J.haystackPts[0],y:J.haystackPts[1]};default:return{x:J.arrowStartX,y:J.arrowStartY}}};sZ.getTargetEndpoint=function(Q){var J=Q[0]._private.rscratch;switch(this.recalculateRenderedStyle(Q),J.edgeType){case\"haystack\":return{x:J.haystackPts[2],y:J.haystackPts[3]};default:return{x:J.arrowEndX,y:J.arrowEndY}}};var jU={};function cO(Q,J,Z){var U=function Y(F,X,H,N){return E8(F,X,H,N)},$=J._private,q=$.rstyle.bezierPts;for(var K=0;K<Q.bezierProjPcts.length;K++){var G=Q.bezierProjPcts[K];q.push({x:U(Z[0],Z[2],Z[4],G),y:U(Z[1],Z[3],Z[5],G)})}}jU.storeEdgeProjections=function(Q){var J=Q._private,Z=J.rscratch,U=Z.edgeType;if(J.rstyle.bezierPts=null,J.rstyle.linePts=null,J.rstyle.haystackPts=null,U===\"multibezier\"||U===\"bezier\"||U===\"self\"||U===\"compound\"){J.rstyle.bezierPts=[];for(var $=0;$+5<Z.allpts.length;$+=4)cO(this,Q,Z.allpts.slice($,$+6))}else if(U===\"segments\"){var q=J.rstyle.linePts=[];for(var $=0;$+1<Z.allpts.length;$+=2)q.push({x:Z.allpts[$],y:Z.allpts[$+1]})}else if(U===\"haystack\"){var K=Z.haystackPts;J.rstyle.haystackPts=[{x:K[0],y:K[1]},{x:K[2],y:K[3]}]}J.rstyle.arrowWidth=this.getArrowWidth(Q.pstyle(\"width\").pfValue,Q.pstyle(\"arrow-scale\").value)*this.arrowShapeWidth};jU.recalculateEdgeProjections=function(Q){this.findEdgeControlPoints(Q)};var G9={};G9.recalculateNodeLabelProjection=function(Q){var J=Q.pstyle(\"label\").strValue;if(y9(J))return;var Z,U,$=Q._private,q=Q.width(),K=Q.height(),G=Q.padding(),Y=Q.position(),F=Q.pstyle(\"text-halign\").strValue,X=Q.pstyle(\"text-valign\").strValue,H=$.rscratch,N=$.rstyle;switch(F){case\"left\":Z=Y.x-q/2-G;break;case\"right\":Z=Y.x+q/2+G;break;default:Z=Y.x}switch(X){case\"top\":U=Y.y-K/2-G;break;case\"bottom\":U=Y.y+K/2+G;break;default:U=Y.y}H.labelX=Z,H.labelY=U,N.labelX=Z,N.labelY=U,this.calculateLabelAngles(Q),this.applyLabelDimensions(Q)};var qG=function Q(J,Z){var U=Math.atan(Z/J);if(J===0&&U<0)U=U*-1;return U},KG=function Q(J,Z){var U=Z.x-J.x,$=Z.y-J.y;return qG(U,$)},pO=function Q(J,Z,U,$){var q=_Z(0,$-0.001,1),K=_Z(0,$+0.001,1),G=gQ(J,Z,U,q),Y=gQ(J,Z,U,K);return KG(G,Y)};G9.recalculateEdgeLabelProjections=function(Q){var J,Z=Q._private,U=Z.rscratch,$=this,q={mid:Q.pstyle(\"label\").strValue,source:Q.pstyle(\"source-label\").strValue,target:Q.pstyle(\"target-label\").strValue};if(q.mid||q.source||q.target);else return;J={x:U.midX,y:U.midY};var K=function X(H,N,z){W9(Z.rscratch,H,N,z),W9(Z.rstyle,H,N,z)};K(\"labelX\",null,J.x),K(\"labelY\",null,J.y);var G=qG(U.midDispX,U.midDispY);K(\"labelAutoAngle\",null,G);var Y=function X(){if(Y.cache)return Y.cache;var H=[];for(var N=0;N+5<U.allpts.length;N+=4){var z={x:U.allpts[N],y:U.allpts[N+1]},M={x:U.allpts[N+2],y:U.allpts[N+3]},W={x:U.allpts[N+4],y:U.allpts[N+5]};H.push({p0:z,p1:M,p2:W,startDist:0,length:0,segments:[]})}var L=Z.rstyle.bezierPts,E=$.bezierProjPcts.length;function B(R,C,I,T,P){var k=NQ(C,I),j=R.segments[R.segments.length-1],_={p0:C,p1:I,t0:T,t1:P,startDist:j?j.startDist+j.length:0,length:k};R.segments.push(_),R.length+=k}for(var V=0;V<H.length;V++){var D=H[V],O=H[V-1];if(O)D.startDist=O.startDist+O.length;B(D,D.p0,L[V*E],0,$.bezierProjPcts[0]);for(var A=0;A<E-1;A++)B(D,L[V*E+A],L[V*E+A+1],$.bezierProjPcts[A],$.bezierProjPcts[A+1]);B(D,L[V*E+E-1],D.p2,$.bezierProjPcts[E-1],1)}return Y.cache=H},F=function X(H){var N,z=H===\"source\";if(!q[H])return;var M=Q.pstyle(H+\"-text-offset\").pfValue;switch(U.edgeType){case\"self\":case\"compound\":case\"bezier\":case\"multibezier\":{var W=Y(),L,E=0,B=0;for(var V=0;V<W.length;V++){var D=W[z?V:W.length-1-V];for(var O=0;O<D.segments.length;O++){var A=D.segments[z?O:D.segments.length-1-O],R=V===W.length-1&&O===D.segments.length-1;if(E=B,B+=A.length,B>=M||R){L={cp:D,segment:A};break}}if(L)break}var{cp:C,segment:I}=L,T=(M-E)/I.length,P=I.t1-I.t0,k=z?I.t0+P*T:I.t1-P*T;k=_Z(0,k,1),J=gQ(C.p0,C.p1,C.p2,k),N=pO(C.p0,C.p1,C.p2,k);break}case\"straight\":case\"segments\":case\"haystack\":{var j=0,_,x,f,v,b=U.allpts.length;for(var y=0;y+3<b;y+=2){if(z)f={x:U.allpts[y],y:U.allpts[y+1]},v={x:U.allpts[y+2],y:U.allpts[y+3]};else f={x:U.allpts[b-2-y],y:U.allpts[b-1-y]},v={x:U.allpts[b-4-y],y:U.allpts[b-3-y]};if(_=NQ(f,v),x=j,j+=_,j>=M)break}var g=M-x,m=g/_;m=_Z(0,m,1),J=NV(f,v,m),N=KG(f,v);break}}K(\"labelX\",H,J.x),K(\"labelY\",H,J.y),K(\"labelAutoAngle\",H,N)};F(\"source\"),F(\"target\"),this.applyLabelDimensions(Q)};G9.applyLabelDimensions=function(Q){if(this.applyPrefixedLabelDimensions(Q),Q.isEdge())this.applyPrefixedLabelDimensions(Q,\"source\"),this.applyPrefixedLabelDimensions(Q,\"target\")};G9.applyPrefixedLabelDimensions=function(Q,J){var Z=Q._private,U=this.getLabelText(Q,J),$=HQ(U,Q._private.labelDimsKey);if(b8(Z.rscratch,\"prefixedLabelDimsKey\",J)===$)return;W9(Z.rscratch,\"prefixedLabelDimsKey\",J,$);var q=this.calculateLabelDimensions(Q,U),K=Q.pstyle(\"line-height\").pfValue,G=Q.pstyle(\"text-wrap\").strValue,Y=b8(Z.rscratch,\"labelWrapCachedLines\",J)||[],F=G!==\"wrap\"?1:Math.max(Y.length,1),X=q.height/F,H=X*K,N=q.width,z=q.height+(F-1)*(K-1)*X;W9(Z.rstyle,\"labelWidth\",J,N),W9(Z.rscratch,\"labelWidth\",J,N),W9(Z.rstyle,\"labelHeight\",J,z),W9(Z.rscratch,\"labelHeight\",J,z),W9(Z.rscratch,\"labelLineHeight\",J,H)};G9.getLabelText=function(Q,J){var Z=Q._private,U=J?J+\"-\":\"\",$=Q.pstyle(U+\"label\").strValue,q=Q.pstyle(\"text-transform\").value,K=function u(n,t){if(t)return W9(Z.rscratch,n,J,t),t;else return b8(Z.rscratch,n,J)};if(!$)return\"\";if(q==\"none\");else if(q==\"uppercase\")$=$.toUpperCase();else if(q==\"lowercase\")$=$.toLowerCase();var G=Q.pstyle(\"text-wrap\").value;if(G===\"wrap\"){var Y=K(\"labelKey\");if(Y!=null&&K(\"labelWrapKey\")===Y)return K(\"labelWrapCachedText\");var F=\"â€‹\",X=$.split(`\n`),H=Q.pstyle(\"text-max-width\").pfValue,N=Q.pstyle(\"text-overflow-wrap\").value,z=N===\"anywhere\",M=[],W=/[\\s\\u200b]+|$/g;for(var L=0;L<X.length;L++){var E=X[L],B=this.calculateLabelDimensions(Q,E),V=B.width;if(z){var D=E.split(\"\").join(F);E=D}if(V>H){var O=E.matchAll(W),A=\"\",R=0,C=y8(O),I;try{for(C.s();!(I=C.n()).done;){var T=I.value,P=T[0],k=E.substring(R,T.index);R=T.index+P.length;var j=A.length===0?k:A+k+P,_=this.calculateLabelDimensions(Q,j),x=_.width;if(x<=H)A+=k+P;else{if(A)M.push(A);A=k+P}}}catch(u){C.e(u)}finally{C.f()}if(!A.match(/^[\\s\\u200b]+$/))M.push(A)}else M.push(E)}K(\"labelWrapCachedLines\",M),$=K(\"labelWrapCachedText\",M.join(`\n`)),K(\"labelWrapKey\",Y)}else if(G===\"ellipsis\"){var f=Q.pstyle(\"text-max-width\").pfValue,v=\"\",b=\"â€¦\",y=!1;if(this.calculateLabelDimensions(Q,$).width<f)return $;for(var g=0;g<$.length;g++){var m=this.calculateLabelDimensions(Q,v+$[g]+b).width;if(m>f)break;if(v+=$[g],g===$.length-1)y=!0}if(!y)v+=b;return v}return $};G9.getLabelJustification=function(Q){var J=Q.pstyle(\"text-justification\").strValue,Z=Q.pstyle(\"text-halign\").strValue;if(J===\"auto\")if(Q.isNode())switch(Z){case\"left\":return\"right\";case\"right\":return\"left\";default:return\"center\"}else return\"center\";else return J};G9.calculateLabelDimensions=function(Q,J){var Z=this,U=Z.cy.window(),$=U.document,q=0,K=Q.pstyle(\"font-style\").strValue,G=Q.pstyle(\"font-size\").pfValue,Y=Q.pstyle(\"font-family\").strValue,F=Q.pstyle(\"font-weight\").strValue,X=this.labelCalcCanvas,H=this.labelCalcCanvasContext;if(!X){X=this.labelCalcCanvas=$.createElement(\"canvas\"),H=this.labelCalcCanvasContext=X.getContext(\"2d\");var N=X.style;N.position=\"absolute\",N.left=\"-9999px\",N.top=\"-9999px\",N.zIndex=\"-1\",N.visibility=\"hidden\",N.pointerEvents=\"none\"}H.font=\"\".concat(K,\" \").concat(F,\" \").concat(G,\"px \").concat(Y);var z=0,M=0,W=J.split(`\n`);for(var L=0;L<W.length;L++){var E=W[L],B=H.measureText(E),V=Math.ceil(B.width),D=G;z=Math.max(V,z),M+=D}return z+=q,M+=q,{width:z,height:M}};G9.calculateLabelAngle=function(Q,J){var Z=Q._private,U=Z.rscratch,$=Q.isEdge(),q=J?J+\"-\":\"\",K=Q.pstyle(q+\"text-rotation\"),G=K.strValue;if(G===\"none\")return 0;else if($&&G===\"autorotate\")return U.labelAutoAngle;else if(G===\"autorotate\")return 0;else return K.pfValue};G9.calculateLabelAngles=function(Q){var J=this,Z=Q.isEdge(),U=Q._private,$=U.rscratch;if($.labelAngle=J.calculateLabelAngle(Q),Z)$.sourceLabelAngle=J.calculateLabelAngle(Q,\"source\"),$.targetLabelAngle=J.calculateLabelAngle(Q,\"target\")};var GG={},R1=28,O1=!1;GG.getNodeShape=function(Q){var J=this,Z=Q.pstyle(\"shape\").value;if(Z===\"cutrectangle\"&&(Q.width()<R1||Q.height()<R1)){if(!O1)lJ(\"The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead\"),O1=!0;return\"rectangle\"}if(Q.isParent())if(Z===\"rectangle\"||Z===\"roundrectangle\"||Z===\"round-rectangle\"||Z===\"cutrectangle\"||Z===\"cut-rectangle\"||Z===\"barrel\")return Z;else return\"rectangle\";if(Z===\"polygon\"){var U=Q.pstyle(\"shape-polygon-points\").value;return J.nodeShapes.makePolygon(U).name}return Z};var T7={};T7.registerCalculationListeners=function(){var Q=this.cy,J=Q.collection(),Z=this,U=function q(K){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J.merge(K),G)for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F._private,H=X.rstyle;H.clean=!1,H.cleanConnected=!1}};Z.binder(Q).on(\"bounds.* dirty.*\",function q(K){var G=K.target;U(G)}).on(\"style.* background.*\",function q(K){var G=K.target;U(G,!1)});var $=function q(K){if(K){var G=Z.onUpdateEleCalcsFns;J.cleanStyle();for(var Y=0;Y<J.length;Y++){var F=J[Y],X=F._private.rstyle;if(F.isNode()&&!X.cleanConnected)U(F.connectedEdges()),X.cleanConnected=!0}if(G)for(var H=0;H<G.length;H++){var N=G[H];N(K,J)}Z.recalculateRenderedStyle(J),J=Q.collection()}};Z.flushRenderedStyleQueue=function(){$(!0)},Z.beforeRender($,Z.beforeRenderPriorities.eleCalcs)};T7.onUpdateEleCalcs=function(Q){var J=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];J.push(Q)};T7.recalculateRenderedStyle=function(Q,J){var Z=function V(D){return D._private.rstyle.cleanConnected};if(Q.length===0)return;var U=[],$=[];if(this.destroyed)return;if(J===void 0)J=!0;for(var q=0;q<Q.length;q++){var K=Q[q],G=K._private,Y=G.rstyle;if(K.isEdge()&&(!Z(K.source())||!Z(K.target())))Y.clean=!1;if(K.isEdge()&&K.isBundledBezier()){if(K.parallelEdges().some(function(V){return!V._private.rstyle.clean&&V.isBundledBezier()}))Y.clean=!1}if(J&&Y.clean||K.removed())continue;if(K.pstyle(\"display\").value===\"none\")continue;if(G.group===\"nodes\")$.push(K);else U.push(K);Y.clean=!0}for(var F=0;F<$.length;F++){var X=$[F],H=X._private,N=H.rstyle,z=X.position();this.recalculateNodeLabelProjection(X),N.nodeX=z.x,N.nodeY=z.y,N.nodeW=X.pstyle(\"width\").pfValue,N.nodeH=X.pstyle(\"height\").pfValue}this.recalculateEdgeProjections(U);for(var M=0;M<U.length;M++){var W=U[M],L=W._private,E=L.rstyle,B=L.rscratch;E.srcX=B.arrowStartX,E.srcY=B.arrowStartY,E.tgtX=B.arrowEndX,E.tgtY=B.arrowEndY,E.midX=B.midX,E.midY=B.midY,E.labelAngle=B.labelAngle,E.sourceLabelAngle=B.sourceLabelAngle,E.targetLabelAngle=B.targetLabelAngle}};var P7={};P7.updateCachedGrabbedEles=function(){var Q=this.cachedZSortedEles;if(!Q)return;Q.drag=[],Q.nondrag=[];var J=[];for(var Z=0;Z<Q.length;Z++){var U=Q[Z],$=U._private.rscratch;if(U.grabbed()&&!U.isParent())J.push(U);else if($.inDragLayer)Q.drag.push(U);else Q.nondrag.push(U)}for(var Z=0;Z<J.length;Z++){var U=J[Z];Q.drag.push(U)}};P7.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};P7.getCachedZSortedEles=function(Q){if(Q||!this.cachedZSortedEles){var J=this.cy.mutableElements().toArray();J.sort(dK),J.interactive=J.filter(function(Z){return Z.interactive()}),this.cachedZSortedEles=J,this.updateCachedGrabbedEles()}else J=this.cachedZSortedEles;return J};var YG={};[WQ,G7,P8,sZ,jU,G9,GG,T7,P7].forEach(function(Q){DJ(YG,Q)});var FG={};FG.getCachedImage=function(Q,J,Z){var U=this,$=U.imageCache=U.imageCache||{},q=$[Q];if(q){if(!q.image.complete)q.image.addEventListener(\"load\",Z);return q.image}else{q=$[Q]=$[Q]||{};var K=q.image=new Image;K.addEventListener(\"load\",Z),K.addEventListener(\"error\",function(){K.error=!0});var G=\"data:\",Y=Q.substring(0,G.length).toLowerCase()===G;if(!Y)J=J===\"null\"?null:J,K.crossOrigin=J;return K.src=Q,K}};var tQ={};tQ.registerBinding=function(Q,J,Z,U){var $=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(Q)){var q=[];for(var K=0;K<Q.length;K++){var G=Q[K];if(G!==void 0){var Y=this.binder(G);q.push(Y.on.apply(Y,$))}}return q}var Y=this.binder(Q);return Y.on.apply(Y,$)};tQ.binder=function(Q){var J=this,Z=J.cy.window(),U=Q===Z||Q===Z.document||Q===Z.document.body||Z2(Q);if(J.supportsPassiveEvents==null){var $=!1;try{var q=Object.defineProperty({},\"passive\",{get:function G(){return $=!0,!0}});Z.addEventListener(\"test\",null,q)}catch(G){}J.supportsPassiveEvents=$}var K=function G(Y,F,X){var H=Array.prototype.slice.call(arguments);if(U&&J.supportsPassiveEvents)H[2]={capture:X!=null?X:!1,passive:!1,once:!1};return J.bindings.push({target:Q,args:H}),(Q.addEventListener||Q.on).apply(Q,H),this};return{on:K,addEventListener:K,addListener:K,bind:K}};tQ.nodeIsDraggable=function(Q){return Q&&Q.isNode()&&!Q.locked()&&Q.grabbable()};tQ.nodeIsGrabbable=function(Q){return this.nodeIsDraggable(Q)&&Q.interactive()};tQ.load=function(){var Q=this,J=Q.cy.window(),Z=function a(S){return S.selected()},U=function a(S){var c=S.getRootNode();if(c&&c.nodeType===11&&c.host!==void 0)return c},$=function a(S,c,l,i){if(S==null)S=Q.cy;for(var o=0;o<c.length;o++){var YJ=c[o];S.emit({originalEvent:l,type:YJ,position:i})}},q=function a(S){return S.shiftKey||S.metaKey||S.ctrlKey},K=function a(S,c){var l=!0;if(Q.cy.hasCompoundNodes()&&S&&S.pannable())for(var i=0;c&&i<c.length;i++){var S=c[i];if(S.isNode()&&S.isParent()&&!S.pannable()){l=!1;break}}else l=!0;return l},G=function a(S){S[0]._private.grabbed=!0},Y=function a(S){S[0]._private.grabbed=!1},F=function a(S){S[0]._private.rscratch.inDragLayer=!0},X=function a(S){S[0]._private.rscratch.inDragLayer=!1},H=function a(S){S[0]._private.rscratch.isGrabTarget=!0},N=function a(S){S[0]._private.rscratch.isGrabTarget=!1},z=function a(S,c){var l=c.addToList,i=l.has(S);if(!i&&S.grabbable()&&!S.locked())l.merge(S),G(S)},M=function a(S,c){if(!S.cy().hasCompoundNodes())return;if(c.inDragLayer==null&&c.addToList==null)return;var l=S.descendants();if(c.inDragLayer)l.forEach(F),l.connectedEdges().forEach(F);if(c.addToList)z(l,c)},W=function a(S,c){c=c||{};var l=S.cy().hasCompoundNodes();if(c.inDragLayer)S.forEach(F),S.neighborhood().stdFilter(function(i){return!l||i.isEdge()}).forEach(F);if(c.addToList)S.forEach(function(i){z(i,c)});M(S,c),B(S,{inDragLayer:c.inDragLayer}),Q.updateCachedGrabbedEles()},L=W,E=function a(S){if(!S)return;Q.getCachedZSortedEles().forEach(function(c){Y(c),X(c),N(c)}),Q.updateCachedGrabbedEles()},B=function a(S,c){if(c.inDragLayer==null&&c.addToList==null)return;if(!S.cy().hasCompoundNodes())return;var l=S.ancestors().orphans();if(l.same(S))return;var i=l.descendants().spawnSelf().merge(l).unmerge(S).unmerge(S.descendants()),o=i.connectedEdges();if(c.inDragLayer)o.forEach(F),i.forEach(F);if(c.addToList)i.forEach(function(YJ){z(YJ,c)})},V=function a(){if(document.activeElement!=null&&document.activeElement.blur!=null)document.activeElement.blur()},D=typeof MutationObserver!==\"undefined\",O=typeof ResizeObserver!==\"undefined\";if(D){if(Q.removeObserver=new MutationObserver(function(a){for(var S=0;S<a.length;S++){var c=a[S],l=c.removedNodes;if(l)for(var i=0;i<l.length;i++){var o=l[i];if(o===Q.container){Q.destroy();break}}}}),Q.container.parentNode)Q.removeObserver.observe(Q.container.parentNode,{childList:!0})}else Q.registerBinding(Q.container,\"DOMNodeRemoved\",function(a){Q.destroy()});var A=pZ(function(){Q.cy.resize()},100);if(D)Q.styleObserver=new MutationObserver(A),Q.styleObserver.observe(Q.container,{attributes:!0});if(Q.registerBinding(J,\"resize\",A),O)Q.resizeObserver=new ResizeObserver(A),Q.resizeObserver.observe(Q.container);var R=function a(S,c){while(S!=null)c(S),S=S.parentNode},C=function a(){Q.invalidateContainerClientCoordsCache()};R(Q.container,function(a){Q.registerBinding(a,\"transitionend\",C),Q.registerBinding(a,\"animationend\",C),Q.registerBinding(a,\"scroll\",C)}),Q.registerBinding(Q.container,\"contextmenu\",function(a){a.preventDefault()});var I=function a(){return Q.selection[4]!==0},T=function a(S){var c=Q.findContainerClientCoords(),l=c[0],i=c[1],o=c[2],YJ=c[3],QJ=S.touches?S.touches:[S],HJ=!1;for(var XJ=0;XJ<QJ.length;XJ++){var VJ=QJ[XJ];if(l<=VJ.clientX&&VJ.clientX<=l+o&&i<=VJ.clientY&&VJ.clientY<=i+YJ){HJ=!0;break}}if(!HJ)return!1;var wJ=Q.container,TJ=S.target,NJ=TJ.parentNode,fJ=!1;while(NJ){if(NJ===wJ){fJ=!0;break}NJ=NJ.parentNode}if(!fJ)return!1;return!0};Q.registerBinding(Q.container,\"mousedown\",function a(S){if(!T(S))return;if(Q.hoverData.which===1&&S.which!==1)return;S.preventDefault(),V(),Q.hoverData.capture=!0,Q.hoverData.which=S.which;var c=Q.cy,l=[S.clientX,S.clientY],i=Q.projectIntoViewport(l[0],l[1]),o=Q.selection,YJ=Q.findNearestElements(i[0],i[1],!0,!1),QJ=YJ[0],HJ=Q.dragData.possibleDragElements;Q.hoverData.mdownPos=i,Q.hoverData.mdownGPos=l;var XJ=function fJ(_J){return{originalEvent:S,type:_J,position:{x:i[0],y:i[1]}}},VJ=function fJ(){Q.hoverData.tapholdCancelled=!1,clearTimeout(Q.hoverData.tapholdTimeout),Q.hoverData.tapholdTimeout=setTimeout(function(){if(Q.hoverData.tapholdCancelled)return;else{var _J=Q.hoverData.down;if(_J)_J.emit(XJ(\"taphold\"));else c.emit(XJ(\"taphold\"))}},Q.tapholdDuration)};if(S.which==3){Q.hoverData.cxtStarted=!0;var wJ={originalEvent:S,type:\"cxttapstart\",position:{x:i[0],y:i[1]}};if(QJ)QJ.activate(),QJ.emit(wJ),Q.hoverData.down=QJ;else c.emit(wJ);Q.hoverData.downTime=new Date().getTime(),Q.hoverData.cxtDragged=!1}else if(S.which==1){if(QJ)QJ.activate();{if(QJ!=null){if(Q.nodeIsGrabbable(QJ)){var TJ=function fJ(_J){_J.emit(XJ(\"grab\"))};if(H(QJ),!QJ.selected())HJ=Q.dragData.possibleDragElements=c.collection(),L(QJ,{addToList:HJ}),QJ.emit(XJ(\"grabon\")).emit(XJ(\"grab\"));else{HJ=Q.dragData.possibleDragElements=c.collection();var NJ=c.$(function(fJ){return fJ.isNode()&&fJ.selected()&&Q.nodeIsGrabbable(fJ)});W(NJ,{addToList:HJ}),QJ.emit(XJ(\"grabon\")),NJ.forEach(TJ)}Q.redrawHint(\"eles\",!0),Q.redrawHint(\"drag\",!0)}}Q.hoverData.down=QJ,Q.hoverData.downs=YJ,Q.hoverData.downTime=new Date().getTime()}if($(QJ,[\"mousedown\",\"tapstart\",\"vmousedown\"],S,{x:i[0],y:i[1]}),QJ==null)o[4]=1,Q.data.bgActivePosistion={x:i[0],y:i[1]},Q.redrawHint(\"select\",!0),Q.redraw();else if(QJ.pannable())o[4]=1;VJ()}o[0]=o[2]=i[0],o[1]=o[3]=i[1]},!1);var P=U(Q.container);Q.registerBinding([J,P],\"mousemove\",function a(S){var c=Q.hoverData.capture;if(!c&&!T(S))return;var l=!1,i=Q.cy,o=i.zoom(),YJ=[S.clientX,S.clientY],QJ=Q.projectIntoViewport(YJ[0],YJ[1]),HJ=Q.hoverData.mdownPos,XJ=Q.hoverData.mdownGPos,VJ=Q.selection,wJ=null;if(!Q.hoverData.draggingEles&&!Q.hoverData.dragging&&!Q.hoverData.selecting)wJ=Q.findNearestElement(QJ[0],QJ[1],!0,!1);var TJ=Q.hoverData.last,NJ=Q.hoverData.down,fJ=[QJ[0]-VJ[2],QJ[1]-VJ[3]],_J=Q.dragData.possibleDragElements,F8;if(XJ){var Z8=YJ[0]-XJ[0],k8=Z8*Z8,q8=YJ[1]-XJ[1],W8=q8*q8,X8=k8+W8;Q.hoverData.isOverThresholdDrag=F8=X8>=Q.desktopTapThreshold2}var D8=q(S);if(F8)Q.hoverData.tapholdCancelled=!0;var P9=function MZ(){var c8=Q.hoverData.dragDelta=Q.hoverData.dragDelta||[];if(c8.length===0)c8.push(fJ[0]),c8.push(fJ[1]);else c8[0]+=fJ[0],c8[1]+=fJ[1]};l=!0,$(wJ,[\"mousemove\",\"vmousemove\",\"tapdrag\"],S,{x:QJ[0],y:QJ[1]});var K8=function MZ(c8){return{originalEvent:S,type:c8,position:{x:QJ[0],y:QJ[1]}}},M9=function MZ(){if(Q.data.bgActivePosistion=void 0,!Q.hoverData.selecting)i.emit(K8(\"boxstart\"));VJ[4]=1,Q.hoverData.selecting=!0,Q.redrawHint(\"select\",!0),Q.redraw()};if(Q.hoverData.which===3){if(F8){var z9=K8(\"cxtdrag\");if(NJ)NJ.emit(z9);else i.emit(z9);if(Q.hoverData.cxtDragged=!0,!Q.hoverData.cxtOver||wJ!==Q.hoverData.cxtOver){if(Q.hoverData.cxtOver)Q.hoverData.cxtOver.emit(K8(\"cxtdragout\"));if(Q.hoverData.cxtOver=wJ,wJ)wJ.emit(K8(\"cxtdragover\"))}}}else if(Q.hoverData.dragging){if(l=!0,i.panningEnabled()&&i.userPanningEnabled()){var kQ;if(Q.hoverData.justStartedPan){var S6=Q.hoverData.mdownPos;kQ={x:(QJ[0]-S6[0])*o,y:(QJ[1]-S6[1])*o},Q.hoverData.justStartedPan=!1}else kQ={x:fJ[0]*o,y:fJ[1]*o};i.panBy(kQ),i.emit(K8(\"dragpan\")),Q.hoverData.dragged=!0}QJ=Q.projectIntoViewport(S.clientX,S.clientY)}else if(VJ[4]==1&&(NJ==null||NJ.pannable())){if(F8){if(!Q.hoverData.dragging&&i.boxSelectionEnabled()&&(D8||!i.panningEnabled()||!i.userPanningEnabled()))M9();else if(!Q.hoverData.selecting&&i.panningEnabled()&&i.userPanningEnabled()){var UQ=K(NJ,Q.hoverData.downs);if(UQ)Q.hoverData.dragging=!0,Q.hoverData.justStartedPan=!0,VJ[4]=0,Q.data.bgActivePosistion=yQ(HJ),Q.redrawHint(\"select\",!0),Q.redraw()}if(NJ&&NJ.pannable()&&NJ.active())NJ.unactivate()}}else{if(NJ&&NJ.pannable()&&NJ.active())NJ.unactivate();if((!NJ||!NJ.grabbed())&&wJ!=TJ){if(TJ)$(TJ,[\"mouseout\",\"tapdragout\"],S,{x:QJ[0],y:QJ[1]});if(wJ)$(wJ,[\"mouseover\",\"tapdragover\"],S,{x:QJ[0],y:QJ[1]});Q.hoverData.last=wJ}if(NJ)if(F8){if(i.boxSelectionEnabled()&&D8){if(NJ&&NJ.grabbed()){if(E(_J),NJ.emit(K8(\"freeon\")),_J.emit(K8(\"free\")),Q.dragData.didDrag)NJ.emit(K8(\"dragfreeon\")),_J.emit(K8(\"dragfree\"))}M9()}else if(NJ&&NJ.grabbed()&&Q.nodeIsDraggable(NJ)){var f8=!Q.dragData.didDrag;if(f8)Q.redrawHint(\"eles\",!0);if(Q.dragData.didDrag=!0,!Q.hoverData.draggingEles)W(_J,{inDragLayer:!0});var S8={x:0,y:0};if($J(fJ[0])&&$J(fJ[1])){if(S8.x+=fJ[0],S8.y+=fJ[1],f8){var x8=Q.hoverData.dragDelta;if(x8&&$J(x8[0])&&$J(x8[1]))S8.x+=x8[0],S8.y+=x8[1]}}Q.hoverData.draggingEles=!0,_J.silentShift(S8).emit(K8(\"position\")).emit(K8(\"drag\")),Q.redrawHint(\"drag\",!0),Q.redraw()}}else P9();l=!0}if(VJ[2]=QJ[0],VJ[3]=QJ[1],l){if(S.stopPropagation)S.stopPropagation();if(S.preventDefault)S.preventDefault();return!1}},!1);var k,j,_;Q.registerBinding(J,\"mouseup\",function a(S){if(Q.hoverData.which===1&&S.which!==1&&Q.hoverData.capture)return;var c=Q.hoverData.capture;if(!c)return;Q.hoverData.capture=!1;var l=Q.cy,i=Q.projectIntoViewport(S.clientX,S.clientY),o=Q.selection,YJ=Q.findNearestElement(i[0],i[1],!0,!1),QJ=Q.dragData.possibleDragElements,HJ=Q.hoverData.down,XJ=q(S);if(Q.data.bgActivePosistion)Q.redrawHint(\"select\",!0),Q.redraw();if(Q.hoverData.tapholdCancelled=!0,Q.data.bgActivePosistion=void 0,HJ)HJ.unactivate();var VJ=function F8(Z8){return{originalEvent:S,type:Z8,position:{x:i[0],y:i[1]}}};if(Q.hoverData.which===3){var wJ=VJ(\"cxttapend\");if(HJ)HJ.emit(wJ);else l.emit(wJ);if(!Q.hoverData.cxtDragged){var TJ=VJ(\"cxttap\");if(HJ)HJ.emit(TJ);else l.emit(TJ)}Q.hoverData.cxtDragged=!1,Q.hoverData.which=null}else if(Q.hoverData.which===1){if($(YJ,[\"mouseup\",\"tapend\",\"vmouseup\"],S,{x:i[0],y:i[1]}),!Q.dragData.didDrag&&!Q.hoverData.dragged&&!Q.hoverData.selecting&&!Q.hoverData.isOverThresholdDrag)if($(HJ,[\"click\",\"tap\",\"vclick\"],S,{x:i[0],y:i[1]}),j=!1,S.timeStamp-_<=l.multiClickDebounceTime())k&&clearTimeout(k),j=!0,_=null,$(HJ,[\"dblclick\",\"dbltap\",\"vdblclick\"],S,{x:i[0],y:i[1]});else k=setTimeout(function(){if(j)return;$(HJ,[\"oneclick\",\"onetap\",\"voneclick\"],S,{x:i[0],y:i[1]})},l.multiClickDebounceTime()),_=S.timeStamp;if(HJ==null&&!Q.dragData.didDrag&&!Q.hoverData.selecting&&!Q.hoverData.dragged&&!q(S)){if(l.$(Z).unselect([\"tapunselect\"]),QJ.length>0)Q.redrawHint(\"eles\",!0);Q.dragData.possibleDragElements=QJ=l.collection()}if(YJ==HJ&&!Q.dragData.didDrag&&!Q.hoverData.selecting){if(YJ!=null&&YJ._private.selectable){if(Q.hoverData.dragging);else if(l.selectionType()===\"additive\"||XJ)if(YJ.selected())YJ.unselect([\"tapunselect\"]);else YJ.select([\"tapselect\"]);else if(!XJ)l.$(Z).unmerge(YJ).unselect([\"tapunselect\"]),YJ.select([\"tapselect\"]);Q.redrawHint(\"eles\",!0)}}if(Q.hoverData.selecting){var NJ=l.collection(Q.getAllInBox(o[0],o[1],o[2],o[3]));if(Q.redrawHint(\"select\",!0),NJ.length>0)Q.redrawHint(\"eles\",!0);l.emit(VJ(\"boxend\"));var fJ=function F8(Z8){return Z8.selectable()&&!Z8.selected()};if(l.selectionType()===\"additive\")NJ.emit(VJ(\"box\")).stdFilter(fJ).select().emit(VJ(\"boxselect\"));else{if(!XJ)l.$(Z).unmerge(NJ).unselect();NJ.emit(VJ(\"box\")).stdFilter(fJ).select().emit(VJ(\"boxselect\"))}Q.redraw()}if(Q.hoverData.dragging)Q.hoverData.dragging=!1,Q.redrawHint(\"select\",!0),Q.redrawHint(\"eles\",!0),Q.redraw();if(!o[4]){Q.redrawHint(\"drag\",!0),Q.redrawHint(\"eles\",!0);var _J=HJ&&HJ.grabbed();if(E(QJ),_J){if(HJ.emit(VJ(\"freeon\")),QJ.emit(VJ(\"free\")),Q.dragData.didDrag)HJ.emit(VJ(\"dragfreeon\")),QJ.emit(VJ(\"dragfree\"))}}}o[4]=0,Q.hoverData.down=null,Q.hoverData.cxtStarted=!1,Q.hoverData.draggingEles=!1,Q.hoverData.selecting=!1,Q.hoverData.isOverThresholdDrag=!1,Q.dragData.didDrag=!1,Q.hoverData.dragged=!1,Q.hoverData.dragDelta=[],Q.hoverData.mdownPos=null,Q.hoverData.mdownGPos=null,Q.hoverData.which=null},!1);var x=[],f=4,v,b=1e5,y=function a(S,c){for(var l=0;l<S.length;l++)if(S[l]%c!==0)return!1;return!0},g=function a(S){var c=Math.abs(S[0]);for(var l=1;l<S.length;l++)if(Math.abs(S[l])!==c)return!1;return!0},m=function a(S){var c=!1,l=S.deltaY;if(l==null){if(S.wheelDeltaY!=null)l=S.wheelDeltaY/4;else if(S.wheelDelta!=null)l=S.wheelDelta/4}if(l===0)return;if(v==null)if(x.length>=f){var i=x;if(v=y(i,5),!v){var o=Math.abs(i[0]);v=g(i)&&o>5}if(v)for(var YJ=0;YJ<i.length;YJ++)b=Math.min(Math.abs(i[YJ]),b)}else x.push(l),c=!0;else if(v)b=Math.min(Math.abs(l),b);if(Q.scrollingPage)return;var QJ=Q.cy,HJ=QJ.zoom(),XJ=QJ.pan(),VJ=Q.projectIntoViewport(S.clientX,S.clientY),wJ=[VJ[0]*HJ+XJ.x,VJ[1]*HJ+XJ.y];if(Q.hoverData.draggingEles||Q.hoverData.dragging||Q.hoverData.cxtStarted||I()){S.preventDefault();return}if(QJ.panningEnabled()&&QJ.userPanningEnabled()&&QJ.zoomingEnabled()&&QJ.userZoomingEnabled()){S.preventDefault(),Q.data.wheelZooming=!0,clearTimeout(Q.data.wheelTimeout),Q.data.wheelTimeout=setTimeout(function(){Q.data.wheelZooming=!1,Q.redrawHint(\"eles\",!0),Q.redraw()},150);var TJ;if(c&&Math.abs(l)>5)l=WU(l)*5;if(TJ=l/-250,v)TJ/=b,TJ*=3;TJ=TJ*Q.wheelSensitivity;var NJ=S.deltaMode===1;if(NJ)TJ*=33;var fJ=QJ.zoom()*Math.pow(10,TJ);if(S.type===\"gesturechange\")fJ=Q.gestureStartZoom*S.scale;QJ.zoom({level:fJ,renderedPosition:{x:wJ[0],y:wJ[1]}}),QJ.emit({type:S.type===\"gesturechange\"?\"pinchzoom\":\"scrollzoom\",originalEvent:S,position:{x:VJ[0],y:VJ[1]}})}};Q.registerBinding(Q.container,\"wheel\",m,!0),Q.registerBinding(J,\"scroll\",function a(S){Q.scrollingPage=!0,clearTimeout(Q.scrollingPageTimeout),Q.scrollingPageTimeout=setTimeout(function(){Q.scrollingPage=!1},250)},!0),Q.registerBinding(Q.container,\"gesturestart\",function a(S){if(Q.gestureStartZoom=Q.cy.zoom(),!Q.hasTouchStarted)S.preventDefault()},!0),Q.registerBinding(Q.container,\"gesturechange\",function(a){if(!Q.hasTouchStarted)m(a)},!0),Q.registerBinding(Q.container,\"mouseout\",function a(S){var c=Q.projectIntoViewport(S.clientX,S.clientY);Q.cy.emit({originalEvent:S,type:\"mouseout\",position:{x:c[0],y:c[1]}})},!1),Q.registerBinding(Q.container,\"mouseover\",function a(S){var c=Q.projectIntoViewport(S.clientX,S.clientY);Q.cy.emit({originalEvent:S,type:\"mouseover\",position:{x:c[0],y:c[1]}})},!1);var u,n,t,s,JJ,ZJ,qJ,e,h,d,p,r,UJ,MJ=function a(S,c,l,i){return Math.sqrt((l-S)*(l-S)+(i-c)*(i-c))},xJ=function a(S,c,l,i){return(l-S)*(l-S)+(i-c)*(i-c)},CJ;Q.registerBinding(Q.container,\"touchstart\",CJ=function a(S){if(Q.hasTouchStarted=!0,!T(S))return;V(),Q.touchData.capture=!0,Q.data.bgActivePosistion=void 0;var c=Q.cy,l=Q.touchData.now,i=Q.touchData.earlier;if(S.touches[0]){var o=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);l[0]=o[0],l[1]=o[1]}if(S.touches[1]){var o=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);l[2]=o[0],l[3]=o[1]}if(S.touches[2]){var o=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);l[4]=o[0],l[5]=o[1]}var YJ=function X8(D8){return{originalEvent:S,type:D8,position:{x:l[0],y:l[1]}}};if(S.touches[1]){Q.touchData.singleTouchMoved=!0,E(Q.dragData.touchDragEles);var QJ=Q.findContainerClientCoords();h=QJ[0],d=QJ[1],p=QJ[2],r=QJ[3],u=S.touches[0].clientX-h,n=S.touches[0].clientY-d,t=S.touches[1].clientX-h,s=S.touches[1].clientY-d,UJ=0<=u&&u<=p&&0<=t&&t<=p&&0<=n&&n<=r&&0<=s&&s<=r;var HJ=c.pan(),XJ=c.zoom();JJ=MJ(u,n,t,s),ZJ=xJ(u,n,t,s),qJ=[(u+t)/2,(n+s)/2],e=[(qJ[0]-HJ.x)/XJ,(qJ[1]-HJ.y)/XJ];var VJ=200,wJ=VJ*VJ;if(ZJ<wJ&&!S.touches[2]){var TJ=Q.findNearestElement(l[0],l[1],!0,!0),NJ=Q.findNearestElement(l[2],l[3],!0,!0);if(TJ&&TJ.isNode())TJ.activate().emit(YJ(\"cxttapstart\")),Q.touchData.start=TJ;else if(NJ&&NJ.isNode())NJ.activate().emit(YJ(\"cxttapstart\")),Q.touchData.start=NJ;else c.emit(YJ(\"cxttapstart\"));if(Q.touchData.start)Q.touchData.start._private.grabbed=!1;Q.touchData.cxt=!0,Q.touchData.cxtDragged=!1,Q.data.bgActivePosistion=void 0,Q.redraw();return}}if(S.touches[2]){if(c.boxSelectionEnabled())S.preventDefault()}else if(S.touches[1]);else if(S.touches[0]){var fJ=Q.findNearestElements(l[0],l[1],!0,!0),_J=fJ[0];if(_J!=null){if(_J.activate(),Q.touchData.start=_J,Q.touchData.starts=fJ,Q.nodeIsGrabbable(_J)){var F8=Q.dragData.touchDragEles=c.collection(),Z8=null;if(Q.redrawHint(\"eles\",!0),Q.redrawHint(\"drag\",!0),_J.selected())Z8=c.$(function(X8){return X8.selected()&&Q.nodeIsGrabbable(X8)}),W(Z8,{addToList:F8});else L(_J,{addToList:F8});if(H(_J),_J.emit(YJ(\"grabon\")),Z8)Z8.forEach(function(X8){X8.emit(YJ(\"grab\"))});else _J.emit(YJ(\"grab\"))}}if($(_J,[\"touchstart\",\"tapstart\",\"vmousedown\"],S,{x:l[0],y:l[1]}),_J==null)Q.data.bgActivePosistion={x:o[0],y:o[1]},Q.redrawHint(\"select\",!0),Q.redraw();Q.touchData.singleTouchMoved=!1,Q.touchData.singleTouchStartTime=+new Date,clearTimeout(Q.touchData.tapholdTimeout),Q.touchData.tapholdTimeout=setTimeout(function(){if(Q.touchData.singleTouchMoved===!1&&!Q.pinching&&!Q.touchData.selecting)$(Q.touchData.start,[\"taphold\"],S,{x:l[0],y:l[1]})},Q.tapholdDuration)}if(S.touches.length>=1){var k8=Q.touchData.startPosition=[null,null,null,null,null,null];for(var q8=0;q8<l.length;q8++)k8[q8]=i[q8]=l[q8];var W8=S.touches[0];Q.touchData.startGPosition=[W8.clientX,W8.clientY]}},!1);var RJ;Q.registerBinding(J,\"touchmove\",RJ=function a(S){var c=Q.touchData.capture;if(!c&&!T(S))return;var{selection:l,cy:i}=Q,o=Q.touchData.now,YJ=Q.touchData.earlier,QJ=i.zoom();if(S.touches[0]){var HJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);o[0]=HJ[0],o[1]=HJ[1]}if(S.touches[1]){var HJ=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);o[2]=HJ[0],o[3]=HJ[1]}if(S.touches[2]){var HJ=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);o[4]=HJ[0],o[5]=HJ[1]}var XJ=function hd(gB){return{originalEvent:S,type:gB,position:{x:o[0],y:o[1]}}},VJ=Q.touchData.startGPosition,wJ;if(c&&S.touches[0]&&VJ){var TJ=[];for(var NJ=0;NJ<o.length;NJ++)TJ[NJ]=o[NJ]-YJ[NJ];var fJ=S.touches[0].clientX-VJ[0],_J=fJ*fJ,F8=S.touches[0].clientY-VJ[1],Z8=F8*F8,k8=_J+Z8;wJ=k8>=Q.touchTapThreshold2}if(c&&Q.touchData.cxt){S.preventDefault();var q8=S.touches[0].clientX-h,W8=S.touches[0].clientY-d,X8=S.touches[1].clientX-h,D8=S.touches[1].clientY-d,P9=xJ(q8,W8,X8,D8),K8=P9/ZJ,M9=150,z9=M9*M9,kQ=1.5,S6=kQ*kQ;if(K8>=S6||P9>=z9){Q.touchData.cxt=!1,Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);var UQ=XJ(\"cxttapend\");if(Q.touchData.start)Q.touchData.start.unactivate().emit(UQ),Q.touchData.start=null;else i.emit(UQ)}}if(c&&Q.touchData.cxt){var UQ=XJ(\"cxtdrag\");if(Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0),Q.touchData.start)Q.touchData.start.emit(UQ);else i.emit(UQ);if(Q.touchData.start)Q.touchData.start._private.grabbed=!1;Q.touchData.cxtDragged=!0;var f8=Q.findNearestElement(o[0],o[1],!0,!0);if(!Q.touchData.cxtOver||f8!==Q.touchData.cxtOver){if(Q.touchData.cxtOver)Q.touchData.cxtOver.emit(XJ(\"cxtdragout\"));if(Q.touchData.cxtOver=f8,f8)f8.emit(XJ(\"cxtdragover\"))}}else if(c&&S.touches[2]&&i.boxSelectionEnabled()){if(S.preventDefault(),Q.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,!Q.touchData.selecting)i.emit(XJ(\"boxstart\"));if(Q.touchData.selecting=!0,Q.touchData.didSelect=!0,l[4]=1,!l||l.length===0||l[0]===void 0)l[0]=(o[0]+o[2]+o[4])/3,l[1]=(o[1]+o[3]+o[5])/3,l[2]=(o[0]+o[2]+o[4])/3+1,l[3]=(o[1]+o[3]+o[5])/3+1;else l[2]=(o[0]+o[2]+o[4])/3,l[3]=(o[1]+o[3]+o[5])/3;Q.redrawHint(\"select\",!0),Q.redraw()}else if(c&&S.touches[1]&&!Q.touchData.didSelect&&i.zoomingEnabled()&&i.panningEnabled()&&i.userZoomingEnabled()&&i.userPanningEnabled()){S.preventDefault(),Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);var S8=Q.dragData.touchDragEles;if(S8){Q.redrawHint(\"drag\",!0);for(var x8=0;x8<S8.length;x8++){var MZ=S8[x8]._private;MZ.grabbed=!1,MZ.rscratch.inDragLayer=!1}}var c8=Q.touchData.start,q8=S.touches[0].clientX-h,W8=S.touches[0].clientY-d,X8=S.touches[1].clientX-h,D8=S.touches[1].clientY-d,Y4=MJ(q8,W8,X8,D8),_B=Y4/JJ;if(UJ){var vB=q8-u,fB=W8-n,xB=X8-t,bB=D8-s,mB=(vB+xB)/2,yB=(fB+bB)/2,zZ=i.zoom(),X5=zZ*_B,I6=i.pan(),F4=e[0]*zZ+I6.x,X4=e[1]*zZ+I6.y,hB={x:-X5/zZ*(F4-I6.x-mB)+F4,y:-X5/zZ*(X4-I6.y-yB)+X4};if(c8&&c8.active()){var S8=Q.dragData.touchDragEles;if(E(S8),Q.redrawHint(\"drag\",!0),Q.redrawHint(\"eles\",!0),c8.unactivate().emit(XJ(\"freeon\")),S8.emit(XJ(\"free\")),Q.dragData.didDrag)c8.emit(XJ(\"dragfreeon\")),S8.emit(XJ(\"dragfree\"))}i.viewport({zoom:X5,pan:hB,cancelOnFailedZoom:!0}),i.emit(XJ(\"pinchzoom\")),JJ=Y4,u=q8,n=W8,t=X8,s=D8,Q.pinching=!0}if(S.touches[0]){var HJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);o[0]=HJ[0],o[1]=HJ[1]}if(S.touches[1]){var HJ=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);o[2]=HJ[0],o[3]=HJ[1]}if(S.touches[2]){var HJ=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);o[4]=HJ[0],o[5]=HJ[1]}}else if(S.touches[0]&&!Q.touchData.didSelect){var r8=Q.touchData.start,H5=Q.touchData.last,f8;if(!Q.hoverData.draggingEles&&!Q.swipePanning)f8=Q.findNearestElement(o[0],o[1],!0,!0);if(c&&r8!=null)S.preventDefault();if(c&&r8!=null&&Q.nodeIsDraggable(r8))if(wJ){var S8=Q.dragData.touchDragEles,H4=!Q.dragData.didDrag;if(H4)W(S8,{inDragLayer:!0});Q.dragData.didDrag=!0;var LZ={x:0,y:0};if($J(TJ[0])&&$J(TJ[1])){if(LZ.x+=TJ[0],LZ.y+=TJ[1],H4){Q.redrawHint(\"eles\",!0);var o8=Q.touchData.dragDelta;if(o8&&$J(o8[0])&&$J(o8[1]))LZ.x+=o8[0],LZ.y+=o8[1]}}if(Q.hoverData.draggingEles=!0,S8.silentShift(LZ).emit(XJ(\"position\")).emit(XJ(\"drag\")),Q.redrawHint(\"drag\",!0),Q.touchData.startPosition[0]==YJ[0]&&Q.touchData.startPosition[1]==YJ[1])Q.redrawHint(\"eles\",!0);Q.redraw()}else{var o8=Q.touchData.dragDelta=Q.touchData.dragDelta||[];if(o8.length===0)o8.push(TJ[0]),o8.push(TJ[1]);else o8[0]+=TJ[0],o8[1]+=TJ[1]}{if($(r8||f8,[\"touchmove\",\"tapdrag\",\"vmousemove\"],S,{x:o[0],y:o[1]}),(!r8||!r8.grabbed())&&f8!=H5){if(H5)H5.emit(XJ(\"tapdragout\"));if(f8)f8.emit(XJ(\"tapdragover\"))}Q.touchData.last=f8}if(c){for(var x8=0;x8<o.length;x8++)if(o[x8]&&Q.touchData.startPosition[x8]&&wJ)Q.touchData.singleTouchMoved=!0}if(c&&(r8==null||r8.pannable())&&i.panningEnabled()&&i.userPanningEnabled()){var uB=K(r8,Q.touchData.starts);if(uB){if(S.preventDefault(),!Q.data.bgActivePosistion)Q.data.bgActivePosistion=yQ(Q.touchData.startPosition);if(Q.swipePanning)i.panBy({x:TJ[0]*QJ,y:TJ[1]*QJ}),i.emit(XJ(\"dragpan\"));else if(wJ){if(Q.swipePanning=!0,i.panBy({x:fJ*QJ,y:F8*QJ}),i.emit(XJ(\"dragpan\")),r8)r8.unactivate(),Q.redrawHint(\"select\",!0),Q.touchData.start=null}}var HJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);o[0]=HJ[0],o[1]=HJ[1]}}for(var NJ=0;NJ<o.length;NJ++)YJ[NJ]=o[NJ];if(c&&S.touches.length>0&&!Q.hoverData.draggingEles&&!Q.swipePanning&&Q.data.bgActivePosistion!=null)Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0),Q.redraw()},!1);var BJ;Q.registerBinding(J,\"touchcancel\",BJ=function a(S){var c=Q.touchData.start;if(Q.touchData.capture=!1,c)c.unactivate()});var KJ,zJ,LJ,AJ;if(Q.registerBinding(J,\"touchend\",KJ=function a(S){var c=Q.touchData.start,l=Q.touchData.capture;if(l){if(S.touches.length===0)Q.touchData.capture=!1;S.preventDefault()}else return;var i=Q.selection;Q.swipePanning=!1,Q.hoverData.draggingEles=!1;var o=Q.cy,YJ=o.zoom(),QJ=Q.touchData.now,HJ=Q.touchData.earlier;if(S.touches[0]){var XJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);QJ[0]=XJ[0],QJ[1]=XJ[1]}if(S.touches[1]){var XJ=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);QJ[2]=XJ[0],QJ[3]=XJ[1]}if(S.touches[2]){var XJ=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);QJ[4]=XJ[0],QJ[5]=XJ[1]}var VJ=function M9(z9){return{originalEvent:S,type:z9,position:{x:QJ[0],y:QJ[1]}}};if(c)c.unactivate();var wJ;if(Q.touchData.cxt){if(wJ=VJ(\"cxttapend\"),c)c.emit(wJ);else o.emit(wJ);if(!Q.touchData.cxtDragged){var TJ=VJ(\"cxttap\");if(c)c.emit(TJ);else o.emit(TJ)}if(Q.touchData.start)Q.touchData.start._private.grabbed=!1;Q.touchData.cxt=!1,Q.touchData.start=null,Q.redraw();return}if(!S.touches[2]&&o.boxSelectionEnabled()&&Q.touchData.selecting){Q.touchData.selecting=!1;var NJ=o.collection(Q.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,Q.redrawHint(\"select\",!0),o.emit(VJ(\"boxend\"));var fJ=function M9(z9){return z9.selectable()&&!z9.selected()};if(NJ.emit(VJ(\"box\")).stdFilter(fJ).select().emit(VJ(\"boxselect\")),NJ.nonempty())Q.redrawHint(\"eles\",!0);Q.redraw()}if(c!=null)c.unactivate();if(S.touches[2])Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);else if(S.touches[1]);else if(S.touches[0]);else if(!S.touches[0]){Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);var _J=Q.dragData.touchDragEles;if(c!=null){var F8=c._private.grabbed;if(E(_J),Q.redrawHint(\"drag\",!0),Q.redrawHint(\"eles\",!0),F8){if(c.emit(VJ(\"freeon\")),_J.emit(VJ(\"free\")),Q.dragData.didDrag)c.emit(VJ(\"dragfreeon\")),_J.emit(VJ(\"dragfree\"))}$(c,[\"touchend\",\"tapend\",\"vmouseup\",\"tapdragout\"],S,{x:QJ[0],y:QJ[1]}),c.unactivate(),Q.touchData.start=null}else{var Z8=Q.findNearestElement(QJ[0],QJ[1],!0,!0);$(Z8,[\"touchend\",\"tapend\",\"vmouseup\",\"tapdragout\"],S,{x:QJ[0],y:QJ[1]})}var k8=Q.touchData.startPosition[0]-QJ[0],q8=k8*k8,W8=Q.touchData.startPosition[1]-QJ[1],X8=W8*W8,D8=q8+X8,P9=D8*YJ*YJ;if(!Q.touchData.singleTouchMoved){if(!c)o.$(\":selected\").unselect([\"tapunselect\"]);if($(c,[\"tap\",\"vclick\"],S,{x:QJ[0],y:QJ[1]}),zJ=!1,S.timeStamp-AJ<=o.multiClickDebounceTime())LJ&&clearTimeout(LJ),zJ=!0,AJ=null,$(c,[\"dbltap\",\"vdblclick\"],S,{x:QJ[0],y:QJ[1]});else LJ=setTimeout(function(){if(zJ)return;$(c,[\"onetap\",\"voneclick\"],S,{x:QJ[0],y:QJ[1]})},o.multiClickDebounceTime()),AJ=S.timeStamp}if(c!=null&&!Q.dragData.didDrag&&c._private.selectable&&P9<Q.touchTapThreshold2&&!Q.pinching){if(o.selectionType()===\"single\")o.$(Z).unmerge(c).unselect([\"tapunselect\"]),c.select([\"tapselect\"]);else if(c.selected())c.unselect([\"tapunselect\"]);else c.select([\"tapselect\"]);Q.redrawHint(\"eles\",!0)}Q.touchData.singleTouchMoved=!0}for(var K8=0;K8<QJ.length;K8++)HJ[K8]=QJ[K8];if(Q.dragData.didDrag=!1,S.touches.length===0)Q.touchData.dragDelta=[],Q.touchData.startPosition=[null,null,null,null,null,null],Q.touchData.startGPosition=null,Q.touchData.didSelect=!1;if(S.touches.length<2){if(S.touches.length===1)Q.touchData.startGPosition=[S.touches[0].clientX,S.touches[0].clientY];Q.pinching=!1,Q.redrawHint(\"eles\",!0),Q.redraw()}},!1),typeof TouchEvent===\"undefined\"){var EJ=[],PJ=function a(S){return{clientX:S.clientX,clientY:S.clientY,force:1,identifier:S.pointerId,pageX:S.pageX,pageY:S.pageY,radiusX:S.width/2,radiusY:S.height/2,screenX:S.screenX,screenY:S.screenY,target:S.target}},bJ=function a(S){return{event:S,touch:PJ(S)}},gJ=function a(S){EJ.push(bJ(S))},dJ=function a(S){for(var c=0;c<EJ.length;c++){var l=EJ[c];if(l.event.pointerId===S.pointerId){EJ.splice(c,1);return}}},cJ=function a(S){var c=EJ.filter(function(l){return l.event.pointerId===S.pointerId})[0];c.event=S,c.touch=PJ(S)},OJ=function a(S){S.touches=EJ.map(function(c){return c.touch})},FJ=function a(S){return S.pointerType===\"mouse\"||S.pointerType===4};Q.registerBinding(Q.container,\"pointerdown\",function(a){if(FJ(a))return;a.preventDefault(),gJ(a),OJ(a),CJ(a)}),Q.registerBinding(Q.container,\"pointerup\",function(a){if(FJ(a))return;dJ(a),OJ(a),KJ(a)}),Q.registerBinding(Q.container,\"pointercancel\",function(a){if(FJ(a))return;dJ(a),OJ(a),BJ(a)}),Q.registerBinding(Q.container,\"pointermove\",function(a){if(FJ(a))return;a.preventDefault(),cJ(a),OJ(a),RJ(a)})}};var R9={};R9.generatePolygon=function(Q,J){return this.nodeShapes[Q]={renderer:this,name:Q,points:J,draw:function Z(U,$,q,K,G,Y){this.renderer.nodeShapeImpl(\"polygon\",U,$,q,K,G,this.points)},intersectLine:function Z(U,$,q,K,G,Y,F,X){return vZ(G,Y,this.points,U,$,q/2,K/2,F)},checkPoint:function Z(U,$,q,K,G,Y,F,X){return V9(U,$,this.points,Y,F,K,G,[0,-1],q)},hasMiterBounds:Q!==\"rectangle\",miterBounds:function Z(U,$,q,K,G,Y){return BV(this.points,U,$,q,K,G)}}};R9.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:\"ellipse\",draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){return IV(q,K,J,Z,U/2+G,$/2+G)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){return XQ(J,Z,$,q,K,G,U)}}};R9.generateRoundPolygon=function(Q,J){return this.nodeShapes[Q]={renderer:this,name:Q,points:J,getOrCreateCorners:function Z(U,$,q,K,G,Y,F){if(Y[F]!==void 0&&Y[F+\"-cx\"]===U&&Y[F+\"-cy\"]===$)return Y[F];Y[F]=new Array(J.length/2),Y[F+\"-cx\"]=U,Y[F+\"-cy\"]=$;var X=q/2,H=K/2;G=G===\"auto\"?XK(q,K):G;var N=new Array(J.length/2);for(var z=0;z<J.length/2;z++)N[z]={x:U+X*J[z*2],y:$+H*J[z*2+1]};var M,W,L,E,B=N.length;W=N[B-1];for(M=0;M<B;M++)L=N[M%B],E=N[(M+1)%B],Y[F][M]=kU(W,L,E,G),W=L,L=E;return Y[F]},draw:function Z(U,$,q,K,G,Y,F){this.renderer.nodeShapeImpl(\"round-polygon\",U,$,q,K,G,this.points,this.getOrCreateCorners($,q,K,G,Y,F,\"drawCorners\"))},intersectLine:function Z(U,$,q,K,G,Y,F,X,H){return PV(G,Y,this.points,U,$,q,K,F,this.getOrCreateCorners(U,$,q,K,X,H,\"corners\"))},checkPoint:function Z(U,$,q,K,G,Y,F,X,H){return SV(U,$,this.points,Y,F,K,G,this.getOrCreateCorners(Y,F,K,G,X,H,\"corners\"))}}};R9.generateRoundRectangle=function(){return this.nodeShapes[\"round-rectangle\"]=this.nodeShapes.roundrectangle={renderer:this,name:\"round-rectangle\",points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q,this.points,K)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){return YK(q,K,J,Z,U,$,G,Y)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){var F=$/2,X=q/2;Y=Y===\"auto\"?u9($,q):Y,Y=Math.min(F,X,Y);var H=Y*2;if(V9(J,Z,this.points,K,G,$,q-H,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-H,q,[0,-1],U))return!0;if(XQ(J,Z,H,H,K-F+Y,G-X+Y,U))return!0;if(XQ(J,Z,H,H,K+F-Y,G-X+Y,U))return!0;if(XQ(J,Z,H,H,K+F-Y,G+X-Y,U))return!0;if(XQ(J,Z,H,H,K-F+Y,G+X-Y,U))return!0;return!1}}};R9.generateCutRectangle=function(){return this.nodeShapes[\"cut-rectangle\"]=this.nodeShapes.cutrectangle={renderer:this,name:\"cut-rectangle\",cornerLength:BU(),points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q,null,K)},generateCutTrianglePts:function Q(J,Z,U,$,q){var K=q===\"auto\"?this.cornerLength:q,G=Z/2,Y=J/2,F=U-Y,X=U+Y,H=$-G,N=$+G;return{topLeft:[F,H+K,F+K,H,F+K,H+K],topRight:[X-K,H,X,H+K,X-K,H+K],bottomRight:[X,N-K,X-K,N,X-K,N-K],bottomLeft:[F+K,N,F,N-K,F+K,N-K]}},intersectLine:function Q(J,Z,U,$,q,K,G,Y){var F=this.generateCutTrianglePts(U+2*G,$+2*G,J,Z,Y),X=[].concat.apply([],[F.topLeft.splice(0,4),F.topRight.splice(0,4),F.bottomRight.splice(0,4),F.bottomLeft.splice(0,4)]);return vZ(q,K,X,J,Z)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){var F=Y===\"auto\"?this.cornerLength:Y;if(V9(J,Z,this.points,K,G,$,q-2*F,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-2*F,q,[0,-1],U))return!0;var X=this.generateCutTrianglePts($,q,K,G);return m8(J,Z,X.topLeft)||m8(J,Z,X.topRight)||m8(J,Z,X.bottomRight)||m8(J,Z,X.bottomLeft)}}};R9.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:\"barrel\",points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){var F=0.15,X=0.5,H=0.85,N=this.generateBarrelBezierPts(U+2*G,$+2*G,J,Z),z=function W(L){var E=gQ({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},F),B=gQ({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},X),V=gQ({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},H);return[L[0],L[1],E.x,E.y,B.x,B.y,V.x,V.y,L[4],L[5]]},M=[].concat(z(N.topLeft),z(N.topRight),z(N.bottomRight),z(N.bottomLeft));return vZ(q,K,M,J,Z)},generateBarrelBezierPts:function Q(J,Z,U,$){var q=Z/2,K=J/2,G=U-K,Y=U+K,F=$-q,X=$+q,H=p0(J,Z),N=H.heightOffset,z=H.widthOffset,M=H.ctrlPtOffsetPct*J,W={topLeft:[G,F+N,G+M,F,G+z,F],topRight:[Y-z,F,Y-M,F,Y,F+N],bottomRight:[Y,X-N,Y-M,X,Y-z,X],bottomLeft:[G+z,X,G+M,X,G,X-N]};return W.topLeft.isTop=!0,W.topRight.isTop=!0,W.bottomLeft.isBottom=!0,W.bottomRight.isBottom=!0,W},checkPoint:function Q(J,Z,U,$,q,K,G,Y){var F=p0($,q),X=F.heightOffset,H=F.widthOffset;if(V9(J,Z,this.points,K,G,$,q-2*X,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-2*H,q,[0,-1],U))return!0;var N=this.generateBarrelBezierPts($,q,K,G),z=function R(C,I,T){var P=T[4],k=T[2],j=T[0],_=T[5],x=T[1],f=Math.min(P,j),v=Math.max(P,j),b=Math.min(_,x),y=Math.max(_,x);if(f<=C&&C<=v&&b<=I&&I<=y){var g=kV(P,k,j),m=RV(g[0],g[1],g[2],C),u=m.filter(function(n){return 0<=n&&n<=1});if(u.length>0)return u[0]}return null},M=Object.keys(N);for(var W=0;W<M.length;W++){var L=M[W],E=N[L],B=z(J,Z,E);if(B==null)continue;var V=E[5],D=E[3],O=E[1],A=E8(V,D,O,B);if(E.isTop&&A<=Z)return!0;if(E.isBottom&&Z<=A)return!0}return!1}}};R9.generateBottomRoundrectangle=function(){return this.nodeShapes[\"bottom-round-rectangle\"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:\"bottom-round-rectangle\",points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q,this.points,K)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){var F=J-(U/2+G),X=Z-($/2+G),H=X,N=J+(U/2+G),z=x9(q,K,J,Z,F,X,N,H,!1);if(z.length>0)return z;return YK(q,K,J,Z,U,$,G,Y)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){Y=Y===\"auto\"?u9($,q):Y;var F=2*Y;if(V9(J,Z,this.points,K,G,$,q-F,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-F,q,[0,-1],U))return!0;var X=$/2+2*U,H=q/2+2*U,N=[K-X,G-H,K-X,G,K+X,G,K+X,G-H];if(m8(J,Z,N))return!0;if(XQ(J,Z,F,F,K+$/2-Y,G+q/2-Y,U))return!0;if(XQ(J,Z,F,F,K-$/2+Y,G+q/2-Y,U))return!0;return!1}}};R9.registerNodeShapes=function(){var Q=this.nodeShapes={},J=this;this.generateEllipse(),this.generatePolygon(\"triangle\",j8(3,0)),this.generateRoundPolygon(\"round-triangle\",j8(3,0)),this.generatePolygon(\"rectangle\",j8(4,0)),Q.square=Q.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var Z=[0,1,1,0,0,-1,-1,0];this.generatePolygon(\"diamond\",Z),this.generateRoundPolygon(\"round-diamond\",Z)}this.generatePolygon(\"pentagon\",j8(5,0)),this.generateRoundPolygon(\"round-pentagon\",j8(5,0)),this.generatePolygon(\"hexagon\",j8(6,0)),this.generateRoundPolygon(\"round-hexagon\",j8(6,0)),this.generatePolygon(\"heptagon\",j8(7,0)),this.generateRoundPolygon(\"round-heptagon\",j8(7,0)),this.generatePolygon(\"octagon\",j8(8,0)),this.generateRoundPolygon(\"round-octagon\",j8(8,0));var U=new Array(20);{var $=c0(5,0),q=c0(5,Math.PI/5),K=0.5*(3-Math.sqrt(5));K*=1.57;for(var G=0;G<q.length/2;G++)q[G*2]*=K,q[G*2+1]*=K;for(var G=0;G<5;G++)U[G*4]=$[G*2],U[G*4+1]=$[G*2+1],U[G*4+2]=q[G*2],U[G*4+3]=q[G*2+1]}U=FK(U),this.generatePolygon(\"star\",U),this.generatePolygon(\"vee\",[-1,-1,0,-0.333,1,-1,0,1]),this.generatePolygon(\"rhomboid\",[-1,-1,0.333,-1,1,1,-0.333,1]),this.generatePolygon(\"right-rhomboid\",[-0.333,-1,1,-1,0.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon(\"concave-hexagon\",[-1,-0.95,-0.75,0,-1,0.95,1,0.95,0.75,0,1,-0.95]);{var Y=[-1,-1,0.25,-1,1,0,0.25,1,-1,1];this.generatePolygon(\"tag\",Y),this.generateRoundPolygon(\"round-tag\",Y)}Q.makePolygon=function(F){var X=F.join(\"$\"),H=\"polygon-\"+X,N;if(N=this[H])return N;return J.generatePolygon(H,F)}};var aZ={};aZ.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};aZ.redraw=function(Q){Q=Q||$K();var J=this;if(J.averageRedrawTime===void 0)J.averageRedrawTime=0;if(J.lastRedrawTime===void 0)J.lastRedrawTime=0;if(J.lastDrawTime===void 0)J.lastDrawTime=0;J.requestedFrame=!0,J.renderOptions=Q};aZ.beforeRender=function(Q,J){if(this.destroyed)return;if(J==null)J8(\"Priority is not optional for beforeRender\");var Z=this.beforeRenderCallbacks;Z.push({fn:Q,priority:J}),Z.sort(function(U,$){return $.priority-U.priority})};var A1=function Q(J,Z,U){var $=J.beforeRenderCallbacks;for(var q=0;q<$.length;q++)$[q].fn(Z,U)};aZ.startRenderLoop=function(){var Q=this,J=Q.cy;if(Q.renderLoopStarted)return;else Q.renderLoopStarted=!0;var Z=function U($){if(Q.destroyed)return;if(J.batching());else if(Q.requestedFrame&&!Q.skipFrame){A1(Q,!0,$);var q=B9();Q.render(Q.renderOptions);var K=Q.lastDrawTime=B9();if(Q.averageRedrawTime===void 0)Q.averageRedrawTime=K-q;if(Q.redrawCount===void 0)Q.redrawCount=0;if(Q.redrawCount++,Q.redrawTotalTime===void 0)Q.redrawTotalTime=0;var G=K-q;Q.redrawTotalTime+=G,Q.lastRedrawTime=G,Q.averageRedrawTime=Q.averageRedrawTime/2+G/2,Q.requestedFrame=!1}else A1(Q,!1,$);Q.skipFrame=!1,e6(Z)};e6(Z)};var lO=function Q(J){this.init(J)},XG=lO,eQ=XG.prototype;eQ.clientFunctions=[\"redrawHint\",\"render\",\"renderTo\",\"matchCanvasSize\",\"nodeShapeImpl\",\"arrowShapeImpl\"];eQ.init=function(Q){var J=this;J.options=Q,J.cy=Q.cy;var Z=J.container=Q.cy.container(),U=J.cy.window();if(U){var $=U.document,q=$.head,K=\"__________cytoscape_stylesheet\",G=\"__________cytoscape_container\",Y=$.getElementById(K)!=null;if(Z.className.indexOf(G)<0)Z.className=(Z.className||\"\")+\" \"+G;if(!Y){var F=$.createElement(\"style\");F.id=K,F.textContent=\".\"+G+\" { position: relative; }\",q.insertBefore(F,q.children[0])}var X=U.getComputedStyle(Z),H=X.getPropertyValue(\"position\");if(H===\"static\")lJ(\"A Cytoscape container has style position:static and so can not use UI extensions properly\")}J.selection=[void 0,void 0,void 0,void 0,0],J.bezierProjPcts=[0.05,0.225,0.4,0.5,0.6,0.775,0.95],J.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},J.dragData={possibleDragElements:[]},J.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},J.redraws=0,J.showFps=Q.showFps,J.debug=Q.debug,J.webgl=Q.webgl,J.hideEdgesOnViewport=Q.hideEdgesOnViewport,J.textureOnViewport=Q.textureOnViewport,J.wheelSensitivity=Q.wheelSensitivity,J.motionBlurEnabled=Q.motionBlur,J.forcedPixelRatio=$J(Q.pixelRatio)?Q.pixelRatio:null,J.motionBlur=Q.motionBlur,J.motionBlurOpacity=Q.motionBlurOpacity,J.motionBlurTransparency=1-J.motionBlurOpacity,J.motionBlurPxRatio=1,J.mbPxRBlurry=1,J.minMbLowQualFrames=4,J.fullQualityMb=!1,J.clearedForMotionBlur=[],J.desktopTapThreshold=Q.desktopTapThreshold,J.desktopTapThreshold2=Q.desktopTapThreshold*Q.desktopTapThreshold,J.touchTapThreshold=Q.touchTapThreshold,J.touchTapThreshold2=Q.touchTapThreshold*Q.touchTapThreshold,J.tapholdDuration=500,J.bindings=[],J.beforeRenderCallbacks=[],J.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},J.registerNodeShapes(),J.registerArrowShapes(),J.registerCalculationListeners()};eQ.notify=function(Q,J){var Z=this,U=Z.cy;if(this.destroyed)return;if(Q===\"init\"){Z.load();return}if(Q===\"destroy\"){Z.destroy();return}if(Q===\"add\"||Q===\"remove\"||Q===\"move\"&&U.hasCompoundNodes()||Q===\"load\"||Q===\"zorder\"||Q===\"mount\")Z.invalidateCachedZSortedEles();if(Q===\"viewport\")Z.redrawHint(\"select\",!0);if(Q===\"gc\")Z.redrawHint(\"gc\",!0);if(Q===\"load\"||Q===\"resize\"||Q===\"mount\")Z.invalidateContainerClientCoordsCache(),Z.matchCanvasSize(Z.container);Z.redrawHint(\"eles\",!0),Z.redrawHint(\"drag\",!0),this.startRenderLoop(),this.redraw()};eQ.destroy=function(){var Q=this;Q.destroyed=!0,Q.cy.stopAnimationLoop();for(var J=0;J<Q.bindings.length;J++){var Z=Q.bindings[J],U=Z,$=U.target;($.off||$.removeEventListener).apply($,U.args)}if(Q.bindings=[],Q.beforeRenderCallbacks=[],Q.onUpdateEleCalcsFns=[],Q.removeObserver)Q.removeObserver.disconnect();if(Q.styleObserver)Q.styleObserver.disconnect();if(Q.resizeObserver)Q.resizeObserver.disconnect();if(Q.labelCalcDiv)try{document.body.removeChild(Q.labelCalcDiv)}catch(q){}};eQ.isHeadless=function(){return!1};[PU,YG,FG,tQ,R9,aZ].forEach(function(Q){DJ(eQ,Q)});var f0=16.666666666666668,HG={setupDequeueing:function Q(J){return function Z(){var U=this,$=this.renderer;if(U.dequeueingSetup)return;else U.dequeueingSetup=!0;var q=pZ(function(){$.redrawHint(\"eles\",!0),$.redrawHint(\"drag\",!0),$.redraw()},J.deqRedrawThreshold),K=function Y(F,X){var H=B9(),N=$.averageRedrawTime,z=$.lastRedrawTime,M=[],W=$.cy.extent(),L=$.getPixelRatio();if(!F)$.flushRenderedStyleQueue();while(!0){var E=B9(),B=E-H,V=E-X;if(z<f0){var D=f0-(F?N:0);if(V>=J.deqFastCost*D)break}else if(F){if(B>=J.deqCost*z||B>=J.deqAvgCost*N)break}else if(V>=J.deqNoDrawCost*f0)break;var O=J.deq(U,L,W);if(O.length>0)for(var A=0;A<O.length;A++)M.push(O[A]);else break}if(M.length>0){if(J.onDeqd(U,M),!F&&J.shouldRedraw(U,M,L,W))q()}},G=J.priority||MU;$.beforeRender(K,G(U))}}},iO=function(){function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J7;p9(this,Q),this.idsByKey=new E9,this.keyForId=new E9,this.cachesByLvl=new E9,this.lvls=[],this.getKey=J,this.doesEleInvalidateKey=Z}return l9(Q,[{key:\"getIdsFor\",value:function J(Z){if(Z==null)J8(\"Can not get id list for null key\");var U=this.idsByKey,$=this.idsByKey.get(Z);if(!$)$=new sQ,U.set(Z,$);return $}},{key:\"addIdForKey\",value:function J(Z,U){if(Z!=null)this.getIdsFor(Z).add(U)}},{key:\"deleteIdForKey\",value:function J(Z,U){if(Z!=null)this.getIdsFor(Z).delete(U)}},{key:\"getNumberOfIdsForKey\",value:function J(Z){if(Z==null)return 0;else return this.getIdsFor(Z).size}},{key:\"updateKeyMappingFor\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U),q=this.getKey(Z);this.deleteIdForKey($,U),this.addIdForKey(q,U),this.keyForId.set(U,q)}},{key:\"deleteKeyMappingFor\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U);this.deleteIdForKey($,U),this.keyForId.delete(U)}},{key:\"keyHasChangedFor\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U),q=this.getKey(Z);return $!==q}},{key:\"isInvalid\",value:function J(Z){return this.keyHasChangedFor(Z)||this.doesEleInvalidateKey(Z)}},{key:\"getCachesAt\",value:function J(Z){var U=this.cachesByLvl,$=this.lvls,q=U.get(Z);if(!q)q=new E9,U.set(Z,q),$.push(Z);return q}},{key:\"getCache\",value:function J(Z,U){return this.getCachesAt(U).get(Z)}},{key:\"get\",value:function J(Z,U){var $=this.getKey(Z),q=this.getCache($,U);if(q!=null)this.updateKeyMappingFor(Z);return q}},{key:\"getForCachedKey\",value:function J(Z,U){var $=this.keyForId.get(Z.id()),q=this.getCache($,U);return q}},{key:\"hasCache\",value:function J(Z,U){return this.getCachesAt(U).has(Z)}},{key:\"has\",value:function J(Z,U){var $=this.getKey(Z);return this.hasCache($,U)}},{key:\"setCache\",value:function J(Z,U,$){$.key=Z,this.getCachesAt(U).set(Z,$)}},{key:\"set\",value:function J(Z,U,$){var q=this.getKey(Z);this.setCache(q,U,$),this.updateKeyMappingFor(Z)}},{key:\"deleteCache\",value:function J(Z,U){this.getCachesAt(U).delete(Z)}},{key:\"delete\",value:function J(Z,U){var $=this.getKey(Z);this.deleteCache($,U)}},{key:\"invalidateKey\",value:function J(Z){var U=this;this.lvls.forEach(function($){return U.deleteCache(Z,$)})}},{key:\"invalidate\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U);this.deleteKeyMappingFor(Z);var q=this.doesEleInvalidateKey(Z);if(q)this.invalidateKey($);return q||this.getNumberOfIdsForKey($)===0}}])}(),C1=25,y6=50,a6=-4,UU=3,NG=7.99,nO=8,sO=1024,aO=1024,rO=1024,oO=0.2,tO=0.8,eO=10,JA=0.15,QA=0.1,ZA=0.9,UA=0.9,$A=100,qA=1,uQ={dequeue:\"dequeue\",downscale:\"downscale\",highQuality:\"highQuality\"},KA=A8({getKey:null,doesEleInvalidateKey:J7,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:QK,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),SZ=function Q(J,Z){var U=this;U.renderer=J,U.onDequeues=[];var $=KA(Z);DJ(U,$),U.lookup=new iO($.getKey,$.doesEleInvalidateKey),U.setupDequeueing()},z8=SZ.prototype;z8.reasons=uQ;z8.getTextureQueue=function(Q){var J=this;return J.eleImgCaches=J.eleImgCaches||{},J.eleImgCaches[Q]=J.eleImgCaches[Q]||[]};z8.getRetiredTextureQueue=function(Q){var J=this,Z=J.eleImgCaches.retired=J.eleImgCaches.retired||{},U=Z[Q]=Z[Q]||[];return U};z8.getElementQueue=function(){var Q=this,J=Q.eleCacheQueue=Q.eleCacheQueue||new lZ(function(Z,U){return U.reqs-Z.reqs});return J};z8.getElementKeyToQueue=function(){var Q=this,J=Q.eleKeyToCacheQueue=Q.eleKeyToCacheQueue||{};return J};z8.getElement=function(Q,J,Z,U,$){var q=this,K=this.renderer,G=K.cy.zoom(),Y=this.lookup;if(!J||J.w===0||J.h===0||isNaN(J.w)||isNaN(J.h)||!Q.visible()||Q.removed())return null;if(!q.allowEdgeTxrCaching&&Q.isEdge()||!q.allowParentTxrCaching&&Q.isParent())return null;if(U==null)U=Math.ceil(LU(G*Z));if(U<a6)U=a6;else if(G>=NG||U>UU)return null;var F=Math.pow(2,U),X=J.h*F,H=J.w*F,N=K.eleTextBiggerThanMin(Q,F);if(!this.isVisible(Q,N))return null;var z=Y.get(Q,U);if(z&&z.invalidated)z.invalidated=!1,z.texture.invalidatedWidth-=z.width;if(z)return z;var M;if(X<=C1)M=C1;else if(X<=y6)M=y6;else M=Math.ceil(X/y6)*y6;if(X>rO||H>aO)return null;var W=q.getTextureQueue(M),L=W[W.length-2],E=function x(){return q.recycleTexture(M,H)||q.addTexture(M,H)};if(!L)L=W[W.length-1];if(!L)L=E();if(L.width-L.usedWidth<H)L=E();var B=function x(f){return f&&f.scaledLabelShown===N},V=$&&$===uQ.dequeue,D=$&&$===uQ.highQuality,O=$&&$===uQ.downscale,A;for(var R=U+1;R<=UU;R++){var C=Y.get(Q,R);if(C){A=C;break}}var I=A&&A.level===U+1?A:null,T=function x(){L.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,L.usedWidth,0,H,X)};if(L.context.setTransform(1,0,0,1,0,0),L.context.clearRect(L.usedWidth,0,H,M),B(I))T();else if(B(A))if(D){for(var P=A.level;P>U;P--)I=q.getElement(Q,J,Z,P,uQ.downscale);T()}else return q.queueElement(Q,A.level-1),A;else{var k;if(!V&&!D&&!O)for(var j=U-1;j>=a6;j--){var _=Y.get(Q,j);if(_){k=_;break}}if(B(k))return q.queueElement(Q,U),k;L.context.translate(L.usedWidth,0),L.context.scale(F,F),this.drawElement(L.context,Q,J,N,!1),L.context.scale(1/F,1/F),L.context.translate(-L.usedWidth,0)}return z={x:L.usedWidth,texture:L,level:U,scale:F,width:H,height:X,scaledLabelShown:N},L.usedWidth+=Math.ceil(H+nO),L.eleCaches.push(z),Y.set(Q,U,z),q.checkTextureFullness(L),z};z8.invalidateElements=function(Q){for(var J=0;J<Q.length;J++)this.invalidateElement(Q[J])};z8.invalidateElement=function(Q){var J=this,Z=J.lookup,U=[],$=Z.isInvalid(Q);if(!$)return;for(var q=a6;q<=UU;q++){var K=Z.getForCachedKey(Q,q);if(K)U.push(K)}var G=Z.invalidate(Q);if(G)for(var Y=0;Y<U.length;Y++){var F=U[Y],X=F.texture;X.invalidatedWidth+=F.width,F.invalidated=!0,J.checkTextureUtility(X)}J.removeFromQueue(Q)};z8.checkTextureUtility=function(Q){if(Q.invalidatedWidth>=oO*Q.width)this.retireTexture(Q)};z8.checkTextureFullness=function(Q){var J=this,Z=J.getTextureQueue(Q.height);if(Q.usedWidth/Q.width>tO&&Q.fullnessChecks>=eO)h9(Z,Q);else Q.fullnessChecks++};z8.retireTexture=function(Q){var J=this,Z=Q.height,U=J.getTextureQueue(Z),$=this.lookup;h9(U,Q),Q.retired=!0;var q=Q.eleCaches;for(var K=0;K<q.length;K++){var G=q[K];$.deleteCache(G.key,G.level)}zU(q);var Y=J.getRetiredTextureQueue(Z);Y.push(Q)};z8.addTexture=function(Q,J){var Z=this,U=Z.getTextureQueue(Q),$={};return U.push($),$.eleCaches=[],$.height=Q,$.width=Math.max(sO,J),$.usedWidth=0,$.invalidatedWidth=0,$.fullnessChecks=0,$.canvas=Z.renderer.makeOffscreenCanvas($.width,$.height),$.context=$.canvas.getContext(\"2d\"),$};z8.recycleTexture=function(Q,J){var Z=this,U=Z.getTextureQueue(Q),$=Z.getRetiredTextureQueue(Q);for(var q=0;q<$.length;q++){var K=$[q];if(K.width>=J)return K.retired=!1,K.usedWidth=0,K.invalidatedWidth=0,K.fullnessChecks=0,zU(K.eleCaches),K.context.setTransform(1,0,0,1,0,0),K.context.clearRect(0,0,K.width,K.height),h9($,K),U.push(K),K}};z8.queueElement=function(Q,J){var Z=this,U=Z.getElementQueue(),$=Z.getElementKeyToQueue(),q=this.getKey(Q),K=$[q];if(K)K.level=Math.max(K.level,J),K.eles.merge(Q),K.reqs++,U.updateItem(K);else{var G={eles:Q.spawn().merge(Q),level:J,reqs:1,key:q};U.push(G),$[q]=G}};z8.dequeue=function(Q){var J=this,Z=J.getElementQueue(),U=J.getElementKeyToQueue(),$=[],q=J.lookup;for(var K=0;K<qA;K++)if(Z.size()>0){var G=Z.pop(),Y=G.key,F=G.eles[0],X=q.hasCache(F,G.level);if(U[Y]=null,X)continue;$.push(G);var H=J.getBoundingBox(F);J.getElement(F,H,Q,G.level,uQ.dequeue)}else break;return $};z8.removeFromQueue=function(Q){var J=this,Z=J.getElementQueue(),U=J.getElementKeyToQueue(),$=this.getKey(Q),q=U[$];if(q!=null)if(q.eles.length===1)q.reqs=NU,Z.updateItem(q),Z.pop(),U[$]=null;else q.eles.unmerge(Q)};z8.onDequeue=function(Q){this.onDequeues.push(Q)};z8.offDequeue=function(Q){h9(this.onDequeues,Q)};z8.setupDequeueing=HG.setupDequeueing({deqRedrawThreshold:$A,deqCost:JA,deqAvgCost:QA,deqNoDrawCost:ZA,deqFastCost:UA,deq:function Q(J,Z,U){return J.dequeue(Z,U)},onDeqd:function Q(J,Z){for(var U=0;U<J.onDequeues.length;U++){var $=J.onDequeues[U];$(Z)}},shouldRedraw:function Q(J,Z,U,$){for(var q=0;q<Z.length;q++){var K=Z[q].eles;for(var G=0;G<K.length;G++){var Y=K[G].boundingBox();if(EU(Y,$))return!0}}return!1},priority:function Q(J){return J.renderer.beforeRenderPriorities.eleTxrDeq}});var GA=1,TZ=-4,Y7=2,YA=3.99,FA=50,XA=50,HA=0.15,NA=0.1,MA=0.9,zA=0.9,LA=1,S1=250,WA=16000000,I1=32767,EA=!0,MG=function Q(J){var Z=this,U=Z.renderer=J,$=U.cy;Z.layersByLevel={},Z.firstGet=!0,Z.lastInvalidationTime=B9()-2*S1,Z.skipping=!1,Z.eleTxrDeqs=$.collection(),Z.scheduleElementRefinement=pZ(function(){Z.refineElementTextures(Z.eleTxrDeqs),Z.eleTxrDeqs.unmerge(Z.eleTxrDeqs)},XA),U.beforeRender(function(K,G){if(G-Z.lastInvalidationTime<=S1)Z.skipping=!0;else Z.skipping=!1},U.beforeRenderPriorities.lyrTxrSkip);var q=function K(G,Y){return Y.reqs-G.reqs};Z.layersQueue=new lZ(q),Z.setupDequeueing()},C8=MG.prototype,T1=0,BA=Math.pow(2,53)-1;C8.makeLayer=function(Q,J){var Z=Math.pow(2,J),U=Math.ceil(Q.w*Z),$=Math.ceil(Q.h*Z),q=this.renderer.makeOffscreenCanvas(U,$),K={id:T1=++T1%BA,bb:Q,level:J,width:U,height:$,canvas:q,context:q.getContext(\"2d\"),eles:[],elesQueue:[],reqs:0},G=K.context,Y=-K.bb.x1,F=-K.bb.y1;return G.scale(Z,Z),G.translate(Y,F),K};C8.getLayers=function(Q,J,Z){var U=this,$=U.renderer,q=$.cy,K=q.zoom(),G=U.firstGet;if(U.firstGet=!1,Z==null){if(Z=Math.ceil(LU(K*J)),Z<TZ)Z=TZ;else if(K>=YA||Z>Y7)return null}U.validateLayersElesOrdering(Z,Q);var Y=U.layersByLevel,F=Math.pow(2,Z),X=Y[Z]=Y[Z]||[],H,N=U.levelIsComplete(Z,Q),z,M=function I(){var T=function _(x){if(U.validateLayersElesOrdering(x,Q),U.levelIsComplete(x,Q))return z=Y[x],!0},P=function _(x){if(z)return;for(var f=Z+x;TZ<=f&&f<=Y7;f+=x)if(T(f))break};P(1),P(-1);for(var k=X.length-1;k>=0;k--){var j=X[k];if(j.invalid)h9(X,j)}};if(!N)M();else return X;var W=function I(){if(!H){H=w8();for(var T=0;T<Q.length;T++)LV(H,Q[T].boundingBox())}return H},L=function I(T){T=T||{};var P=T.after;W();var k=Math.ceil(H.w*F),j=Math.ceil(H.h*F);if(k>I1||j>I1)return null;var _=k*j;if(_>WA)return null;var x=U.makeLayer(H,Z);if(P!=null){var f=X.indexOf(P)+1;X.splice(f,0,x)}else if(T.insert===void 0||T.insert)X.unshift(x);return x};if(U.skipping&&!G)return null;var E=null,B=Q.length/GA,V=!G;for(var D=0;D<Q.length;D++){var O=Q[D],A=O._private.rscratch,R=A.imgLayerCaches=A.imgLayerCaches||{},C=R[Z];if(C){E=C;continue}if(!E||E.eles.length>=B||!GK(E.bb,O.boundingBox())){if(E=L({insert:!0,after:E}),!E)return null}if(z||V)U.queueLayer(E,O);else U.drawEleInLayer(E,O,Z,J);E.eles.push(O),R[Z]=E}if(z)return z;if(V)return null;return X};C8.getEleLevelForLayerLevel=function(Q,J){return Q};C8.drawEleInLayer=function(Q,J,Z,U){var $=this,q=this.renderer,K=Q.context,G=J.boundingBox();if(G.w===0||G.h===0||!J.visible())return;Z=$.getEleLevelForLayerLevel(Z,U),q.setImgSmoothing(K,!1),q.drawCachedElement(K,J,null,null,Z,EA),q.setImgSmoothing(K,!0)};C8.levelIsComplete=function(Q,J){var Z=this,U=Z.layersByLevel[Q];if(!U||U.length===0)return!1;var $=0;for(var q=0;q<U.length;q++){var K=U[q];if(K.reqs>0)return!1;if(K.invalid)return!1;$+=K.eles.length}if($!==J.length)return!1;return!0};C8.validateLayersElesOrdering=function(Q,J){var Z=this.layersByLevel[Q];if(!Z)return;for(var U=0;U<Z.length;U++){var $=Z[U],q=-1;for(var K=0;K<J.length;K++)if($.eles[0]===J[K]){q=K;break}if(q<0){this.invalidateLayer($);continue}var G=q;for(var K=0;K<$.eles.length;K++)if($.eles[K]!==J[G+K]){this.invalidateLayer($);break}}};C8.updateElementsInLayers=function(Q,J){var Z=this,U=uZ(Q[0]);for(var $=0;$<Q.length;$++){var q=U?null:Q[$],K=U?Q[$]:Q[$].ele,G=K._private.rscratch,Y=G.imgLayerCaches=G.imgLayerCaches||{};for(var F=TZ;F<=Y7;F++){var X=Y[F];if(!X)continue;if(q&&Z.getEleLevelForLayerLevel(X.level)!==q.level)continue;J(X,K,q)}}};C8.haveLayers=function(){var Q=this,J=!1;for(var Z=TZ;Z<=Y7;Z++){var U=Q.layersByLevel[Z];if(U&&U.length>0){J=!0;break}}return J};C8.invalidateElements=function(Q){var J=this;if(Q.length===0)return;if(J.lastInvalidationTime=B9(),Q.length===0||!J.haveLayers())return;J.updateElementsInLayers(Q,function Z(U,$,q){J.invalidateLayer(U)})};C8.invalidateLayer=function(Q){if(this.lastInvalidationTime=B9(),Q.invalid)return;var{level:J,eles:Z}=Q,U=this.layersByLevel[J];if(h9(U,Q),Q.elesQueue=[],Q.invalid=!0,Q.replacement)Q.replacement.invalid=!0;for(var $=0;$<Z.length;$++){var q=Z[$]._private.rscratch.imgLayerCaches;if(q)q[J]=null}};C8.refineElementTextures=function(Q){var J=this;J.updateElementsInLayers(Q,function Z(U,$,q){var K=U.replacement;if(!K)K=U.replacement=J.makeLayer(U.bb,U.level),K.replaces=U,K.eles=U.eles;if(!K.reqs)for(var G=0;G<K.eles.length;G++)J.queueLayer(K,K.eles[G])})};C8.enqueueElementRefinement=function(Q){this.eleTxrDeqs.merge(Q),this.scheduleElementRefinement()};C8.queueLayer=function(Q,J){var Z=this,U=Z.layersQueue,$=Q.elesQueue,q=$.hasId=$.hasId||{};if(Q.replacement)return;if(J){if(q[J.id()])return;$.push(J),q[J.id()]=!0}if(Q.reqs)Q.reqs++,U.updateItem(Q);else Q.reqs=1,U.push(Q)};C8.dequeue=function(Q){var J=this,Z=J.layersQueue,U=[],$=0;while($<LA){if(Z.size()===0)break;var q=Z.peek();if(q.replacement){Z.pop();continue}if(q.replaces&&q!==q.replaces.replacement){Z.pop();continue}if(q.invalid){Z.pop();continue}var K=q.elesQueue.shift();if(K)J.drawEleInLayer(q,K,q.level,Q),$++;if(U.length===0)U.push(!0);if(q.elesQueue.length===0){if(Z.pop(),q.reqs=0,q.replaces)J.applyLayerReplacement(q);J.requestRedraw()}}return U};C8.applyLayerReplacement=function(Q){var J=this,Z=J.layersByLevel[Q.level],U=Q.replaces,$=Z.indexOf(U);if($<0||U.invalid)return;Z[$]=Q;for(var q=0;q<Q.eles.length;q++){var K=Q.eles[q]._private,G=K.imgLayerCaches=K.imgLayerCaches||{};if(G)G[Q.level]=Q}J.requestRedraw()};C8.requestRedraw=pZ(function(){var Q=this.renderer;Q.redrawHint(\"eles\",!0),Q.redrawHint(\"drag\",!0),Q.redraw()},100);C8.setupDequeueing=HG.setupDequeueing({deqRedrawThreshold:FA,deqCost:HA,deqAvgCost:NA,deqNoDrawCost:MA,deqFastCost:zA,deq:function Q(J,Z){return J.dequeue(Z)},onDeqd:MU,shouldRedraw:QK,priority:function Q(J){return J.renderer.beforeRenderPriorities.lyrTxrDeq}});var zG={},P1;function VA(Q,J){for(var Z=0;Z<J.length;Z++){var U=J[Z];Q.lineTo(U.x,U.y)}}function DA(Q,J,Z){var U;for(var $=0;$<J.length;$++){var q=J[$];if($===0)U=q;Q.lineTo(q.x,q.y)}Q.quadraticCurveTo(Z.x,Z.y,U.x,U.y)}function k1(Q,J,Z){if(Q.beginPath)Q.beginPath();var U=J;for(var $=0;$<U.length;$++){var q=U[$];Q.lineTo(q.x,q.y)}var K=Z,G=Z[0];Q.moveTo(G.x,G.y);for(var $=1;$<K.length;$++){var q=K[$];Q.lineTo(q.x,q.y)}if(Q.closePath)Q.closePath()}function RA(Q,J,Z,U,$){if(Q.beginPath)Q.beginPath();Q.arc(Z,U,$,0,Math.PI*2,!1);var q=J,K=q[0];Q.moveTo(K.x,K.y);for(var G=0;G<q.length;G++){var Y=q[G];Q.lineTo(Y.x,Y.y)}if(Q.closePath)Q.closePath()}function OA(Q,J,Z,U){Q.arc(J,Z,U,0,Math.PI*2,!1)}zG.arrowShapeImpl=function(Q){return(P1||(P1={polygon:VA,\"triangle-backcurve\":DA,\"triangle-tee\":k1,\"circle-triangle\":RA,\"triangle-cross\":k1,circle:OA}))[Q]};var Y9={};Y9.drawElement=function(Q,J,Z,U,$,q){var K=this;if(J.isNode())K.drawNode(Q,J,Z,U,$,q);else K.drawEdge(Q,J,Z,U,$,q)};Y9.drawElementOverlay=function(Q,J){var Z=this;if(J.isNode())Z.drawNodeOverlay(Q,J);else Z.drawEdgeOverlay(Q,J)};Y9.drawElementUnderlay=function(Q,J){var Z=this;if(J.isNode())Z.drawNodeUnderlay(Q,J);else Z.drawEdgeUnderlay(Q,J)};Y9.drawCachedElementPortion=function(Q,J,Z,U,$,q,K,G){var Y=this,F=Z.getBoundingBox(J);if(F.w===0||F.h===0)return;var X=Z.getElement(J,F,U,$,q);if(X!=null){var H=G(Y,J);if(H===0)return;var N=K(Y,J),z=F.x1,M=F.y1,W=F.w,L=F.h,E,B,V,D,O;if(N!==0){var A=Z.getRotationPoint(J);if(V=A.x,D=A.y,Q.translate(V,D),Q.rotate(N),O=Y.getImgSmoothing(Q),!O)Y.setImgSmoothing(Q,!0);var R=Z.getRotationOffset(J);E=R.x,B=R.y}else E=z,B=M;var C;if(H!==1)C=Q.globalAlpha,Q.globalAlpha=C*H;if(Q.drawImage(X.texture.canvas,X.x,0,X.width,X.height,E,B,W,L),H!==1)Q.globalAlpha=C;if(N!==0){if(Q.rotate(-N),Q.translate(-V,-D),!O)Y.setImgSmoothing(Q,!1)}}else Z.drawElement(Q,J)};var AA=function Q(){return 0},CA=function Q(J,Z){return J.getTextAngle(Z,null)},SA=function Q(J,Z){return J.getTextAngle(Z,\"source\")},IA=function Q(J,Z){return J.getTextAngle(Z,\"target\")},TA=function Q(J,Z){return Z.effectiveOpacity()},x0=function Q(J,Z){return Z.pstyle(\"text-opacity\").pfValue*Z.effectiveOpacity()};Y9.drawCachedElement=function(Q,J,Z,U,$,q){var K=this,G=K.data,Y=G.eleTxrCache,F=G.lblTxrCache,X=G.slbTxrCache,H=G.tlbTxrCache,N=J.boundingBox(),z=q===!0?Y.reasons.highQuality:null;if(N.w===0||N.h===0||!J.visible())return;if(!U||EU(N,U)){var M=J.isEdge(),W=J.element()._private.rscratch.badLine;if(K.drawElementUnderlay(Q,J),K.drawCachedElementPortion(Q,J,Y,Z,$,z,AA,TA),!M||!W)K.drawCachedElementPortion(Q,J,F,Z,$,z,CA,x0);if(M&&!W)K.drawCachedElementPortion(Q,J,X,Z,$,z,SA,x0),K.drawCachedElementPortion(Q,J,H,Z,$,z,IA,x0);K.drawElementOverlay(Q,J)}};Y9.drawElements=function(Q,J){var Z=this;for(var U=0;U<J.length;U++){var $=J[U];Z.drawElement(Q,$)}};Y9.drawCachedElements=function(Q,J,Z,U){var $=this;for(var q=0;q<J.length;q++){var K=J[q];$.drawCachedElement(Q,K,Z,U)}};Y9.drawCachedNodes=function(Q,J,Z,U){var $=this;for(var q=0;q<J.length;q++){var K=J[q];if(!K.isNode())continue;$.drawCachedElement(Q,K,Z,U)}};Y9.drawLayeredElements=function(Q,J,Z,U){var $=this,q=$.data.lyrTxrCache.getLayers(J,Z);if(q)for(var K=0;K<q.length;K++){var G=q[K],Y=G.bb;if(Y.w===0||Y.h===0)continue;Q.drawImage(G.canvas,Y.x1,Y.y1,Y.w,Y.h)}else $.drawCachedElements(Q,J,Z,U)};var O9={};O9.drawEdge=function(Q,J,Z){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,K=this,G=J._private.rscratch;if(q&&!J.visible())return;if(G.badLine||G.allpts==null||isNaN(G.allpts[0]))return;var Y;if(Z)Y=Z,Q.translate(-Y.x1,-Y.y1);var F=q?J.pstyle(\"opacity\").value:1,X=q?J.pstyle(\"line-opacity\").value:1,H=J.pstyle(\"curve-style\").value,N=J.pstyle(\"line-style\").value,z=J.pstyle(\"width\").pfValue,M=J.pstyle(\"line-cap\").value,W=J.pstyle(\"line-outline-width\").value,L=J.pstyle(\"line-outline-color\").value,E=F*X,B=F*X,V=function _(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(H===\"straight-triangle\")K.eleStrokeStyle(Q,J,x),K.drawEdgeTrianglePath(J,Q,G.allpts);else Q.lineWidth=z,Q.lineCap=M,K.eleStrokeStyle(Q,J,x),K.drawEdgePath(J,Q,G.allpts,N),Q.lineCap=\"butt\"},D=function _(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(Q.lineWidth=z+W,Q.lineCap=M,W>0)K.colorStrokeStyle(Q,L[0],L[1],L[2],x);else{Q.lineCap=\"butt\";return}if(H===\"straight-triangle\")K.drawEdgeTrianglePath(J,Q,G.allpts);else K.drawEdgePath(J,Q,G.allpts,N),Q.lineCap=\"butt\"},O=function _(){if(!$)return;K.drawEdgeOverlay(Q,J)},A=function _(){if(!$)return;K.drawEdgeUnderlay(Q,J)},R=function _(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;K.drawArrowheads(Q,J,x)},C=function _(){K.drawElementText(Q,J,null,U)};Q.lineJoin=\"round\";var I=J.pstyle(\"ghost\").value===\"yes\";if(I){var T=J.pstyle(\"ghost-offset-x\").pfValue,P=J.pstyle(\"ghost-offset-y\").pfValue,k=J.pstyle(\"ghost-opacity\").value,j=E*k;Q.translate(T,P),V(j),R(j),Q.translate(-T,-P)}else D();if(A(),V(),R(),O(),C(),Z)Q.translate(Y.x1,Y.y1)};var LG=function Q(J){if(![\"overlay\",\"underlay\"].includes(J))throw new Error(\"Invalid state\");return function(Z,U){if(!U.visible())return;var $=U.pstyle(\"\".concat(J,\"-opacity\")).value;if($===0)return;var q=this,K=q.usePaths(),G=U._private.rscratch,Y=U.pstyle(\"\".concat(J,\"-padding\")).pfValue,F=2*Y,X=U.pstyle(\"\".concat(J,\"-color\")).value;if(Z.lineWidth=F,G.edgeType===\"self\"&&!K)Z.lineCap=\"butt\";else Z.lineCap=\"round\";q.colorStrokeStyle(Z,X[0],X[1],X[2],$),q.drawEdgePath(U,Z,G.allpts,\"solid\")}};O9.drawEdgeOverlay=LG(\"overlay\");O9.drawEdgeUnderlay=LG(\"underlay\");O9.drawEdgePath=function(Q,J,Z,U){var $=Q._private.rscratch,q=J,K,G=!1,Y=this.usePaths(),F=Q.pstyle(\"line-dash-pattern\").pfValue,X=Q.pstyle(\"line-dash-offset\").pfValue;if(Y){var H=Z.join(\"$\"),N=$.pathCacheKey&&$.pathCacheKey===H;if(N)K=J=$.pathCache,G=!0;else K=J=new Path2D,$.pathCacheKey=H,$.pathCache=K}if(q.setLineDash)switch(U){case\"dotted\":q.setLineDash([1,1]);break;case\"dashed\":q.setLineDash(F),q.lineDashOffset=X;break;case\"solid\":q.setLineDash([]);break}if(!G&&!$.badLine){if(J.beginPath)J.beginPath();switch(J.moveTo(Z[0],Z[1]),$.edgeType){case\"bezier\":case\"self\":case\"compound\":case\"multibezier\":for(var z=2;z+3<Z.length;z+=4)J.quadraticCurveTo(Z[z],Z[z+1],Z[z+2],Z[z+3]);break;case\"straight\":case\"haystack\":for(var M=2;M+1<Z.length;M+=2)J.lineTo(Z[M],Z[M+1]);break;case\"segments\":if($.isRound){var W=y8($.roundCorners),L;try{for(W.s();!(L=W.n()).done;){var E=L.value;UG(J,E)}}catch(V){W.e(V)}finally{W.f()}J.lineTo(Z[Z.length-2],Z[Z.length-1])}else for(var B=2;B+1<Z.length;B+=2)J.lineTo(Z[B],Z[B+1]);break}}if(J=q,Y)J.stroke(K);else J.stroke();if(J.setLineDash)J.setLineDash([])};O9.drawEdgeTrianglePath=function(Q,J,Z){J.fillStyle=J.strokeStyle;var U=Q.pstyle(\"width\").pfValue;for(var $=0;$+1<Z.length;$+=2){var q=[Z[$+2]-Z[$],Z[$+3]-Z[$+1]],K=Math.sqrt(q[0]*q[0]+q[1]*q[1]),G=[q[1]/K,-q[0]/K],Y=[G[0]*U/2,G[1]*U/2];J.beginPath(),J.moveTo(Z[$]-Y[0],Z[$+1]-Y[1]),J.lineTo(Z[$]+Y[0],Z[$+1]+Y[1]),J.lineTo(Z[$+2],Z[$+3]),J.closePath(),J.fill()}};O9.drawArrowheads=function(Q,J,Z){var U=J._private.rscratch,$=U.edgeType===\"haystack\";if(!$)this.drawArrowhead(Q,J,\"source\",U.arrowStartX,U.arrowStartY,U.srcArrowAngle,Z);if(this.drawArrowhead(Q,J,\"mid-target\",U.midX,U.midY,U.midtgtArrowAngle,Z),this.drawArrowhead(Q,J,\"mid-source\",U.midX,U.midY,U.midsrcArrowAngle,Z),!$)this.drawArrowhead(Q,J,\"target\",U.arrowEndX,U.arrowEndY,U.tgtArrowAngle,Z)};O9.drawArrowhead=function(Q,J,Z,U,$,q,K){if(isNaN(U)||U==null||isNaN($)||$==null||isNaN(q)||q==null)return;var G=this,Y=J.pstyle(Z+\"-arrow-shape\").value;if(Y===\"none\")return;var F=J.pstyle(Z+\"-arrow-fill\").value===\"hollow\"?\"both\":\"filled\",X=J.pstyle(Z+\"-arrow-fill\").value,H=J.pstyle(\"width\").pfValue,N=J.pstyle(Z+\"-arrow-width\"),z=N.value===\"match-line\"?H:N.pfValue;if(N.units===\"%\")z*=H;var M=J.pstyle(\"opacity\").value;if(K===void 0)K=M;var W=Q.globalCompositeOperation;if(K!==1||X===\"hollow\")Q.globalCompositeOperation=\"destination-out\",G.colorFillStyle(Q,255,255,255,1),G.colorStrokeStyle(Q,255,255,255,1),G.drawArrowShape(J,Q,F,H,Y,z,U,$,q),Q.globalCompositeOperation=W;var L=J.pstyle(Z+\"-arrow-color\").value;G.colorFillStyle(Q,L[0],L[1],L[2],K),G.colorStrokeStyle(Q,L[0],L[1],L[2],K),G.drawArrowShape(J,Q,X,H,Y,z,U,$,q)};O9.drawArrowShape=function(Q,J,Z,U,$,q,K,G,Y){var F=this,X=this.usePaths()&&$!==\"triangle-cross\",H=!1,N,z=J,M={x:K,y:G},W=Q.pstyle(\"arrow-scale\").value,L=this.getArrowWidth(U,W),E=F.arrowShapes[$];if(X){var B=F.arrowPathCache=F.arrowPathCache||[],V=HQ($),D=B[V];if(D!=null)N=J=D,H=!0;else N=J=new Path2D,B[V]=N}if(!H){if(J.beginPath)J.beginPath();if(X)E.draw(J,1,0,{x:0,y:0},1);else E.draw(J,L,Y,M,U);if(J.closePath)J.closePath()}if(J=z,X)J.translate(K,G),J.rotate(Y),J.scale(L,L);if(Z===\"filled\"||Z===\"both\")if(X)J.fill(N);else J.fill();if(Z===\"hollow\"||Z===\"both\")if(J.lineWidth=q/(X?L:1),J.lineJoin=\"miter\",X)J.stroke(N);else J.stroke();if(X)J.scale(1/L,1/L),J.rotate(-Y),J.translate(-K,-G)};var wU={};wU.safeDrawImage=function(Q,J,Z,U,$,q,K,G,Y,F){if($<=0||q<=0||Y<=0||F<=0)return;try{Q.drawImage(J,Z,U,$,q,K,G,Y,F)}catch(X){lJ(X)}};wU.drawInscribedImage=function(Q,J,Z,U,$){var q=this,K=Z.position(),G=K.x,Y=K.y,F=Z.cy().style(),X=F.getIndexedStyle.bind(F),H=X(Z,\"background-fit\",\"value\",U),N=X(Z,\"background-repeat\",\"value\",U),z=Z.width(),M=Z.height(),W=Z.padding()*2,L=z+(X(Z,\"background-width-relative-to\",\"value\",U)===\"inner\"?0:W),E=M+(X(Z,\"background-height-relative-to\",\"value\",U)===\"inner\"?0:W),B=Z._private.rscratch,V=X(Z,\"background-clip\",\"value\",U),D=V===\"node\",O=X(Z,\"background-image-opacity\",\"value\",U)*$,A=X(Z,\"background-image-smoothing\",\"value\",U),R=Z.pstyle(\"corner-radius\").value;if(R!==\"auto\")R=Z.pstyle(\"corner-radius\").pfValue;var C=J.width||J.cachedW,I=J.height||J.cachedH;if(C==null||I==null)document.body.appendChild(J),C=J.cachedW=J.width||J.offsetWidth,I=J.cachedH=J.height||J.offsetHeight,document.body.removeChild(J);var T=C,P=I;if(X(Z,\"background-width\",\"value\",U)!==\"auto\")if(X(Z,\"background-width\",\"units\",U)===\"%\")T=X(Z,\"background-width\",\"pfValue\",U)*L;else T=X(Z,\"background-width\",\"pfValue\",U);if(X(Z,\"background-height\",\"value\",U)!==\"auto\")if(X(Z,\"background-height\",\"units\",U)===\"%\")P=X(Z,\"background-height\",\"pfValue\",U)*E;else P=X(Z,\"background-height\",\"pfValue\",U);if(T===0||P===0)return;if(H===\"contain\"){var k=Math.min(L/T,E/P);T*=k,P*=k}else if(H===\"cover\"){var k=Math.max(L/T,E/P);T*=k,P*=k}var j=G-L/2,_=X(Z,\"background-position-x\",\"units\",U),x=X(Z,\"background-position-x\",\"pfValue\",U);if(_===\"%\")j+=(L-T)*x;else j+=x;var f=X(Z,\"background-offset-x\",\"units\",U),v=X(Z,\"background-offset-x\",\"pfValue\",U);if(f===\"%\")j+=(L-T)*v;else j+=v;var b=Y-E/2,y=X(Z,\"background-position-y\",\"units\",U),g=X(Z,\"background-position-y\",\"pfValue\",U);if(y===\"%\")b+=(E-P)*g;else b+=g;var m=X(Z,\"background-offset-y\",\"units\",U),u=X(Z,\"background-offset-y\",\"pfValue\",U);if(m===\"%\")b+=(E-P)*u;else b+=u;if(B.pathCache)j-=G,b-=Y,G=0,Y=0;var n=Q.globalAlpha;Q.globalAlpha=O;var t=q.getImgSmoothing(Q),s=!1;if(A===\"no\"&&t)q.setImgSmoothing(Q,!1),s=!0;else if(A===\"yes\"&&!t)q.setImgSmoothing(Q,!0),s=!0;if(N===\"no-repeat\"){if(D)if(Q.save(),B.pathCache)Q.clip(B.pathCache);else q.nodeShapes[q.getNodeShape(Z)].draw(Q,G,Y,L,E,R,B),Q.clip();if(q.safeDrawImage(Q,J,0,0,C,I,j,b,T,P),D)Q.restore()}else{var JJ=Q.createPattern(J,N);Q.fillStyle=JJ,q.nodeShapes[q.getNodeShape(Z)].draw(Q,G,Y,L,E,R,B),Q.translate(j,b),Q.fill(),Q.translate(-j,-b)}if(Q.globalAlpha=n,s)q.setImgSmoothing(Q,t)};var EQ={};EQ.eleTextBiggerThanMin=function(Q,J){if(!J){var Z=Q.cy().zoom(),U=this.getPixelRatio(),$=Math.ceil(LU(Z*U));J=Math.pow(2,$)}var q=Q.pstyle(\"font-size\").pfValue*J,K=Q.pstyle(\"min-zoomed-font-size\").pfValue;if(q<K)return!1;return!0};EQ.drawElementText=function(Q,J,Z,U,$){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,K=this;if(U==null){if(q&&!K.eleTextBiggerThanMin(J))return}else if(U===!1)return;if(J.isNode()){var G=J.pstyle(\"label\");if(!G||!G.value)return;var Y=K.getLabelJustification(J);Q.textAlign=Y,Q.textBaseline=\"bottom\"}else{var F=J.element()._private.rscratch.badLine,X=J.pstyle(\"label\"),H=J.pstyle(\"source-label\"),N=J.pstyle(\"target-label\");if(F||(!X||!X.value)&&(!H||!H.value)&&(!N||!N.value))return;Q.textAlign=\"center\",Q.textBaseline=\"bottom\"}var z=!Z,M;if(Z)M=Z,Q.translate(-M.x1,-M.y1);if($==null){if(K.drawText(Q,J,null,z,q),J.isEdge())K.drawText(Q,J,\"source\",z,q),K.drawText(Q,J,\"target\",z,q)}else K.drawText(Q,J,$,z,q);if(Z)Q.translate(M.x1,M.y1)};EQ.getFontCache=function(Q){var J;this.fontCaches=this.fontCaches||[];for(var Z=0;Z<this.fontCaches.length;Z++)if(J=this.fontCaches[Z],J.context===Q)return J;return J={context:Q},this.fontCaches.push(J),J};EQ.setupTextStyle=function(Q,J){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,U=J.pstyle(\"font-style\").strValue,$=J.pstyle(\"font-size\").pfValue+\"px\",q=J.pstyle(\"font-family\").strValue,K=J.pstyle(\"font-weight\").strValue,G=Z?J.effectiveOpacity()*J.pstyle(\"text-opacity\").value:1,Y=J.pstyle(\"text-outline-opacity\").value*G,F=J.pstyle(\"color\").value,X=J.pstyle(\"text-outline-color\").value;Q.font=U+\" \"+K+\" \"+$+\" \"+q,Q.lineJoin=\"round\",this.colorFillStyle(Q,F[0],F[1],F[2],G),this.colorStrokeStyle(Q,X[0],X[1],X[2],Y)};function PA(Q,J,Z,U,$){var q=Math.min(U,$),K=q/2,G=J+U/2,Y=Z+$/2;Q.beginPath(),Q.arc(G,Y,K,0,Math.PI*2),Q.closePath()}function j1(Q,J,Z,U,$){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,K=Math.min(q,U/2,$/2);Q.beginPath(),Q.moveTo(J+K,Z),Q.lineTo(J+U-K,Z),Q.quadraticCurveTo(J+U,Z,J+U,Z+K),Q.lineTo(J+U,Z+$-K),Q.quadraticCurveTo(J+U,Z+$,J+U-K,Z+$),Q.lineTo(J+K,Z+$),Q.quadraticCurveTo(J,Z+$,J,Z+$-K),Q.lineTo(J,Z+K),Q.quadraticCurveTo(J,Z,J+K,Z),Q.closePath()}EQ.getTextAngle=function(Q,J){var Z,U=Q._private,$=U.rscratch,q=J?J+\"-\":\"\",K=Q.pstyle(q+\"text-rotation\");if(K.strValue===\"autorotate\"){var G=b8($,\"labelAngle\",J);Z=Q.isEdge()?G:0}else if(K.strValue===\"none\")Z=0;else Z=K.pfValue;return Z};EQ.drawText=function(Q,J,Z){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=J._private,K=q.rscratch,G=$?J.effectiveOpacity():1;if($&&(G===0||J.pstyle(\"text-opacity\").value===0))return;if(Z===\"main\")Z=null;var Y=b8(K,\"labelX\",Z),F=b8(K,\"labelY\",Z),X,H,N=this.getLabelText(J,Z);if(N!=null&&N!==\"\"&&!isNaN(Y)&&!isNaN(F)){this.setupTextStyle(Q,J,$);var z=Z?Z+\"-\":\"\",M=b8(K,\"labelWidth\",Z),W=b8(K,\"labelHeight\",Z),L=J.pstyle(z+\"text-margin-x\").pfValue,E=J.pstyle(z+\"text-margin-y\").pfValue,B=J.isEdge(),V=J.pstyle(\"text-halign\").value,D=J.pstyle(\"text-valign\").value;if(B)V=\"center\",D=\"center\";Y+=L,F+=E;var O;if(!U)O=0;else O=this.getTextAngle(J,Z);if(O!==0)X=Y,H=F,Q.translate(X,H),Q.rotate(O),Y=0,F=0;switch(D){case\"top\":break;case\"center\":F+=W/2;break;case\"bottom\":F+=W;break}var A=J.pstyle(\"text-background-opacity\").value,R=J.pstyle(\"text-border-opacity\").value,C=J.pstyle(\"text-border-width\").pfValue,I=J.pstyle(\"text-background-padding\").pfValue,T=J.pstyle(\"text-background-shape\").strValue,P=T===\"round-rectangle\"||T===\"roundrectangle\",k=T===\"circle\",j=2;if(A>0||C>0&&R>0){var{fillStyle:_,strokeStyle:x,lineWidth:f}=Q,v=J.pstyle(\"text-background-color\").value,b=J.pstyle(\"text-border-color\").value,y=J.pstyle(\"text-border-style\").value,g=A>0,m=C>0&&R>0,u=Y-I;switch(V){case\"left\":u-=M;break;case\"center\":u-=M/2;break}var n=F-W-I,t=M+2*I,s=W+2*I;if(g)Q.fillStyle=\"rgba(\".concat(v[0],\",\").concat(v[1],\",\").concat(v[2],\",\").concat(A*G,\")\");if(m){if(Q.strokeStyle=\"rgba(\".concat(b[0],\",\").concat(b[1],\",\").concat(b[2],\",\").concat(R*G,\")\"),Q.lineWidth=C,Q.setLineDash)switch(y){case\"dotted\":Q.setLineDash([1,1]);break;case\"dashed\":Q.setLineDash([4,2]);break;case\"double\":Q.lineWidth=C/4,Q.setLineDash([]);break;case\"solid\":default:Q.setLineDash([]);break}}if(P)Q.beginPath(),j1(Q,u,n,t,s,j);else if(k)Q.beginPath(),PA(Q,u,n,t,s);else Q.beginPath(),Q.rect(u,n,t,s);if(g)Q.fill();if(m)Q.stroke();if(m&&y===\"double\"){var JJ=C/2;if(Q.beginPath(),P)j1(Q,u+JJ,n+JJ,t-2*JJ,s-2*JJ,j);else Q.rect(u+JJ,n+JJ,t-2*JJ,s-2*JJ);Q.stroke()}if(Q.fillStyle=_,Q.strokeStyle=x,Q.lineWidth=f,Q.setLineDash)Q.setLineDash([])}var ZJ=2*J.pstyle(\"text-outline-width\").pfValue;if(ZJ>0)Q.lineWidth=ZJ;if(J.pstyle(\"text-wrap\").value===\"wrap\"){var qJ=b8(K,\"labelWrapCachedLines\",Z),e=b8(K,\"labelLineHeight\",Z),h=M/2,d=this.getLabelJustification(J);if(d===\"auto\");else if(V===\"left\"){if(d===\"left\")Y+=-M;else if(d===\"center\")Y+=-h}else if(V===\"center\"){if(d===\"left\")Y+=-h;else if(d===\"right\")Y+=h}else if(V===\"right\"){if(d===\"center\")Y+=h;else if(d===\"right\")Y+=M}switch(D){case\"top\":F-=(qJ.length-1)*e;break;case\"center\":case\"bottom\":F-=(qJ.length-1)*e;break}for(var p=0;p<qJ.length;p++){if(ZJ>0)Q.strokeText(qJ[p],Y,F);Q.fillText(qJ[p],Y,F),F+=e}}else{if(ZJ>0)Q.strokeText(N,Y,F);Q.fillText(N,Y,F)}if(O!==0)Q.rotate(-O),Q.translate(-X,-H)}};var n9={};n9.drawNode=function(Q,J,Z){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,K=this,G,Y,F=J._private,X=F.rscratch,H=J.position();if(!$J(H.x)||!$J(H.y))return;if(q&&!J.visible())return;var N=q?J.effectiveOpacity():1,z=K.usePaths(),M,W=!1,L=J.padding();G=J.width()+2*L,Y=J.height()+2*L;var E;if(Z)E=Z,Q.translate(-E.x1,-E.y1);var B=J.pstyle(\"background-image\"),V=B.value,D=new Array(V.length),O=new Array(V.length),A=0;for(var R=0;R<V.length;R++){var C=V[R],I=D[R]=C!=null&&C!==\"none\";if(I){var T=J.cy().style().getIndexedStyle(J,\"background-image-crossorigin\",\"value\",R);A++,O[R]=K.getCachedImage(C,T,function(){F.backgroundTimestamp=Date.now(),J.emitAndNotify(\"background\")})}}var P=J.pstyle(\"background-blacken\").value,k=J.pstyle(\"border-width\").pfValue,j=J.pstyle(\"background-opacity\").value*N,_=J.pstyle(\"border-color\").value,x=J.pstyle(\"border-style\").value,f=J.pstyle(\"border-join\").value,v=J.pstyle(\"border-cap\").value,b=J.pstyle(\"border-position\").value,y=J.pstyle(\"border-dash-pattern\").pfValue,g=J.pstyle(\"border-dash-offset\").pfValue,m=J.pstyle(\"border-opacity\").value*N,u=J.pstyle(\"outline-width\").pfValue,n=J.pstyle(\"outline-color\").value,t=J.pstyle(\"outline-style\").value,s=J.pstyle(\"outline-opacity\").value*N,JJ=J.pstyle(\"outline-offset\").value,ZJ=J.pstyle(\"corner-radius\").value;if(ZJ!==\"auto\")ZJ=J.pstyle(\"corner-radius\").pfValue;var qJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;K.eleFillStyle(Q,J,FJ)},e=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;K.colorStrokeStyle(Q,_[0],_[1],_[2],FJ)},h=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s;K.colorStrokeStyle(Q,n[0],n[1],n[2],FJ)},d=function OJ(FJ,a,S,c){var l=K.nodePathCache=K.nodePathCache||[],i=JK(S===\"polygon\"?S+\",\"+c.join(\",\"):S,\"\"+a,\"\"+FJ,\"\"+ZJ),o=l[i],YJ,QJ=!1;if(o!=null)YJ=o,QJ=!0,X.pathCache=YJ;else YJ=new Path2D,l[i]=X.pathCache=YJ;return{path:YJ,cacheHit:QJ}},p=J.pstyle(\"shape\").strValue,r=J.pstyle(\"shape-polygon-points\").pfValue;if(z){Q.translate(H.x,H.y);var UJ=d(G,Y,p,r);M=UJ.path,W=UJ.cacheHit}var MJ=function OJ(){if(!W){var FJ=H;if(z)FJ={x:0,y:0};K.nodeShapes[K.getNodeShape(J)].draw(M||Q,FJ.x,FJ.y,G,Y,ZJ,X)}if(z)Q.fill(M);else Q.fill()},xJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=F.backgrounding,c=0;for(var l=0;l<O.length;l++){var i=J.cy().style().getIndexedStyle(J,\"background-image-containment\",\"value\",l);if(a&&i===\"over\"||!a&&i===\"inside\"){c++;continue}if(D[l]&&O[l].complete&&!O[l].error)c++,K.drawInscribedImage(Q,O[l],J,l,FJ)}if(F.backgrounding=c!==A,S!==F.backgrounding)J.updateStyle(!1)},CJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;if(K.hasPie(J)){if(K.drawPie(Q,J,a),FJ){if(!z)K.nodeShapes[K.getNodeShape(J)].draw(Q,H.x,H.y,G,Y,ZJ,X)}}},RJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;if(K.hasStripe(J)){if(Q.save(),z)Q.clip(X.pathCache);else K.nodeShapes[K.getNodeShape(J)].draw(Q,H.x,H.y,G,Y,ZJ,X),Q.clip();if(K.drawStripe(Q,J,a),Q.restore(),FJ){if(!z)K.nodeShapes[K.getNodeShape(J)].draw(Q,H.x,H.y,G,Y,ZJ,X)}}},BJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,a=(P>0?P:-P)*FJ,S=P>0?0:255;if(P!==0)if(K.colorFillStyle(Q,S,S,S,a),z)Q.fill(M);else Q.fill()},KJ=function OJ(){if(k>0){if(Q.lineWidth=k,Q.lineCap=v,Q.lineJoin=f,Q.setLineDash)switch(x){case\"dotted\":Q.setLineDash([1,1]);break;case\"dashed\":Q.setLineDash(y),Q.lineDashOffset=g;break;case\"solid\":case\"double\":Q.setLineDash([]);break}if(b!==\"center\"){if(Q.save(),Q.lineWidth*=2,b===\"inside\")z?Q.clip(M):Q.clip();else{var FJ=new Path2D;FJ.rect(-G/2-k,-Y/2-k,G+2*k,Y+2*k),FJ.addPath(M),Q.clip(FJ,\"evenodd\")}z?Q.stroke(M):Q.stroke(),Q.restore()}else z?Q.stroke(M):Q.stroke();if(x===\"double\"){Q.lineWidth=k/3;var a=Q.globalCompositeOperation;if(Q.globalCompositeOperation=\"destination-out\",z)Q.stroke(M);else Q.stroke();Q.globalCompositeOperation=a}if(Q.setLineDash)Q.setLineDash([])}},zJ=function OJ(){if(u>0){if(Q.lineWidth=u,Q.lineCap=\"butt\",Q.setLineDash)switch(t){case\"dotted\":Q.setLineDash([1,1]);break;case\"dashed\":Q.setLineDash([4,2]);break;case\"solid\":case\"double\":Q.setLineDash([]);break}var FJ=H;if(z)FJ={x:0,y:0};var a=K.getNodeShape(J),S=k;if(b===\"inside\")S=0;if(b===\"outside\")S*=2;var c=(G+S+(u+JJ))/G,l=(Y+S+(u+JJ))/Y,i=G*c,o=Y*l,YJ=K.nodeShapes[a].points,QJ;if(z){var HJ=d(i,o,a,YJ);QJ=HJ.path}if(a===\"ellipse\")K.drawEllipsePath(QJ||Q,FJ.x,FJ.y,i,o);else if([\"round-diamond\",\"round-heptagon\",\"round-hexagon\",\"round-octagon\",\"round-pentagon\",\"round-polygon\",\"round-triangle\",\"round-tag\"].includes(a)){var XJ=0,VJ=0,wJ=0;if(a===\"round-diamond\")XJ=(S+JJ+u)*1.4;else if(a===\"round-heptagon\")XJ=(S+JJ+u)*1.075,wJ=-(S/2+JJ+u)/35;else if(a===\"round-hexagon\")XJ=(S+JJ+u)*1.12;else if(a===\"round-pentagon\")XJ=(S+JJ+u)*1.13,wJ=-(S/2+JJ+u)/15;else if(a===\"round-tag\")XJ=(S+JJ+u)*1.12,VJ=(S/2+u+JJ)*0.07;else if(a===\"round-triangle\")XJ=(S+JJ+u)*(Math.PI/2),wJ=-(S+JJ/2+u)/Math.PI;if(XJ!==0){if(c=(G+XJ)/G,i=G*c,![\"round-hexagon\",\"round-tag\"].includes(a))l=(Y+XJ)/Y,o=Y*l}ZJ=ZJ===\"auto\"?XK(i,o):ZJ;var TJ=i/2,NJ=o/2,fJ=ZJ+(S+u+JJ)/2,_J=new Array(YJ.length/2),F8=new Array(YJ.length/2);for(var Z8=0;Z8<YJ.length/2;Z8++)_J[Z8]={x:FJ.x+VJ+TJ*YJ[Z8*2],y:FJ.y+wJ+NJ*YJ[Z8*2+1]};var k8,q8,W8,X8,D8=_J.length;q8=_J[D8-1];for(k8=0;k8<D8;k8++)W8=_J[k8%D8],X8=_J[(k8+1)%D8],F8[k8]=kU(q8,W8,X8,fJ),q8=W8,W8=X8;K.drawRoundPolygonPath(QJ||Q,FJ.x+VJ,FJ.y+wJ,G*c,Y*l,YJ,F8)}else if([\"roundrectangle\",\"round-rectangle\"].includes(a))ZJ=ZJ===\"auto\"?u9(i,o):ZJ,K.drawRoundRectanglePath(QJ||Q,FJ.x,FJ.y,i,o,ZJ+(S+u+JJ)/2);else if([\"cutrectangle\",\"cut-rectangle\"].includes(a))ZJ=ZJ===\"auto\"?BU():ZJ,K.drawCutRectanglePath(QJ||Q,FJ.x,FJ.y,i,o,null,ZJ+(S+u+JJ)/4);else if([\"bottomroundrectangle\",\"bottom-round-rectangle\"].includes(a))ZJ=ZJ===\"auto\"?u9(i,o):ZJ,K.drawBottomRoundRectanglePath(QJ||Q,FJ.x,FJ.y,i,o,ZJ+(S+u+JJ)/2);else if(a===\"barrel\")K.drawBarrelPath(QJ||Q,FJ.x,FJ.y,i,o);else if(a.startsWith(\"polygon\")||[\"rhomboid\",\"right-rhomboid\",\"round-tag\",\"tag\",\"vee\"].includes(a)){var P9=(S+u+JJ)/G;YJ=Q7(Z7(YJ,P9)),K.drawPolygonPath(QJ||Q,FJ.x,FJ.y,G,Y,YJ)}else{var K8=(S+u+JJ)/G;YJ=Q7(Z7(YJ,-K8)),K.drawPolygonPath(QJ||Q,FJ.x,FJ.y,G,Y,YJ)}if(z)Q.stroke(QJ);else Q.stroke();if(t===\"double\"){Q.lineWidth=S/3;var M9=Q.globalCompositeOperation;if(Q.globalCompositeOperation=\"destination-out\",z)Q.stroke(QJ);else Q.stroke();Q.globalCompositeOperation=M9}if(Q.setLineDash)Q.setLineDash([])}},LJ=function OJ(){if($)K.drawNodeOverlay(Q,J,H,G,Y)},AJ=function OJ(){if($)K.drawNodeUnderlay(Q,J,H,G,Y)},EJ=function OJ(){K.drawElementText(Q,J,null,U)},PJ=J.pstyle(\"ghost\").value===\"yes\";if(PJ){var bJ=J.pstyle(\"ghost-offset-x\").pfValue,gJ=J.pstyle(\"ghost-offset-y\").pfValue,dJ=J.pstyle(\"ghost-opacity\").value,cJ=dJ*N;Q.translate(bJ,gJ),h(),zJ(),qJ(dJ*j),MJ(),xJ(cJ,!0),e(dJ*m),KJ(),CJ(P!==0||k!==0),RJ(P!==0||k!==0),xJ(cJ,!1),BJ(cJ),Q.translate(-bJ,-gJ)}if(z)Q.translate(-H.x,-H.y);if(AJ(),z)Q.translate(H.x,H.y);if(h(),zJ(),qJ(),MJ(),xJ(N,!0),e(),KJ(),CJ(P!==0||k!==0),RJ(P!==0||k!==0),xJ(N,!1),BJ(),z)Q.translate(-H.x,-H.y);if(EJ(),LJ(),Z)Q.translate(E.x1,E.y1)};var WG=function Q(J){if(![\"overlay\",\"underlay\"].includes(J))throw new Error(\"Invalid state\");return function(Z,U,$,q,K){var G=this;if(!U.visible())return;var Y=U.pstyle(\"\".concat(J,\"-padding\")).pfValue,F=U.pstyle(\"\".concat(J,\"-opacity\")).value,X=U.pstyle(\"\".concat(J,\"-color\")).value,H=U.pstyle(\"\".concat(J,\"-shape\")).value,N=U.pstyle(\"\".concat(J,\"-corner-radius\")).value;if(F>0){if($=$||U.position(),q==null||K==null){var z=U.padding();q=U.width()+2*z,K=U.height()+2*z}G.colorFillStyle(Z,X[0],X[1],X[2],F),G.nodeShapes[H].draw(Z,$.x,$.y,q+Y*2,K+Y*2,N),Z.fill()}}};n9.drawNodeOverlay=WG(\"overlay\");n9.drawNodeUnderlay=WG(\"underlay\");n9.hasPie=function(Q){return Q=Q[0],Q._private.hasPie};n9.hasStripe=function(Q){return Q=Q[0],Q._private.hasStripe};n9.drawPie=function(Q,J,Z,U){J=J[0],U=U||J.position();var $=J.cy().style(),q=J.pstyle(\"pie-size\"),K=J.pstyle(\"pie-hole\"),G=J.pstyle(\"pie-start-angle\").pfValue,Y=U.x,F=U.y,X=J.width(),H=J.height(),N=Math.min(X,H)/2,z,M=0,W=this.usePaths();if(W)Y=0,F=0;if(q.units===\"%\")N=N*q.pfValue;else if(q.pfValue!==void 0)N=q.pfValue/2;if(K.units===\"%\")z=N*K.pfValue;else if(K.pfValue!==void 0)z=K.pfValue/2;if(z>=N)return;for(var L=1;L<=$.pieBackgroundN;L++){var E=J.pstyle(\"pie-\"+L+\"-background-size\").value,B=J.pstyle(\"pie-\"+L+\"-background-color\").value,V=J.pstyle(\"pie-\"+L+\"-background-opacity\").value*Z,D=E/100;if(D+M>1)D=1-M;var O=1.5*Math.PI+2*Math.PI*M;O+=G;var A=2*Math.PI*D,R=O+A;if(E===0||M>=1||M+D>1)continue;if(z===0)Q.beginPath(),Q.moveTo(Y,F),Q.arc(Y,F,N,O,R),Q.closePath();else Q.beginPath(),Q.arc(Y,F,N,O,R),Q.arc(Y,F,z,R,O,!0),Q.closePath();this.colorFillStyle(Q,B[0],B[1],B[2],V),Q.fill(),M+=D}};n9.drawStripe=function(Q,J,Z,U){J=J[0],U=U||J.position();var $=J.cy().style(),q=U.x,K=U.y,G=J.width(),Y=J.height(),F=0,X=this.usePaths();Q.save();var H=J.pstyle(\"stripe-direction\").value,N=J.pstyle(\"stripe-size\");switch(H){case\"vertical\":break;case\"righward\":Q.rotate(-Math.PI/2);break}var z=G,M=Y;if(N.units===\"%\")z=z*N.pfValue,M=M*N.pfValue;else if(N.pfValue!==void 0)z=N.pfValue,M=N.pfValue;if(X)q=0,K=0;K-=z/2,q-=M/2;for(var W=1;W<=$.stripeBackgroundN;W++){var L=J.pstyle(\"stripe-\"+W+\"-background-size\").value,E=J.pstyle(\"stripe-\"+W+\"-background-color\").value,B=J.pstyle(\"stripe-\"+W+\"-background-opacity\").value*Z,V=L/100;if(V+F>1)V=1-F;if(L===0||F>=1||F+V>1)continue;Q.beginPath(),Q.rect(q,K+M*F,z,M*V),Q.closePath(),this.colorFillStyle(Q,E[0],E[1],E[2],B),Q.fill(),F+=V}Q.restore()};var _8={},kA=100;_8.getPixelRatio=function(){var Q=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var J=this.cy.window(),Z=Q.backingStorePixelRatio||Q.webkitBackingStorePixelRatio||Q.mozBackingStorePixelRatio||Q.msBackingStorePixelRatio||Q.oBackingStorePixelRatio||Q.backingStorePixelRatio||1;return(J.devicePixelRatio||1)/Z};_8.paintCache=function(Q){var J=this.paintCaches=this.paintCaches||[],Z=!0,U;for(var $=0;$<J.length;$++)if(U=J[$],U.context===Q){Z=!1;break}if(Z)U={context:Q},J.push(U);return U};_8.createGradientStyleFor=function(Q,J,Z,U,$){var q,K=this.usePaths(),G=Z.pstyle(J+\"-gradient-stop-colors\").value,Y=Z.pstyle(J+\"-gradient-stop-positions\").pfValue;if(U===\"radial-gradient\")if(Z.isEdge()){var F=Z.sourceEndpoint(),X=Z.targetEndpoint(),H=Z.midpoint(),N=NQ(F,H),z=NQ(X,H);q=Q.createRadialGradient(H.x,H.y,0,H.x,H.y,Math.max(N,z))}else{var M=K?{x:0,y:0}:Z.position(),W=Z.paddedWidth(),L=Z.paddedHeight();q=Q.createRadialGradient(M.x,M.y,0,M.x,M.y,Math.max(W,L))}else if(Z.isEdge()){var E=Z.sourceEndpoint(),B=Z.targetEndpoint();q=Q.createLinearGradient(E.x,E.y,B.x,B.y)}else{var V=K?{x:0,y:0}:Z.position(),D=Z.paddedWidth(),O=Z.paddedHeight(),A=D/2,R=O/2,C=Z.pstyle(\"background-gradient-direction\").value;switch(C){case\"to-bottom\":q=Q.createLinearGradient(V.x,V.y-R,V.x,V.y+R);break;case\"to-top\":q=Q.createLinearGradient(V.x,V.y+R,V.x,V.y-R);break;case\"to-left\":q=Q.createLinearGradient(V.x+A,V.y,V.x-A,V.y);break;case\"to-right\":q=Q.createLinearGradient(V.x-A,V.y,V.x+A,V.y);break;case\"to-bottom-right\":case\"to-right-bottom\":q=Q.createLinearGradient(V.x-A,V.y-R,V.x+A,V.y+R);break;case\"to-top-right\":case\"to-right-top\":q=Q.createLinearGradient(V.x-A,V.y+R,V.x+A,V.y-R);break;case\"to-bottom-left\":case\"to-left-bottom\":q=Q.createLinearGradient(V.x+A,V.y-R,V.x-A,V.y+R);break;case\"to-top-left\":case\"to-left-top\":q=Q.createLinearGradient(V.x+A,V.y+R,V.x-A,V.y-R);break}}if(!q)return null;var I=Y.length===G.length,T=G.length;for(var P=0;P<T;P++)q.addColorStop(I?Y[P]:P/(T-1),\"rgba(\"+G[P][0]+\",\"+G[P][1]+\",\"+G[P][2]+\",\"+$+\")\");return q};_8.gradientFillStyle=function(Q,J,Z,U){var $=this.createGradientStyleFor(Q,\"background\",J,Z,U);if(!$)return null;Q.fillStyle=$};_8.colorFillStyle=function(Q,J,Z,U,$){Q.fillStyle=\"rgba(\"+J+\",\"+Z+\",\"+U+\",\"+$+\")\"};_8.eleFillStyle=function(Q,J,Z){var U=J.pstyle(\"background-fill\").value;if(U===\"linear-gradient\"||U===\"radial-gradient\")this.gradientFillStyle(Q,J,U,Z);else{var $=J.pstyle(\"background-color\").value;this.colorFillStyle(Q,$[0],$[1],$[2],Z)}};_8.gradientStrokeStyle=function(Q,J,Z,U){var $=this.createGradientStyleFor(Q,\"line\",J,Z,U);if(!$)return null;Q.strokeStyle=$};_8.colorStrokeStyle=function(Q,J,Z,U,$){Q.strokeStyle=\"rgba(\"+J+\",\"+Z+\",\"+U+\",\"+$+\")\"};_8.eleStrokeStyle=function(Q,J,Z){var U=J.pstyle(\"line-fill\").value;if(U===\"linear-gradient\"||U===\"radial-gradient\")this.gradientStrokeStyle(Q,J,U,Z);else{var $=J.pstyle(\"line-color\").value;this.colorStrokeStyle(Q,$[0],$[1],$[2],Z)}};_8.matchCanvasSize=function(Q){var J=this,Z=J.data,U=J.findContainerClientCoords(),$=U[2],q=U[3],K=J.getPixelRatio(),G=J.motionBlurPxRatio;if(Q===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE]||Q===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG])K=G;var Y=$*K,F=q*K,X;if(Y===J.canvasWidth&&F===J.canvasHeight)return;J.fontCaches=null;var H=Z.canvasContainer;H.style.width=$+\"px\",H.style.height=q+\"px\";for(var N=0;N<J.CANVAS_LAYERS;N++)X=Z.canvases[N],X.width=Y,X.height=F,X.style.width=$+\"px\",X.style.height=q+\"px\";for(var N=0;N<J.BUFFER_COUNT;N++)X=Z.bufferCanvases[N],X.width=Y,X.height=F,X.style.width=$+\"px\",X.style.height=q+\"px\";if(J.textureMult=1,K<=1)X=Z.bufferCanvases[J.TEXTURE_BUFFER],J.textureMult=2,X.width=Y*J.textureMult,X.height=F*J.textureMult;J.canvasWidth=Y,J.canvasHeight=F,J.pixelRatio=K};_8.renderTo=function(Q,J,Z,U){this.render({forcedContext:Q,forcedZoom:J,forcedPan:Z,drawAllLayers:!0,forcedPxRatio:U})};_8.clearCanvas=function(){var Q=this,J=Q.data;function Z(U){U.clearRect(0,0,Q.canvasWidth,Q.canvasHeight)}Z(J.contexts[Q.NODE]),Z(J.contexts[Q.DRAG])};_8.render=function(Q){var J=this;Q=Q||$K();var Z=J.cy,U=Q.forcedContext,$=Q.drawAllLayers,q=Q.drawOnlyNodeLayer,K=Q.forcedZoom,G=Q.forcedPan,Y=Q.forcedPxRatio===void 0?this.getPixelRatio():Q.forcedPxRatio,F=J.data,X=F.canvasNeedsRedraw,H=J.textureOnViewport&&!U&&(J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming),N=Q.motionBlur!==void 0?Q.motionBlur:J.motionBlur,z=J.motionBlurPxRatio,M=Z.hasCompoundNodes(),W=J.hoverData.draggingEles,L=J.hoverData.selecting||J.touchData.selecting?!0:!1;N=N&&!U&&J.motionBlurEnabled&&!L;var E=N;if(!U){if(J.prevPxRatio!==Y)J.invalidateContainerClientCoordsCache(),J.matchCanvasSize(J.container),J.redrawHint(\"eles\",!0),J.redrawHint(\"drag\",!0);J.prevPxRatio=Y}if(!U&&J.motionBlurTimeout)clearTimeout(J.motionBlurTimeout);if(N){if(J.mbFrames==null)J.mbFrames=0;if(J.mbFrames++,J.mbFrames<3)E=!1;if(J.mbFrames>J.minMbLowQualFrames)J.motionBlurPxRatio=J.mbPxRBlurry}if(J.clearingMotionBlur)J.motionBlurPxRatio=1;if(J.textureDrawLastFrame&&!H)X[J.NODE]=!0,X[J.SELECT_BOX]=!0;var B=Z.style(),V=Z.zoom(),D=K!==void 0?K:V,O=Z.pan(),A={x:O.x,y:O.y},R={zoom:V,pan:{x:O.x,y:O.y}},C=J.prevViewport,I=C===void 0||R.zoom!==C.zoom||R.pan.x!==C.pan.x||R.pan.y!==C.pan.y;if(!I&&!(W&&!M))J.motionBlurPxRatio=1;if(G)A=G;D*=Y,A.x*=Y,A.y*=Y;var T=J.getCachedZSortedEles();function P(e,h,d,p,r){var UJ=e.globalCompositeOperation;e.globalCompositeOperation=\"destination-out\",J.colorFillStyle(e,255,255,255,J.motionBlurTransparency),e.fillRect(h,d,p,r),e.globalCompositeOperation=UJ}function k(e,h){var d,p,r,UJ;if(!J.clearingMotionBlur&&(e===F.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]||e===F.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]))d={x:O.x*z,y:O.y*z},p=V*z,r=J.canvasWidth*z,UJ=J.canvasHeight*z;else d=A,p=D,r=J.canvasWidth,UJ=J.canvasHeight;if(e.setTransform(1,0,0,1,0,0),h===\"motionBlur\")P(e,0,0,r,UJ);else if(!U&&(h===void 0||h))e.clearRect(0,0,r,UJ);if(!$)e.translate(d.x,d.y),e.scale(p,p);if(G)e.translate(G.x,G.y);if(K)e.scale(K,K)}if(!H)J.textureDrawLastFrame=!1;if(H){if(J.textureDrawLastFrame=!0,!J.textureCache){J.textureCache={},J.textureCache.bb=Z.mutableElements().boundingBox(),J.textureCache.texture=J.data.bufferCanvases[J.TEXTURE_BUFFER];var j=J.data.bufferContexts[J.TEXTURE_BUFFER];j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,J.canvasWidth*J.textureMult,J.canvasHeight*J.textureMult),J.render({forcedContext:j,drawOnlyNodeLayer:!0,forcedPxRatio:Y*J.textureMult});var R=J.textureCache.viewport={zoom:Z.zoom(),pan:Z.pan(),width:J.canvasWidth,height:J.canvasHeight};R.mpan={x:(0-R.pan.x)/R.zoom,y:(0-R.pan.y)/R.zoom}}X[J.DRAG]=!1,X[J.NODE]=!1;var _=F.contexts[J.NODE],x=J.textureCache.texture,R=J.textureCache.viewport;if(_.setTransform(1,0,0,1,0,0),N)P(_,0,0,R.width,R.height);else _.clearRect(0,0,R.width,R.height);var f=B.core(\"outside-texture-bg-color\").value,v=B.core(\"outside-texture-bg-opacity\").value;J.colorFillStyle(_,f[0],f[1],f[2],v),_.fillRect(0,0,R.width,R.height);var V=Z.zoom();k(_,!1),_.clearRect(R.mpan.x,R.mpan.y,R.width/R.zoom/Y,R.height/R.zoom/Y),_.drawImage(x,R.mpan.x,R.mpan.y,R.width/R.zoom/Y,R.height/R.zoom/Y)}else if(J.textureOnViewport&&!U)J.textureCache=null;var b=Z.extent(),y=J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming||J.hoverData.draggingEles||J.cy.animated(),g=J.hideEdgesOnViewport&&y,m=[];if(m[J.NODE]=!X[J.NODE]&&N&&!J.clearedForMotionBlur[J.NODE]||J.clearingMotionBlur,m[J.NODE])J.clearedForMotionBlur[J.NODE]=!0;if(m[J.DRAG]=!X[J.DRAG]&&N&&!J.clearedForMotionBlur[J.DRAG]||J.clearingMotionBlur,m[J.DRAG])J.clearedForMotionBlur[J.DRAG]=!0;if(X[J.NODE]||$||q||m[J.NODE]){var u=N&&!m[J.NODE]&&z!==1,_=U||(u?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]:F.contexts[J.NODE]),n=N&&!u?\"motionBlur\":void 0;if(k(_,n),g)J.drawCachedNodes(_,T.nondrag,Y,b);else J.drawLayeredElements(_,T.nondrag,Y,b);if(J.debug)J.drawDebugPoints(_,T.nondrag);if(!$&&!N)X[J.NODE]=!1}if(!q&&(X[J.DRAG]||$||m[J.DRAG])){var u=N&&!m[J.DRAG]&&z!==1,_=U||(u?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]:F.contexts[J.DRAG]);if(k(_,N&&!u?\"motionBlur\":void 0),g)J.drawCachedNodes(_,T.drag,Y,b);else J.drawCachedElements(_,T.drag,Y,b);if(J.debug)J.drawDebugPoints(_,T.drag);if(!$&&!N)X[J.DRAG]=!1}if(this.drawSelectionRectangle(Q,k),N&&z!==1){var t=F.contexts[J.NODE],s=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE],JJ=F.contexts[J.DRAG],ZJ=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG],qJ=function e(h,d,p){if(h.setTransform(1,0,0,1,0,0),p||!E)h.clearRect(0,0,J.canvasWidth,J.canvasHeight);else P(h,0,0,J.canvasWidth,J.canvasHeight);var r=z;h.drawImage(d,0,0,J.canvasWidth*r,J.canvasHeight*r,0,0,J.canvasWidth,J.canvasHeight)};if(X[J.NODE]||m[J.NODE])qJ(t,s,m[J.NODE]),X[J.NODE]=!1;if(X[J.DRAG]||m[J.DRAG])qJ(JJ,ZJ,m[J.DRAG]),X[J.DRAG]=!1}if(J.prevViewport=R,J.clearingMotionBlur)J.clearingMotionBlur=!1,J.motionBlurCleared=!0,J.motionBlur=!0;if(N)J.motionBlurTimeout=setTimeout(function(){J.motionBlurTimeout=null,J.clearedForMotionBlur[J.NODE]=!1,J.clearedForMotionBlur[J.DRAG]=!1,J.motionBlur=!1,J.clearingMotionBlur=!H,J.mbFrames=0,X[J.NODE]=!0,X[J.DRAG]=!0,J.redraw()},kA);if(!U)Z.emit(\"render\")};var DZ;_8.drawSelectionRectangle=function(Q,J){var Z=this,U=Z.cy,$=Z.data,q=U.style(),K=Q.drawOnlyNodeLayer,G=Q.drawAllLayers,Y=$.canvasNeedsRedraw,F=Q.forcedContext;if(Z.showFps||!K&&Y[Z.SELECT_BOX]&&!G){var X=F||$.contexts[Z.SELECT_BOX];if(J(X),Z.selection[4]==1&&(Z.hoverData.selecting||Z.touchData.selecting)){var H=Z.cy.zoom(),N=q.core(\"selection-box-border-width\").value/H;if(X.lineWidth=N,X.fillStyle=\"rgba(\"+q.core(\"selection-box-color\").value[0]+\",\"+q.core(\"selection-box-color\").value[1]+\",\"+q.core(\"selection-box-color\").value[2]+\",\"+q.core(\"selection-box-opacity\").value+\")\",X.fillRect(Z.selection[0],Z.selection[1],Z.selection[2]-Z.selection[0],Z.selection[3]-Z.selection[1]),N>0)X.strokeStyle=\"rgba(\"+q.core(\"selection-box-border-color\").value[0]+\",\"+q.core(\"selection-box-border-color\").value[1]+\",\"+q.core(\"selection-box-border-color\").value[2]+\",\"+q.core(\"selection-box-opacity\").value+\")\",X.strokeRect(Z.selection[0],Z.selection[1],Z.selection[2]-Z.selection[0],Z.selection[3]-Z.selection[1])}if($.bgActivePosistion&&!Z.hoverData.selecting){var H=Z.cy.zoom(),z=$.bgActivePosistion;X.fillStyle=\"rgba(\"+q.core(\"active-bg-color\").value[0]+\",\"+q.core(\"active-bg-color\").value[1]+\",\"+q.core(\"active-bg-color\").value[2]+\",\"+q.core(\"active-bg-opacity\").value+\")\",X.beginPath(),X.arc(z.x,z.y,q.core(\"active-bg-size\").pfValue/H,0,2*Math.PI),X.fill()}var M=Z.lastRedrawTime;if(Z.showFps&&M){M=Math.round(M);var W=Math.round(1000/M),L=\"1 frame = \"+M+\" ms = \"+W+\" fps\";if(X.setTransform(1,0,0,1,0,0),X.fillStyle=\"rgba(255, 0, 0, 0.75)\",X.strokeStyle=\"rgba(255, 0, 0, 0.75)\",X.font=\"30px Arial\",!DZ){var E=X.measureText(L);DZ=E.actualBoundingBoxAscent}X.fillText(L,0,DZ);var B=60;X.strokeRect(0,DZ+10,250,20),X.fillRect(0,DZ+10,250*Math.min(W/B,1),20)}if(!G)Y[Z.SELECT_BOX]=!1}};function w1(Q,J,Z){var U=Q.createShader(J);if(Q.shaderSource(U,Z),Q.compileShader(U),!Q.getShaderParameter(U,Q.COMPILE_STATUS))throw new Error(Q.getShaderInfoLog(U));return U}function jA(Q,J,Z){var U=w1(Q,Q.VERTEX_SHADER,J),$=w1(Q,Q.FRAGMENT_SHADER,Z),q=Q.createProgram();if(Q.attachShader(q,U),Q.attachShader(q,$),Q.linkProgram(q),!Q.getProgramParameter(q,Q.LINK_STATUS))throw new Error(\"Could not initialize shaders\");return q}function wA(Q,J,Z){if(Z===void 0)Z=J;var U=Q.makeOffscreenCanvas(J,Z),$=U.context=U.getContext(\"2d\");return U.clear=function(){return $.clearRect(0,0,U.width,U.height)},U.clear(),U}function _U(Q){var J=Q.pixelRatio,Z=Q.cy.zoom(),U=Q.cy.pan();return{zoom:Z*J,pan:{x:U.x*J,y:U.y*J}}}function _A(Q){var J=Q.pixelRatio,Z=Q.cy.zoom();return Z*J}function vA(Q,J,Z,U,$){var q=U*Z+J.x,K=$*Z+J.y;return K=Math.round(Q.canvasHeight-K),[q,K]}function fA(Q){if(Q.pstyle(\"background-fill\").value!==\"solid\")return!1;if(Q.pstyle(\"background-image\").strValue!==\"none\")return!1;if(Q.pstyle(\"border-width\").value===0)return!0;if(Q.pstyle(\"border-opacity\").value===0)return!0;if(Q.pstyle(\"border-style\").value!==\"solid\")return!1;return!0}function xA(Q,J){if(Q.length!==J.length)return!1;for(var Z=0;Z<Q.length;Z++)if(Q[Z]!==J[Z])return!1;return!0}function qQ(Q,J,Z){var U=Q[0]/255,$=Q[1]/255,q=Q[2]/255,K=J,G=Z||new Array(4);return G[0]=U*K,G[1]=$*K,G[2]=q*K,G[3]=K,G}function xQ(Q,J){var Z=J||new Array(4);return Z[0]=(Q>>0&255)/255,Z[1]=(Q>>8&255)/255,Z[2]=(Q>>16&255)/255,Z[3]=(Q>>24&255)/255,Z}function bA(Q){return Q[0]+(Q[1]<<8)+(Q[2]<<16)+(Q[3]<<24)}function mA(Q,J){var Z=Q.createTexture();return Z.buffer=function(U){Q.bindTexture(Q.TEXTURE_2D,Z),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR_MIPMAP_NEAREST),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,Q.RGBA,Q.UNSIGNED_BYTE,U),Q.generateMipmap(Q.TEXTURE_2D),Q.bindTexture(Q.TEXTURE_2D,null)},Z.deleteTexture=function(){Q.deleteTexture(Z)},Z}function EG(Q,J){switch(J){case\"float\":return[1,Q.FLOAT,4];case\"vec2\":return[2,Q.FLOAT,4];case\"vec3\":return[3,Q.FLOAT,4];case\"vec4\":return[4,Q.FLOAT,4];case\"int\":return[1,Q.INT,4];case\"ivec2\":return[2,Q.INT,4]}}function BG(Q,J,Z){switch(J){case Q.FLOAT:return new Float32Array(Z);case Q.INT:return new Int32Array(Z)}}function yA(Q,J,Z,U,$,q){switch(J){case Q.FLOAT:return new Float32Array(Z.buffer,q*U,$);case Q.INT:return new Int32Array(Z.buffer,q*U,$)}}function hA(Q,J,Z,U){var $=EG(Q,J),q=Y8($,2),K=q[0],G=q[1],Y=BG(Q,G,U),F=Q.createBuffer();if(Q.bindBuffer(Q.ARRAY_BUFFER,F),Q.bufferData(Q.ARRAY_BUFFER,Y,Q.STATIC_DRAW),G===Q.FLOAT)Q.vertexAttribPointer(Z,K,G,!1,0,0);else if(G===Q.INT)Q.vertexAttribIPointer(Z,K,G,0,0);return Q.enableVertexAttribArray(Z),Q.bindBuffer(Q.ARRAY_BUFFER,null),F}function U9(Q,J,Z,U){var $=EG(Q,Z),q=Y8($,3),K=q[0],G=q[1],Y=q[2],F=BG(Q,G,J*K),X=K*Y,H=Q.createBuffer();if(Q.bindBuffer(Q.ARRAY_BUFFER,H),Q.bufferData(Q.ARRAY_BUFFER,J*X,Q.DYNAMIC_DRAW),Q.enableVertexAttribArray(U),G===Q.FLOAT)Q.vertexAttribPointer(U,K,G,!1,X,0);else if(G===Q.INT)Q.vertexAttribIPointer(U,K,G,X,0);Q.vertexAttribDivisor(U,1),Q.bindBuffer(Q.ARRAY_BUFFER,null);var N=new Array(J);for(var z=0;z<J;z++)N[z]=yA(Q,G,F,X,K,z);return H.dataArray=F,H.stride=X,H.size=K,H.getView=function(M){return N[M]},H.setPoint=function(M,W,L){var E=N[M];E[0]=W,E[1]=L},H.bufferSubData=function(M){if(Q.bindBuffer(Q.ARRAY_BUFFER,H),M)Q.bufferSubData(Q.ARRAY_BUFFER,0,F,0,M*K);else Q.bufferSubData(Q.ARRAY_BUFFER,0,F)},H}function uA(Q,J,Z){var U=9,$=new Float32Array(J*U),q=new Array(J);for(var K=0;K<J;K++){var G=K*U*4;q[K]=new Float32Array($.buffer,G,U)}var Y=Q.createBuffer();Q.bindBuffer(Q.ARRAY_BUFFER,Y),Q.bufferData(Q.ARRAY_BUFFER,$.byteLength,Q.DYNAMIC_DRAW);for(var F=0;F<3;F++){var X=Z+F;Q.enableVertexAttribArray(X),Q.vertexAttribPointer(X,3,Q.FLOAT,!1,36,F*12),Q.vertexAttribDivisor(X,1)}return Q.bindBuffer(Q.ARRAY_BUFFER,null),Y.getMatrixView=function(H){return q[H]},Y.setData=function(H,N){q[N].set(H,0)},Y.bufferSubData=function(){Q.bindBuffer(Q.ARRAY_BUFFER,Y),Q.bufferSubData(Q.ARRAY_BUFFER,0,$)},Y}function gA(Q){var J=Q.createFramebuffer();Q.bindFramebuffer(Q.FRAMEBUFFER,J);var Z=Q.createTexture();return Q.bindTexture(Q.TEXTURE_2D,Z),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Z,0),Q.bindFramebuffer(Q.FRAMEBUFFER,null),J.setFramebufferAttachmentSizes=function(U,$){Q.bindTexture(Q.TEXTURE_2D,Z),Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,U,$,0,Q.RGBA,Q.UNSIGNED_BYTE,null)},J}var _1=typeof Float32Array!==\"undefined\"?Float32Array:Array;if(!Math.hypot)Math.hypot=function(){var Q=0,J=arguments.length;while(J--)Q+=arguments[J]*arguments[J];return Math.sqrt(Q)};function b0(){var Q=new _1(9);if(_1!=Float32Array)Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0;return Q[0]=1,Q[4]=1,Q[8]=1,Q}function v1(Q){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function dA(Q,J,Z){var U=J[0],$=J[1],q=J[2],K=J[3],G=J[4],Y=J[5],F=J[6],X=J[7],H=J[8],N=Z[0],z=Z[1],M=Z[2],W=Z[3],L=Z[4],E=Z[5],B=Z[6],V=Z[7],D=Z[8];return Q[0]=N*U+z*K+M*F,Q[1]=N*$+z*G+M*X,Q[2]=N*q+z*Y+M*H,Q[3]=W*U+L*K+E*F,Q[4]=W*$+L*G+E*X,Q[5]=W*q+L*Y+E*H,Q[6]=B*U+V*K+D*F,Q[7]=B*$+V*G+D*X,Q[8]=B*q+V*Y+D*H,Q}function r6(Q,J,Z){var U=J[0],$=J[1],q=J[2],K=J[3],G=J[4],Y=J[5],F=J[6],X=J[7],H=J[8],N=Z[0],z=Z[1];return Q[0]=U,Q[1]=$,Q[2]=q,Q[3]=K,Q[4]=G,Q[5]=Y,Q[6]=N*U+z*K+F,Q[7]=N*$+z*G+X,Q[8]=N*q+z*Y+H,Q}function f1(Q,J,Z){var U=J[0],$=J[1],q=J[2],K=J[3],G=J[4],Y=J[5],F=J[6],X=J[7],H=J[8],N=Math.sin(Z),z=Math.cos(Z);return Q[0]=z*U+N*K,Q[1]=z*$+N*G,Q[2]=z*q+N*Y,Q[3]=z*K-N*U,Q[4]=z*G-N*$,Q[5]=z*Y-N*q,Q[6]=F,Q[7]=X,Q[8]=H,Q}function $U(Q,J,Z){var U=Z[0],$=Z[1];return Q[0]=U*J[0],Q[1]=U*J[1],Q[2]=U*J[2],Q[3]=$*J[3],Q[4]=$*J[4],Q[5]=$*J[5],Q[6]=J[6],Q[7]=J[7],Q[8]=J[8],Q}function cA(Q,J,Z){return Q[0]=2/J,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=-2/Z,Q[5]=0,Q[6]=-1,Q[7]=1,Q[8]=1,Q}var pA=function(){function Q(J,Z,U,$){p9(this,Q),this.debugID=Math.floor(Math.random()*1e4),this.r=J,this.texSize=Z,this.texRows=U,this.texHeight=Math.floor(Z/U),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=$(J,Z,Z),this.scratch=$(J,Z,this.texHeight,\"scratch\")}return l9(Q,[{key:\"lock\",value:function J(){this.locked=!0}},{key:\"getKeys\",value:function J(){return new Set(this.keyToLocation.keys())}},{key:\"getScale\",value:function J(Z){var{w:U,h:$}=Z,q=this.texHeight,K=this.texSize,G=q/$,Y=U*G,F=$*G;if(Y>K)G=K/U,Y=U*G,F=$*G;return{scale:G,texW:Y,texH:F}}},{key:\"draw\",value:function J(Z,U,$){var q=this;if(this.locked)throw new Error(\"can't draw, atlas is locked\");var K=this.texSize,G=this.texRows,Y=this.texHeight,F=this.getScale(U),X=F.scale,H=F.texW,N=F.texH,z=function B(V,D){if($&&D){var O=D.context,A=V.x,R=V.row,C=A,I=Y*R;O.save(),O.translate(C,I),O.scale(X,X),$(O,U),O.restore()}},M=[null,null],W=function B(){if(z(q.freePointer,q.canvas),M[0]={x:q.freePointer.x,y:q.freePointer.row*Y,w:H,h:N},M[1]={x:q.freePointer.x+H,y:q.freePointer.row*Y,w:0,h:N},q.freePointer.x+=H,q.freePointer.x==K)q.freePointer.x=0,q.freePointer.row++},L=function B(){var{scratch:V,canvas:D}=q;V.clear(),z({x:0,row:0},V);var O=K-q.freePointer.x,A=H-O,R=Y;{var C=q.freePointer.x,I=q.freePointer.row*Y,T=O;D.context.drawImage(V,0,0,T,R,C,I,T,R),M[0]={x:C,y:I,w:T,h:N}}{var P=O,k=(q.freePointer.row+1)*Y,j=A;if(D)D.context.drawImage(V,P,0,j,R,0,k,j,R);M[1]={x:0,y:k,w:j,h:N}}q.freePointer.x=A,q.freePointer.row++},E=function B(){q.freePointer.x=0,q.freePointer.row++};if(this.freePointer.x+H<=K)W();else if(this.freePointer.row>=G-1)return!1;else if(this.freePointer.x===K)E(),W();else if(this.enableWrapping)L();else E(),W();return this.keyToLocation.set(Z,M),this.needsBuffer=!0,M}},{key:\"getOffsets\",value:function J(Z){return this.keyToLocation.get(Z)}},{key:\"isEmpty\",value:function J(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:\"canFit\",value:function J(Z){if(this.locked)return!1;var U=this.texSize,$=this.texRows,q=this.getScale(Z),K=q.texW;if(this.freePointer.x+K>U)return this.freePointer.row<$-1;return!0}},{key:\"bufferIfNeeded\",value:function J(Z){if(!this.texture)this.texture=mA(Z,this.debugID);if(this.needsBuffer){if(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked)this.canvas=null,this.scratch=null}}},{key:\"dispose\",value:function J(){if(this.texture)this.texture.deleteTexture(),this.texture=null;this.canvas=null,this.scratch=null,this.locked=!0}}])}(),lA=function(){function Q(J,Z,U,$){p9(this,Q),this.r=J,this.texSize=Z,this.texRows=U,this.createTextureCanvas=$,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return l9(Q,[{key:\"getKeys\",value:function J(){return new Set(this.styleKeyToAtlas.keys())}},{key:\"_createAtlas\",value:function J(){var Z=this.r,U=this.texSize,$=this.texRows,q=this.createTextureCanvas;return new pA(Z,U,$,q)}},{key:\"_getScratchCanvas\",value:function J(){if(!this.scratch){var Z=this.r,U=this.texSize,$=this.texRows,q=this.createTextureCanvas,K=Math.floor(U/$);this.scratch=q(Z,U,K,\"scratch\")}return this.scratch}},{key:\"draw\",value:function J(Z,U,$){var q=this.styleKeyToAtlas.get(Z);if(!q){if(q=this.atlases[this.atlases.length-1],!q||!q.canFit(U)){if(q)q.lock();q=this._createAtlas(),this.atlases.push(q)}q.draw(Z,U,$),this.styleKeyToAtlas.set(Z,q)}return q}},{key:\"getAtlas\",value:function J(Z){return this.styleKeyToAtlas.get(Z)}},{key:\"hasAtlas\",value:function J(Z){return this.styleKeyToAtlas.has(Z)}},{key:\"markKeyForGC\",value:function J(Z){this.markedKeys.add(Z)}},{key:\"gc\",value:function J(){var Z=this,U=this.markedKeys;if(U.size===0){console.log(\"nothing to garbage collect\");return}var $=[],q=new Map,K=null,G=y8(this.atlases),Y;try{var F=function X(){var H=Y.value,N=H.getKeys(),z=iA(U,N);if(z.size===0)return $.push(H),N.forEach(function(O){return q.set(O,H)}),1;if(!K)K=Z._createAtlas(),$.push(K);var M=y8(N),W;try{for(M.s();!(W=M.n()).done;){var L=W.value;if(!z.has(L)){var E=H.getOffsets(L),B=Y8(E,2),V=B[0],D=B[1];if(!K.canFit({w:V.w+D.w,h:V.h}))K.lock(),K=Z._createAtlas(),$.push(K);if(H.canvas)Z._copyTextureToNewAtlas(L,H,K),q.set(L,K)}}}catch(O){M.e(O)}finally{M.f()}H.dispose()};for(G.s();!(Y=G.n()).done;)if(F())continue}catch(X){G.e(X)}finally{G.f()}this.atlases=$,this.styleKeyToAtlas=q,this.markedKeys=new Set}},{key:\"_copyTextureToNewAtlas\",value:function J(Z,U,$){var q=U.getOffsets(Z),K=Y8(q,2),G=K[0],Y=K[1];if(Y.w===0)$.draw(Z,G,function(N){N.drawImage(U.canvas,G.x,G.y,G.w,G.h,0,0,G.w,G.h)});else{var F=this._getScratchCanvas();F.clear(),F.context.drawImage(U.canvas,G.x,G.y,G.w,G.h,0,0,G.w,G.h),F.context.drawImage(U.canvas,Y.x,Y.y,Y.w,Y.h,G.w,0,Y.w,Y.h);var X=G.w+Y.w,H=G.h;$.draw(Z,{w:X,h:H},function(N){N.drawImage(F,0,0,X,H,0,0,X,H)})}}},{key:\"getCounts\",value:function J(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function iA(Q,J){if(Q.intersection)return Q.intersection(J);else return new Set(o6(Q).filter(function(Z){return J.has(Z)}))}var nA=function(){function Q(J,Z){p9(this,Q),this.r=J,this.globalOptions=Z,this.atlasSize=Z.webglTexSize,this.maxAtlasesPerBatch=Z.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return l9(Q,[{key:\"getAtlasSize\",value:function J(){return this.atlasSize}},{key:\"addAtlasCollection\",value:function J(Z,U){var $=this.globalOptions,q=$.webglTexSize,K=$.createTextureCanvas,G=U.texRows,Y=this._cacheScratchCanvas(K),F=new lA(this.r,q,G,Y);this.collections.set(Z,F)}},{key:\"addRenderType\",value:function J(Z,U){var $=U.collection;if(!this.collections.has($))throw new Error(\"invalid atlas collection name '\".concat($,\"'\"));var q=this.collections.get($),K=DJ({type:Z,atlasCollection:q},U);this.renderTypes.set(Z,K)}},{key:\"getRenderTypeOpts\",value:function J(Z){return this.renderTypes.get(Z)}},{key:\"getAtlasCollection\",value:function J(Z){return this.collections.get(Z)}},{key:\"_cacheScratchCanvas\",value:function J(Z){var U=-1,$=-1,q=null;return function(K,G,Y,F){if(F){if(!q||G!=U||Y!=$)U=G,$=Y,q=Z(K,G,Y);return q}else return Z(K,G,Y)}}},{key:\"_key\",value:function J(Z,U){return\"\".concat(Z,\"-\").concat(U)}},{key:\"invalidate\",value:function J(Z){var U=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=$.forceRedraw,K=q===void 0?!1:q,G=$.filterEle,Y=G===void 0?function(){return!0}:G,F=$.filterType,X=F===void 0?function(){return!0}:F,H=!1,N=!1,z=y8(Z),M;try{for(z.s();!(M=z.n()).done;){var W=M.value;if(Y(W)){var L=y8(this.renderTypes.values()),E;try{var B=function V(){var D=E.value,O=D.type;if(X(O)){var A=U.collections.get(D.collection),R=D.getKey(W),C=Array.isArray(R)?R:[R];if(K)C.forEach(function(k){return A.markKeyForGC(k)}),N=!0;else{var I=D.getID?D.getID(W):W.id(),T=U._key(O,I),P=U.typeAndIdToKey.get(T);if(P!==void 0&&!xA(C,P))H=!0,U.typeAndIdToKey.delete(T),P.forEach(function(k){return A.markKeyForGC(k)})}}};for(L.s();!(E=L.n()).done;)B()}catch(V){L.e(V)}finally{L.f()}}}}catch(V){z.e(V)}finally{z.f()}if(N)this.gc(),H=!1;return H}},{key:\"gc\",value:function J(){var Z=y8(this.collections.values()),U;try{for(Z.s();!(U=Z.n()).done;){var $=U.value;$.gc()}}catch(q){Z.e(q)}finally{Z.f()}}},{key:\"getOrCreateAtlas\",value:function J(Z,U,$,q){var K=this.renderTypes.get(U),G=this.collections.get(K.collection),Y=!1,F=G.draw(q,$,function(N){if(K.drawClipped)N.save(),N.beginPath(),N.rect(0,0,$.w,$.h),N.clip(),K.drawElement(N,Z,$,!0,!0),N.restore();else K.drawElement(N,Z,$,!0,!0);Y=!0});if(Y){var X=K.getID?K.getID(Z):Z.id(),H=this._key(U,X);if(this.typeAndIdToKey.has(H))this.typeAndIdToKey.get(H).push(q);else this.typeAndIdToKey.set(H,[q])}return F}},{key:\"getAtlasInfo\",value:function J(Z,U){var $=this,q=this.renderTypes.get(U),K=q.getKey(Z),G=Array.isArray(K)?K:[K];return G.map(function(Y){var F=q.getBoundingBox(Z,Y),X=$.getOrCreateAtlas(Z,U,F,Y),H=X.getOffsets(Y),N=Y8(H,2),z=N[0],M=N[1];return{atlas:X,tex:z,tex1:z,tex2:M,bb:F}})}},{key:\"getDebugInfo\",value:function J(){var Z=[],U=y8(this.collections),$;try{for(U.s();!($=U.n()).done;){var q=Y8($.value,2),K=q[0],G=q[1],Y=G.getCounts(),F=Y.keyCount,X=Y.atlasCount;Z.push({type:K,keyCount:F,atlasCount:X})}}catch(H){U.e(H)}finally{U.f()}return Z}}])}(),sA=function(){function Q(J){p9(this,Q),this.globalOptions=J,this.atlasSize=J.webglTexSize,this.maxAtlasesPerBatch=J.webglTexPerBatch,this.batchAtlases=[]}return l9(Q,[{key:\"getMaxAtlasesPerBatch\",value:function J(){return this.maxAtlasesPerBatch}},{key:\"getAtlasSize\",value:function J(){return this.atlasSize}},{key:\"getIndexArray\",value:function J(){return Array.from({length:this.maxAtlasesPerBatch},function(Z,U){return U})}},{key:\"startBatch\",value:function J(){this.batchAtlases=[]}},{key:\"getAtlasCount\",value:function J(){return this.batchAtlases.length}},{key:\"getAtlases\",value:function J(){return this.batchAtlases}},{key:\"canAddToCurrentBatch\",value:function J(Z){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return this.batchAtlases.includes(Z);return!0}},{key:\"getAtlasIndexForBatch\",value:function J(Z){var U=this.batchAtlases.indexOf(Z);if(U<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error(\"cannot add more atlases to batch\");this.batchAtlases.push(Z),U=this.batchAtlases.length-1}return U}}])}(),aA=`\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n`,rA=`\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n`,oA=`\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n`,tA=`\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n`,PZ={SCREEN:{name:\"screen\",screen:!0},PICKING:{name:\"picking\",picking:!0}},F7={IGNORE:1,USE_BB:2},m0=0,x1=1,b1=2,y0=3,bQ=4,h6=5,RZ=6,OZ=7,eA=function(){function Q(J,Z,U){p9(this,Q),this.r=J,this.gl=Z,this.maxInstances=U.webglBatchSize,this.atlasSize=U.webglTexSize,this.bgColor=U.bgColor,this.debug=U.webglDebug,this.batchDebugInfo=[],U.enableWrapping=!0,U.createTextureCanvas=wA,this.atlasManager=new nA(J,U),this.batchManager=new sA(U),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(PZ.SCREEN),this.pickingProgram=this._createShaderProgram(PZ.PICKING),this.vao=this._createVAO()}return l9(Q,[{key:\"addAtlasCollection\",value:function J(Z,U){this.atlasManager.addAtlasCollection(Z,U)}},{key:\"addTextureAtlasRenderType\",value:function J(Z,U){this.atlasManager.addRenderType(Z,U)}},{key:\"addSimpleShapeRenderType\",value:function J(Z,U){this.simpleShapeOptions.set(Z,U)}},{key:\"invalidate\",value:function J(Z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=U.type,q=this.atlasManager;if($)return q.invalidate(Z,{filterType:function K(G){return G===$},forceRedraw:!0});else return q.invalidate(Z)}},{key:\"gc\",value:function J(){this.atlasManager.gc()}},{key:\"_createShaderProgram\",value:function J(Z){var U=this.gl,$=`#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == `.concat(m0,`) {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == `).concat(bQ,\" || aVertType == \").concat(OZ,` \n             || aVertType == `).concat(h6,\" || aVertType == \").concat(RZ,`) { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == `).concat(x1,`) {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == `).concat(b1,`) {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == `).concat(y0,` && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    `),q=this.batchManager.getIndexArray(),K=`#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      `.concat(q.map(function(F){return\"uniform sampler2D uTexture\".concat(F,\";\")}).join(`\n\t`),`\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      `).concat(aA,`\n      `).concat(rA,`\n      `).concat(oA,`\n      `).concat(tA,`\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == `).concat(m0,`) {\n          // look up the texel from the texture unit\n          `).concat(q.map(function(F){return\"if(vAtlasId == \".concat(F,\") outColor = texture(uTexture\").concat(F,\", vTexCoord);\")}).join(`\n\telse `),`\n        } \n        else if(vVertType == `).concat(y0,`) {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == `).concat(bQ,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == `).concat(bQ,\" || vVertType == \").concat(OZ,` \n          || vVertType == `).concat(h6,\" || vVertType == \").concat(RZ,`) { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == `).concat(bQ,`) {\n            d = rectangleSD(p, b);\n          } else if(vVertType == `).concat(OZ,` && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == `).concat(OZ,`) {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        `).concat(Z.picking?`if(outColor.a == 0.0) discard;\n             else outColor = vIndex;`:\"\",`\n      }\n    `),G=jA(U,$,K);G.aPosition=U.getAttribLocation(G,\"aPosition\"),G.aIndex=U.getAttribLocation(G,\"aIndex\"),G.aVertType=U.getAttribLocation(G,\"aVertType\"),G.aTransform=U.getAttribLocation(G,\"aTransform\"),G.aAtlasId=U.getAttribLocation(G,\"aAtlasId\"),G.aTex=U.getAttribLocation(G,\"aTex\"),G.aPointAPointB=U.getAttribLocation(G,\"aPointAPointB\"),G.aPointCPointD=U.getAttribLocation(G,\"aPointCPointD\"),G.aLineWidth=U.getAttribLocation(G,\"aLineWidth\"),G.aColor=U.getAttribLocation(G,\"aColor\"),G.aCornerRadius=U.getAttribLocation(G,\"aCornerRadius\"),G.aBorderColor=U.getAttribLocation(G,\"aBorderColor\"),G.uPanZoomMatrix=U.getUniformLocation(G,\"uPanZoomMatrix\"),G.uAtlasSize=U.getUniformLocation(G,\"uAtlasSize\"),G.uBGColor=U.getUniformLocation(G,\"uBGColor\"),G.uZoom=U.getUniformLocation(G,\"uZoom\"),G.uTextures=[];for(var Y=0;Y<this.batchManager.getMaxAtlasesPerBatch();Y++)G.uTextures.push(U.getUniformLocation(G,\"uTexture\".concat(Y)));return G}},{key:\"_createVAO\",value:function J(){var Z=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=Z.length/2;var U=this.maxInstances,$=this.gl,q=this.program,K=$.createVertexArray();return $.bindVertexArray(K),hA($,\"vec2\",q.aPosition,Z),this.transformBuffer=uA($,U,q.aTransform),this.indexBuffer=U9($,U,\"vec4\",q.aIndex),this.vertTypeBuffer=U9($,U,\"int\",q.aVertType),this.atlasIdBuffer=U9($,U,\"int\",q.aAtlasId),this.texBuffer=U9($,U,\"vec4\",q.aTex),this.pointAPointBBuffer=U9($,U,\"vec4\",q.aPointAPointB),this.pointCPointDBuffer=U9($,U,\"vec4\",q.aPointCPointD),this.lineWidthBuffer=U9($,U,\"vec2\",q.aLineWidth),this.colorBuffer=U9($,U,\"vec4\",q.aColor),this.cornerRadiusBuffer=U9($,U,\"vec4\",q.aCornerRadius),this.borderColorBuffer=U9($,U,\"vec4\",q.aBorderColor),$.bindVertexArray(null),K}},{key:\"buffers\",get:function J(){var Z=this;if(!this._buffers)this._buffers=Object.keys(this).filter(function(U){return v9(U,\"Buffer\")}).map(function(U){return Z[U]});return this._buffers}},{key:\"startFrame\",value:function J(Z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PZ.SCREEN;this.panZoomMatrix=Z,this.renderTarget=U,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:\"startBatch\",value:function J(){this.instanceCount=0,this.batchManager.startBatch()}},{key:\"endFrame\",value:function J(){this.endBatch()}},{key:\"_isVisible\",value:function J(Z,U){if(Z.visible()){if(U&&U.isVisible)return U.isVisible(Z);return!0}return!1}},{key:\"drawTexture\",value:function J(Z,U,$){var q=this.atlasManager,K=this.batchManager,G=q.getRenderTypeOpts($);if(!this._isVisible(Z,G))return;if(Z.isEdge()&&!this._isValidEdge(Z))return;if(this.renderTarget.picking&&G.getTexPickingMode){var Y=G.getTexPickingMode(Z);if(Y===F7.IGNORE)return;else if(Y==F7.USE_BB){this.drawPickingRectangle(Z,U,$);return}}var F=q.getAtlasInfo(Z,$),X=y8(F),H;try{for(X.s();!(H=X.n()).done;){var N=H.value,z=N.atlas,M=N.tex1,W=N.tex2;if(!K.canAddToCurrentBatch(z))this.endBatch();var L=K.getAtlasIndexForBatch(z);for(var E=0,B=[[M,!0],[W,!1]];E<B.length;E++){var V=Y8(B[E],2),D=V[0],O=V[1];if(D.w!=0){var A=this.instanceCount;this.vertTypeBuffer.getView(A)[0]=m0;var R=this.indexBuffer.getView(A);xQ(U,R);var C=this.atlasIdBuffer.getView(A);C[0]=L;var I=this.texBuffer.getView(A);I[0]=D.x,I[1]=D.y,I[2]=D.w,I[3]=D.h;var T=this.transformBuffer.getMatrixView(A);if(this.setTransformMatrix(Z,T,G,N,O),this.instanceCount++,!O)this.wrappedCount++;if(this.instanceCount>=this.maxInstances)this.endBatch()}}}}catch(P){X.e(P)}finally{X.f()}}},{key:\"setTransformMatrix\",value:function J(Z,U,$,q){var K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,G=0;if($.shapeProps&&$.shapeProps.padding)G=Z.pstyle($.shapeProps.padding).pfValue;if(q){var{bb:Y,tex1:F,tex2:X}=q,H=F.w/(F.w+X.w);if(!K)H=1-H;var N=this._getAdjustedBB(Y,G,K,H);this._applyTransformMatrix(U,N,$,Z)}else{var z=$.getBoundingBox(Z),M=this._getAdjustedBB(z,G,!0,1);this._applyTransformMatrix(U,M,$,Z)}}},{key:\"_applyTransformMatrix\",value:function J(Z,U,$,q){var K,G;v1(Z);var Y=$.getRotation?$.getRotation(q):0;if(Y!==0){var F=$.getRotationPoint(q),X=F.x,H=F.y;r6(Z,Z,[X,H]),f1(Z,Z,Y);var N=$.getRotationOffset(q);K=N.x+(U.xOffset||0),G=N.y+(U.yOffset||0)}else K=U.x1,G=U.y1;r6(Z,Z,[K,G]),$U(Z,Z,[U.w,U.h])}},{key:\"_getAdjustedBB\",value:function J(Z,U,$,q){var{x1:K,y1:G,w:Y,h:F,yOffset:X}=Z;if(U)K-=U,G-=U,Y+=2*U,F+=2*U;var H=0,N=Y*q;if($&&q<1)Y=N;else if(!$&&q<1)H=Y-N,K+=H,Y=N;return{x1:K,y1:G,w:Y,h:F,xOffset:H,yOffset:X}}},{key:\"drawPickingRectangle\",value:function J(Z,U,$){var q=this.atlasManager.getRenderTypeOpts($),K=this.instanceCount;this.vertTypeBuffer.getView(K)[0]=bQ;var G=this.indexBuffer.getView(K);xQ(U,G);var Y=this.colorBuffer.getView(K);qQ([0,0,0],1,Y);var F=this.transformBuffer.getMatrixView(K);if(this.setTransformMatrix(Z,F,q),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:\"drawNode\",value:function J(Z,U,$){var q=this.simpleShapeOptions.get($);if(!this._isVisible(Z,q))return;var K=q.shapeProps,G=this._getVertTypeForShape(Z,K.shape);if(G===void 0||q.isSimple&&!q.isSimple(Z)){this.drawTexture(Z,U,$);return}var Y=this.instanceCount;if(this.vertTypeBuffer.getView(Y)[0]=G,G===h6||G===RZ){var F=q.getBoundingBox(Z),X=this._getCornerRadius(Z,K.radius,F),H=this.cornerRadiusBuffer.getView(Y);if(H[0]=X,H[1]=X,H[2]=X,H[3]=X,G===RZ)H[0]=0,H[2]=0}var N=this.indexBuffer.getView(Y);xQ(U,N);var z=Z.pstyle(K.color).value,M=Z.pstyle(K.opacity).value,W=this.colorBuffer.getView(Y);qQ(z,M,W);var L=this.lineWidthBuffer.getView(Y);if(L[0]=0,L[1]=0,K.border){var E=Z.pstyle(\"border-width\").value;if(E>0){var B=Z.pstyle(\"border-color\").value,V=Z.pstyle(\"border-opacity\").value,D=this.borderColorBuffer.getView(Y);qQ(B,V,D);var O=Z.pstyle(\"border-position\").value;if(O===\"inside\")L[0]=0,L[1]=-E;else if(O===\"outside\")L[0]=E,L[1]=0;else{var A=E/2;L[0]=A,L[1]=-A}}}var R=this.transformBuffer.getMatrixView(Y);if(this.setTransformMatrix(Z,R,q),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:\"_getVertTypeForShape\",value:function J(Z,U){var $=Z.pstyle(U).value;switch($){case\"rectangle\":return bQ;case\"ellipse\":return OZ;case\"roundrectangle\":case\"round-rectangle\":return h6;case\"bottom-round-rectangle\":return RZ;default:return}}},{key:\"_getCornerRadius\",value:function J(Z,U,$){var{w:q,h:K}=$;if(Z.pstyle(U).value===\"auto\")return u9(q,K);else{var G=Z.pstyle(U).pfValue,Y=q/2,F=K/2;return Math.min(G,F,Y)}}},{key:\"drawEdgeArrow\",value:function J(Z,U,$){if(!Z.visible())return;var q=Z._private.rscratch,K,G,Y;if($===\"source\")K=q.arrowStartX,G=q.arrowStartY,Y=q.srcArrowAngle;else K=q.arrowEndX,G=q.arrowEndY,Y=q.tgtArrowAngle;if(isNaN(K)||K==null||isNaN(G)||G==null||isNaN(Y)||Y==null)return;var F=Z.pstyle($+\"-arrow-shape\").value;if(F===\"none\")return;var X=Z.pstyle($+\"-arrow-color\").value,H=Z.pstyle(\"opacity\").value,N=Z.pstyle(\"line-opacity\").value,z=H*N,M=Z.pstyle(\"width\").pfValue,W=Z.pstyle(\"arrow-scale\").value,L=this.r.getArrowWidth(M,W),E=this.instanceCount,B=this.transformBuffer.getMatrixView(E);v1(B),r6(B,B,[K,G]),$U(B,B,[L,L]),f1(B,B,Y),this.vertTypeBuffer.getView(E)[0]=y0;var V=this.indexBuffer.getView(E);xQ(U,V);var D=this.colorBuffer.getView(E);if(qQ(X,z,D),this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:\"drawEdgeLine\",value:function J(Z,U){if(!Z.visible())return;var $=this._getEdgePoints(Z);if(!$)return;var q=Z.pstyle(\"opacity\").value,K=Z.pstyle(\"line-opacity\").value,G=Z.pstyle(\"width\").pfValue,Y=Z.pstyle(\"line-color\").value,F=q*K;if($.length/2+this.instanceCount>this.maxInstances)this.endBatch();if($.length==4){var X=this.instanceCount;this.vertTypeBuffer.getView(X)[0]=x1;var H=this.indexBuffer.getView(X);xQ(U,H);var N=this.colorBuffer.getView(X);qQ(Y,F,N);var z=this.lineWidthBuffer.getView(X);z[0]=G;var M=this.pointAPointBBuffer.getView(X);if(M[0]=$[0],M[1]=$[1],M[2]=$[2],M[3]=$[3],this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}else for(var W=0;W<$.length-2;W+=2){var L=this.instanceCount;this.vertTypeBuffer.getView(L)[0]=b1;var E=this.indexBuffer.getView(L);xQ(U,E);var B=this.colorBuffer.getView(L);qQ(Y,F,B);var V=this.lineWidthBuffer.getView(L);V[0]=G;var D=$[W-2],O=$[W-1],A=$[W],R=$[W+1],C=$[W+2],I=$[W+3],T=$[W+4],P=$[W+5];if(W==0)D=2*A-C+0.001,O=2*R-I+0.001;if(W==$.length-4)T=2*C-A+0.001,P=2*I-R+0.001;var k=this.pointAPointBBuffer.getView(L);k[0]=D,k[1]=O,k[2]=A,k[3]=R;var j=this.pointCPointDBuffer.getView(L);if(j[0]=C,j[1]=I,j[2]=T,j[3]=P,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}}},{key:\"_isValidEdge\",value:function J(Z){var U=Z._private.rscratch;if(U.badLine||U.allpts==null||isNaN(U.allpts[0]))return!1;return!0}},{key:\"_getEdgePoints\",value:function J(Z){var U=Z._private.rscratch;if(!this._isValidEdge(Z))return;var $=U.allpts;if($.length==4)return $;var q=this._getNumSegments(Z);return this._getCurveSegmentPoints($,q)}},{key:\"_getNumSegments\",value:function J(Z){var U=15;return Math.min(Math.max(U,5),this.maxInstances)}},{key:\"_getCurveSegmentPoints\",value:function J(Z,U){if(Z.length==4)return Z;var $=Array((U+1)*2);for(var q=0;q<=U;q++)if(q==0)$[0]=Z[0],$[1]=Z[1];else if(q==U)$[q*2]=Z[Z.length-2],$[q*2+1]=Z[Z.length-1];else{var K=q/U;this._setCurvePoint(Z,K,$,q*2)}return $}},{key:\"_setCurvePoint\",value:function J(Z,U,$,q){if(Z.length<=2)$[q]=Z[0],$[q+1]=Z[1];else{var K=Array(Z.length-2);for(var G=0;G<K.length;G+=2){var Y=(1-U)*Z[G]+U*Z[G+2],F=(1-U)*Z[G+1]+U*Z[G+3];K[G]=Y,K[G+1]=F}return this._setCurvePoint(K,U,$,q)}}},{key:\"endBatch\",value:function J(){var Z=this.gl,U=this.vao,$=this.vertexCount,q=this.instanceCount;if(q===0)return;var K=this.renderTarget.picking?this.pickingProgram:this.program;Z.useProgram(K),Z.bindVertexArray(U);var G=y8(this.buffers),Y;try{for(G.s();!(Y=G.n()).done;){var F=Y.value;F.bufferSubData(q)}}catch(M){G.e(M)}finally{G.f()}var X=this.batchManager.getAtlases();for(var H=0;H<X.length;H++)X[H].bufferIfNeeded(Z);for(var N=0;N<X.length;N++)Z.activeTexture(Z.TEXTURE0+N),Z.bindTexture(Z.TEXTURE_2D,X[N].texture),Z.uniform1i(K.uTextures[N],N);Z.uniform1f(K.uZoom,_A(this.r)),Z.uniformMatrix3fv(K.uPanZoomMatrix,!1,this.panZoomMatrix),Z.uniform1i(K.uAtlasSize,this.batchManager.getAtlasSize());var z=qQ(this.bgColor,1);if(Z.uniform4fv(K.uBGColor,z),Z.drawArraysInstanced(Z.TRIANGLES,0,$,q),Z.bindVertexArray(null),Z.bindTexture(Z.TEXTURE_2D,null),this.debug)this.batchDebugInfo.push({count:q,atlasCount:X.length});this.startBatch()}},{key:\"getDebugInfo\",value:function J(){var Z=this.atlasManager.getDebugInfo(),U=Z.reduce(function(K,G){return K+G.atlasCount},0),$=this.batchDebugInfo,q=$.reduce(function(K,G){return K+G.count},0);return{atlasInfo:Z,totalAtlases:U,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:$.length,batchInfo:$,totalInstances:q}}}])}(),VG={};VG.initWebgl=function(Q,J){var Z=this,U=Z.data.contexts[Z.WEBGL];Q.bgColor=J3(Z),Q.webglTexSize=Math.min(Q.webglTexSize,U.getParameter(U.MAX_TEXTURE_SIZE)),Q.webglTexRows=Math.min(Q.webglTexRows,54),Q.webglTexRowsNodes=Math.min(Q.webglTexRowsNodes,54),Q.webglBatchSize=Math.min(Q.webglBatchSize,16384),Q.webglTexPerBatch=Math.min(Q.webglTexPerBatch,U.getParameter(U.MAX_TEXTURE_IMAGE_UNITS)),Z.webglDebug=Q.webglDebug,Z.webglDebugShowAtlases=Q.webglDebugShowAtlases,Z.pickingFrameBuffer=gA(U),Z.pickingFrameBuffer.needsDraw=!0,Z.drawing=new eA(Z,U,Q);var $=function X(H){return function(N){return Z.getTextAngle(N,H)}},q=function X(H){return function(N){var z=N.pstyle(H);return z&&z.value}},K=function X(H){return function(N){return N.pstyle(\"\".concat(H,\"-opacity\")).value>0}},G=function X(H){var N=H.pstyle(\"text-events\").strValue===\"yes\";return N?F7.USE_BB:F7.IGNORE},Y=function X(H){var N=H.position(),z=N.x,M=N.y,W=H.outerWidth(),L=H.outerHeight();return{w:W,h:L,x1:z-W/2,y1:M-L/2}};Z.drawing.addAtlasCollection(\"node\",{texRows:Q.webglTexRowsNodes}),Z.drawing.addAtlasCollection(\"label\",{texRows:Q.webglTexRows}),Z.drawing.addTextureAtlasRenderType(\"node-body\",{collection:\"node\",getKey:J.getStyleKey,getBoundingBox:J.getElementBox,drawElement:J.drawElement}),Z.drawing.addSimpleShapeRenderType(\"node-body\",{getBoundingBox:Y,isSimple:fA,shapeProps:{shape:\"shape\",color:\"background-color\",opacity:\"background-opacity\",radius:\"corner-radius\",border:!0}}),Z.drawing.addSimpleShapeRenderType(\"node-overlay\",{getBoundingBox:Y,isVisible:K(\"overlay\"),shapeProps:{shape:\"overlay-shape\",color:\"overlay-color\",opacity:\"overlay-opacity\",padding:\"overlay-padding\",radius:\"overlay-corner-radius\"}}),Z.drawing.addSimpleShapeRenderType(\"node-underlay\",{getBoundingBox:Y,isVisible:K(\"underlay\"),shapeProps:{shape:\"underlay-shape\",color:\"underlay-color\",opacity:\"underlay-opacity\",padding:\"underlay-padding\",radius:\"underlay-corner-radius\"}}),Z.drawing.addTextureAtlasRenderType(\"label\",{collection:\"label\",getTexPickingMode:G,getKey:h0(J.getLabelKey,null),getBoundingBox:u0(J.getLabelBox,null),drawClipped:!0,drawElement:J.drawLabel,getRotation:$(null),getRotationPoint:J.getLabelRotationPoint,getRotationOffset:J.getLabelRotationOffset,isVisible:q(\"label\")}),Z.drawing.addTextureAtlasRenderType(\"edge-source-label\",{collection:\"label\",getTexPickingMode:G,getKey:h0(J.getSourceLabelKey,\"source\"),getBoundingBox:u0(J.getSourceLabelBox,\"source\"),drawClipped:!0,drawElement:J.drawSourceLabel,getRotation:$(\"source\"),getRotationPoint:J.getSourceLabelRotationPoint,getRotationOffset:J.getSourceLabelRotationOffset,isVisible:q(\"source-label\")}),Z.drawing.addTextureAtlasRenderType(\"edge-target-label\",{collection:\"label\",getTexPickingMode:G,getKey:h0(J.getTargetLabelKey,\"target\"),getBoundingBox:u0(J.getTargetLabelBox,\"target\"),drawClipped:!0,drawElement:J.drawTargetLabel,getRotation:$(\"target\"),getRotationPoint:J.getTargetLabelRotationPoint,getRotationOffset:J.getTargetLabelRotationOffset,isVisible:q(\"target-label\")});var F=pZ(function(){console.log(\"garbage collect flag set\"),Z.data.gc=!0},1e4);Z.onUpdateEleCalcs(function(X,H){var N=!1;if(H&&H.length>0)N|=Z.drawing.invalidate(H);if(N)F()}),Q3(Z)};function J3(Q){var J=Q.cy.container(),Z=J&&J.style&&J.style.backgroundColor||\"white\";return n1(Z)}function DG(Q,J){var Z=Q._private.rscratch;return b8(Z,\"labelWrapCachedLines\",J)||[]}var h0=function Q(J,Z){return function(U){var $=J(U),q=DG(U,Z);if(q.length>1)return q.map(function(K,G){return\"\".concat($,\"_\").concat(G)});return $}},u0=function Q(J,Z){return function(U,$){var q=J(U);if(typeof $===\"string\"){var K=$.indexOf(\"_\");if(K>0){var G=Number($.substring(K+1)),Y=DG(U,Z),F=q.h/Y.length,X=F*G,H=q.y1+X;return{x1:q.x1,w:q.w,y1:H,h:F,yOffset:X}}}return q}};function Q3(Q){{var J=Q.render;Q.render=function(q){q=q||{};var K=Q.cy;if(Q.webgl)if(K.zoom()>NG)Z3(Q),J.call(Q,q);else U3(Q),OG(Q,q,PZ.SCREEN)}}{var Z=Q.matchCanvasSize;Q.matchCanvasSize=function(q){Z.call(Q,q),Q.pickingFrameBuffer.setFramebufferAttachmentSizes(Q.canvasWidth,Q.canvasHeight),Q.pickingFrameBuffer.needsDraw=!0}}Q.findNearestElements=function(q,K,G,Y){return F3(Q,q,K)};{var U=Q.invalidateCachedZSortedEles;Q.invalidateCachedZSortedEles=function(){U.call(Q),Q.pickingFrameBuffer.needsDraw=!0}}{var $=Q.notify;Q.notify=function(q,K){if($.call(Q,q,K),q===\"viewport\"||q===\"bounds\")Q.pickingFrameBuffer.needsDraw=!0;else if(q===\"background\")Q.drawing.invalidate(K,{type:\"node-body\"})}}}function Z3(Q){var J=Q.data.contexts[Q.WEBGL];J.clear(J.COLOR_BUFFER_BIT|J.DEPTH_BUFFER_BIT)}function U3(Q){var J=function Z(U){U.save(),U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,Q.canvasWidth,Q.canvasHeight),U.restore()};J(Q.data.contexts[Q.NODE]),J(Q.data.contexts[Q.DRAG])}function $3(Q){var{canvasWidth:J,canvasHeight:Z}=Q,U=_U(Q),$=U.pan,q=U.zoom,K=b0();r6(K,K,[$.x,$.y]),$U(K,K,[q,q]);var G=b0();cA(G,J,Z);var Y=b0();return dA(Y,G,K),Y}function RG(Q,J){var{canvasWidth:Z,canvasHeight:U}=Q,$=_U(Q),q=$.pan,K=$.zoom;J.setTransform(1,0,0,1,0,0),J.clearRect(0,0,Z,U),J.translate(q.x,q.y),J.scale(K,K)}function q3(Q,J){Q.drawSelectionRectangle(J,function(Z){return RG(Q,Z)})}function K3(Q){var J=Q.data.contexts[Q.NODE];J.save(),RG(Q,J),J.strokeStyle=\"rgba(0, 0, 0, 0.3)\",J.beginPath(),J.moveTo(-1000,0),J.lineTo(1000,0),J.stroke(),J.beginPath(),J.moveTo(0,-1000),J.lineTo(0,1000),J.stroke(),J.restore()}function G3(Q){var J=function U($,q,K){var G=$.atlasManager.getAtlasCollection(q),Y=Q.data.contexts[Q.NODE],F=G.atlases;for(var X=0;X<F.length;X++){var H=F[X],N=H.canvas;if(N){var{width:z,height:M}=N,W=z*X,L=N.height*K,E=0.4;Y.save(),Y.scale(E,E),Y.drawImage(N,W,L),Y.strokeStyle=\"black\",Y.rect(W,L,z,M),Y.stroke(),Y.restore()}}},Z=0;J(Q.drawing,\"node\",Z++),J(Q.drawing,\"label\",Z++)}function Y3(Q,J,Z,U,$){var q,K,G,Y,F=_U(Q),X=F.pan,H=F.zoom;{var N=vA(Q,X,H,J,Z),z=Y8(N,2),M=z[0],W=z[1],L=6;q=M-L/2,K=W-L/2,G=L,Y=L}if(G===0||Y===0)return[];var E=Q.data.contexts[Q.WEBGL];if(E.bindFramebuffer(E.FRAMEBUFFER,Q.pickingFrameBuffer),Q.pickingFrameBuffer.needsDraw)E.viewport(0,0,E.canvas.width,E.canvas.height),OG(Q,null,PZ.PICKING),Q.pickingFrameBuffer.needsDraw=!1;var B=G*Y,V=new Uint8Array(B*4);E.readPixels(q,K,G,Y,E.RGBA,E.UNSIGNED_BYTE,V),E.bindFramebuffer(E.FRAMEBUFFER,null);var D=new Set;for(var O=0;O<B;O++){var A=V.slice(O*4,O*4+4),R=bA(A)-1;if(R>=0)D.add(R)}return D}function F3(Q,J,Z){var U=Y3(Q,J,Z),$=Q.getCachedZSortedEles(),q,K,G=y8(U),Y;try{for(G.s();!(Y=G.n()).done;){var F=Y.value,X=$[F];if(!q&&X.isNode())q=X;if(!K&&X.isEdge())K=X;if(q&&K)break}}catch(H){G.e(H)}finally{G.f()}return[q,K].filter(Boolean)}function g0(Q,J,Z){var U=Q.drawing;if(J+=1,Z.isNode())U.drawNode(Z,J,\"node-underlay\"),U.drawNode(Z,J,\"node-body\"),U.drawTexture(Z,J,\"label\"),U.drawNode(Z,J,\"node-overlay\");else U.drawEdgeLine(Z,J),U.drawEdgeArrow(Z,J,\"source\"),U.drawEdgeArrow(Z,J,\"target\"),U.drawTexture(Z,J,\"label\"),U.drawTexture(Z,J,\"edge-source-label\"),U.drawTexture(Z,J,\"edge-target-label\")}function OG(Q,J,Z){var U;if(Q.webglDebug)U=performance.now();var $=Q.drawing,q=0;if(Z.screen){if(Q.data.canvasNeedsRedraw[Q.SELECT_BOX])q3(Q,J)}if(Q.data.canvasNeedsRedraw[Q.NODE]||Z.picking){var K=Q.data.contexts[Q.WEBGL];if(Z.screen)K.clearColor(0,0,0,0),K.enable(K.BLEND),K.blendFunc(K.ONE,K.ONE_MINUS_SRC_ALPHA);else K.disable(K.BLEND);K.clear(K.COLOR_BUFFER_BIT|K.DEPTH_BUFFER_BIT),K.viewport(0,0,K.canvas.width,K.canvas.height);var G=$3(Q),Y=Q.getCachedZSortedEles();if(q=Y.length,$.startFrame(G,Z),Z.screen){for(var F=0;F<Y.nondrag.length;F++)g0(Q,F,Y.nondrag[F]);for(var X=0;X<Y.drag.length;X++)g0(Q,X,Y.drag[X])}else if(Z.picking)for(var H=0;H<Y.length;H++)g0(Q,H,Y[H]);if($.endFrame(),Z.screen&&Q.webglDebugShowAtlases)K3(Q),G3(Q);Q.data.canvasNeedsRedraw[Q.NODE]=!1,Q.data.canvasNeedsRedraw[Q.DRAG]=!1}if(Q.webglDebug){var N=performance.now(),z=!1,M=Math.ceil(N-U),W=$.getDebugInfo(),L=[\"\".concat(q,\" elements\"),\"\".concat(W.totalInstances,\" instances\"),\"\".concat(W.batchCount,\" batches\"),\"\".concat(W.totalAtlases,\" atlases\"),\"\".concat(W.wrappedCount,\" wrapped textures\"),\"\".concat(W.simpleCount,\" simple shapes\")].join(\", \");if(z)console.log(\"WebGL (\".concat(Z.name,\") - time \").concat(M,\"ms, \").concat(L));else{console.log(\"WebGL (\".concat(Z.name,\") - frame time \").concat(M,\"ms\")),console.log(\"Totals:\"),console.log(\"  \".concat(L)),console.log(\"Texture Atlases Used:\");var E=W.atlasInfo,B=y8(E),V;try{for(B.s();!(V=B.n()).done;){var D=V.value;console.log(\"  \".concat(D.type,\": \").concat(D.keyCount,\" keys, \").concat(D.atlasCount,\" atlases\"))}}catch(O){B.e(O)}finally{B.f()}console.log(\"\")}}if(Q.data.gc)console.log(\"Garbage Collect!\"),Q.data.gc=!1,$.gc()}var s9={};s9.drawPolygonPath=function(Q,J,Z,U,$,q){var K=U/2,G=$/2;if(Q.beginPath)Q.beginPath();Q.moveTo(J+K*q[0],Z+G*q[1]);for(var Y=1;Y<q.length/2;Y++)Q.lineTo(J+K*q[Y*2],Z+G*q[Y*2+1]);Q.closePath()};s9.drawRoundPolygonPath=function(Q,J,Z,U,$,q,K){K.forEach(function(G){return UG(Q,G)}),Q.closePath()};s9.drawRoundRectanglePath=function(Q,J,Z,U,$,q){var K=U/2,G=$/2,Y=q===\"auto\"?u9(U,$):Math.min(q,G,K);if(Q.beginPath)Q.beginPath();Q.moveTo(J,Z-G),Q.arcTo(J+K,Z-G,J+K,Z,Y),Q.arcTo(J+K,Z+G,J,Z+G,Y),Q.arcTo(J-K,Z+G,J-K,Z,Y),Q.arcTo(J-K,Z-G,J,Z-G,Y),Q.lineTo(J,Z-G),Q.closePath()};s9.drawBottomRoundRectanglePath=function(Q,J,Z,U,$,q){var K=U/2,G=$/2,Y=q===\"auto\"?u9(U,$):q;if(Q.beginPath)Q.beginPath();Q.moveTo(J,Z-G),Q.lineTo(J+K,Z-G),Q.lineTo(J+K,Z),Q.arcTo(J+K,Z+G,J,Z+G,Y),Q.arcTo(J-K,Z+G,J-K,Z,Y),Q.lineTo(J-K,Z-G),Q.lineTo(J,Z-G),Q.closePath()};s9.drawCutRectanglePath=function(Q,J,Z,U,$,q,K){var G=U/2,Y=$/2,F=K===\"auto\"?BU():K;if(Q.beginPath)Q.beginPath();Q.moveTo(J-G+F,Z-Y),Q.lineTo(J+G-F,Z-Y),Q.lineTo(J+G,Z-Y+F),Q.lineTo(J+G,Z+Y-F),Q.lineTo(J+G-F,Z+Y),Q.lineTo(J-G+F,Z+Y),Q.lineTo(J-G,Z+Y-F),Q.lineTo(J-G,Z-Y+F),Q.closePath()};s9.drawBarrelPath=function(Q,J,Z,U,$){var q=U/2,K=$/2,G=J-q,Y=J+q,F=Z-K,X=Z+K,H=p0(U,$),N=H.widthOffset,z=H.heightOffset,M=H.ctrlPtOffsetPct*N;if(Q.beginPath)Q.beginPath();Q.moveTo(G,F+z),Q.lineTo(G,X-z),Q.quadraticCurveTo(G+M,X,G+N,X),Q.lineTo(Y-N,X),Q.quadraticCurveTo(Y-M,X,Y,X-z),Q.lineTo(Y,F+z),Q.quadraticCurveTo(Y-M,F,Y-N,F),Q.lineTo(G+N,F),Q.quadraticCurveTo(G+M,F,G,F+z),Q.closePath()};var m1=Math.sin(0),y1=Math.cos(0),qU={},KU={},AG=Math.PI/40;for(w9=0*Math.PI;w9<2*Math.PI;w9+=AG)qU[w9]=Math.sin(w9),KU[w9]=Math.cos(w9);var w9;s9.drawEllipsePath=function(Q,J,Z,U,$){if(Q.beginPath)Q.beginPath();if(Q.ellipse)Q.ellipse(J,Z,U/2,$/2,0,0,2*Math.PI);else{var q,K,G=U/2,Y=$/2;for(var F=0*Math.PI;F<2*Math.PI;F+=AG)if(q=J-G*qU[F]*m1+G*KU[F]*y1,K=Z+Y*KU[F]*m1+Y*qU[F]*y1,F===0)Q.moveTo(q,K);else Q.lineTo(q,K)}Q.closePath()};var rZ={};rZ.createBuffer=function(Q,J){var Z=document.createElement(\"canvas\");return Z.width=Q,Z.height=J,[Z,Z.getContext(\"2d\")]};rZ.bufferCanvasImage=function(Q){var J=this.cy,Z=J.mutableElements(),U=Z.boundingBox(),$=this.findContainerClientCoords(),q=Q.full?Math.ceil(U.w):$[2],K=Q.full?Math.ceil(U.h):$[3],G=$J(Q.maxWidth)||$J(Q.maxHeight),Y=this.getPixelRatio(),F=1;if(Q.scale!==void 0)q*=Q.scale,K*=Q.scale,F=Q.scale;else if(G){var X=1/0,H=1/0;if($J(Q.maxWidth))X=F*Q.maxWidth/q;if($J(Q.maxHeight))H=F*Q.maxHeight/K;F=Math.min(X,H),q*=F,K*=F}if(!G)q*=Y,K*=Y,F*=Y;var N=document.createElement(\"canvas\");N.width=q,N.height=K,N.style.width=q+\"px\",N.style.height=K+\"px\";var z=N.getContext(\"2d\");if(q>0&&K>0){z.clearRect(0,0,q,K),z.globalCompositeOperation=\"source-over\";var M=this.getCachedZSortedEles();if(Q.full)z.translate(-U.x1*F,-U.y1*F),z.scale(F,F),this.drawElements(z,M),z.scale(1/F,1/F),z.translate(U.x1*F,U.y1*F);else{var W=J.pan(),L={x:W.x*F,y:W.y*F};F*=J.zoom(),z.translate(L.x,L.y),z.scale(F,F),this.drawElements(z,M),z.scale(1/F,1/F),z.translate(-L.x,-L.y)}if(Q.bg)z.globalCompositeOperation=\"destination-over\",z.fillStyle=Q.bg,z.rect(0,0,q,K),z.fill()}return N};function X3(Q,J){var Z=atob(Q),U=new ArrayBuffer(Z.length),$=new Uint8Array(U);for(var q=0;q<Z.length;q++)$[q]=Z.charCodeAt(q);return new Blob([U],{type:J})}function h1(Q){var J=Q.indexOf(\",\");return Q.substr(J+1)}function CG(Q,J,Z){var U=function $(){return J.toDataURL(Z,Q.quality)};switch(Q.output){case\"blob-promise\":return new aQ(function($,q){try{J.toBlob(function(K){if(K!=null)$(K);else q(new Error(\"`canvas.toBlob()` sent a null value in its callback\"))},Z,Q.quality)}catch(K){q(K)}});case\"blob\":return X3(h1(U()),Z);case\"base64\":return h1(U());case\"base64uri\":default:return U()}}rZ.png=function(Q){return CG(Q,this.bufferCanvasImage(Q),\"image/png\")};rZ.jpg=function(Q){return CG(Q,this.bufferCanvasImage(Q),\"image/jpeg\")};var SG={};SG.nodeShapeImpl=function(Q,J,Z,U,$,q,K,G){switch(Q){case\"ellipse\":return this.drawEllipsePath(J,Z,U,$,q);case\"polygon\":return this.drawPolygonPath(J,Z,U,$,q,K);case\"round-polygon\":return this.drawRoundPolygonPath(J,Z,U,$,q,K,G);case\"roundrectangle\":case\"round-rectangle\":return this.drawRoundRectanglePath(J,Z,U,$,q,G);case\"cutrectangle\":case\"cut-rectangle\":return this.drawCutRectanglePath(J,Z,U,$,q,K,G);case\"bottomroundrectangle\":case\"bottom-round-rectangle\":return this.drawBottomRoundRectanglePath(J,Z,U,$,q,G);case\"barrel\":return this.drawBarrelPath(J,Z,U,$,q)}};var H3=IG,kJ=IG.prototype;kJ.CANVAS_LAYERS=3;kJ.SELECT_BOX=0;kJ.DRAG=1;kJ.NODE=2;kJ.WEBGL=3;kJ.CANVAS_TYPES=[\"2d\",\"2d\",\"2d\",\"webgl2\"];kJ.BUFFER_COUNT=3;kJ.TEXTURE_BUFFER=0;kJ.MOTIONBLUR_BUFFER_NODE=1;kJ.MOTIONBLUR_BUFFER_DRAG=2;function IG(Q){var J=this,Z=J.cy.window(),U=Z.document;if(Q.webgl)kJ.CANVAS_LAYERS=J.CANVAS_LAYERS=4,console.log(\"webgl rendering enabled\");J.data={canvases:new Array(kJ.CANVAS_LAYERS),contexts:new Array(kJ.CANVAS_LAYERS),canvasNeedsRedraw:new Array(kJ.CANVAS_LAYERS),bufferCanvases:new Array(kJ.BUFFER_COUNT),bufferContexts:new Array(kJ.CANVAS_LAYERS)};var $=\"-webkit-tap-highlight-color\",q=\"rgba(0,0,0,0)\";J.data.canvasContainer=U.createElement(\"div\");var K=J.data.canvasContainer.style;J.data.canvasContainer.style[$]=q,K.position=\"relative\",K.zIndex=\"0\",K.overflow=\"hidden\";var G=Q.cy.container();G.appendChild(J.data.canvasContainer),G.style[$]=q;var Y={\"-webkit-user-select\":\"none\",\"-moz-user-select\":\"-moz-none\",\"user-select\":\"none\",\"-webkit-tap-highlight-color\":\"rgba(0,0,0,0)\",\"outline-style\":\"none\"};if(q2())Y[\"-ms-touch-action\"]=\"none\",Y[\"touch-action\"]=\"none\";for(var F=0;F<kJ.CANVAS_LAYERS;F++){var X=J.data.canvases[F]=U.createElement(\"canvas\"),H=kJ.CANVAS_TYPES[F];if(J.data.contexts[F]=X.getContext(H),!J.data.contexts[F])J8(\"Could not create canvas of type \"+H);Object.keys(Y).forEach(function(e){X.style[e]=Y[e]}),X.style.position=\"absolute\",X.setAttribute(\"data-id\",\"layer\"+F),X.style.zIndex=String(kJ.CANVAS_LAYERS-F),J.data.canvasContainer.appendChild(X),J.data.canvasNeedsRedraw[F]=!1}if(J.data.topCanvas=J.data.canvases[0],J.data.canvases[kJ.NODE].setAttribute(\"data-id\",\"layer\"+kJ.NODE+\"-node\"),J.data.canvases[kJ.SELECT_BOX].setAttribute(\"data-id\",\"layer\"+kJ.SELECT_BOX+\"-selectbox\"),J.data.canvases[kJ.DRAG].setAttribute(\"data-id\",\"layer\"+kJ.DRAG+\"-drag\"),J.data.canvases[kJ.WEBGL])J.data.canvases[kJ.WEBGL].setAttribute(\"data-id\",\"layer\"+kJ.WEBGL+\"-webgl\");for(var F=0;F<kJ.BUFFER_COUNT;F++)J.data.bufferCanvases[F]=U.createElement(\"canvas\"),J.data.bufferContexts[F]=J.data.bufferCanvases[F].getContext(\"2d\"),J.data.bufferCanvases[F].style.position=\"absolute\",J.data.bufferCanvases[F].setAttribute(\"data-id\",\"buffer\"+F),J.data.bufferCanvases[F].style.zIndex=String(-F-1),J.data.bufferCanvases[F].style.visibility=\"hidden\";J.pathsEnabled=!0;var N=w8(),z=function e(h){return{x:(h.x1+h.x2)/2,y:(h.y1+h.y2)/2}},M=function e(h){return{x:-h.w/2,y:-h.h/2}},W=function e(h){var d=h[0]._private,p=d.oldBackgroundTimestamp===d.backgroundTimestamp;return!p},L=function e(h){return h[0]._private.nodeKey},E=function e(h){return h[0]._private.labelStyleKey},B=function e(h){return h[0]._private.sourceLabelStyleKey},V=function e(h){return h[0]._private.targetLabelStyleKey},D=function e(h,d,p,r,UJ){return J.drawElement(h,d,p,!1,!1,UJ)},O=function e(h,d,p,r,UJ){return J.drawElementText(h,d,p,r,\"main\",UJ)},A=function e(h,d,p,r,UJ){return J.drawElementText(h,d,p,r,\"source\",UJ)},R=function e(h,d,p,r,UJ){return J.drawElementText(h,d,p,r,\"target\",UJ)},C=function e(h){return h.boundingBox(),h[0]._private.bodyBounds},I=function e(h){return h.boundingBox(),h[0]._private.labelBounds.main||N},T=function e(h){return h.boundingBox(),h[0]._private.labelBounds.source||N},P=function e(h){return h.boundingBox(),h[0]._private.labelBounds.target||N},k=function e(h,d){return d},j=function e(h){return z(C(h))},_=function e(h,d,p){var r=h?h+\"-\":\"\";return{x:d.x+p.pstyle(r+\"text-margin-x\").pfValue,y:d.y+p.pstyle(r+\"text-margin-y\").pfValue}},x=function e(h,d,p){var r=h[0]._private.rscratch;return{x:r[d],y:r[p]}},f=function e(h){return _(\"\",x(h,\"labelX\",\"labelY\"),h)},v=function e(h){return _(\"source\",x(h,\"sourceLabelX\",\"sourceLabelY\"),h)},b=function e(h){return _(\"target\",x(h,\"targetLabelX\",\"targetLabelY\"),h)},y=function e(h){return M(C(h))},g=function e(h){return M(T(h))},m=function e(h){return M(P(h))},u=function e(h){var d=I(h),p=M(I(h));if(h.isNode()){switch(h.pstyle(\"text-halign\").value){case\"left\":p.x=-d.w-(d.leftPad||0);break;case\"right\":p.x=-(d.rightPad||0);break}switch(h.pstyle(\"text-valign\").value){case\"top\":p.y=-d.h-(d.topPad||0);break;case\"bottom\":p.y=-(d.botPad||0);break}}return p},n=J.data.eleTxrCache=new SZ(J,{getKey:L,doesEleInvalidateKey:W,drawElement:D,getBoundingBox:C,getRotationPoint:j,getRotationOffset:y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),t=J.data.lblTxrCache=new SZ(J,{getKey:E,drawElement:O,getBoundingBox:I,getRotationPoint:f,getRotationOffset:u,isVisible:k}),s=J.data.slbTxrCache=new SZ(J,{getKey:B,drawElement:A,getBoundingBox:T,getRotationPoint:v,getRotationOffset:g,isVisible:k}),JJ=J.data.tlbTxrCache=new SZ(J,{getKey:V,drawElement:R,getBoundingBox:P,getRotationPoint:b,getRotationOffset:m,isVisible:k}),ZJ=J.data.lyrTxrCache=new MG(J);J.onUpdateEleCalcs(function e(h,d){n.invalidateElements(d),t.invalidateElements(d),s.invalidateElements(d),JJ.invalidateElements(d),ZJ.invalidateElements(d);for(var p=0;p<d.length;p++){var r=d[p]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var qJ=function e(h){for(var d=0;d<h.length;d++)ZJ.enqueueElementRefinement(h[d].ele)};if(n.onDequeue(qJ),t.onDequeue(qJ),s.onDequeue(qJ),JJ.onDequeue(qJ),Q.webgl)J.initWebgl(Q,{getStyleKey:L,getLabelKey:E,getSourceLabelKey:B,getTargetLabelKey:V,drawElement:D,drawLabel:O,drawSourceLabel:A,drawTargetLabel:R,getElementBox:C,getLabelBox:I,getSourceLabelBox:T,getTargetLabelBox:P,getElementRotationPoint:j,getElementRotationOffset:y,getLabelRotationPoint:f,getSourceLabelRotationPoint:v,getTargetLabelRotationPoint:b,getLabelRotationOffset:u,getSourceLabelRotationOffset:g,getTargetLabelRotationOffset:m})}kJ.redrawHint=function(Q,J){var Z=this;switch(Q){case\"eles\":Z.data.canvasNeedsRedraw[kJ.NODE]=J;break;case\"drag\":Z.data.canvasNeedsRedraw[kJ.DRAG]=J;break;case\"select\":Z.data.canvasNeedsRedraw[kJ.SELECT_BOX]=J;break;case\"gc\":Z.data.gc=!0;break}};var N3=typeof Path2D!==\"undefined\";kJ.path2dEnabled=function(Q){if(Q===void 0)return this.pathsEnabled;this.pathsEnabled=Q?!0:!1};kJ.usePaths=function(){return N3&&this.pathsEnabled};kJ.setImgSmoothing=function(Q,J){if(Q.imageSmoothingEnabled!=null)Q.imageSmoothingEnabled=J;else Q.webkitImageSmoothingEnabled=J,Q.mozImageSmoothingEnabled=J,Q.msImageSmoothingEnabled=J};kJ.getImgSmoothing=function(Q){if(Q.imageSmoothingEnabled!=null)return Q.imageSmoothingEnabled;else return Q.webkitImageSmoothingEnabled||Q.mozImageSmoothingEnabled||Q.msImageSmoothingEnabled};kJ.makeOffscreenCanvas=function(Q,J){var Z;if((typeof OffscreenCanvas===\"undefined\"?\"undefined\":M8(OffscreenCanvas))!==\"undefined\")Z=new OffscreenCanvas(Q,J);else{var U=this.cy.window(),$=U.document;Z=$.createElement(\"canvas\"),Z.width=Q,Z.height=J}return Z};[zG,Y9,O9,wU,EQ,n9,_8,VG,s9,rZ,SG].forEach(function(Q){DJ(kJ,Q)});var M3=[{name:\"null\",impl:JG},{name:\"base\",impl:XG},{name:\"canvas\",impl:H3}],z3=[{type:\"layout\",extensions:hO},{type:\"renderer\",extensions:M3}],TG={},PG={};function kG(Q,J,Z){var U=Z,$=function R(C){lJ(\"Can not register `\"+J+\"` for `\"+Q+\"` since `\"+C+\"` already exists in the prototype and can not be overridden\")};if(Q===\"core\")if(mZ.prototype[J])return $(J);else mZ.prototype[J]=Z;else if(Q===\"collection\")if(O8.prototype[J])return $(J);else O8.prototype[J]=Z;else if(Q===\"layout\"){var q=function R(C){if(this.options=C,Z.call(this,C),!yJ(this._private))this._private={};this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},K=q.prototype=Object.create(Z.prototype),G=[];for(var Y=0;Y<G.length;Y++){var F=G[Y];K[F]=K[F]||function(){return this}}if(K.start&&!K.run)K.run=function(){return this.start(),this};else if(!K.start&&K.run)K.start=function(){return this.run(),this};var X=Z.prototype.stop;if(K.stop=function(){var R=this.options;if(R&&R.animate){var C=this.animations;if(C)for(var I=0;I<C.length;I++)C[I].stop()}if(X)X.call(this);else this.emit(\"layoutstop\");return this},!K.destroy)K.destroy=function(){return this};K.cy=function(){return this._private.cy};var H=function R(C){return C._private.cy},N={addEventFields:function R(C,I){I.layout=C,I.cy=H(C),I.target=C},bubble:function R(){return!0},parent:function R(C){return H(C)}};DJ(K,{createEmitter:function R(){return this._private.emitter=new R7(N,this),this},emitter:function R(){return this._private.emitter},on:function R(C,I){return this.emitter().on(C,I),this},one:function R(C,I){return this.emitter().one(C,I),this},once:function R(C,I){return this.emitter().one(C,I),this},removeListener:function R(C,I){return this.emitter().removeListener(C,I),this},removeAllListeners:function R(){return this.emitter().removeAllListeners(),this},emit:function R(C,I){return this.emitter().emit(C,I),this}}),pJ.eventAliasesOn(K),U=q}else if(Q===\"renderer\"&&J!==\"null\"&&J!==\"base\"){var z=jG(\"renderer\",\"base\"),M=z.prototype,W=Z,L=Z.prototype,E=function R(){z.apply(this,arguments),W.apply(this,arguments)},B=E.prototype;for(var V in M){var D=M[V],O=L[V]!=null;if(O)return $(V);B[V]=D}for(var A in L)B[A]=L[A];M.clientFunctions.forEach(function(R){B[R]=B[R]||function(){J8(\"Renderer does not implement `renderer.\"+R+\"()` on its prototype\")}}),U=E}else if(Q===\"__proto__\"||Q===\"constructor\"||Q===\"prototype\")return J8(Q+\" is an illegal type to be registered, possibly lead to prototype pollutions\");return s1({map:TG,keys:[Q,J],value:U})}function jG(Q,J){return a1({map:TG,keys:[Q,J]})}function L3(Q,J,Z,U,$){return s1({map:PG,keys:[Q,J,Z,U],value:$})}function W3(Q,J,Z,U){return a1({map:PG,keys:[Q,J,Z,U]})}var GU=function Q(){if(arguments.length===2)return jG.apply(null,arguments);else if(arguments.length===3)return kG.apply(null,arguments);else if(arguments.length===4)return W3.apply(null,arguments);else if(arguments.length===5)return L3.apply(null,arguments);else J8(\"Invalid extension access syntax\")};mZ.prototype.extension=GU;z3.forEach(function(Q){Q.extensions.forEach(function(J){kG(Q.type,J.name,J.impl)})});var X7=function Q(){if(!(this instanceof X7))return new X7;this.length=0},LQ=X7.prototype;LQ.instanceString=function(){return\"stylesheet\"};LQ.selector=function(Q){var J=this.length++;return this[J]={selector:Q,properties:[]},this};LQ.css=function(Q,J){var Z=this.length-1;if(WJ(Q))this[Z].properties.push({name:Q,value:J});else if(yJ(Q)){var U=Q,$=Object.keys(U);for(var q=0;q<$.length;q++){var K=$[q],G=U[K];if(G==null)continue;var Y=B8.properties[K]||B8.properties[H7(K)];if(Y==null)continue;var F=Y.name,X=G;this[Z].properties.push({name:F,value:X})}}return this};LQ.style=LQ.css;LQ.generateStyle=function(Q){var J=new B8(Q);return this.appendToStyle(J)};LQ.appendToStyle=function(Q){for(var J=0;J<this.length;J++){var Z=this[J],U=Z.selector,$=Z.properties;Q.selector(U);for(var q=0;q<$.length;q++){var K=$[q];Q.css(K.name,K.value)}}return Q};var E3=\"3.33.1\",D9=function Q(J){if(J===void 0)J={};if(yJ(J))return new mZ(J);else if(WJ(J))return GU.apply(GU,arguments)};D9.use=function(Q){var J=Array.prototype.slice.call(arguments,1);return J.unshift(D9),Q.apply(null,J),this};D9.warnings=function(Q){return ZK(Q)};D9.version=E3;D9.stylesheet=D9.Stylesheet=X7;var _d=TB();D9.use(_d);var{nodes:vd,edges:fd,legend:xd}=window.__FISHTAIL_DATA__,L8=window.cy=D9({container:document.getElementById(\"cy\"),elements:{nodes:vd,edges:fd},style:[{selector:\"node\",style:{label:\"data(label)\",\"font-size\":\"11px\",\"font-family\":\"ui-monospace, SFMono-Regular, monospace\",\"text-valign\":\"center\",\"text-halign\":\"center\",color:\"#e2e8f0\",width:\"label\",height:\"label\",padding:\"8px\",\"background-color\":\"data(bgColor)\",\"border-width\":1,\"border-color\":\"data(borderColor)\",shape:\"round-rectangle\",\"transition-property\":\"opacity, border-color, border-width\",\"transition-duration\":\"150ms\"}},{selector:\"node.highlighted\",style:{\"border-width\":2,\"border-color\":\"#ffffff\",\"z-index\":10}},{selector:\"node.selected-node\",style:{\"border-width\":3,\"border-color\":\"#fbbf24\",\"z-index\":20}},{selector:\"node.dimmed\",style:{opacity:0.12}},{selector:\"edge\",style:{width:1,\"line-color\":\"#374151\",\"target-arrow-color\":\"#374151\",\"target-arrow-shape\":\"triangle\",\"arrow-scale\":0.8,\"curve-style\":\"bezier\",\"transition-property\":\"opacity, line-color, target-arrow-color\",\"transition-duration\":\"150ms\"}},{selector:\"edge.highlighted\",style:{width:2,\"line-color\":\"#fbbf24\",\"target-arrow-color\":\"#fbbf24\",\"z-index\":10}},{selector:\"edge.dimmed\",style:{opacity:0.05}}],layout:{name:\"dagre\",rankDir:\"TB\",nodeSep:40,rankSep:80,padding:30,animate:!1}}),bd=document.getElementById(\"legend\");xd.forEach((Q)=>{let J=document.createElement(\"div\");J.className=\"legend-row\";let Z=document.createElement(\"div\");Z.className=\"node-dot\",Z.style.background=Q.color;let U=document.createElement(\"span\");U.textContent=Q.name,J.appendChild(Z),J.appendChild(U),bd.appendChild(J)});var md=document.getElementById(\"node-list\");L8.nodes().sort((Q,J)=>Q.id()<J.id()?-1:1).forEach((Q)=>{let J=document.createElement(\"div\");J.className=\"node-item\",J.dataset.id=Q.id(),J.dataset.subgraph=Q.data(\"subgraph\")||\"\";let Z=document.createElement(\"div\");Z.className=\"node-dot\",Z.style.background=Q.data(\"dotColor\");let U=document.createElement(\"span\");U.className=\"node-name\",U.textContent=Q.id(),J.appendChild(Z),J.appendChild(U),J.addEventListener(\"click\",()=>wB(Q)),md.appendChild(J)});function PB(Q){document.querySelectorAll(\".node-item\").forEach((J)=>{J.classList.toggle(\"active\",J.dataset.id===Q)})}document.getElementById(\"search\").addEventListener(\"input\",function(){let Q=this.value.trim().toLowerCase();if(document.querySelectorAll(\".node-item\").forEach((Z)=>{Z.classList.toggle(\"hidden\",Q!==\"\"&&!(Z.dataset.id??\"\").includes(Q))}),Q===\"\")return;let J=L8.nodes().filter((Z)=>Z.id().includes(Q));if(J.length>0)L8.animate({fit:{eles:J,padding:60},duration:300})});var TQ=null,PQ=!1;function kB(Q){let J=Q.successors(\"node\").union(Q.predecessors(\"node\")).union(Q);return J.union(J.edgesWith(J))}function jB(Q){let J=kB(Q);L8.elements().removeClass(\"highlighted selected-node dimmed\"),L8.elements().not(J).addClass(\"dimmed\"),J.addClass(\"highlighted\"),Q.addClass(\"selected-node\")}function K4(){L8.elements().removeClass(\"highlighted selected-node dimmed\"),TQ=null,PB(null),document.getElementById(\"focus-btn\").disabled=!0}function wB(Q){if(PQ)C6();TQ=Q,jB(Q),PB(Q.id()),document.getElementById(\"focus-btn\").disabled=!1,L8.animate({center:{eles:Q},duration:200})}function yd(){if(!TQ)return;PQ=!0;let Q=kB(TQ);L8.elements().not(Q).style(\"display\",\"none\"),Q.style(\"display\",\"element\"),L8.animate({fit:{eles:Q,padding:60},duration:300});let J=document.getElementById(\"focus-btn\");J.textContent=\"Exit focus\",J.style.color=\"#fbbf24\",J.style.borderColor=\"#fbbf24\";let Z=Q.nodes().length-1;G4(`Focus: ${TQ.id()} â€” ${Z} related nodes`)}function C6(){PQ=!1,L8.elements().style(\"display\",\"element\");let Q=document.getElementById(\"focus-btn\");if(Q.textContent=\"Focus selected\",Q.style.color=\"\",Q.style.borderColor=\"\",G4(\"\"),TQ)jB(TQ)}L8.on(\"tap\",\"node\",(Q)=>wB(Q.target));L8.on(\"tap\",(Q)=>{if(Q.target===L8){if(PQ)C6();K4()}});var A6=document.getElementById(\"tooltip\");L8.on(\"mouseover\",\"node\",(Q)=>{let J=Q.target;A6.innerHTML=`<div class=\"tt-name\">${J.id()}</div><div class=\"tt-type\">${J.data(\"subgraph\")??\"unassigned\"}</div><div class=\"tt-stat\">depends on: ${J.outdegree(!1)} &nbsp; used by: ${J.indegree(!1)}</div>`,A6.style.display=\"block\"});L8.on(\"mousemove\",\"node\",(Q)=>{let J=Q.originalEvent;A6.style.left=`${J.clientX+14}px`,A6.style.top=`${J.clientY-10}px`});L8.on(\"mouseout\",\"node\",()=>{A6.style.display=\"none\"});document.getElementById(\"focus-btn\").addEventListener(\"click\",()=>{if(PQ)C6();else yd()});document.getElementById(\"fit-btn\").addEventListener(\"click\",()=>{if(PQ)C6();K4(),L8.animate({fit:{padding:30},duration:300})});document.getElementById(\"reset-btn\").addEventListener(\"click\",()=>{if(PQ)C6();K4()});function G4(Q){document.getElementById(\"status\").textContent=Q}G4(`${L8.nodes().length} nodes Â· ${L8.edges().length} edges`);\n";
