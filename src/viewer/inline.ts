// AUTO-GENERATED by scripts/inline-viewer.ts â€” do not edit directly.
// Run `bun run build:viewer` to regenerate after changing src/viewer/index.ts.
export const viewerBundle = "var w=(Q,J)=>()=>(J||Q((J={exports:{}}).exports,J),J.exports);var kG=w((pd,PG)=>{function L3(){this.__data__=[],this.size=0}PG.exports=L3});var BQ=w((ld,jG)=>{function W3(Q,J){return Q===J||Q!==Q&&J!==J}jG.exports=W3});var aZ=w((id,wG)=>{var E3=BQ();function B3(Q,J){var Z=Q.length;while(Z--)if(E3(Q[Z][0],J))return Z;return-1}wG.exports=B3});var vG=w((nd,_G)=>{var V3=aZ(),D3=Array.prototype,R3=D3.splice;function O3(Q){var J=this.__data__,Z=V3(J,Q);if(Z<0)return!1;var U=J.length-1;if(Z==U)J.pop();else R3.call(J,Z,1);return--this.size,!0}_G.exports=O3});var xG=w((sd,fG)=>{var A3=aZ();function C3(Q){var J=this.__data__,Z=A3(J,Q);return Z<0?void 0:J[Z][1]}fG.exports=C3});var mG=w((ad,bG)=>{var S3=aZ();function I3(Q){return S3(this.__data__,Q)>-1}bG.exports=I3});var hG=w((rd,yG)=>{var T3=aZ();function P3(Q,J){var Z=this.__data__,U=T3(Z,Q);if(U<0)++this.size,Z.push([Q,J]);else Z[U][1]=J;return this}yG.exports=P3});var rZ=w((od,uG)=>{var k3=kG(),j3=vG(),w3=xG(),_3=mG(),v3=hG();function tQ(Q){var J=-1,Z=Q==null?0:Q.length;this.clear();while(++J<Z){var U=Q[J];this.set(U[0],U[1])}}tQ.prototype.clear=k3;tQ.prototype.delete=j3;tQ.prototype.get=w3;tQ.prototype.has=_3;tQ.prototype.set=v3;uG.exports=tQ});var dG=w((td,gG)=>{var f3=rZ();function x3(){this.__data__=new f3,this.size=0}gG.exports=x3});var pG=w((ed,cG)=>{function b3(Q){var J=this.__data__,Z=J.delete(Q);return this.size=J.size,Z}cG.exports=b3});var iG=w((Jc,lG)=>{function m3(Q){return this.__data__.get(Q)}lG.exports=m3});var sG=w((Qc,nG)=>{function y3(Q){return this.__data__.has(Q)}nG.exports=y3});var jU=w((Zc,aG)=>{var h3=typeof global==\"object\"&&global&&global.Object===Object&&global;aG.exports=h3});var n8=w((Uc,rG)=>{var u3=jU(),g3=typeof self==\"object\"&&self&&self.Object===Object&&self,d3=u3||g3||Function(\"return this\")();rG.exports=d3});var VQ=w(($c,oG)=>{var c3=n8(),p3=c3.Symbol;oG.exports=p3});var QY=w((qc,JY)=>{var tG=VQ(),eG=Object.prototype,l3=eG.hasOwnProperty,i3=eG.toString,oZ=tG?tG.toStringTag:void 0;function n3(Q){var J=l3.call(Q,oZ),Z=Q[oZ];try{Q[oZ]=void 0;var U=!0}catch(q){}var $=i3.call(Q);if(U)if(J)Q[oZ]=Z;else delete Q[oZ];return $}JY.exports=n3});var UY=w((Kc,ZY)=>{var s3=Object.prototype,a3=s3.toString;function r3(Q){return a3.call(Q)}ZY.exports=r3});var a9=w((Gc,KY)=>{var $Y=VQ(),o3=QY(),t3=UY(),e3=\"[object Null]\",JC=\"[object Undefined]\",qY=$Y?$Y.toStringTag:void 0;function QC(Q){if(Q==null)return Q===void 0?JC:e3;return qY&&qY in Object(Q)?o3(Q):t3(Q)}KY.exports=QC});var u8=w((Yc,GY)=>{function ZC(Q){var J=typeof Q;return Q!=null&&(J==\"object\"||J==\"function\")}GY.exports=ZC});var eQ=w((Fc,YY)=>{var UC=a9(),$C=u8(),qC=\"[object AsyncFunction]\",KC=\"[object Function]\",GC=\"[object GeneratorFunction]\",YC=\"[object Proxy]\";function FC(Q){if(!$C(Q))return!1;var J=UC(Q);return J==KC||J==GC||J==qC||J==YC}YY.exports=FC});var XY=w((Xc,FY)=>{var XC=n8(),HC=XC[\"__core-js_shared__\"];FY.exports=HC});var NY=w((Hc,MY)=>{var wU=XY(),HY=function(){var Q=/[^.]+$/.exec(wU&&wU.keys&&wU.keys.IE_PROTO||\"\");return Q?\"Symbol(src)_1.\"+Q:\"\"}();function MC(Q){return!!HY&&HY in Q}MY.exports=MC});var _U=w((Mc,zY)=>{var NC=Function.prototype,zC=NC.toString;function LC(Q){if(Q!=null){try{return zC.call(Q)}catch(J){}try{return Q+\"\"}catch(J){}}return\"\"}zY.exports=LC});var WY=w((Nc,LY)=>{var WC=eQ(),EC=NY(),BC=u8(),VC=_U(),DC=/[\\\\^$.*+?()[\\]{}|]/g,RC=/^\\[object .+?Constructor\\]$/,OC=Function.prototype,AC=Object.prototype,CC=OC.toString,SC=AC.hasOwnProperty,IC=RegExp(\"^\"+CC.call(SC).replace(DC,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function TC(Q){if(!BC(Q)||EC(Q))return!1;var J=WC(Q)?IC:RC;return J.test(VC(Q))}LY.exports=TC});var BY=w((zc,EY)=>{function PC(Q,J){return Q==null?void 0:Q[J]}EY.exports=PC});var r9=w((Lc,VY)=>{var kC=WY(),jC=BY();function wC(Q,J){var Z=jC(Q,J);return kC(Z)?Z:void 0}VY.exports=wC});var I7=w((Wc,DY)=>{var _C=r9(),vC=n8(),fC=_C(vC,\"Map\");DY.exports=fC});var tZ=w((Ec,RY)=>{var xC=r9(),bC=xC(Object,\"create\");RY.exports=bC});var CY=w((Bc,AY)=>{var OY=tZ();function mC(){this.__data__=OY?OY(null):{},this.size=0}AY.exports=mC});var IY=w((Vc,SY)=>{function yC(Q){var J=this.has(Q)&&delete this.__data__[Q];return this.size-=J?1:0,J}SY.exports=yC});var PY=w((Dc,TY)=>{var hC=tZ(),uC=\"__lodash_hash_undefined__\",gC=Object.prototype,dC=gC.hasOwnProperty;function cC(Q){var J=this.__data__;if(hC){var Z=J[Q];return Z===uC?void 0:Z}return dC.call(J,Q)?J[Q]:void 0}TY.exports=cC});var jY=w((Rc,kY)=>{var pC=tZ(),lC=Object.prototype,iC=lC.hasOwnProperty;function nC(Q){var J=this.__data__;return pC?J[Q]!==void 0:iC.call(J,Q)}kY.exports=nC});var _Y=w((Oc,wY)=>{var sC=tZ(),aC=\"__lodash_hash_undefined__\";function rC(Q,J){var Z=this.__data__;return this.size+=this.has(Q)?0:1,Z[Q]=sC&&J===void 0?aC:J,this}wY.exports=rC});var fY=w((Ac,vY)=>{var oC=CY(),tC=IY(),eC=PY(),JS=jY(),QS=_Y();function JZ(Q){var J=-1,Z=Q==null?0:Q.length;this.clear();while(++J<Z){var U=Q[J];this.set(U[0],U[1])}}JZ.prototype.clear=oC;JZ.prototype.delete=tC;JZ.prototype.get=eC;JZ.prototype.has=JS;JZ.prototype.set=QS;vY.exports=JZ});var mY=w((Cc,bY)=>{var xY=fY(),ZS=rZ(),US=I7();function $S(){this.size=0,this.__data__={hash:new xY,map:new(US||ZS),string:new xY}}bY.exports=$S});var hY=w((Sc,yY)=>{function qS(Q){var J=typeof Q;return J==\"string\"||J==\"number\"||J==\"symbol\"||J==\"boolean\"?Q!==\"__proto__\":Q===null}yY.exports=qS});var eZ=w((Ic,uY)=>{var KS=hY();function GS(Q,J){var Z=Q.__data__;return KS(J)?Z[typeof J==\"string\"?\"string\":\"hash\"]:Z.map}uY.exports=GS});var dY=w((Tc,gY)=>{var YS=eZ();function FS(Q){var J=YS(this,Q).delete(Q);return this.size-=J?1:0,J}gY.exports=FS});var pY=w((Pc,cY)=>{var XS=eZ();function HS(Q){return XS(this,Q).get(Q)}cY.exports=HS});var iY=w((kc,lY)=>{var MS=eZ();function NS(Q){return MS(this,Q).has(Q)}lY.exports=NS});var sY=w((jc,nY)=>{var zS=eZ();function LS(Q,J){var Z=zS(this,Q),U=Z.size;return Z.set(Q,J),this.size+=Z.size==U?0:1,this}nY.exports=LS});var T7=w((wc,aY)=>{var WS=mY(),ES=dY(),BS=pY(),VS=iY(),DS=sY();function QZ(Q){var J=-1,Z=Q==null?0:Q.length;this.clear();while(++J<Z){var U=Q[J];this.set(U[0],U[1])}}QZ.prototype.clear=WS;QZ.prototype.delete=ES;QZ.prototype.get=BS;QZ.prototype.has=VS;QZ.prototype.set=DS;aY.exports=QZ});var oY=w((_c,rY)=>{var RS=rZ(),OS=I7(),AS=T7(),CS=200;function SS(Q,J){var Z=this.__data__;if(Z instanceof RS){var U=Z.__data__;if(!OS||U.length<CS-1)return U.push([Q,J]),this.size=++Z.size,this;Z=this.__data__=new AS(U)}return Z.set(Q,J),this.size=Z.size,this}rY.exports=SS});var J6=w((vc,tY)=>{var IS=rZ(),TS=dG(),PS=pG(),kS=iG(),jS=sG(),wS=oY();function ZZ(Q){var J=this.__data__=new IS(Q);this.size=J.size}ZZ.prototype.clear=TS;ZZ.prototype.delete=PS;ZZ.prototype.get=kS;ZZ.prototype.has=jS;ZZ.prototype.set=wS;tY.exports=ZZ});var P7=w((fc,eY)=>{function _S(Q,J){var Z=-1,U=Q==null?0:Q.length;while(++Z<U)if(J(Q[Z],Z,Q)===!1)break;return Q}eY.exports=_S});var vU=w((xc,JF)=>{var vS=r9(),fS=function(){try{var Q=vS(Object,\"defineProperty\");return Q({},\"\",{}),Q}catch(J){}}();JF.exports=fS});var Q6=w((bc,ZF)=>{var QF=vU();function xS(Q,J,Z){if(J==\"__proto__\"&&QF)QF(Q,J,{configurable:!0,enumerable:!0,value:Z,writable:!0});else Q[J]=Z}ZF.exports=xS});var Z6=w((mc,UF)=>{var bS=Q6(),mS=BQ(),yS=Object.prototype,hS=yS.hasOwnProperty;function uS(Q,J,Z){var U=Q[J];if(!(hS.call(Q,J)&&mS(U,Z))||Z===void 0&&!(J in Q))bS(Q,J,Z)}UF.exports=uS});var UZ=w((yc,$F)=>{var gS=Z6(),dS=Q6();function cS(Q,J,Z,U){var $=!Z;Z||(Z={});var q=-1,K=J.length;while(++q<K){var G=J[q],Y=U?U(Z[G],Q[G],G,Z,Q):void 0;if(Y===void 0)Y=Q[G];if($)dS(Z,G,Y);else gS(Z,G,Y)}return Z}$F.exports=cS});var KF=w((hc,qF)=>{function pS(Q,J){var Z=-1,U=Array(Q);while(++Z<Q)U[Z]=J(Z);return U}qF.exports=pS});var Q9=w((uc,GF)=>{function lS(Q){return Q!=null&&typeof Q==\"object\"}GF.exports=lS});var FF=w((gc,YF)=>{var iS=a9(),nS=Q9(),sS=\"[object Arguments]\";function aS(Q){return nS(Q)&&iS(Q)==sS}YF.exports=aS});var $Z=w((dc,MF)=>{var XF=FF(),rS=Q9(),HF=Object.prototype,oS=HF.hasOwnProperty,tS=HF.propertyIsEnumerable,eS=XF(function(){return arguments}())?XF:function(Q){return rS(Q)&&oS.call(Q,\"callee\")&&!tS.call(Q,\"callee\")};MF.exports=eS});var q8=w((cc,NF)=>{var JI=Array.isArray;NF.exports=JI});var LF=w((pc,zF)=>{function QI(){return!1}zF.exports=QI});var DQ=w((k7,qZ)=>{var ZI=n8(),UI=LF(),BF=typeof k7==\"object\"&&k7&&!k7.nodeType&&k7,WF=BF&&typeof qZ==\"object\"&&qZ&&!qZ.nodeType&&qZ,$I=WF&&WF.exports===BF,EF=$I?ZI.Buffer:void 0,qI=EF?EF.isBuffer:void 0,KI=qI||UI;qZ.exports=KI});var U6=w((ic,VF)=>{var GI=9007199254740991,YI=/^(?:0|[1-9]\\d*)$/;function FI(Q,J){var Z=typeof Q;return J=J==null?GI:J,!!J&&(Z==\"number\"||Z!=\"symbol\"&&YI.test(Q))&&(Q>-1&&Q%1==0&&Q<J)}VF.exports=FI});var j7=w((nc,DF)=>{var XI=9007199254740991;function HI(Q){return typeof Q==\"number\"&&Q>-1&&Q%1==0&&Q<=XI}DF.exports=HI});var OF=w((sc,RF)=>{var MI=a9(),NI=j7(),zI=Q9(),LI=\"[object Arguments]\",WI=\"[object Array]\",EI=\"[object Boolean]\",BI=\"[object Date]\",VI=\"[object Error]\",DI=\"[object Function]\",RI=\"[object Map]\",OI=\"[object Number]\",AI=\"[object Object]\",CI=\"[object RegExp]\",SI=\"[object Set]\",II=\"[object String]\",TI=\"[object WeakMap]\",PI=\"[object ArrayBuffer]\",kI=\"[object DataView]\",jI=\"[object Float32Array]\",wI=\"[object Float64Array]\",_I=\"[object Int8Array]\",vI=\"[object Int16Array]\",fI=\"[object Int32Array]\",xI=\"[object Uint8Array]\",bI=\"[object Uint8ClampedArray]\",mI=\"[object Uint16Array]\",yI=\"[object Uint32Array]\",tJ={};tJ[jI]=tJ[wI]=tJ[_I]=tJ[vI]=tJ[fI]=tJ[xI]=tJ[bI]=tJ[mI]=tJ[yI]=!0;tJ[LI]=tJ[WI]=tJ[PI]=tJ[EI]=tJ[kI]=tJ[BI]=tJ[VI]=tJ[DI]=tJ[RI]=tJ[OI]=tJ[AI]=tJ[CI]=tJ[SI]=tJ[II]=tJ[TI]=!1;function hI(Q){return zI(Q)&&NI(Q.length)&&!!tJ[MI(Q)]}RF.exports=hI});var $6=w((ac,AF)=>{function uI(Q){return function(J){return Q(J)}}AF.exports=uI});var _7=w((w7,KZ)=>{var gI=jU(),CF=typeof w7==\"object\"&&w7&&!w7.nodeType&&w7,q6=CF&&typeof KZ==\"object\"&&KZ&&!KZ.nodeType&&KZ,dI=q6&&q6.exports===CF,fU=dI&&gI.process,cI=function(){try{var Q=q6&&q6.require&&q6.require(\"util\").types;if(Q)return Q;return fU&&fU.binding&&fU.binding(\"util\")}catch(J){}}();KZ.exports=cI});var GZ=w((oc,TF)=>{var pI=OF(),lI=$6(),SF=_7(),IF=SF&&SF.isTypedArray,iI=IF?lI(IF):pI;TF.exports=iI});var xU=w((tc,PF)=>{var nI=KF(),sI=$Z(),aI=q8(),rI=DQ(),oI=U6(),tI=GZ(),eI=Object.prototype,JT=eI.hasOwnProperty;function QT(Q,J){var Z=aI(Q),U=!Z&&sI(Q),$=!Z&&!U&&rI(Q),q=!Z&&!U&&!$&&tI(Q),K=Z||U||$||q,G=K?nI(Q.length,String):[],Y=G.length;for(var F in Q)if((J||JT.call(Q,F))&&!(K&&(F==\"length\"||$&&(F==\"offset\"||F==\"parent\")||q&&(F==\"buffer\"||F==\"byteLength\"||F==\"byteOffset\")||oI(F,Y))))G.push(F);return G}PF.exports=QT});var K6=w((ec,kF)=>{var ZT=Object.prototype;function UT(Q){var J=Q&&Q.constructor,Z=typeof J==\"function\"&&J.prototype||ZT;return Q===Z}kF.exports=UT});var bU=w((Jp,jF)=>{function $T(Q,J){return function(Z){return Q(J(Z))}}jF.exports=$T});var _F=w((Qp,wF)=>{var qT=bU(),KT=qT(Object.keys,Object);wF.exports=KT});var v7=w((Zp,vF)=>{var GT=K6(),YT=_F(),FT=Object.prototype,XT=FT.hasOwnProperty;function HT(Q){if(!GT(Q))return YT(Q);var J=[];for(var Z in Object(Q))if(XT.call(Q,Z)&&Z!=\"constructor\")J.push(Z);return J}vF.exports=HT});var F9=w((Up,fF)=>{var MT=eQ(),NT=j7();function zT(Q){return Q!=null&&NT(Q.length)&&!MT(Q)}fF.exports=zT});var A9=w(($p,xF)=>{var LT=xU(),WT=v7(),ET=F9();function BT(Q){return ET(Q)?LT(Q):WT(Q)}xF.exports=BT});var mF=w((qp,bF)=>{var VT=UZ(),DT=A9();function RT(Q,J){return Q&&VT(J,DT(J),Q)}bF.exports=RT});var hF=w((Kp,yF)=>{function OT(Q){var J=[];if(Q!=null)for(var Z in Object(Q))J.push(Z);return J}yF.exports=OT});var gF=w((Gp,uF)=>{var AT=u8(),CT=K6(),ST=hF(),IT=Object.prototype,TT=IT.hasOwnProperty;function PT(Q){if(!AT(Q))return ST(Q);var J=CT(Q),Z=[];for(var U in Q)if(!(U==\"constructor\"&&(J||!TT.call(Q,U))))Z.push(U);return Z}uF.exports=PT});var o9=w((Yp,dF)=>{var kT=xU(),jT=gF(),wT=F9();function _T(Q){return wT(Q)?kT(Q,!0):jT(Q)}dF.exports=_T});var pF=w((Fp,cF)=>{var vT=UZ(),fT=o9();function xT(Q,J){return Q&&vT(J,fT(J),Q)}cF.exports=xT});var mU=w((f7,YZ)=>{var bT=n8(),sF=typeof f7==\"object\"&&f7&&!f7.nodeType&&f7,lF=sF&&typeof YZ==\"object\"&&YZ&&!YZ.nodeType&&YZ,mT=lF&&lF.exports===sF,iF=mT?bT.Buffer:void 0,nF=iF?iF.allocUnsafe:void 0;function yT(Q,J){if(J)return Q.slice();var Z=Q.length,U=nF?nF(Z):new Q.constructor(Z);return Q.copy(U),U}YZ.exports=yT});var yU=w((Hp,aF)=>{function hT(Q,J){var Z=-1,U=Q.length;J||(J=Array(U));while(++Z<U)J[Z]=Q[Z];return J}aF.exports=hT});var hU=w((Mp,rF)=>{function uT(Q,J){var Z=-1,U=Q==null?0:Q.length,$=0,q=[];while(++Z<U){var K=Q[Z];if(J(K,Z,Q))q[$++]=K}return q}rF.exports=uT});var uU=w((Np,oF)=>{function gT(){return[]}oF.exports=gT});var x7=w((zp,eF)=>{var dT=hU(),cT=uU(),pT=Object.prototype,lT=pT.propertyIsEnumerable,tF=Object.getOwnPropertySymbols,iT=!tF?cT:function(Q){if(Q==null)return[];return Q=Object(Q),dT(tF(Q),function(J){return lT.call(Q,J)})};eF.exports=iT});var QX=w((Lp,JX)=>{var nT=UZ(),sT=x7();function aT(Q,J){return nT(Q,sT(Q),J)}JX.exports=aT});var b7=w((Wp,ZX)=>{function rT(Q,J){var Z=-1,U=J.length,$=Q.length;while(++Z<U)Q[$+Z]=J[Z];return Q}ZX.exports=rT});var G6=w((Ep,UX)=>{var oT=bU(),tT=oT(Object.getPrototypeOf,Object);UX.exports=tT});var gU=w((Bp,$X)=>{var eT=b7(),JP=G6(),QP=x7(),ZP=uU(),UP=Object.getOwnPropertySymbols,$P=!UP?ZP:function(Q){var J=[];while(Q)eT(J,QP(Q)),Q=JP(Q);return J};$X.exports=$P});var KX=w((Vp,qX)=>{var qP=UZ(),KP=gU();function GP(Q,J){return qP(Q,KP(Q),J)}qX.exports=GP});var dU=w((Dp,GX)=>{var YP=b7(),FP=q8();function XP(Q,J,Z){var U=J(Q);return FP(Q)?U:YP(U,Z(Q))}GX.exports=XP});var cU=w((Rp,YX)=>{var HP=dU(),MP=x7(),NP=A9();function zP(Q){return HP(Q,NP,MP)}YX.exports=zP});var XX=w((Op,FX)=>{var LP=dU(),WP=gU(),EP=o9();function BP(Q){return LP(Q,EP,WP)}FX.exports=BP});var MX=w((Ap,HX)=>{var VP=r9(),DP=n8(),RP=VP(DP,\"DataView\");HX.exports=RP});var zX=w((Cp,NX)=>{var OP=r9(),AP=n8(),CP=OP(AP,\"Promise\");NX.exports=CP});var pU=w((Sp,LX)=>{var SP=r9(),IP=n8(),TP=SP(IP,\"Set\");LX.exports=TP});var EX=w((Ip,WX)=>{var PP=r9(),kP=n8(),jP=PP(kP,\"WeakMap\");WX.exports=jP});var OQ=w((Tp,CX)=>{var lU=MX(),iU=I7(),nU=zX(),sU=pU(),aU=EX(),AX=a9(),FZ=_U(),BX=\"[object Map]\",wP=\"[object Object]\",VX=\"[object Promise]\",DX=\"[object Set]\",RX=\"[object WeakMap]\",OX=\"[object DataView]\",_P=FZ(lU),vP=FZ(iU),fP=FZ(nU),xP=FZ(sU),bP=FZ(aU),RQ=AX;if(lU&&RQ(new lU(new ArrayBuffer(1)))!=OX||iU&&RQ(new iU)!=BX||nU&&RQ(nU.resolve())!=VX||sU&&RQ(new sU)!=DX||aU&&RQ(new aU)!=RX)RQ=function(Q){var J=AX(Q),Z=J==wP?Q.constructor:void 0,U=Z?FZ(Z):\"\";if(U)switch(U){case _P:return OX;case vP:return BX;case fP:return VX;case xP:return DX;case bP:return RX}return J};CX.exports=RQ});var IX=w((Pp,SX)=>{var mP=Object.prototype,yP=mP.hasOwnProperty;function hP(Q){var J=Q.length,Z=new Q.constructor(J);if(J&&typeof Q[0]==\"string\"&&yP.call(Q,\"index\"))Z.index=Q.index,Z.input=Q.input;return Z}SX.exports=hP});var rU=w((kp,TX)=>{var uP=n8(),gP=uP.Uint8Array;TX.exports=gP});var m7=w((jp,kX)=>{var PX=rU();function dP(Q){var J=new Q.constructor(Q.byteLength);return new PX(J).set(new PX(Q)),J}kX.exports=dP});var wX=w((wp,jX)=>{var cP=m7();function pP(Q,J){var Z=J?cP(Q.buffer):Q.buffer;return new Q.constructor(Z,Q.byteOffset,Q.byteLength)}jX.exports=pP});var vX=w((_p,_X)=>{var lP=/\\w*$/;function iP(Q){var J=new Q.constructor(Q.source,lP.exec(Q));return J.lastIndex=Q.lastIndex,J}_X.exports=iP});var yX=w((vp,mX)=>{var fX=VQ(),xX=fX?fX.prototype:void 0,bX=xX?xX.valueOf:void 0;function nP(Q){return bX?Object(bX.call(Q)):{}}mX.exports=nP});var oU=w((fp,hX)=>{var sP=m7();function aP(Q,J){var Z=J?sP(Q.buffer):Q.buffer;return new Q.constructor(Z,Q.byteOffset,Q.length)}hX.exports=aP});var gX=w((xp,uX)=>{var rP=m7(),oP=wX(),tP=vX(),eP=yX(),Jk=oU(),Qk=\"[object Boolean]\",Zk=\"[object Date]\",Uk=\"[object Map]\",$k=\"[object Number]\",qk=\"[object RegExp]\",Kk=\"[object Set]\",Gk=\"[object String]\",Yk=\"[object Symbol]\",Fk=\"[object ArrayBuffer]\",Xk=\"[object DataView]\",Hk=\"[object Float32Array]\",Mk=\"[object Float64Array]\",Nk=\"[object Int8Array]\",zk=\"[object Int16Array]\",Lk=\"[object Int32Array]\",Wk=\"[object Uint8Array]\",Ek=\"[object Uint8ClampedArray]\",Bk=\"[object Uint16Array]\",Vk=\"[object Uint32Array]\";function Dk(Q,J,Z){var U=Q.constructor;switch(J){case Fk:return rP(Q);case Qk:case Zk:return new U(+Q);case Xk:return oP(Q,Z);case Hk:case Mk:case Nk:case zk:case Lk:case Wk:case Ek:case Bk:case Vk:return Jk(Q,Z);case Uk:return new U;case $k:case Gk:return new U(Q);case qk:return tP(Q);case Kk:return new U;case Yk:return eP(Q)}}uX.exports=Dk});var tU=w((bp,cX)=>{var Rk=u8(),dX=Object.create,Ok=function(){function Q(){}return function(J){if(!Rk(J))return{};if(dX)return dX(J);Q.prototype=J;var Z=new Q;return Q.prototype=void 0,Z}}();cX.exports=Ok});var eU=w((mp,pX)=>{var Ak=tU(),Ck=G6(),Sk=K6();function Ik(Q){return typeof Q.constructor==\"function\"&&!Sk(Q)?Ak(Ck(Q)):{}}pX.exports=Ik});var iX=w((yp,lX)=>{var Tk=OQ(),Pk=Q9(),kk=\"[object Map]\";function jk(Q){return Pk(Q)&&Tk(Q)==kk}lX.exports=jk});var rX=w((hp,aX)=>{var wk=iX(),_k=$6(),nX=_7(),sX=nX&&nX.isMap,vk=sX?_k(sX):wk;aX.exports=vk});var tX=w((up,oX)=>{var fk=OQ(),xk=Q9(),bk=\"[object Set]\";function mk(Q){return xk(Q)&&fk(Q)==bk}oX.exports=mk});var ZH=w((gp,QH)=>{var yk=tX(),hk=$6(),eX=_7(),JH=eX&&eX.isSet,uk=JH?hk(JH):yk;QH.exports=uk});var J$=w((dp,KH)=>{var gk=J6(),dk=P7(),ck=Z6(),pk=mF(),lk=pF(),ik=mU(),nk=yU(),sk=QX(),ak=KX(),rk=cU(),ok=XX(),tk=OQ(),ek=IX(),Jj=gX(),Qj=eU(),Zj=q8(),Uj=DQ(),$j=rX(),qj=u8(),Kj=ZH(),Gj=A9(),Yj=o9(),Fj=1,Xj=2,Hj=4,UH=\"[object Arguments]\",Mj=\"[object Array]\",Nj=\"[object Boolean]\",zj=\"[object Date]\",Lj=\"[object Error]\",$H=\"[object Function]\",Wj=\"[object GeneratorFunction]\",Ej=\"[object Map]\",Bj=\"[object Number]\",qH=\"[object Object]\",Vj=\"[object RegExp]\",Dj=\"[object Set]\",Rj=\"[object String]\",Oj=\"[object Symbol]\",Aj=\"[object WeakMap]\",Cj=\"[object ArrayBuffer]\",Sj=\"[object DataView]\",Ij=\"[object Float32Array]\",Tj=\"[object Float64Array]\",Pj=\"[object Int8Array]\",kj=\"[object Int16Array]\",jj=\"[object Int32Array]\",wj=\"[object Uint8Array]\",_j=\"[object Uint8ClampedArray]\",vj=\"[object Uint16Array]\",fj=\"[object Uint32Array]\",rJ={};rJ[UH]=rJ[Mj]=rJ[Cj]=rJ[Sj]=rJ[Nj]=rJ[zj]=rJ[Ij]=rJ[Tj]=rJ[Pj]=rJ[kj]=rJ[jj]=rJ[Ej]=rJ[Bj]=rJ[qH]=rJ[Vj]=rJ[Dj]=rJ[Rj]=rJ[Oj]=rJ[wj]=rJ[_j]=rJ[vj]=rJ[fj]=!0;rJ[Lj]=rJ[$H]=rJ[Aj]=!1;function y7(Q,J,Z,U,$,q){var K,G=J&Fj,Y=J&Xj,F=J&Hj;if(Z)K=$?Z(Q,U,$,q):Z(Q);if(K!==void 0)return K;if(!qj(Q))return Q;var X=Zj(Q);if(X){if(K=ek(Q),!G)return nk(Q,K)}else{var H=tk(Q),M=H==$H||H==Wj;if(Uj(Q))return ik(Q,G);if(H==qH||H==UH||M&&!$){if(K=Y||M?{}:Qj(Q),!G)return Y?ak(Q,lk(K,Q)):sk(Q,pk(K,Q))}else{if(!rJ[H])return $?Q:{};K=Jj(Q,H,G)}}q||(q=new gk);var z=q.get(Q);if(z)return z;if(q.set(Q,K),Kj(Q))Q.forEach(function(L){K.add(y7(L,J,Z,L,Q,q))});else if($j(Q))Q.forEach(function(L,E){K.set(E,y7(L,J,Z,E,Q,q))});var N=F?Y?ok:rk:Y?Yj:Gj,W=X?void 0:N(Q);return dk(W||Q,function(L,E){if(W)E=L,L=Q[E];ck(K,E,y7(L,J,Z,E,Q,q))}),K}KH.exports=y7});var YH=w((cp,GH)=>{var xj=J$(),bj=4;function mj(Q){return xj(Q,bj)}GH.exports=mj});var h7=w((pp,FH)=>{function yj(Q){return function(){return Q}}FH.exports=yj});var HH=w((lp,XH)=>{function hj(Q){return function(J,Z,U){var $=-1,q=Object(J),K=U(J),G=K.length;while(G--){var Y=K[Q?G:++$];if(Z(q[Y],Y,q)===!1)break}return J}}XH.exports=hj});var u7=w((ip,MH)=>{var uj=HH(),gj=uj();MH.exports=gj});var g7=w((np,NH)=>{var dj=u7(),cj=A9();function pj(Q,J){return Q&&dj(Q,J,cj)}NH.exports=pj});var LH=w((sp,zH)=>{var lj=F9();function ij(Q,J){return function(Z,U){if(Z==null)return Z;if(!lj(Z))return Q(Z,U);var $=Z.length,q=J?$:-1,K=Object(Z);while(J?q--:++q<$)if(U(K[q],q,K)===!1)break;return Z}}zH.exports=ij});var Y6=w((ap,WH)=>{var nj=g7(),sj=LH(),aj=sj(nj);WH.exports=aj});var t9=w((rp,EH)=>{function rj(Q){return Q}EH.exports=rj});var Q$=w((op,BH)=>{var oj=t9();function tj(Q){return typeof Q==\"function\"?Q:oj}BH.exports=tj});var d7=w((tp,VH)=>{var ej=P7(),Jw=Y6(),Qw=Q$(),Zw=q8();function Uw(Q,J){var Z=Zw(Q)?ej:Jw;return Z(Q,Qw(J))}VH.exports=Uw});var RH=w((ep,DH)=>{var $w=Y6();function qw(Q,J){var Z=[];return $w(Q,function(U,$,q){if(J(U,$,q))Z.push(U)}),Z}DH.exports=qw});var AH=w((Jl,OH)=>{var Kw=\"__lodash_hash_undefined__\";function Gw(Q){return this.__data__.set(Q,Kw),this}OH.exports=Gw});var SH=w((Ql,CH)=>{function Yw(Q){return this.__data__.has(Q)}CH.exports=Yw});var Z$=w((Zl,IH)=>{var Fw=T7(),Xw=AH(),Hw=SH();function c7(Q){var J=-1,Z=Q==null?0:Q.length;this.__data__=new Fw;while(++J<Z)this.add(Q[J])}c7.prototype.add=c7.prototype.push=Xw;c7.prototype.has=Hw;IH.exports=c7});var PH=w((Ul,TH)=>{function Mw(Q,J){var Z=-1,U=Q==null?0:Q.length;while(++Z<U)if(J(Q[Z],Z,Q))return!0;return!1}TH.exports=Mw});var U$=w(($l,kH)=>{function Nw(Q,J){return Q.has(J)}kH.exports=Nw});var $$=w((ql,jH)=>{var zw=Z$(),Lw=PH(),Ww=U$(),Ew=1,Bw=2;function Vw(Q,J,Z,U,$,q){var K=Z&Ew,G=Q.length,Y=J.length;if(G!=Y&&!(K&&Y>G))return!1;var F=q.get(Q),X=q.get(J);if(F&&X)return F==J&&X==Q;var H=-1,M=!0,z=Z&Bw?new zw:void 0;q.set(Q,J),q.set(J,Q);while(++H<G){var N=Q[H],W=J[H];if(U)var L=K?U(W,N,H,J,Q,q):U(N,W,H,Q,J,q);if(L!==void 0){if(L)continue;M=!1;break}if(z){if(!Lw(J,function(E,B){if(!Ww(z,B)&&(N===E||$(N,E,Z,U,q)))return z.push(B)})){M=!1;break}}else if(!(N===W||$(N,W,Z,U,q))){M=!1;break}}return q.delete(Q),q.delete(J),M}jH.exports=Vw});var _H=w((Kl,wH)=>{function Dw(Q){var J=-1,Z=Array(Q.size);return Q.forEach(function(U,$){Z[++J]=[$,U]}),Z}wH.exports=Dw});var p7=w((Gl,vH)=>{function Rw(Q){var J=-1,Z=Array(Q.size);return Q.forEach(function(U){Z[++J]=U}),Z}vH.exports=Rw});var yH=w((Yl,mH)=>{var fH=VQ(),xH=rU(),Ow=BQ(),Aw=$$(),Cw=_H(),Sw=p7(),Iw=1,Tw=2,Pw=\"[object Boolean]\",kw=\"[object Date]\",jw=\"[object Error]\",ww=\"[object Map]\",_w=\"[object Number]\",vw=\"[object RegExp]\",fw=\"[object Set]\",xw=\"[object String]\",bw=\"[object Symbol]\",mw=\"[object ArrayBuffer]\",yw=\"[object DataView]\",bH=fH?fH.prototype:void 0,q$=bH?bH.valueOf:void 0;function hw(Q,J,Z,U,$,q,K){switch(Z){case yw:if(Q.byteLength!=J.byteLength||Q.byteOffset!=J.byteOffset)return!1;Q=Q.buffer,J=J.buffer;case mw:if(Q.byteLength!=J.byteLength||!q(new xH(Q),new xH(J)))return!1;return!0;case Pw:case kw:case _w:return Ow(+Q,+J);case jw:return Q.name==J.name&&Q.message==J.message;case vw:case xw:return Q==J+\"\";case ww:var G=Cw;case fw:var Y=U&Iw;if(G||(G=Sw),Q.size!=J.size&&!Y)return!1;var F=K.get(Q);if(F)return F==J;U|=Tw,K.set(Q,J);var X=Aw(G(Q),G(J),U,$,q,K);return K.delete(Q),X;case bw:if(q$)return q$.call(Q)==q$.call(J)}return!1}mH.exports=hw});var gH=w((Fl,uH)=>{var hH=cU(),uw=1,gw=Object.prototype,dw=gw.hasOwnProperty;function cw(Q,J,Z,U,$,q){var K=Z&uw,G=hH(Q),Y=G.length,F=hH(J),X=F.length;if(Y!=X&&!K)return!1;var H=Y;while(H--){var M=G[H];if(!(K?M in J:dw.call(J,M)))return!1}var z=q.get(Q),N=q.get(J);if(z&&N)return z==J&&N==Q;var W=!0;q.set(Q,J),q.set(J,Q);var L=K;while(++H<Y){M=G[H];var E=Q[M],B=J[M];if(U)var V=K?U(B,E,M,J,Q,q):U(E,B,M,Q,J,q);if(!(V===void 0?E===B||$(E,B,Z,U,q):V)){W=!1;break}L||(L=M==\"constructor\")}if(W&&!L){var D=Q.constructor,O=J.constructor;if(D!=O&&((\"constructor\"in Q)&&(\"constructor\"in J))&&!(typeof D==\"function\"&&D instanceof D&&typeof O==\"function\"&&O instanceof O))W=!1}return q.delete(Q),q.delete(J),W}uH.exports=cw});var aH=w((Xl,sH)=>{var K$=J6(),pw=$$(),lw=yH(),iw=gH(),dH=OQ(),cH=q8(),pH=DQ(),nw=GZ(),sw=1,lH=\"[object Arguments]\",iH=\"[object Array]\",l7=\"[object Object]\",aw=Object.prototype,nH=aw.hasOwnProperty;function rw(Q,J,Z,U,$,q){var K=cH(Q),G=cH(J),Y=K?iH:dH(Q),F=G?iH:dH(J);Y=Y==lH?l7:Y,F=F==lH?l7:F;var X=Y==l7,H=F==l7,M=Y==F;if(M&&pH(Q)){if(!pH(J))return!1;K=!0,X=!1}if(M&&!X)return q||(q=new K$),K||nw(Q)?pw(Q,J,Z,U,$,q):lw(Q,J,Y,Z,U,$,q);if(!(Z&sw)){var z=X&&nH.call(Q,\"__wrapped__\"),N=H&&nH.call(J,\"__wrapped__\");if(z||N){var W=z?Q.value():Q,L=N?J.value():J;return q||(q=new K$),$(W,L,Z,U,q)}}if(!M)return!1;return q||(q=new K$),iw(Q,J,Z,U,$,q)}sH.exports=rw});var G$=w((Hl,tH)=>{var ow=aH(),rH=Q9();function oH(Q,J,Z,U,$){if(Q===J)return!0;if(Q==null||J==null||!rH(Q)&&!rH(J))return Q!==Q&&J!==J;return ow(Q,J,Z,U,oH,$)}tH.exports=oH});var JM=w((Ml,eH)=>{var tw=J6(),ew=G$(),J_=1,Q_=2;function Z_(Q,J,Z,U){var $=Z.length,q=$,K=!U;if(Q==null)return!q;Q=Object(Q);while($--){var G=Z[$];if(K&&G[2]?G[1]!==Q[G[0]]:!(G[0]in Q))return!1}while(++$<q){G=Z[$];var Y=G[0],F=Q[Y],X=G[1];if(K&&G[2]){if(F===void 0&&!(Y in Q))return!1}else{var H=new tw;if(U)var M=U(F,X,Y,Q,J,H);if(!(M===void 0?ew(X,F,J_|Q_,U,H):M))return!1}}return!0}eH.exports=Z_});var Y$=w((Nl,QM)=>{var U_=u8();function $_(Q){return Q===Q&&!U_(Q)}QM.exports=$_});var UM=w((zl,ZM)=>{var q_=Y$(),K_=A9();function G_(Q){var J=K_(Q),Z=J.length;while(Z--){var U=J[Z],$=Q[U];J[Z]=[U,$,q_($)]}return J}ZM.exports=G_});var F$=w((Ll,$M)=>{function Y_(Q,J){return function(Z){if(Z==null)return!1;return Z[Q]===J&&(J!==void 0||(Q in Object(Z)))}}$M.exports=Y_});var KM=w((Wl,qM)=>{var F_=JM(),X_=UM(),H_=F$();function M_(Q){var J=X_(Q);if(J.length==1&&J[0][2])return H_(J[0][0],J[0][1]);return function(Z){return Z===Q||F_(Z,Q,J)}}qM.exports=M_});var AQ=w((El,GM)=>{var N_=a9(),z_=Q9(),L_=\"[object Symbol]\";function W_(Q){return typeof Q==\"symbol\"||z_(Q)&&N_(Q)==L_}GM.exports=W_});var i7=w((Bl,YM)=>{var E_=q8(),B_=AQ(),V_=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,D_=/^\\w*$/;function R_(Q,J){if(E_(Q))return!1;var Z=typeof Q;if(Z==\"number\"||Z==\"symbol\"||Z==\"boolean\"||Q==null||B_(Q))return!0;return D_.test(Q)||!V_.test(Q)||J!=null&&Q in Object(J)}YM.exports=R_});var HM=w((Vl,XM)=>{var FM=T7(),O_=\"Expected a function\";function X$(Q,J){if(typeof Q!=\"function\"||J!=null&&typeof J!=\"function\")throw new TypeError(O_);var Z=function(){var U=arguments,$=J?J.apply(this,U):U[0],q=Z.cache;if(q.has($))return q.get($);var K=Q.apply(this,U);return Z.cache=q.set($,K)||q,K};return Z.cache=new(X$.Cache||FM),Z}X$.Cache=FM;XM.exports=X$});var NM=w((Dl,MM)=>{var A_=HM(),C_=500;function S_(Q){var J=A_(Q,function(U){if(Z.size===C_)Z.clear();return U}),Z=J.cache;return J}MM.exports=S_});var LM=w((Rl,zM)=>{var I_=NM(),T_=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,P_=/\\\\(\\\\)?/g,k_=I_(function(Q){var J=[];if(Q.charCodeAt(0)===46)J.push(\"\");return Q.replace(T_,function(Z,U,$,q){J.push($?q.replace(P_,\"$1\"):U||Z)}),J});zM.exports=k_});var F6=w((Ol,WM)=>{function j_(Q,J){var Z=-1,U=Q==null?0:Q.length,$=Array(U);while(++Z<U)$[Z]=J(Q[Z],Z,Q);return $}WM.exports=j_});var OM=w((Al,RM)=>{var EM=VQ(),w_=F6(),__=q8(),v_=AQ(),f_=1/0,BM=EM?EM.prototype:void 0,VM=BM?BM.toString:void 0;function DM(Q){if(typeof Q==\"string\")return Q;if(__(Q))return w_(Q,DM)+\"\";if(v_(Q))return VM?VM.call(Q):\"\";var J=Q+\"\";return J==\"0\"&&1/Q==-f_?\"-0\":J}RM.exports=DM});var H$=w((Cl,AM)=>{var x_=OM();function b_(Q){return Q==null?\"\":x_(Q)}AM.exports=b_});var X6=w((Sl,CM)=>{var m_=q8(),y_=i7(),h_=LM(),u_=H$();function g_(Q,J){if(m_(Q))return Q;return y_(Q,J)?[Q]:h_(u_(Q))}CM.exports=g_});var XZ=w((Il,SM)=>{var d_=AQ(),c_=1/0;function p_(Q){if(typeof Q==\"string\"||d_(Q))return Q;var J=Q+\"\";return J==\"0\"&&1/Q==-c_?\"-0\":J}SM.exports=p_});var H6=w((Tl,IM)=>{var l_=X6(),i_=XZ();function n_(Q,J){J=l_(J,Q);var Z=0,U=J.length;while(Q!=null&&Z<U)Q=Q[i_(J[Z++])];return Z&&Z==U?Q:void 0}IM.exports=n_});var PM=w((Pl,TM)=>{var s_=H6();function a_(Q,J,Z){var U=Q==null?void 0:s_(Q,J);return U===void 0?Z:U}TM.exports=a_});var jM=w((kl,kM)=>{function r_(Q,J){return Q!=null&&J in Object(Q)}kM.exports=r_});var M$=w((jl,wM)=>{var o_=X6(),t_=$Z(),e_=q8(),Jv=U6(),Qv=j7(),Zv=XZ();function Uv(Q,J,Z){J=o_(J,Q);var U=-1,$=J.length,q=!1;while(++U<$){var K=Zv(J[U]);if(!(q=Q!=null&&Z(Q,K)))break;Q=Q[K]}if(q||++U!=$)return q;return $=Q==null?0:Q.length,!!$&&Qv($)&&Jv(K,$)&&(e_(Q)||t_(Q))}wM.exports=Uv});var N$=w((wl,_M)=>{var $v=jM(),qv=M$();function Kv(Q,J){return Q!=null&&qv(Q,J,$v)}_M.exports=Kv});var fM=w((_l,vM)=>{var Gv=G$(),Yv=PM(),Fv=N$(),Xv=i7(),Hv=Y$(),Mv=F$(),Nv=XZ(),zv=1,Lv=2;function Wv(Q,J){if(Xv(Q)&&Hv(J))return Mv(Nv(Q),J);return function(Z){var U=Yv(Z,Q);return U===void 0&&U===J?Fv(Z,Q):Gv(J,U,zv|Lv)}}vM.exports=Wv});var z$=w((vl,xM)=>{function Ev(Q){return function(J){return J==null?void 0:J[Q]}}xM.exports=Ev});var mM=w((fl,bM)=>{var Bv=H6();function Vv(Q){return function(J){return Bv(J,Q)}}bM.exports=Vv});var hM=w((xl,yM)=>{var Dv=z$(),Rv=mM(),Ov=i7(),Av=XZ();function Cv(Q){return Ov(Q)?Dv(Av(Q)):Rv(Q)}yM.exports=Cv});var X9=w((bl,uM)=>{var Sv=KM(),Iv=fM(),Tv=t9(),Pv=q8(),kv=hM();function jv(Q){if(typeof Q==\"function\")return Q;if(Q==null)return Tv;if(typeof Q==\"object\")return Pv(Q)?Iv(Q[0],Q[1]):Sv(Q);return kv(Q)}uM.exports=jv});var L$=w((ml,gM)=>{var wv=hU(),_v=RH(),vv=X9(),fv=q8();function xv(Q,J){var Z=fv(Q)?wv:_v;return Z(Q,vv(J,3))}gM.exports=xv});var cM=w((yl,dM)=>{var bv=Object.prototype,mv=bv.hasOwnProperty;function yv(Q,J){return Q!=null&&mv.call(Q,J)}dM.exports=yv});var W$=w((hl,pM)=>{var hv=cM(),uv=M$();function gv(Q,J){return Q!=null&&uv(Q,J,hv)}pM.exports=gv});var iM=w((ul,lM)=>{var dv=v7(),cv=OQ(),pv=$Z(),lv=q8(),iv=F9(),nv=DQ(),sv=K6(),av=GZ(),rv=\"[object Map]\",ov=\"[object Set]\",tv=Object.prototype,ev=tv.hasOwnProperty;function Jf(Q){if(Q==null)return!0;if(iv(Q)&&(lv(Q)||typeof Q==\"string\"||typeof Q.splice==\"function\"||nv(Q)||av(Q)||pv(Q)))return!Q.length;var J=cv(Q);if(J==rv||J==ov)return!Q.size;if(sv(Q))return!dv(Q).length;for(var Z in Q)if(ev.call(Q,Z))return!1;return!0}lM.exports=Jf});var E$=w((gl,nM)=>{function Qf(Q){return Q===void 0}nM.exports=Qf});var B$=w((dl,sM)=>{var Zf=Y6(),Uf=F9();function $f(Q,J){var Z=-1,U=Uf(Q)?Array(Q.length):[];return Zf(Q,function($,q,K){U[++Z]=J($,q,K)}),U}sM.exports=$f});var V$=w((cl,aM)=>{var qf=F6(),Kf=X9(),Gf=B$(),Yf=q8();function Ff(Q,J){var Z=Yf(Q)?qf:Gf;return Z(Q,Kf(J,3))}aM.exports=Ff});var oM=w((pl,rM)=>{function Xf(Q,J,Z,U){var $=-1,q=Q==null?0:Q.length;if(U&&q)Z=Q[++$];while(++$<q)Z=J(Z,Q[$],$,Q);return Z}rM.exports=Xf});var eM=w((ll,tM)=>{function Hf(Q,J,Z,U,$){return $(Q,function(q,K,G){Z=U?(U=!1,q):J(Z,q,K,G)}),Z}tM.exports=Hf});var D$=w((il,JN)=>{var Mf=oM(),Nf=Y6(),zf=X9(),Lf=eM(),Wf=q8();function Ef(Q,J,Z){var U=Wf(Q)?Mf:Lf,$=arguments.length<3;return U(Q,zf(J,4),Z,$,Nf)}JN.exports=Ef});var ZN=w((nl,QN)=>{var Bf=a9(),Vf=q8(),Df=Q9(),Rf=\"[object String]\";function Of(Q){return typeof Q==\"string\"||!Vf(Q)&&Df(Q)&&Bf(Q)==Rf}QN.exports=Of});var $N=w((sl,UN)=>{var Af=z$(),Cf=Af(\"length\");UN.exports=Cf});var KN=w((al,qN)=>{var Sf=\"\\\\ud800-\\\\udfff\",If=\"\\\\u0300-\\\\u036f\",Tf=\"\\\\ufe20-\\\\ufe2f\",Pf=\"\\\\u20d0-\\\\u20ff\",kf=If+Tf+Pf,jf=\"\\\\ufe0e\\\\ufe0f\",wf=\"\\\\u200d\",_f=RegExp(\"[\"+wf+Sf+kf+jf+\"]\");function vf(Q){return _f.test(Q)}qN.exports=vf});var LN=w((rl,zN)=>{var YN=\"\\\\ud800-\\\\udfff\",ff=\"\\\\u0300-\\\\u036f\",xf=\"\\\\ufe20-\\\\ufe2f\",bf=\"\\\\u20d0-\\\\u20ff\",mf=ff+xf+bf,yf=\"\\\\ufe0e\\\\ufe0f\",hf=\"[\"+YN+\"]\",R$=\"[\"+mf+\"]\",O$=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",uf=\"(?:\"+R$+\"|\"+O$+\")\",FN=\"[^\"+YN+\"]\",XN=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",HN=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",gf=\"\\\\u200d\",MN=uf+\"?\",NN=\"[\"+yf+\"]?\",df=\"(?:\"+gf+\"(?:\"+[FN,XN,HN].join(\"|\")+\")\"+NN+MN+\")*\",cf=NN+MN+df,pf=\"(?:\"+[FN+R$+\"?\",R$,XN,HN,hf].join(\"|\")+\")\",GN=RegExp(O$+\"(?=\"+O$+\")|\"+pf+cf,\"g\");function lf(Q){var J=GN.lastIndex=0;while(GN.test(Q))++J;return J}zN.exports=lf});var EN=w((ol,WN)=>{var nf=$N(),sf=KN(),af=LN();function rf(Q){return sf(Q)?af(Q):nf(Q)}WN.exports=rf});var VN=w((tl,BN)=>{var of=v7(),tf=OQ(),ef=F9(),Jx=ZN(),Qx=EN(),Zx=\"[object Map]\",Ux=\"[object Set]\";function $x(Q){if(Q==null)return 0;if(ef(Q))return Jx(Q)?Qx(Q):Q.length;var J=tf(Q);if(J==Zx||J==Ux)return Q.size;return of(Q).length}BN.exports=$x});var RN=w((el,DN)=>{var qx=P7(),Kx=tU(),Gx=g7(),Yx=X9(),Fx=G6(),Xx=q8(),Hx=DQ(),Mx=eQ(),Nx=u8(),zx=GZ();function Lx(Q,J,Z){var U=Xx(Q),$=U||Hx(Q)||zx(Q);if(J=Yx(J,4),Z==null){var q=Q&&Q.constructor;if($)Z=U?new q:[];else if(Nx(Q))Z=Mx(q)?Kx(Fx(Q)):{};else Z={}}return($?qx:Gx)(Q,function(K,G,Y){return J(Z,K,G,Y)}),Z}DN.exports=Lx});var SN=w((Ji,CN)=>{var ON=VQ(),Wx=$Z(),Ex=q8(),AN=ON?ON.isConcatSpreadable:void 0;function Bx(Q){return Ex(Q)||Wx(Q)||!!(AN&&Q&&Q[AN])}CN.exports=Bx});var n7=w((Qi,TN)=>{var Vx=b7(),Dx=SN();function IN(Q,J,Z,U,$){var q=-1,K=Q.length;Z||(Z=Dx),$||($=[]);while(++q<K){var G=Q[q];if(J>0&&Z(G))if(J>1)IN(G,J-1,Z,U,$);else Vx($,G);else if(!U)$[$.length]=G}return $}TN.exports=IN});var kN=w((Zi,PN)=>{function Rx(Q,J,Z){switch(Z.length){case 0:return Q.call(J);case 1:return Q.call(J,Z[0]);case 2:return Q.call(J,Z[0],Z[1]);case 3:return Q.call(J,Z[0],Z[1],Z[2])}return Q.apply(J,Z)}PN.exports=Rx});var A$=w((Ui,wN)=>{var Ox=kN(),jN=Math.max;function Ax(Q,J,Z){return J=jN(J===void 0?Q.length-1:J,0),function(){var U=arguments,$=-1,q=jN(U.length-J,0),K=Array(q);while(++$<q)K[$]=U[J+$];$=-1;var G=Array(J+1);while(++$<J)G[$]=U[$];return G[J]=Z(K),Ox(Q,this,G)}}wN.exports=Ax});var fN=w(($i,vN)=>{var Cx=h7(),_N=vU(),Sx=t9(),Ix=!_N?Sx:function(Q,J){return _N(Q,\"toString\",{configurable:!0,enumerable:!1,value:Cx(J),writable:!0})};vN.exports=Ix});var bN=w((qi,xN)=>{var Tx=800,Px=16,kx=Date.now;function jx(Q){var J=0,Z=0;return function(){var U=kx(),$=Px-(U-Z);if(Z=U,$>0){if(++J>=Tx)return arguments[0]}else J=0;return Q.apply(void 0,arguments)}}xN.exports=jx});var C$=w((Ki,mN)=>{var wx=fN(),_x=bN(),vx=_x(wx);mN.exports=vx});var M6=w((Gi,yN)=>{var fx=t9(),xx=A$(),bx=C$();function mx(Q,J){return bx(xx(Q,J,fx),Q+\"\")}yN.exports=mx});var S$=w((Yi,hN)=>{function yx(Q,J,Z,U){var $=Q.length,q=Z+(U?1:-1);while(U?q--:++q<$)if(J(Q[q],q,Q))return q;return-1}hN.exports=yx});var gN=w((Fi,uN)=>{function hx(Q){return Q!==Q}uN.exports=hx});var cN=w((Xi,dN)=>{function ux(Q,J,Z){var U=Z-1,$=Q.length;while(++U<$)if(Q[U]===J)return U;return-1}dN.exports=ux});var lN=w((Hi,pN)=>{var gx=S$(),dx=gN(),cx=cN();function px(Q,J,Z){return J===J?cx(Q,J,Z):gx(Q,dx,Z)}pN.exports=px});var nN=w((Mi,iN)=>{var lx=lN();function ix(Q,J){var Z=Q==null?0:Q.length;return!!Z&&lx(Q,J,0)>-1}iN.exports=ix});var aN=w((Ni,sN)=>{function nx(Q,J,Z){var U=-1,$=Q==null?0:Q.length;while(++U<$)if(Z(J,Q[U]))return!0;return!1}sN.exports=nx});var oN=w((zi,rN)=>{function sx(){}rN.exports=sx});var eN=w((Li,tN)=>{var I$=pU(),ax=oN(),rx=p7(),ox=1/0,tx=!(I$&&1/rx(new I$([,-0]))[1]==ox)?ax:function(Q){return new I$(Q)};tN.exports=tx});var Qz=w((Wi,Jz)=>{var ex=Z$(),Jb=nN(),Qb=aN(),Zb=U$(),Ub=eN(),$b=p7(),qb=200;function Kb(Q,J,Z){var U=-1,$=Jb,q=Q.length,K=!0,G=[],Y=G;if(Z)K=!1,$=Qb;else if(q>=qb){var F=J?null:Ub(Q);if(F)return $b(F);K=!1,$=Zb,Y=new ex}else Y=J?[]:G;J:while(++U<q){var X=Q[U],H=J?J(X):X;if(X=Z||X!==0?X:0,K&&H===H){var M=Y.length;while(M--)if(Y[M]===H)continue J;if(J)Y.push(H);G.push(X)}else if(!$(Y,H,Z)){if(Y!==G)Y.push(H);G.push(X)}}return G}Jz.exports=Kb});var T$=w((Ei,Zz)=>{var Gb=F9(),Yb=Q9();function Fb(Q){return Yb(Q)&&Gb(Q)}Zz.exports=Fb});var $z=w((Bi,Uz)=>{var Xb=n7(),Hb=M6(),Mb=Qz(),Nb=T$(),zb=Hb(function(Q){return Mb(Xb(Q,1,Nb,!0))});Uz.exports=zb});var Kz=w((Vi,qz)=>{var Lb=F6();function Wb(Q,J){return Lb(J,function(Z){return Q[Z]})}qz.exports=Wb});var P$=w((Di,Gz)=>{var Eb=Kz(),Bb=A9();function Vb(Q){return Q==null?[]:Eb(Q,Bb(Q))}Gz.exports=Vb});var g8=w((Ri,Fz)=>{var s7;try{s7={clone:YH(),constant:h7(),each:d7(),filter:L$(),has:W$(),isArray:q8(),isEmpty:iM(),isFunction:eQ(),isUndefined:E$(),keys:A9(),map:V$(),reduce:D$(),size:VN(),transform:RN(),union:$z(),values:P$()}}catch(Q){}if(!s7)s7=window._;Fz.exports=s7});var a7=w((Ai,Nz)=>{var SJ=g8();Nz.exports=vJ;var Db=\"\\x00\",CQ=\"\\x00\",Xz=\"\\x01\";function vJ(Q){if(this._isDirected=SJ.has(Q,\"directed\")?Q.directed:!0,this._isMultigraph=SJ.has(Q,\"multigraph\")?Q.multigraph:!1,this._isCompound=SJ.has(Q,\"compound\")?Q.compound:!1,this._label=void 0,this._defaultNodeLabelFn=SJ.constant(void 0),this._defaultEdgeLabelFn=SJ.constant(void 0),this._nodes={},this._isCompound)this._parent={},this._children={},this._children[CQ]={};this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}vJ.prototype._nodeCount=0;vJ.prototype._edgeCount=0;vJ.prototype.isDirected=function(){return this._isDirected};vJ.prototype.isMultigraph=function(){return this._isMultigraph};vJ.prototype.isCompound=function(){return this._isCompound};vJ.prototype.setGraph=function(Q){return this._label=Q,this};vJ.prototype.graph=function(){return this._label};vJ.prototype.setDefaultNodeLabel=function(Q){if(!SJ.isFunction(Q))Q=SJ.constant(Q);return this._defaultNodeLabelFn=Q,this};vJ.prototype.nodeCount=function(){return this._nodeCount};vJ.prototype.nodes=function(){return SJ.keys(this._nodes)};vJ.prototype.sources=function(){var Q=this;return SJ.filter(this.nodes(),function(J){return SJ.isEmpty(Q._in[J])})};vJ.prototype.sinks=function(){var Q=this;return SJ.filter(this.nodes(),function(J){return SJ.isEmpty(Q._out[J])})};vJ.prototype.setNodes=function(Q,J){var Z=arguments,U=this;return SJ.each(Q,function($){if(Z.length>1)U.setNode($,J);else U.setNode($)}),this};vJ.prototype.setNode=function(Q,J){if(SJ.has(this._nodes,Q)){if(arguments.length>1)this._nodes[Q]=J;return this}if(this._nodes[Q]=arguments.length>1?J:this._defaultNodeLabelFn(Q),this._isCompound)this._parent[Q]=CQ,this._children[Q]={},this._children[CQ][Q]=!0;return this._in[Q]={},this._preds[Q]={},this._out[Q]={},this._sucs[Q]={},++this._nodeCount,this};vJ.prototype.node=function(Q){return this._nodes[Q]};vJ.prototype.hasNode=function(Q){return SJ.has(this._nodes,Q)};vJ.prototype.removeNode=function(Q){var J=this;if(SJ.has(this._nodes,Q)){var Z=function(U){J.removeEdge(J._edgeObjs[U])};if(delete this._nodes[Q],this._isCompound)this._removeFromParentsChildList(Q),delete this._parent[Q],SJ.each(this.children(Q),function(U){J.setParent(U)}),delete this._children[Q];SJ.each(SJ.keys(this._in[Q]),Z),delete this._in[Q],delete this._preds[Q],SJ.each(SJ.keys(this._out[Q]),Z),delete this._out[Q],delete this._sucs[Q],--this._nodeCount}return this};vJ.prototype.setParent=function(Q,J){if(!this._isCompound)throw new Error(\"Cannot set parent in a non-compound graph\");if(SJ.isUndefined(J))J=CQ;else{J+=\"\";for(var Z=J;!SJ.isUndefined(Z);Z=this.parent(Z))if(Z===Q)throw new Error(\"Setting \"+J+\" as parent of \"+Q+\" would create a cycle\");this.setNode(J)}return this.setNode(Q),this._removeFromParentsChildList(Q),this._parent[Q]=J,this._children[J][Q]=!0,this};vJ.prototype._removeFromParentsChildList=function(Q){delete this._children[this._parent[Q]][Q]};vJ.prototype.parent=function(Q){if(this._isCompound){var J=this._parent[Q];if(J!==CQ)return J}};vJ.prototype.children=function(Q){if(SJ.isUndefined(Q))Q=CQ;if(this._isCompound){var J=this._children[Q];if(J)return SJ.keys(J)}else if(Q===CQ)return this.nodes();else if(this.hasNode(Q))return[]};vJ.prototype.predecessors=function(Q){var J=this._preds[Q];if(J)return SJ.keys(J)};vJ.prototype.successors=function(Q){var J=this._sucs[Q];if(J)return SJ.keys(J)};vJ.prototype.neighbors=function(Q){var J=this.predecessors(Q);if(J)return SJ.union(J,this.successors(Q))};vJ.prototype.isLeaf=function(Q){var J;if(this.isDirected())J=this.successors(Q);else J=this.neighbors(Q);return J.length===0};vJ.prototype.filterNodes=function(Q){var J=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});J.setGraph(this.graph());var Z=this;SJ.each(this._nodes,function(q,K){if(Q(K))J.setNode(K,q)}),SJ.each(this._edgeObjs,function(q){if(J.hasNode(q.v)&&J.hasNode(q.w))J.setEdge(q,Z.edge(q))});var U={};function $(q){var K=Z.parent(q);if(K===void 0||J.hasNode(K))return U[q]=K,K;else if(K in U)return U[K];else return $(K)}if(this._isCompound)SJ.each(J.nodes(),function(q){J.setParent(q,$(q))});return J};vJ.prototype.setDefaultEdgeLabel=function(Q){if(!SJ.isFunction(Q))Q=SJ.constant(Q);return this._defaultEdgeLabelFn=Q,this};vJ.prototype.edgeCount=function(){return this._edgeCount};vJ.prototype.edges=function(){return SJ.values(this._edgeObjs)};vJ.prototype.setPath=function(Q,J){var Z=this,U=arguments;return SJ.reduce(Q,function($,q){if(U.length>1)Z.setEdge($,q,J);else Z.setEdge($,q);return q}),this};vJ.prototype.setEdge=function(){var Q,J,Z,U,$=!1,q=arguments[0];if(typeof q===\"object\"&&q!==null&&\"v\"in q){if(Q=q.v,J=q.w,Z=q.name,arguments.length===2)U=arguments[1],$=!0}else if(Q=q,J=arguments[1],Z=arguments[3],arguments.length>2)U=arguments[2],$=!0;if(Q=\"\"+Q,J=\"\"+J,!SJ.isUndefined(Z))Z=\"\"+Z;var K=N6(this._isDirected,Q,J,Z);if(SJ.has(this._edgeLabels,K)){if($)this._edgeLabels[K]=U;return this}if(!SJ.isUndefined(Z)&&!this._isMultigraph)throw new Error(\"Cannot set a named edge when isMultigraph = false\");this.setNode(Q),this.setNode(J),this._edgeLabels[K]=$?U:this._defaultEdgeLabelFn(Q,J,Z);var G=Rb(this._isDirected,Q,J,Z);return Q=G.v,J=G.w,Object.freeze(G),this._edgeObjs[K]=G,Hz(this._preds[J],Q),Hz(this._sucs[Q],J),this._in[J][K]=G,this._out[Q][K]=G,this._edgeCount++,this};vJ.prototype.edge=function(Q,J,Z){var U=arguments.length===1?k$(this._isDirected,arguments[0]):N6(this._isDirected,Q,J,Z);return this._edgeLabels[U]};vJ.prototype.hasEdge=function(Q,J,Z){var U=arguments.length===1?k$(this._isDirected,arguments[0]):N6(this._isDirected,Q,J,Z);return SJ.has(this._edgeLabels,U)};vJ.prototype.removeEdge=function(Q,J,Z){var U=arguments.length===1?k$(this._isDirected,arguments[0]):N6(this._isDirected,Q,J,Z),$=this._edgeObjs[U];if($)Q=$.v,J=$.w,delete this._edgeLabels[U],delete this._edgeObjs[U],Mz(this._preds[J],Q),Mz(this._sucs[Q],J),delete this._in[J][U],delete this._out[Q][U],this._edgeCount--;return this};vJ.prototype.inEdges=function(Q,J){var Z=this._in[Q];if(Z){var U=SJ.values(Z);if(!J)return U;return SJ.filter(U,function($){return $.v===J})}};vJ.prototype.outEdges=function(Q,J){var Z=this._out[Q];if(Z){var U=SJ.values(Z);if(!J)return U;return SJ.filter(U,function($){return $.w===J})}};vJ.prototype.nodeEdges=function(Q,J){var Z=this.inEdges(Q,J);if(Z)return Z.concat(this.outEdges(Q,J))};function Hz(Q,J){if(Q[J])Q[J]++;else Q[J]=1}function Mz(Q,J){if(!--Q[J])delete Q[J]}function N6(Q,J,Z,U){var $=\"\"+J,q=\"\"+Z;if(!Q&&$>q){var K=$;$=q,q=K}return $+Xz+q+Xz+(SJ.isUndefined(U)?Db:U)}function Rb(Q,J,Z,U){var $=\"\"+J,q=\"\"+Z;if(!Q&&$>q){var K=$;$=q,q=K}var G={v:$,w:q};if(U)G.name=U;return G}function k$(Q,J){return N6(Q,J.v,J.w,J.name)}});var Lz=w((Ci,zz)=>{zz.exports=\"2.1.8\"});var Ez=w((Si,Wz)=>{Wz.exports={Graph:a7(),version:Lz()}});var Vz=w((Ii,Bz)=>{var H9=g8(),Ob=a7();Bz.exports={write:Ab,read:Ib};function Ab(Q){var J={options:{directed:Q.isDirected(),multigraph:Q.isMultigraph(),compound:Q.isCompound()},nodes:Cb(Q),edges:Sb(Q)};if(!H9.isUndefined(Q.graph()))J.value=H9.clone(Q.graph());return J}function Cb(Q){return H9.map(Q.nodes(),function(J){var Z=Q.node(J),U=Q.parent(J),$={v:J};if(!H9.isUndefined(Z))$.value=Z;if(!H9.isUndefined(U))$.parent=U;return $})}function Sb(Q){return H9.map(Q.edges(),function(J){var Z=Q.edge(J),U={v:J.v,w:J.w};if(!H9.isUndefined(J.name))U.name=J.name;if(!H9.isUndefined(Z))U.value=Z;return U})}function Ib(Q){var J=new Ob(Q.options).setGraph(Q.value);return H9.each(Q.nodes,function(Z){if(J.setNode(Z.v,Z.value),Z.parent)J.setParent(Z.v,Z.parent)}),H9.each(Q.edges,function(Z){J.setEdge({v:Z.v,w:Z.w,name:Z.name},Z.value)}),J}});var Rz=w((Ti,Dz)=>{var r7=g8();Dz.exports=Tb;function Tb(Q){var J={},Z=[],U;function $(q){if(r7.has(J,q))return;J[q]=!0,U.push(q),r7.each(Q.successors(q),$),r7.each(Q.predecessors(q),$)}return r7.each(Q.nodes(),function(q){if(U=[],$(q),U.length)Z.push(U)}),Z}});var j$=w((Pi,Az)=>{var Oz=g8();Az.exports=s8;function s8(){this._arr=[],this._keyIndices={}}s8.prototype.size=function(){return this._arr.length};s8.prototype.keys=function(){return this._arr.map(function(Q){return Q.key})};s8.prototype.has=function(Q){return Oz.has(this._keyIndices,Q)};s8.prototype.priority=function(Q){var J=this._keyIndices[Q];if(J!==void 0)return this._arr[J].priority};s8.prototype.min=function(){if(this.size()===0)throw new Error(\"Queue underflow\");return this._arr[0].key};s8.prototype.add=function(Q,J){var Z=this._keyIndices;if(Q=String(Q),!Oz.has(Z,Q)){var U=this._arr,$=U.length;return Z[Q]=$,U.push({key:Q,priority:J}),this._decrease($),!0}return!1};s8.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var Q=this._arr.pop();return delete this._keyIndices[Q.key],this._heapify(0),Q.key};s8.prototype.decrease=function(Q,J){var Z=this._keyIndices[Q];if(J>this._arr[Z].priority)throw new Error(\"New priority is greater than current priority. Key: \"+Q+\" Old: \"+this._arr[Z].priority+\" New: \"+J);this._arr[Z].priority=J,this._decrease(Z)};s8.prototype._heapify=function(Q){var J=this._arr,Z=2*Q,U=Z+1,$=Q;if(Z<J.length){if($=J[Z].priority<J[$].priority?Z:$,U<J.length)$=J[U].priority<J[$].priority?U:$;if($!==Q)this._swap(Q,$),this._heapify($)}};s8.prototype._decrease=function(Q){var J=this._arr,Z=J[Q].priority,U;while(Q!==0){if(U=Q>>1,J[U].priority<Z)break;this._swap(Q,U),Q=U}};s8.prototype._swap=function(Q,J){var Z=this._arr,U=this._keyIndices,$=Z[Q],q=Z[J];Z[Q]=q,Z[J]=$,U[q.key]=Q,U[$.key]=J}});var w$=w((ki,Cz)=>{var Pb=g8(),kb=j$();Cz.exports=wb;var jb=Pb.constant(1);function wb(Q,J,Z,U){return _b(Q,String(J),Z||jb,U||function($){return Q.outEdges($)})}function _b(Q,J,Z,U){var $={},q=new kb,K,G,Y=function(F){var X=F.v!==K?F.v:F.w,H=$[X],M=Z(F),z=G.distance+M;if(M<0)throw new Error(\"dijkstra does not allow negative edge weights. Bad edge: \"+F+\" Weight: \"+M);if(z<H.distance)H.distance=z,H.predecessor=K,q.decrease(X,z)};Q.nodes().forEach(function(F){var X=F===J?0:Number.POSITIVE_INFINITY;$[F]={distance:X},q.add(F,X)});while(q.size()>0){if(K=q.removeMin(),G=$[K],G.distance===Number.POSITIVE_INFINITY)break;U(K).forEach(Y)}return $}});var Iz=w((ji,Sz)=>{var vb=w$(),fb=g8();Sz.exports=xb;function xb(Q,J,Z){return fb.transform(Q.nodes(),function(U,$){U[$]=vb(Q,$,J,Z)},{})}});var _$=w((wi,Pz)=>{var Tz=g8();Pz.exports=bb;function bb(Q){var J=0,Z=[],U={},$=[];function q(K){var G=U[K]={onStack:!0,lowlink:J,index:J++};if(Z.push(K),Q.successors(K).forEach(function(X){if(!Tz.has(U,X))q(X),G.lowlink=Math.min(G.lowlink,U[X].lowlink);else if(U[X].onStack)G.lowlink=Math.min(G.lowlink,U[X].index)}),G.lowlink===G.index){var Y=[],F;do F=Z.pop(),U[F].onStack=!1,Y.push(F);while(K!==F);$.push(Y)}}return Q.nodes().forEach(function(K){if(!Tz.has(U,K))q(K)}),$}});var jz=w((_i,kz)=>{var mb=g8(),yb=_$();kz.exports=hb;function hb(Q){return mb.filter(yb(Q),function(J){return J.length>1||J.length===1&&Q.hasEdge(J[0],J[0])})}});var _z=w((vi,wz)=>{var ub=g8();wz.exports=db;var gb=ub.constant(1);function db(Q,J,Z){return cb(Q,J||gb,Z||function(U){return Q.outEdges(U)})}function cb(Q,J,Z){var U={},$=Q.nodes();return $.forEach(function(q){U[q]={},U[q][q]={distance:0},$.forEach(function(K){if(q!==K)U[q][K]={distance:Number.POSITIVE_INFINITY}}),Z(q).forEach(function(K){var G=K.v===q?K.w:K.v,Y=J(K);U[q][G]={distance:Y,predecessor:q}})}),$.forEach(function(q){var K=U[q];$.forEach(function(G){var Y=U[G];$.forEach(function(F){var X=Y[q],H=K[F],M=Y[F],z=X.distance+H.distance;if(z<M.distance)M.distance=z,M.predecessor=H.predecessor})})}),U}});var v$=w((fi,fz)=>{var z6=g8();fz.exports=vz;vz.CycleException=o7;function vz(Q){var J={},Z={},U=[];function $(q){if(z6.has(Z,q))throw new o7;if(!z6.has(J,q))Z[q]=!0,J[q]=!0,z6.each(Q.predecessors(q),$),delete Z[q],U.push(q)}if(z6.each(Q.sinks(),$),z6.size(J)!==Q.nodeCount())throw new o7;return U}function o7(){}o7.prototype=new Error});var mz=w((xi,bz)=>{var xz=v$();bz.exports=pb;function pb(Q){try{xz(Q)}catch(J){if(J instanceof xz.CycleException)return!1;throw J}return!0}});var f$=w((bi,hz)=>{var t7=g8();hz.exports=lb;function lb(Q,J,Z){if(!t7.isArray(J))J=[J];var U=(Q.isDirected()?Q.successors:Q.neighbors).bind(Q),$=[],q={};return t7.each(J,function(K){if(!Q.hasNode(K))throw new Error(\"Graph does not have node: \"+K);yz(Q,K,Z===\"post\",q,U,$)}),$}function yz(Q,J,Z,U,$,q){if(!t7.has(U,J)){if(U[J]=!0,!Z)q.push(J);if(t7.each($(J),function(K){yz(Q,K,Z,U,$,q)}),Z)q.push(J)}}});var gz=w((mi,uz)=>{var ib=f$();uz.exports=nb;function nb(Q,J){return ib(Q,J,\"post\")}});var cz=w((yi,dz)=>{var sb=f$();dz.exports=ab;function ab(Q,J){return sb(Q,J,\"pre\")}});var iz=w((hi,lz)=>{var pz=g8(),rb=a7(),ob=j$();lz.exports=tb;function tb(Q,J){var Z=new rb,U={},$=new ob,q;function K(Y){var F=Y.v===q?Y.w:Y.v,X=$.priority(F);if(X!==void 0){var H=J(Y);if(H<X)U[F]=q,$.decrease(F,H)}}if(Q.nodeCount()===0)return Z;pz.each(Q.nodes(),function(Y){$.add(Y,Number.POSITIVE_INFINITY),Z.setNode(Y)}),$.decrease(Q.nodes()[0],0);var G=!1;while($.size()>0){if(q=$.removeMin(),pz.has(U,q))Z.setEdge(q,U[q]);else if(G)throw new Error(\"Input graph is not connected: \"+Q);else G=!0;Q.nodeEdges(q).forEach(K)}return Z}});var sz=w((ui,nz)=>{nz.exports={components:Rz(),dijkstra:w$(),dijkstraAll:Iz(),findCycles:jz(),floydWarshall:_z(),isAcyclic:mz(),postorder:gz(),preorder:cz(),prim:iz(),tarjan:_$(),topsort:v$()}});var oz=w((gi,rz)=>{var az=Ez();rz.exports={Graph:az.Graph,json:Vz(),alg:sz(),version:az.version}});var a8=w((di,tz)=>{var e7;try{e7=oz()}catch(Q){}if(!e7)e7=window.graphlib;tz.exports=e7});var JL=w((pi,ez)=>{var eb=J$(),Jm=1,Qm=4;function Zm(Q){return eb(Q,Jm|Qm)}ez.exports=Zm});var L6=w((li,QL)=>{var Um=BQ(),$m=F9(),qm=U6(),Km=u8();function Gm(Q,J,Z){if(!Km(Z))return!1;var U=typeof J;if(U==\"number\"?$m(Z)&&qm(J,Z.length):U==\"string\"&&(J in Z))return Um(Z[J],Q);return!1}QL.exports=Gm});var $L=w((ii,UL)=>{var Ym=M6(),Fm=BQ(),Xm=L6(),Hm=o9(),ZL=Object.prototype,Mm=ZL.hasOwnProperty,Nm=Ym(function(Q,J){Q=Object(Q);var Z=-1,U=J.length,$=U>2?J[2]:void 0;if($&&Xm(J[0],J[1],$))U=1;while(++Z<U){var q=J[Z],K=Hm(q),G=-1,Y=K.length;while(++G<Y){var F=K[G],X=Q[F];if(X===void 0||Fm(X,ZL[F])&&!Mm.call(Q,F))Q[F]=q[F]}}return Q});UL.exports=Nm});var KL=w((ni,qL)=>{var zm=X9(),Lm=F9(),Wm=A9();function Em(Q){return function(J,Z,U){var $=Object(J);if(!Lm(J)){var q=zm(Z,3);J=Wm(J),Z=function(G){return q($[G],G,$)}}var K=Q(J,Z,U);return K>-1?$[q?J[K]:K]:void 0}}qL.exports=Em});var YL=w((si,GL)=>{var Bm=/\\s/;function Vm(Q){var J=Q.length;while(J--&&Bm.test(Q.charAt(J)));return J}GL.exports=Vm});var XL=w((ai,FL)=>{var Dm=YL(),Rm=/^\\s+/;function Om(Q){return Q?Q.slice(0,Dm(Q)+1).replace(Rm,\"\"):Q}FL.exports=Om});var zL=w((ri,NL)=>{var Am=XL(),HL=u8(),Cm=AQ(),ML=NaN,Sm=/^[-+]0x[0-9a-f]+$/i,Im=/^0b[01]+$/i,Tm=/^0o[0-7]+$/i,Pm=parseInt;function km(Q){if(typeof Q==\"number\")return Q;if(Cm(Q))return ML;if(HL(Q)){var J=typeof Q.valueOf==\"function\"?Q.valueOf():Q;Q=HL(J)?J+\"\":J}if(typeof Q!=\"string\")return Q===0?Q:+Q;Q=Am(Q);var Z=Im.test(Q);return Z||Tm.test(Q)?Pm(Q.slice(2),Z?2:8):Sm.test(Q)?ML:+Q}NL.exports=km});var x$=w((oi,WL)=>{var jm=zL(),LL=1/0,wm=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;function _m(Q){if(!Q)return Q===0?Q:0;if(Q=jm(Q),Q===LL||Q===-LL){var J=Q<0?-1:1;return J*wm}return Q===Q?Q:0}WL.exports=_m});var BL=w((ti,EL)=>{var vm=x$();function fm(Q){var J=vm(Q),Z=J%1;return J===J?Z?J-Z:J:0}EL.exports=fm});var DL=w((ei,VL)=>{var xm=S$(),bm=X9(),mm=BL(),ym=Math.max;function hm(Q,J,Z){var U=Q==null?0:Q.length;if(!U)return-1;var $=Z==null?0:mm(Z);if($<0)$=ym(U+$,0);return xm(Q,bm(J,3),$)}VL.exports=hm});var OL=w((Jn,RL)=>{var um=KL(),gm=DL(),dm=um(gm);RL.exports=dm});var b$=w((Qn,AL)=>{var cm=n7();function pm(Q){var J=Q==null?0:Q.length;return J?cm(Q,1):[]}AL.exports=pm});var SL=w((Zn,CL)=>{var lm=u7(),im=Q$(),nm=o9();function sm(Q,J){return Q==null?Q:lm(Q,im(J),nm)}CL.exports=sm});var TL=w((Un,IL)=>{function am(Q){var J=Q==null?0:Q.length;return J?Q[J-1]:void 0}IL.exports=am});var kL=w(($n,PL)=>{var rm=Q6(),om=g7(),tm=X9();function em(Q,J){var Z={};return J=tm(J,3),om(Q,function(U,$,q){rm(Z,$,J(U,$,q))}),Z}PL.exports=em});var J5=w((qn,jL)=>{var Jy=AQ();function Qy(Q,J,Z){var U=-1,$=Q.length;while(++U<$){var q=Q[U],K=J(q);if(K!=null&&(G===void 0?K===K&&!Jy(K):Z(K,G)))var G=K,Y=q}return Y}jL.exports=Qy});var _L=w((Kn,wL)=>{function Zy(Q,J){return Q>J}wL.exports=Zy});var fL=w((Gn,vL)=>{var Uy=J5(),$y=_L(),qy=t9();function Ky(Q){return Q&&Q.length?Uy(Q,qy,$y):void 0}vL.exports=Ky});var m$=w((Yn,xL)=>{var Gy=Q6(),Yy=BQ();function Fy(Q,J,Z){if(Z!==void 0&&!Yy(Q[J],Z)||Z===void 0&&!(J in Q))Gy(Q,J,Z)}xL.exports=Fy});var yL=w((Fn,mL)=>{var Xy=a9(),Hy=G6(),My=Q9(),Ny=\"[object Object]\",zy=Function.prototype,Ly=Object.prototype,bL=zy.toString,Wy=Ly.hasOwnProperty,Ey=bL.call(Object);function By(Q){if(!My(Q)||Xy(Q)!=Ny)return!1;var J=Hy(Q);if(J===null)return!0;var Z=Wy.call(J,\"constructor\")&&J.constructor;return typeof Z==\"function\"&&Z instanceof Z&&bL.call(Z)==Ey}mL.exports=By});var y$=w((Xn,hL)=>{function Vy(Q,J){if(J===\"constructor\"&&typeof Q[J]===\"function\")return;if(J==\"__proto__\")return;return Q[J]}hL.exports=Vy});var gL=w((Hn,uL)=>{var Dy=UZ(),Ry=o9();function Oy(Q){return Dy(Q,Ry(Q))}uL.exports=Oy});var nL=w((Mn,iL)=>{var dL=m$(),Ay=mU(),Cy=oU(),Sy=yU(),Iy=eU(),cL=$Z(),pL=q8(),Ty=T$(),Py=DQ(),ky=eQ(),jy=u8(),wy=yL(),_y=GZ(),lL=y$(),vy=gL();function fy(Q,J,Z,U,$,q,K){var G=lL(Q,Z),Y=lL(J,Z),F=K.get(Y);if(F){dL(Q,Z,F);return}var X=q?q(G,Y,Z+\"\",Q,J,K):void 0,H=X===void 0;if(H){var M=pL(Y),z=!M&&Py(Y),N=!M&&!z&&_y(Y);if(X=Y,M||z||N)if(pL(G))X=G;else if(Ty(G))X=Sy(G);else if(z)H=!1,X=Ay(Y,!0);else if(N)H=!1,X=Cy(Y,!0);else X=[];else if(wy(Y)||cL(Y)){if(X=G,cL(G))X=vy(G);else if(!jy(G)||ky(G))X=Iy(Y)}else H=!1}if(H)K.set(Y,X),$(X,Y,U,q,K),K.delete(Y);dL(Q,Z,X)}iL.exports=fy});var rL=w((Nn,aL)=>{var xy=J6(),by=m$(),my=u7(),yy=nL(),hy=u8(),uy=o9(),gy=y$();function sL(Q,J,Z,U,$){if(Q===J)return;my(J,function(q,K){if($||($=new xy),hy(q))yy(Q,J,K,Z,sL,U,$);else{var G=U?U(gy(Q,K),q,K+\"\",Q,J,$):void 0;if(G===void 0)G=q;by(Q,K,G)}},uy)}aL.exports=sL});var tL=w((zn,oL)=>{var dy=M6(),cy=L6();function py(Q){return dy(function(J,Z){var U=-1,$=Z.length,q=$>1?Z[$-1]:void 0,K=$>2?Z[2]:void 0;if(q=Q.length>3&&typeof q==\"function\"?($--,q):void 0,K&&cy(Z[0],Z[1],K))q=$<3?void 0:q,$=1;J=Object(J);while(++U<$){var G=Z[U];if(G)Q(J,G,U,q)}return J})}oL.exports=py});var JW=w((Ln,eL)=>{var ly=rL(),iy=tL(),ny=iy(function(Q,J,Z){ly(Q,J,Z)});eL.exports=ny});var h$=w((Wn,QW)=>{function sy(Q,J){return Q<J}QW.exports=sy});var UW=w((En,ZW)=>{var ay=J5(),ry=h$(),oy=t9();function ty(Q){return Q&&Q.length?ay(Q,oy,ry):void 0}ZW.exports=ty});var qW=w((Bn,$W)=>{var ey=J5(),Jh=X9(),Qh=h$();function Zh(Q,J){return Q&&Q.length?ey(Q,Jh(J,2),Qh):void 0}$W.exports=Zh});var GW=w((Vn,KW)=>{var Uh=n8(),$h=function(){return Uh.Date.now()};KW.exports=$h});var XW=w((Dn,FW)=>{var qh=Z6(),Kh=X6(),Gh=U6(),YW=u8(),Yh=XZ();function Fh(Q,J,Z,U){if(!YW(Q))return Q;J=Kh(J,Q);var $=-1,q=J.length,K=q-1,G=Q;while(G!=null&&++$<q){var Y=Yh(J[$]),F=Z;if(Y===\"__proto__\"||Y===\"constructor\"||Y===\"prototype\")return Q;if($!=K){var X=G[Y];if(F=U?U(X,Y,G):void 0,F===void 0)F=YW(X)?X:Gh(J[$+1])?[]:{}}qh(G,Y,F),G=G[Y]}return Q}FW.exports=Fh});var MW=w((Rn,HW)=>{var Xh=H6(),Hh=XW(),Mh=X6();function Nh(Q,J,Z){var U=-1,$=J.length,q={};while(++U<$){var K=J[U],G=Xh(Q,K);if(Z(G,K))Hh(q,Mh(K,Q),G)}return q}HW.exports=Nh});var zW=w((On,NW)=>{var zh=MW(),Lh=N$();function Wh(Q,J){return zh(Q,J,function(Z,U){return Lh(Q,U)})}NW.exports=Wh});var WW=w((An,LW)=>{var Eh=b$(),Bh=A$(),Vh=C$();function Dh(Q){return Vh(Bh(Q,void 0,Eh),Q+\"\")}LW.exports=Dh});var BW=w((Cn,EW)=>{var Rh=zW(),Oh=WW(),Ah=Oh(function(Q,J){return Q==null?{}:Rh(Q,J)});EW.exports=Ah});var DW=w((Sn,VW)=>{var{ceil:Ch,max:Sh}=Math;function Ih(Q,J,Z,U){var $=-1,q=Sh(Ch((J-Q)/(Z||1)),0),K=Array(q);while(q--)K[U?q:++$]=Q,Q+=Z;return K}VW.exports=Ih});var OW=w((In,RW)=>{var Th=DW(),Ph=L6(),u$=x$();function kh(Q){return function(J,Z,U){if(U&&typeof U!=\"number\"&&Ph(J,Z,U))Z=U=void 0;if(J=u$(J),Z===void 0)Z=J,J=0;else Z=u$(Z);return U=U===void 0?J<Z?1:-1:u$(U),Th(J,Z,U,Q)}}RW.exports=kh});var CW=w((Tn,AW)=>{var jh=OW(),wh=jh();AW.exports=wh});var IW=w((Pn,SW)=>{function _h(Q,J){var Z=Q.length;Q.sort(J);while(Z--)Q[Z]=Q[Z].value;return Q}SW.exports=_h});var kW=w((kn,PW)=>{var TW=AQ();function vh(Q,J){if(Q!==J){var Z=Q!==void 0,U=Q===null,$=Q===Q,q=TW(Q),K=J!==void 0,G=J===null,Y=J===J,F=TW(J);if(!G&&!F&&!q&&Q>J||q&&K&&Y&&!G&&!F||U&&K&&Y||!Z&&Y||!$)return 1;if(!U&&!q&&!F&&Q<J||F&&Z&&$&&!U&&!q||G&&Z&&$||!K&&$||!Y)return-1}return 0}PW.exports=vh});var wW=w((jn,jW)=>{var fh=kW();function xh(Q,J,Z){var U=-1,$=Q.criteria,q=J.criteria,K=$.length,G=Z.length;while(++U<K){var Y=fh($[U],q[U]);if(Y){if(U>=G)return Y;var F=Z[U];return Y*(F==\"desc\"?-1:1)}}return Q.index-J.index}jW.exports=xh});var vW=w((wn,_W)=>{var g$=F6(),bh=H6(),mh=X9(),yh=B$(),hh=IW(),uh=$6(),gh=wW(),dh=t9(),ch=q8();function ph(Q,J,Z){if(J.length)J=g$(J,function(q){if(ch(q))return function(K){return bh(K,q.length===1?q[0]:q)};return q});else J=[dh];var U=-1;J=g$(J,uh(mh));var $=yh(Q,function(q,K,G){var Y=g$(J,function(F){return F(q)});return{criteria:Y,index:++U,value:q}});return hh($,function(q,K){return gh(q,K,Z)})}_W.exports=ph});var bW=w((_n,xW)=>{var lh=n7(),ih=vW(),nh=M6(),fW=L6(),sh=nh(function(Q,J){if(Q==null)return[];var Z=J.length;if(Z>1&&fW(Q,J[0],J[1]))J=[];else if(Z>2&&fW(J[0],J[1],J[2]))J=[J[0]];return ih(Q,lh(J,1),[])});xW.exports=sh});var yW=w((vn,mW)=>{var ah=H$(),rh=0;function oh(Q){var J=++rh;return ah(Q)+J}mW.exports=oh});var uW=w((fn,hW)=>{function th(Q,J,Z){var U=-1,$=Q.length,q=J.length,K={};while(++U<$){var G=U<q?J[U]:void 0;Z(K,Q[U],G)}return K}hW.exports=th});var dW=w((xn,gW)=>{var eh=Z6(),Ju=uW();function Qu(Q,J){return Ju(Q||[],J||[],eh)}gW.exports=Qu});var eJ=w((bn,cW)=>{var Q5;try{Q5={cloneDeep:JL(),constant:h7(),defaults:$L(),each:d7(),filter:L$(),find:OL(),flatten:b$(),forEach:d7(),forIn:SL(),has:W$(),isUndefined:E$(),last:TL(),map:V$(),mapValues:kL(),max:fL(),merge:JW(),min:UW(),minBy:qW(),now:GW(),pick:BW(),range:CW(),reduce:D$(),sortBy:bW(),uniqueId:yW(),values:P$(),zipObject:dW()}}catch(Q){}if(!Q5)Q5=window._;cW.exports=Q5});var iW=w((yn,lW)=>{lW.exports=Z5;function Z5(){var Q={};Q._next=Q._prev=Q,this._sentinel=Q}Z5.prototype.dequeue=function(){var Q=this._sentinel,J=Q._prev;if(J!==Q)return pW(J),J};Z5.prototype.enqueue=function(Q){var J=this._sentinel;if(Q._prev&&Q._next)pW(Q);Q._next=J._next,J._next._prev=Q,J._next=Q,Q._prev=J};Z5.prototype.toString=function(){var Q=[],J=this._sentinel,Z=J._prev;while(Z!==J)Q.push(JSON.stringify(Z,Zu)),Z=Z._prev;return\"[\"+Q.join(\", \")+\"]\"};function pW(Q){Q._prev._next=Q._next,Q._next._prev=Q._prev,delete Q._next,delete Q._prev}function Zu(Q,J){if(Q!==\"_next\"&&Q!==\"_prev\")return J}});var sW=w((hn,nW)=>{var C9=eJ(),Uu=a8().Graph,$u=iW();nW.exports=Ku;var qu=C9.constant(1);function Ku(Q,J){if(Q.nodeCount()<=1)return[];var Z=Yu(Q,J||qu),U=Gu(Z.graph,Z.buckets,Z.zeroIdx);return C9.flatten(C9.map(U,function($){return Q.outEdges($.v,$.w)}),!0)}function Gu(Q,J,Z){var U=[],$=J[J.length-1],q=J[0],K;while(Q.nodeCount()){while(K=q.dequeue())d$(Q,J,Z,K);while(K=$.dequeue())d$(Q,J,Z,K);if(Q.nodeCount()){for(var G=J.length-2;G>0;--G)if(K=J[G].dequeue(),K){U=U.concat(d$(Q,J,Z,K,!0));break}}}return U}function d$(Q,J,Z,U,$){var q=$?[]:void 0;return C9.forEach(Q.inEdges(U.v),function(K){var G=Q.edge(K),Y=Q.node(K.v);if($)q.push({v:K.v,w:K.w});Y.out-=G,c$(J,Z,Y)}),C9.forEach(Q.outEdges(U.v),function(K){var G=Q.edge(K),Y=K.w,F=Q.node(Y);F.in-=G,c$(J,Z,F)}),Q.removeNode(U.v),q}function Yu(Q,J){var Z=new Uu,U=0,$=0;C9.forEach(Q.nodes(),function(G){Z.setNode(G,{v:G,in:0,out:0})}),C9.forEach(Q.edges(),function(G){var Y=Z.edge(G.v,G.w)||0,F=J(G),X=Y+F;Z.setEdge(G.v,G.w,X),$=Math.max($,Z.node(G.v).out+=F),U=Math.max(U,Z.node(G.w).in+=F)});var q=C9.range($+U+3).map(function(){return new $u}),K=U+1;return C9.forEach(Z.nodes(),function(G){c$(q,K,Z.node(G))}),{graph:Z,buckets:q,zeroIdx:K}}function c$(Q,J,Z){if(!Z.out)Q[0].enqueue(Z);else if(!Z.in)Q[Q.length-1].enqueue(Z);else Q[Z.out-Z.in+J].enqueue(Z)}});var rW=w((un,aW)=>{var SQ=eJ(),Fu=sW();aW.exports={run:Xu,undo:Mu};function Xu(Q){var J=Q.graph().acyclicer===\"greedy\"?Fu(Q,Z(Q)):Hu(Q);SQ.forEach(J,function(U){var $=Q.edge(U);Q.removeEdge(U),$.forwardName=U.name,$.reversed=!0,Q.setEdge(U.w,U.v,$,SQ.uniqueId(\"rev\"))});function Z(U){return function($){return U.edge($).weight}}}function Hu(Q){var J=[],Z={},U={};function $(q){if(SQ.has(U,q))return;U[q]=!0,Z[q]=!0,SQ.forEach(Q.outEdges(q),function(K){if(SQ.has(Z,K.w))J.push(K);else $(K.w)}),delete Z[q]}return SQ.forEach(Q.nodes(),$),J}function Mu(Q){SQ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(Z.reversed){Q.removeEdge(J);var U=Z.forwardName;delete Z.reversed,delete Z.forwardName,Q.setEdge(J.w,J.v,Z,U)}})}});var v8=w((gn,JE)=>{var uJ=eJ(),oW=a8().Graph;JE.exports={addDummyNode:tW,simplify:Nu,asNonCompoundGraph:zu,successorWeights:Lu,predecessorWeights:Wu,intersectRect:Eu,buildLayerMatrix:Bu,normalizeRanks:Vu,removeEmptyRanks:Du,addBorderNode:Ru,maxRank:eW,partition:Ou,time:Au,notime:Cu};function tW(Q,J,Z,U){var $;do $=uJ.uniqueId(U);while(Q.hasNode($));return Z.dummy=J,Q.setNode($,Z),$}function Nu(Q){var J=new oW().setGraph(Q.graph());return uJ.forEach(Q.nodes(),function(Z){J.setNode(Z,Q.node(Z))}),uJ.forEach(Q.edges(),function(Z){var U=J.edge(Z.v,Z.w)||{weight:0,minlen:1},$=Q.edge(Z);J.setEdge(Z.v,Z.w,{weight:U.weight+$.weight,minlen:Math.max(U.minlen,$.minlen)})}),J}function zu(Q){var J=new oW({multigraph:Q.isMultigraph()}).setGraph(Q.graph());return uJ.forEach(Q.nodes(),function(Z){if(!Q.children(Z).length)J.setNode(Z,Q.node(Z))}),uJ.forEach(Q.edges(),function(Z){J.setEdge(Z,Q.edge(Z))}),J}function Lu(Q){var J=uJ.map(Q.nodes(),function(Z){var U={};return uJ.forEach(Q.outEdges(Z),function($){U[$.w]=(U[$.w]||0)+Q.edge($).weight}),U});return uJ.zipObject(Q.nodes(),J)}function Wu(Q){var J=uJ.map(Q.nodes(),function(Z){var U={};return uJ.forEach(Q.inEdges(Z),function($){U[$.v]=(U[$.v]||0)+Q.edge($).weight}),U});return uJ.zipObject(Q.nodes(),J)}function Eu(Q,J){var{x:Z,y:U}=Q,$=J.x-Z,q=J.y-U,K=Q.width/2,G=Q.height/2;if(!$&&!q)throw new Error(\"Not possible to find intersection inside of the rectangle\");var Y,F;if(Math.abs(q)*K>Math.abs($)*G){if(q<0)G=-G;Y=G*$/q,F=G}else{if($<0)K=-K;Y=K,F=K*q/$}return{x:Z+Y,y:U+F}}function Bu(Q){var J=uJ.map(uJ.range(eW(Q)+1),function(){return[]});return uJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z),$=U.rank;if(!uJ.isUndefined($))J[$][U.order]=Z}),J}function Vu(Q){var J=uJ.min(uJ.map(Q.nodes(),function(Z){return Q.node(Z).rank}));uJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z);if(uJ.has(U,\"rank\"))U.rank-=J})}function Du(Q){var J=uJ.min(uJ.map(Q.nodes(),function(q){return Q.node(q).rank})),Z=[];uJ.forEach(Q.nodes(),function(q){var K=Q.node(q).rank-J;if(!Z[K])Z[K]=[];Z[K].push(q)});var U=0,$=Q.graph().nodeRankFactor;uJ.forEach(Z,function(q,K){if(uJ.isUndefined(q)&&K%$!==0)--U;else if(U)uJ.forEach(q,function(G){Q.node(G).rank+=U})})}function Ru(Q,J,Z,U){var $={width:0,height:0};if(arguments.length>=4)$.rank=Z,$.order=U;return tW(Q,\"border\",$,J)}function eW(Q){return uJ.max(uJ.map(Q.nodes(),function(J){var Z=Q.node(J).rank;if(!uJ.isUndefined(Z))return Z}))}function Ou(Q,J){var Z={lhs:[],rhs:[]};return uJ.forEach(Q,function(U){if(J(U))Z.lhs.push(U);else Z.rhs.push(U)}),Z}function Au(Q,J){var Z=uJ.now();try{return J()}finally{console.log(Q+\" time: \"+(uJ.now()-Z)+\"ms\")}}function Cu(Q,J){return J()}});var UE=w((dn,ZE)=>{var QE=eJ(),Su=v8();ZE.exports={run:Iu,undo:Pu};function Iu(Q){Q.graph().dummyChains=[],QE.forEach(Q.edges(),function(J){Tu(Q,J)})}function Tu(Q,J){var Z=J.v,U=Q.node(Z).rank,$=J.w,q=Q.node($).rank,K=J.name,G=Q.edge(J),Y=G.labelRank;if(q===U+1)return;Q.removeEdge(J);var F,X,H;for(H=0,++U;U<q;++H,++U){if(G.points=[],X={width:0,height:0,edgeLabel:G,edgeObj:J,rank:U},F=Su.addDummyNode(Q,\"edge\",X,\"_d\"),U===Y)X.width=G.width,X.height=G.height,X.dummy=\"edge-label\",X.labelpos=G.labelpos;if(Q.setEdge(Z,F,{weight:G.weight},K),H===0)Q.graph().dummyChains.push(F);Z=F}Q.setEdge(Z,$,{weight:G.weight},K)}function Pu(Q){QE.forEach(Q.graph().dummyChains,function(J){var Z=Q.node(J),U=Z.edgeLabel,$;Q.setEdge(Z.edgeObj,U);while(Z.dummy){if($=Q.successors(J)[0],Q.removeNode(J),U.points.push({x:Z.x,y:Z.y}),Z.dummy===\"edge-label\")U.x=Z.x,U.y=Z.y,U.width=Z.width,U.height=Z.height;J=$,Z=Q.node(J)}})}});var W6=w((cn,$E)=>{var U5=eJ();$E.exports={longestPath:ku,slack:ju};function ku(Q){var J={};function Z(U){var $=Q.node(U);if(U5.has(J,U))return $.rank;J[U]=!0;var q=U5.min(U5.map(Q.outEdges(U),function(K){return Z(K.w)-Q.edge(K).minlen}));if(q===Number.POSITIVE_INFINITY||q===void 0||q===null)q=0;return $.rank=q}U5.forEach(Q.sources(),Z)}function ju(Q,J){return Q.node(J.w).rank-Q.node(J.v).rank-Q.edge(J).minlen}});var p$=w((pn,qE)=>{var $5=eJ(),wu=a8().Graph,q5=W6().slack;qE.exports=_u;function _u(Q){var J=new wu({directed:!1}),Z=Q.nodes()[0],U=Q.nodeCount();J.setNode(Z,{});var $,q;while(vu(J,Q)<U)$=fu(J,Q),q=J.hasNode($.v)?q5(Q,$):-q5(Q,$),xu(J,Q,q);return J}function vu(Q,J){function Z(U){$5.forEach(J.nodeEdges(U),function($){var q=$.v,K=U===q?$.w:q;if(!Q.hasNode(K)&&!q5(J,$))Q.setNode(K,{}),Q.setEdge(U,K,{}),Z(K)})}return $5.forEach(Q.nodes(),Z),Q.nodeCount()}function fu(Q,J){return $5.minBy(J.edges(),function(Z){if(Q.hasNode(Z.v)!==Q.hasNode(Z.w))return q5(J,Z)})}function xu(Q,J,Z){$5.forEach(Q.nodes(),function(U){J.node(U).rank+=Z})}});var NE=w((ln,ME)=>{var S9=eJ(),bu=p$(),mu=W6().slack,yu=W6().longestPath,hu=a8().alg.preorder,uu=a8().alg.postorder,gu=v8().simplify;ME.exports=IQ;IQ.initLowLimValues=i$;IQ.initCutValues=l$;IQ.calcCutValue=GE;IQ.leaveEdge=FE;IQ.enterEdge=XE;IQ.exchangeEdges=HE;function IQ(Q){Q=gu(Q),yu(Q);var J=bu(Q);i$(J),l$(J,Q);var Z,U;while(Z=FE(J))U=XE(J,Q,Z),HE(J,Q,Z,U)}function l$(Q,J){var Z=uu(Q,Q.nodes());Z=Z.slice(0,Z.length-1),S9.forEach(Z,function(U){du(Q,J,U)})}function du(Q,J,Z){var U=Q.node(Z),$=U.parent;Q.edge(Z,$).cutvalue=GE(Q,J,Z)}function GE(Q,J,Z){var U=Q.node(Z),$=U.parent,q=!0,K=J.edge(Z,$),G=0;if(!K)q=!1,K=J.edge($,Z);return G=K.weight,S9.forEach(J.nodeEdges(Z),function(Y){var F=Y.v===Z,X=F?Y.w:Y.v;if(X!==$){var H=F===q,M=J.edge(Y).weight;if(G+=H?M:-M,pu(Q,Z,X)){var z=Q.edge(Z,X).cutvalue;G+=H?-z:z}}}),G}function i$(Q,J){if(arguments.length<2)J=Q.nodes()[0];YE(Q,{},1,J)}function YE(Q,J,Z,U,$){var q=Z,K=Q.node(U);if(J[U]=!0,S9.forEach(Q.neighbors(U),function(G){if(!S9.has(J,G))Z=YE(Q,J,Z,G,U)}),K.low=q,K.lim=Z++,$)K.parent=$;else delete K.parent;return Z}function FE(Q){return S9.find(Q.edges(),function(J){return Q.edge(J).cutvalue<0})}function XE(Q,J,Z){var{v:U,w:$}=Z;if(!J.hasEdge(U,$))U=Z.w,$=Z.v;var q=Q.node(U),K=Q.node($),G=q,Y=!1;if(q.lim>K.lim)G=K,Y=!0;var F=S9.filter(J.edges(),function(X){return Y===KE(Q,Q.node(X.v),G)&&Y!==KE(Q,Q.node(X.w),G)});return S9.minBy(F,function(X){return mu(J,X)})}function HE(Q,J,Z,U){var{v:$,w:q}=Z;Q.removeEdge($,q),Q.setEdge(U.v,U.w,{}),i$(Q),l$(Q,J),cu(Q,J)}function cu(Q,J){var Z=S9.find(Q.nodes(),function($){return!J.node($).parent}),U=hu(Q,Z);U=U.slice(1),S9.forEach(U,function($){var q=Q.node($).parent,K=J.edge($,q),G=!1;if(!K)K=J.edge(q,$),G=!0;J.node($).rank=J.node(q).rank+(G?K.minlen:-K.minlen)})}function pu(Q,J,Z){return Q.hasEdge(J,Z)}function KE(Q,J,Z){return Z.low<=J.lim&&J.lim<=Z.lim}});var EE=w((nn,WE)=>{var lu=W6(),LE=lu.longestPath,iu=p$(),nu=NE();WE.exports=su;function su(Q){switch(Q.graph().ranker){case\"network-simplex\":zE(Q);break;case\"tight-tree\":ru(Q);break;case\"longest-path\":au(Q);break;default:zE(Q)}}var au=LE;function ru(Q){LE(Q),iu(Q)}function zE(Q){nu(Q)}});var VE=w((sn,BE)=>{var n$=eJ();BE.exports=ou;function ou(Q){var J=eu(Q);n$.forEach(Q.graph().dummyChains,function(Z){var U=Q.node(Z),$=U.edgeObj,q=tu(Q,J,$.v,$.w),K=q.path,G=q.lca,Y=0,F=K[Y],X=!0;while(Z!==$.w){if(U=Q.node(Z),X){while((F=K[Y])!==G&&Q.node(F).maxRank<U.rank)Y++;if(F===G)X=!1}if(!X){while(Y<K.length-1&&Q.node(F=K[Y+1]).minRank<=U.rank)Y++;F=K[Y]}Q.setParent(Z,F),Z=Q.successors(Z)[0]}})}function tu(Q,J,Z,U){var $=[],q=[],K=Math.min(J[Z].low,J[U].low),G=Math.max(J[Z].lim,J[U].lim),Y,F;Y=Z;do Y=Q.parent(Y),$.push(Y);while(Y&&(J[Y].low>K||G>J[Y].lim));F=Y,Y=U;while((Y=Q.parent(Y))!==F)q.push(Y);return{path:$.concat(q.reverse()),lca:F}}function eu(Q){var J={},Z=0;function U($){var q=Z;n$.forEach(Q.children($),U),J[$]={low:q,lim:Z++}}return n$.forEach(Q.children(),U),J}});var OE=w((an,RE)=>{var I9=eJ(),s$=v8();RE.exports={run:Jg,cleanup:Ug};function Jg(Q){var J=s$.addDummyNode(Q,\"root\",{},\"_root\"),Z=Qg(Q),U=I9.max(I9.values(Z))-1,$=2*U+1;Q.graph().nestingRoot=J,I9.forEach(Q.edges(),function(K){Q.edge(K).minlen*=$});var q=Zg(Q)+1;I9.forEach(Q.children(),function(K){DE(Q,J,$,q,U,Z,K)}),Q.graph().nodeRankFactor=$}function DE(Q,J,Z,U,$,q,K){var G=Q.children(K);if(!G.length){if(K!==J)Q.setEdge(J,K,{weight:0,minlen:Z});return}var Y=s$.addBorderNode(Q,\"_bt\"),F=s$.addBorderNode(Q,\"_bb\"),X=Q.node(K);if(Q.setParent(Y,K),X.borderTop=Y,Q.setParent(F,K),X.borderBottom=F,I9.forEach(G,function(H){DE(Q,J,Z,U,$,q,H);var M=Q.node(H),z=M.borderTop?M.borderTop:H,N=M.borderBottom?M.borderBottom:H,W=M.borderTop?U:2*U,L=z!==N?1:$-q[K]+1;Q.setEdge(Y,z,{weight:W,minlen:L,nestingEdge:!0}),Q.setEdge(N,F,{weight:W,minlen:L,nestingEdge:!0})}),!Q.parent(K))Q.setEdge(J,Y,{weight:0,minlen:$+q[K]})}function Qg(Q){var J={};function Z(U,$){var q=Q.children(U);if(q&&q.length)I9.forEach(q,function(K){Z(K,$+1)});J[U]=$}return I9.forEach(Q.children(),function(U){Z(U,1)}),J}function Zg(Q){return I9.reduce(Q.edges(),function(J,Z){return J+Q.edge(Z).weight},0)}function Ug(Q){var J=Q.graph();Q.removeNode(J.nestingRoot),delete J.nestingRoot,I9.forEach(Q.edges(),function(Z){var U=Q.edge(Z);if(U.nestingEdge)Q.removeEdge(Z)})}});var SE=w((rn,CE)=>{var a$=eJ(),$g=v8();CE.exports=qg;function qg(Q){function J(Z){var U=Q.children(Z),$=Q.node(Z);if(U.length)a$.forEach(U,J);if(a$.has($,\"minRank\")){$.borderLeft=[],$.borderRight=[];for(var q=$.minRank,K=$.maxRank+1;q<K;++q)AE(Q,\"borderLeft\",\"_bl\",Z,$,q),AE(Q,\"borderRight\",\"_br\",Z,$,q)}}a$.forEach(Q.children(),J)}function AE(Q,J,Z,U,$,q){var K={width:0,height:0,rank:q,borderType:J},G=$[J][q-1],Y=$g.addDummyNode(Q,\"border\",K,Z);if($[J][q]=Y,Q.setParent(Y,U),G)Q.setEdge(G,Y,{weight:1})}});var kE=w((on,PE)=>{var M9=eJ();PE.exports={adjust:Kg,undo:Gg};function Kg(Q){var J=Q.graph().rankdir.toLowerCase();if(J===\"lr\"||J===\"rl\")TE(Q)}function Gg(Q){var J=Q.graph().rankdir.toLowerCase();if(J===\"bt\"||J===\"rl\")Yg(Q);if(J===\"lr\"||J===\"rl\")Fg(Q),TE(Q)}function TE(Q){M9.forEach(Q.nodes(),function(J){IE(Q.node(J))}),M9.forEach(Q.edges(),function(J){IE(Q.edge(J))})}function IE(Q){var J=Q.width;Q.width=Q.height,Q.height=J}function Yg(Q){M9.forEach(Q.nodes(),function(J){r$(Q.node(J))}),M9.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(M9.forEach(Z.points,r$),M9.has(Z,\"y\"))r$(Z)})}function r$(Q){Q.y=-Q.y}function Fg(Q){M9.forEach(Q.nodes(),function(J){o$(Q.node(J))}),M9.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(M9.forEach(Z.points,o$),M9.has(Z,\"x\"))o$(Z)})}function o$(Q){var J=Q.x;Q.x=Q.y,Q.y=J}});var wE=w((tn,jE)=>{var T9=eJ();jE.exports=Xg;function Xg(Q){var J={},Z=T9.filter(Q.nodes(),function(G){return!Q.children(G).length}),U=T9.max(T9.map(Z,function(G){return Q.node(G).rank})),$=T9.map(T9.range(U+1),function(){return[]});function q(G){if(T9.has(J,G))return;J[G]=!0;var Y=Q.node(G);$[Y.rank].push(G),T9.forEach(Q.successors(G),q)}var K=T9.sortBy(Z,function(G){return Q.node(G).rank});return T9.forEach(K,q),$}});var vE=w((en,_E)=>{var e9=eJ();_E.exports=Hg;function Hg(Q,J){var Z=0;for(var U=1;U<J.length;++U)Z+=Mg(Q,J[U-1],J[U]);return Z}function Mg(Q,J,Z){var U=e9.zipObject(Z,e9.map(Z,function(F,X){return X})),$=e9.flatten(e9.map(J,function(F){return e9.sortBy(e9.map(Q.outEdges(F),function(X){return{pos:U[X.w],weight:Q.edge(X).weight}}),\"pos\")}),!0),q=1;while(q<Z.length)q<<=1;var K=2*q-1;q-=1;var G=e9.map(new Array(K),function(){return 0}),Y=0;return e9.forEach($.forEach(function(F){var X=F.pos+q;G[X]+=F.weight;var H=0;while(X>0){if(X%2)H+=G[X+1];X=X-1>>1,G[X]+=F.weight}Y+=F.weight*H})),Y}});var bE=w((Js,xE)=>{var fE=eJ();xE.exports=Ng;function Ng(Q,J){return fE.map(J,function(Z){var U=Q.inEdges(Z);if(!U.length)return{v:Z};else{var $=fE.reduce(U,function(q,K){var G=Q.edge(K),Y=Q.node(K.v);return{sum:q.sum+G.weight*Y.order,weight:q.weight+G.weight}},{sum:0,weight:0});return{v:Z,barycenter:$.sum/$.weight,weight:$.weight}}})}});var yE=w((Qs,mE)=>{var d8=eJ();mE.exports=zg;function zg(Q,J){var Z={};d8.forEach(Q,function($,q){var K=Z[$.v]={indegree:0,in:[],out:[],vs:[$.v],i:q};if(!d8.isUndefined($.barycenter))K.barycenter=$.barycenter,K.weight=$.weight}),d8.forEach(J.edges(),function($){var q=Z[$.v],K=Z[$.w];if(!d8.isUndefined(q)&&!d8.isUndefined(K))K.indegree++,q.out.push(Z[$.w])});var U=d8.filter(Z,function($){return!$.indegree});return Lg(U)}function Lg(Q){var J=[];function Z(q){return function(K){if(K.merged)return;if(d8.isUndefined(K.barycenter)||d8.isUndefined(q.barycenter)||K.barycenter>=q.barycenter)Wg(q,K)}}function U(q){return function(K){if(K.in.push(q),--K.indegree===0)Q.push(K)}}while(Q.length){var $=Q.pop();J.push($),d8.forEach($.in.reverse(),Z($)),d8.forEach($.out,U($))}return d8.map(d8.filter(J,function(q){return!q.merged}),function(q){return d8.pick(q,[\"vs\",\"i\",\"barycenter\",\"weight\"])})}function Wg(Q,J){var Z=0,U=0;if(Q.weight)Z+=Q.barycenter*Q.weight,U+=Q.weight;if(J.weight)Z+=J.barycenter*J.weight,U+=J.weight;Q.vs=J.vs.concat(Q.vs),Q.barycenter=Z/U,Q.weight=U,Q.i=Math.min(J.i,Q.i),J.merged=!0}});var gE=w((Zs,uE)=>{var E6=eJ(),Eg=v8();uE.exports=Bg;function Bg(Q,J){var Z=Eg.partition(Q,function(X){return E6.has(X,\"barycenter\")}),U=Z.lhs,$=E6.sortBy(Z.rhs,function(X){return-X.i}),q=[],K=0,G=0,Y=0;U.sort(Vg(!!J)),Y=hE(q,$,Y),E6.forEach(U,function(X){Y+=X.vs.length,q.push(X.vs),K+=X.barycenter*X.weight,G+=X.weight,Y=hE(q,$,Y)});var F={vs:E6.flatten(q,!0)};if(G)F.barycenter=K/G,F.weight=G;return F}function hE(Q,J,Z){var U;while(J.length&&(U=E6.last(J)).i<=Z)J.pop(),Q.push(U.vs),Z++;return Z}function Vg(Q){return function(J,Z){if(J.barycenter<Z.barycenter)return-1;else if(J.barycenter>Z.barycenter)return 1;return!Q?J.i-Z.i:Z.i-J.i}}});var pE=w((Us,cE)=>{var JQ=eJ(),Dg=bE(),Rg=yE(),Og=gE();cE.exports=dE;function dE(Q,J,Z,U){var $=Q.children(J),q=Q.node(J),K=q?q.borderLeft:void 0,G=q?q.borderRight:void 0,Y={};if(K)$=JQ.filter($,function(N){return N!==K&&N!==G});var F=Dg(Q,$);JQ.forEach(F,function(N){if(Q.children(N.v).length){var W=dE(Q,N.v,Z,U);if(Y[N.v]=W,JQ.has(W,\"barycenter\"))Cg(N,W)}});var X=Rg(F,Z);Ag(X,Y);var H=Og(X,U);if(K){if(H.vs=JQ.flatten([K,H.vs,G],!0),Q.predecessors(K).length){var M=Q.node(Q.predecessors(K)[0]),z=Q.node(Q.predecessors(G)[0]);if(!JQ.has(H,\"barycenter\"))H.barycenter=0,H.weight=0;H.barycenter=(H.barycenter*H.weight+M.order+z.order)/(H.weight+2),H.weight+=2}}return H}function Ag(Q,J){JQ.forEach(Q,function(Z){Z.vs=JQ.flatten(Z.vs.map(function(U){if(J[U])return J[U].vs;return U}),!0)})}function Cg(Q,J){if(!JQ.isUndefined(Q.barycenter))Q.barycenter=(Q.barycenter*Q.weight+J.barycenter*J.weight)/(Q.weight+J.weight),Q.weight+=J.weight;else Q.barycenter=J.barycenter,Q.weight=J.weight}});var iE=w(($s,lE)=>{var B6=eJ(),Sg=a8().Graph;lE.exports=Ig;function Ig(Q,J,Z){var U=Tg(Q),$=new Sg({compound:!0}).setGraph({root:U}).setDefaultNodeLabel(function(q){return Q.node(q)});return B6.forEach(Q.nodes(),function(q){var K=Q.node(q),G=Q.parent(q);if(K.rank===J||K.minRank<=J&&J<=K.maxRank){if($.setNode(q),$.setParent(q,G||U),B6.forEach(Q[Z](q),function(Y){var F=Y.v===q?Y.w:Y.v,X=$.edge(F,q),H=!B6.isUndefined(X)?X.weight:0;$.setEdge(F,q,{weight:Q.edge(Y).weight+H})}),B6.has(K,\"minRank\"))$.setNode(q,{borderLeft:K.borderLeft[J],borderRight:K.borderRight[J]})}}),$}function Tg(Q){var J;while(Q.hasNode(J=B6.uniqueId(\"_root\")));return J}});var sE=w((qs,nE)=>{var Pg=eJ();nE.exports=kg;function kg(Q,J,Z){var U={},$;Pg.forEach(Z,function(q){var K=Q.parent(q),G,Y;while(K){if(G=Q.parent(K),G)Y=U[G],U[G]=K;else Y=$,$=K;if(Y&&Y!==K){J.setEdge(Y,K);return}K=G}})}});var eE=w((Ks,tE)=>{var QQ=eJ(),jg=wE(),wg=vE(),_g=pE(),vg=iE(),fg=sE(),xg=a8().Graph,aE=v8();tE.exports=bg;function bg(Q){var J=aE.maxRank(Q),Z=rE(Q,QQ.range(1,J+1),\"inEdges\"),U=rE(Q,QQ.range(J-1,-1,-1),\"outEdges\"),$=jg(Q);oE(Q,$);var q=Number.POSITIVE_INFINITY,K;for(var G=0,Y=0;Y<4;++G,++Y){mg(G%2?Z:U,G%4>=2),$=aE.buildLayerMatrix(Q);var F=wg(Q,$);if(F<q)Y=0,K=QQ.cloneDeep($),q=F}oE(Q,K)}function rE(Q,J,Z){return QQ.map(J,function(U){return vg(Q,U,Z)})}function mg(Q,J){var Z=new xg;QQ.forEach(Q,function(U){var $=U.graph().root,q=_g(U,$,Z,J);QQ.forEach(q.vs,function(K,G){U.node(K).order=G}),fg(U,Z,q.vs)})}function oE(Q,J){QQ.forEach(J,function(Z){QQ.forEach(Z,function(U,$){Q.node(U).order=$})})}});var FB=w((Gs,YB)=>{var IJ=eJ(),yg=a8().Graph,hg=v8();YB.exports={positionX:dg,findType1Conflicts:JB,findType2Conflicts:QB,addConflict:t$,hasConflict:ZB,verticalAlignment:UB,horizontalCompaction:$B,alignCoordinates:KB,findSmallestWidthAlignment:qB,balance:GB};function JB(Q,J){var Z={};function U($,q){var K=0,G=0,Y=$.length,F=IJ.last(q);return IJ.forEach(q,function(X,H){var M=ug(Q,X),z=M?Q.node(M).order:Y;if(M||X===F)IJ.forEach(q.slice(G,H+1),function(N){IJ.forEach(Q.predecessors(N),function(W){var L=Q.node(W),E=L.order;if((E<K||z<E)&&!(L.dummy&&Q.node(N).dummy))t$(Z,W,N)})}),G=H+1,K=z}),q}return IJ.reduce(J,U),Z}function QB(Q,J){var Z={};function U(q,K,G,Y,F){var X;IJ.forEach(IJ.range(K,G),function(H){if(X=q[H],Q.node(X).dummy)IJ.forEach(Q.predecessors(X),function(M){var z=Q.node(M);if(z.dummy&&(z.order<Y||z.order>F))t$(Z,M,X)})})}function $(q,K){var G=-1,Y,F=0;return IJ.forEach(K,function(X,H){if(Q.node(X).dummy===\"border\"){var M=Q.predecessors(X);if(M.length)Y=Q.node(M[0]).order,U(K,F,H,G,Y),F=H,G=Y}U(K,F,K.length,Y,q.length)}),K}return IJ.reduce(J,$),Z}function ug(Q,J){if(Q.node(J).dummy)return IJ.find(Q.predecessors(J),function(Z){return Q.node(Z).dummy})}function t$(Q,J,Z){if(J>Z){var U=J;J=Z,Z=U}var $=Q[J];if(!$)Q[J]=$={};$[Z]=!0}function ZB(Q,J,Z){if(J>Z){var U=J;J=Z,Z=U}return IJ.has(Q[J],Z)}function UB(Q,J,Z,U){var $={},q={},K={};return IJ.forEach(J,function(G){IJ.forEach(G,function(Y,F){$[Y]=Y,q[Y]=Y,K[Y]=F})}),IJ.forEach(J,function(G){var Y=-1;IJ.forEach(G,function(F){var X=U(F);if(X.length){X=IJ.sortBy(X,function(W){return K[W]});var H=(X.length-1)/2;for(var M=Math.floor(H),z=Math.ceil(H);M<=z;++M){var N=X[M];if(q[F]===F&&Y<K[N]&&!ZB(Z,F,N))q[N]=F,q[F]=$[F]=$[N],Y=K[N]}}})}),{root:$,align:q}}function $B(Q,J,Z,U,$){var q={},K=gg(Q,J,Z,$),G=$?\"borderLeft\":\"borderRight\";function Y(H,M){var z=K.nodes(),N=z.pop(),W={};while(N){if(W[N])H(N);else W[N]=!0,z.push(N),z=z.concat(M(N));N=z.pop()}}function F(H){q[H]=K.inEdges(H).reduce(function(M,z){return Math.max(M,q[z.v]+K.edge(z))},0)}function X(H){var M=K.outEdges(H).reduce(function(N,W){return Math.min(N,q[W.w]-K.edge(W))},Number.POSITIVE_INFINITY),z=Q.node(H);if(M!==Number.POSITIVE_INFINITY&&z.borderType!==G)q[H]=Math.max(q[H],M)}return Y(F,K.predecessors.bind(K)),Y(X,K.successors.bind(K)),IJ.forEach(U,function(H){q[H]=q[Z[H]]}),q}function gg(Q,J,Z,U){var $=new yg,q=Q.graph(),K=cg(q.nodesep,q.edgesep,U);return IJ.forEach(J,function(G){var Y;IJ.forEach(G,function(F){var X=Z[F];if($.setNode(X),Y){var H=Z[Y],M=$.edge(H,X);$.setEdge(H,X,Math.max(K(Q,F,Y),M||0))}Y=F})}),$}function qB(Q,J){return IJ.minBy(IJ.values(J),function(Z){var{NEGATIVE_INFINITY:U,POSITIVE_INFINITY:$}=Number;return IJ.forIn(Z,function(q,K){var G=pg(Q,K)/2;U=Math.max(q+G,U),$=Math.min(q-G,$)}),U-$})}function KB(Q,J){var Z=IJ.values(J),U=IJ.min(Z),$=IJ.max(Z);IJ.forEach([\"u\",\"d\"],function(q){IJ.forEach([\"l\",\"r\"],function(K){var G=q+K,Y=Q[G],F;if(Y===J)return;var X=IJ.values(Y);if(F=K===\"l\"?U-IJ.min(X):$-IJ.max(X),F)Q[G]=IJ.mapValues(Y,function(H){return H+F})})})}function GB(Q,J){return IJ.mapValues(Q.ul,function(Z,U){if(J)return Q[J.toLowerCase()][U];else{var $=IJ.sortBy(IJ.map(Q,U));return($[1]+$[2])/2}})}function dg(Q){var J=hg.buildLayerMatrix(Q),Z=IJ.merge(JB(Q,J),QB(Q,J)),U={},$;IJ.forEach([\"u\",\"d\"],function(K){$=K===\"u\"?J:IJ.values(J).reverse(),IJ.forEach([\"l\",\"r\"],function(G){if(G===\"r\")$=IJ.map($,function(H){return IJ.values(H).reverse()});var Y=(K===\"u\"?Q.predecessors:Q.successors).bind(Q),F=UB(Q,$,Z,Y),X=$B(Q,$,F.root,F.align,G===\"r\");if(G===\"r\")X=IJ.mapValues(X,function(H){return-H});U[K+G]=X})});var q=qB(Q,U);return KB(U,q),GB(U,Q.graph().align)}function cg(Q,J,Z){return function(U,$,q){var K=U.node($),G=U.node(q),Y=0,F;if(Y+=K.width/2,IJ.has(K,\"labelpos\"))switch(K.labelpos.toLowerCase()){case\"l\":F=-K.width/2;break;case\"r\":F=K.width/2;break}if(F)Y+=Z?F:-F;if(F=0,Y+=(K.dummy?J:Q)/2,Y+=(G.dummy?J:Q)/2,Y+=G.width/2,IJ.has(G,\"labelpos\"))switch(G.labelpos.toLowerCase()){case\"l\":F=G.width/2;break;case\"r\":F=-G.width/2;break}if(F)Y+=Z?F:-F;return F=0,Y}}function pg(Q,J){return Q.node(J).width}});var MB=w((Ys,HB)=>{var V6=eJ(),XB=v8(),lg=FB().positionX;HB.exports=ig;function ig(Q){Q=XB.asNonCompoundGraph(Q),ng(Q),V6.forEach(lg(Q),function(J,Z){Q.node(Z).x=J})}function ng(Q){var J=XB.buildLayerMatrix(Q),Z=Q.graph().ranksep,U=0;V6.forEach(J,function($){var q=V6.max(V6.map($,function(K){return Q.node(K).height}));V6.forEach($,function(K){Q.node(K).y=U+q/2}),U+=q+Z})}});var BB=w((Fs,EB)=>{var jJ=eJ(),NB=rW(),zB=UE(),sg=EE(),ag=v8().normalizeRanks,rg=VE(),og=v8().removeEmptyRanks,LB=OE(),tg=SE(),WB=kE(),eg=eE(),Jd=MB(),ZQ=v8(),Qd=a8().Graph;EB.exports=Zd;function Zd(Q,J){var Z=J&&J.debugTiming?ZQ.time:ZQ.notime;Z(\"layout\",function(){var U=Z(\"  buildLayoutGraph\",function(){return Nd(Q)});Z(\"  runLayout\",function(){Ud(U,Z)}),Z(\"  updateInputGraph\",function(){$d(Q,U)})})}function Ud(Q,J){J(\"    makeSpaceForEdgeLabels\",function(){zd(Q)}),J(\"    removeSelfEdges\",function(){Ad(Q)}),J(\"    acyclic\",function(){NB.run(Q)}),J(\"    nestingGraph.run\",function(){LB.run(Q)}),J(\"    rank\",function(){sg(ZQ.asNonCompoundGraph(Q))}),J(\"    injectEdgeLabelProxies\",function(){Ld(Q)}),J(\"    removeEmptyRanks\",function(){og(Q)}),J(\"    nestingGraph.cleanup\",function(){LB.cleanup(Q)}),J(\"    normalizeRanks\",function(){ag(Q)}),J(\"    assignRankMinMax\",function(){Wd(Q)}),J(\"    removeEdgeLabelProxies\",function(){Ed(Q)}),J(\"    normalize.run\",function(){zB.run(Q)}),J(\"    parentDummyChains\",function(){rg(Q)}),J(\"    addBorderSegments\",function(){tg(Q)}),J(\"    order\",function(){eg(Q)}),J(\"    insertSelfEdges\",function(){Cd(Q)}),J(\"    adjustCoordinateSystem\",function(){WB.adjust(Q)}),J(\"    position\",function(){Jd(Q)}),J(\"    positionSelfEdges\",function(){Sd(Q)}),J(\"    removeBorderNodes\",function(){Od(Q)}),J(\"    normalize.undo\",function(){zB.undo(Q)}),J(\"    fixupEdgeLabelCoords\",function(){Dd(Q)}),J(\"    undoCoordinateSystem\",function(){WB.undo(Q)}),J(\"    translateGraph\",function(){Bd(Q)}),J(\"    assignNodeIntersects\",function(){Vd(Q)}),J(\"    reversePoints\",function(){Rd(Q)}),J(\"    acyclic.undo\",function(){NB.undo(Q)})}function $d(Q,J){jJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z),$=J.node(Z);if(U){if(U.x=$.x,U.y=$.y,J.children(Z).length)U.width=$.width,U.height=$.height}}),jJ.forEach(Q.edges(),function(Z){var U=Q.edge(Z),$=J.edge(Z);if(U.points=$.points,jJ.has($,\"x\"))U.x=$.x,U.y=$.y}),Q.graph().width=J.graph().width,Q.graph().height=J.graph().height}var qd=[\"nodesep\",\"edgesep\",\"ranksep\",\"marginx\",\"marginy\"],Kd={ranksep:50,edgesep:20,nodesep:50,rankdir:\"tb\"},Gd=[\"acyclicer\",\"ranker\",\"rankdir\",\"align\"],Yd=[\"width\",\"height\"],Fd={width:0,height:0},Xd=[\"minlen\",\"weight\",\"width\",\"height\",\"labeloffset\"],Hd={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:\"r\"},Md=[\"labelpos\"];function Nd(Q){var J=new Qd({multigraph:!0,compound:!0}),Z=J4(Q.graph());return J.setGraph(jJ.merge({},Kd,e$(Z,qd),jJ.pick(Z,Gd))),jJ.forEach(Q.nodes(),function(U){var $=J4(Q.node(U));J.setNode(U,jJ.defaults(e$($,Yd),Fd)),J.setParent(U,Q.parent(U))}),jJ.forEach(Q.edges(),function(U){var $=J4(Q.edge(U));J.setEdge(U,jJ.merge({},Hd,e$($,Xd),jJ.pick($,Md)))}),J}function zd(Q){var J=Q.graph();J.ranksep/=2,jJ.forEach(Q.edges(),function(Z){var U=Q.edge(Z);if(U.minlen*=2,U.labelpos.toLowerCase()!==\"c\")if(J.rankdir===\"TB\"||J.rankdir===\"BT\")U.width+=U.labeloffset;else U.height+=U.labeloffset})}function Ld(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(Z.width&&Z.height){var U=Q.node(J.v),$=Q.node(J.w),q={rank:($.rank-U.rank)/2+U.rank,e:J};ZQ.addDummyNode(Q,\"edge-proxy\",q,\"_ep\")}})}function Wd(Q){var J=0;jJ.forEach(Q.nodes(),function(Z){var U=Q.node(Z);if(U.borderTop)U.minRank=Q.node(U.borderTop).rank,U.maxRank=Q.node(U.borderBottom).rank,J=jJ.max(J,U.maxRank)}),Q.graph().maxRank=J}function Ed(Q){jJ.forEach(Q.nodes(),function(J){var Z=Q.node(J);if(Z.dummy===\"edge-proxy\")Q.edge(Z.e).labelRank=Z.rank,Q.removeNode(J)})}function Bd(Q){var J=Number.POSITIVE_INFINITY,Z=0,U=Number.POSITIVE_INFINITY,$=0,q=Q.graph(),K=q.marginx||0,G=q.marginy||0;function Y(F){var{x:X,y:H,width:M,height:z}=F;J=Math.min(J,X-M/2),Z=Math.max(Z,X+M/2),U=Math.min(U,H-z/2),$=Math.max($,H+z/2)}jJ.forEach(Q.nodes(),function(F){Y(Q.node(F))}),jJ.forEach(Q.edges(),function(F){var X=Q.edge(F);if(jJ.has(X,\"x\"))Y(X)}),J-=K,U-=G,jJ.forEach(Q.nodes(),function(F){var X=Q.node(F);X.x-=J,X.y-=U}),jJ.forEach(Q.edges(),function(F){var X=Q.edge(F);if(jJ.forEach(X.points,function(H){H.x-=J,H.y-=U}),jJ.has(X,\"x\"))X.x-=J;if(jJ.has(X,\"y\"))X.y-=U}),q.width=Z-J+K,q.height=$-U+G}function Vd(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J),U=Q.node(J.v),$=Q.node(J.w),q,K;if(!Z.points)Z.points=[],q=$,K=U;else q=Z.points[0],K=Z.points[Z.points.length-1];Z.points.unshift(ZQ.intersectRect(U,q)),Z.points.push(ZQ.intersectRect($,K))})}function Dd(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(jJ.has(Z,\"x\")){if(Z.labelpos===\"l\"||Z.labelpos===\"r\")Z.width-=Z.labeloffset;switch(Z.labelpos){case\"l\":Z.x-=Z.width/2+Z.labeloffset;break;case\"r\":Z.x+=Z.width/2+Z.labeloffset;break}}})}function Rd(Q){jJ.forEach(Q.edges(),function(J){var Z=Q.edge(J);if(Z.reversed)Z.points.reverse()})}function Od(Q){jJ.forEach(Q.nodes(),function(J){if(Q.children(J).length){var Z=Q.node(J),U=Q.node(Z.borderTop),$=Q.node(Z.borderBottom),q=Q.node(jJ.last(Z.borderLeft)),K=Q.node(jJ.last(Z.borderRight));Z.width=Math.abs(K.x-q.x),Z.height=Math.abs($.y-U.y),Z.x=q.x+Z.width/2,Z.y=U.y+Z.height/2}}),jJ.forEach(Q.nodes(),function(J){if(Q.node(J).dummy===\"border\")Q.removeNode(J)})}function Ad(Q){jJ.forEach(Q.edges(),function(J){if(J.v===J.w){var Z=Q.node(J.v);if(!Z.selfEdges)Z.selfEdges=[];Z.selfEdges.push({e:J,label:Q.edge(J)}),Q.removeEdge(J)}})}function Cd(Q){var J=ZQ.buildLayerMatrix(Q);jJ.forEach(J,function(Z){var U=0;jJ.forEach(Z,function($,q){var K=Q.node($);K.order=q+U,jJ.forEach(K.selfEdges,function(G){ZQ.addDummyNode(Q,\"selfedge\",{width:G.label.width,height:G.label.height,rank:K.rank,order:q+ ++U,e:G.e,label:G.label},\"_se\")}),delete K.selfEdges})})}function Sd(Q){jJ.forEach(Q.nodes(),function(J){var Z=Q.node(J);if(Z.dummy===\"selfedge\"){var U=Q.node(Z.e.v),$=U.x+U.width/2,q=U.y,K=Z.x-$,G=U.height/2;Q.setEdge(Z.e,Z.label),Q.removeNode(J),Z.label.points=[{x:$+2*K/3,y:q-G},{x:$+5*K/6,y:q-G},{x:$+K,y:q},{x:$+5*K/6,y:q+G},{x:$+2*K/3,y:q+G}],Z.label.x=Z.x,Z.label.y=Z.y}})}function e$(Q,J){return jJ.mapValues(jJ.pick(Q,J),Number)}function J4(Q){var J={};return jJ.forEach(Q,function(Z,U){J[U.toLowerCase()]=Z}),J}});var DB=w((Xs,VB)=>{var K5=eJ(),Id=v8(),Td=a8().Graph;VB.exports={debugOrdering:Pd};function Pd(Q){var J=Id.buildLayerMatrix(Q),Z=new Td({compound:!0,multigraph:!0}).setGraph({});return K5.forEach(Q.nodes(),function(U){Z.setNode(U,{label:U}),Z.setParent(U,\"layer\"+Q.node(U).rank)}),K5.forEach(Q.edges(),function(U){Z.setEdge(U.v,U.w,{},U.name)}),K5.forEach(J,function(U,$){var q=\"layer\"+$;Z.setNode(q,{rank:\"same\"}),K5.reduce(U,function(K,G){return Z.setEdge(K,G,{style:\"invis\"}),G})}),Z}});var OB=w((Hs,RB)=>{RB.exports=\"0.8.5\"});var Q4=w((Ms,AB)=>{AB.exports={graphlib:a8(),layout:BB(),debug:DB(),util:{time:v8().time,notime:v8().notime},version:OB()}});var CB=w((D6,Z4)=>{(function Q(J,Z){if(typeof D6===\"object\"&&typeof Z4===\"object\")Z4.exports=Z(Q4());else if(typeof define===\"function\"&&define.amd)define([\"dagre\"],Z);else if(typeof D6===\"object\")D6.cytoscapeDagre=Z(Q4());else J.cytoscapeDagre=Z(J.dagre)})(D6,function(Q){return function(J){var Z={};function U($){if(Z[$])return Z[$].exports;var q=Z[$]={i:$,l:!1,exports:{}};return J[$].call(q.exports,q,q.exports,U),q.l=!0,q.exports}return U.m=J,U.c=Z,U.d=function($,q,K){if(!U.o($,q))Object.defineProperty($,q,{enumerable:!0,get:K})},U.r=function($){if(typeof Symbol!==\"undefined\"&&Symbol.toStringTag)Object.defineProperty($,Symbol.toStringTag,{value:\"Module\"});Object.defineProperty($,\"__esModule\",{value:!0})},U.t=function($,q){if(q&1)$=U($);if(q&8)return $;if(q&4&&typeof $===\"object\"&&$&&$.__esModule)return $;var K=Object.create(null);if(U.r(K),Object.defineProperty(K,\"default\",{enumerable:!0,value:$}),q&2&&typeof $!=\"string\")for(var G in $)U.d(K,G,function(Y){return $[Y]}.bind(null,G));return K},U.n=function($){var q=$&&$.__esModule?function K(){return $.default}:function K(){return $};return U.d(q,\"a\",q),q},U.o=function($,q){return Object.prototype.hasOwnProperty.call($,q)},U.p=\"\",U(U.s=0)}([function(J,Z,U){var $=U(1),q=function K(G){if(!G)return;G(\"layout\",\"dagre\",$)};if(typeof cytoscape!==\"undefined\")q(cytoscape);J.exports=q},function(J,Z,U){function $(X){if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\")$=function H(M){return typeof M};else $=function H(M){return M&&typeof Symbol===\"function\"&&M.constructor===Symbol&&M!==Symbol.prototype?\"symbol\":typeof M};return $(X)}var q=function X(H){return typeof H===\"function\"},K=U(2),G=U(3),Y=U(4);function F(X){this.options=G({},K,X)}F.prototype.run=function(){var X=this.options,H=this,M=X.cy,z=X.eles,N=function b(y,g){return q(g)?g.apply(y,[y]):g},W=X.boundingBox||{x1:0,y1:0,w:M.width(),h:M.height()};if(W.x2===void 0)W.x2=W.x1+W.w;if(W.w===void 0)W.w=W.x2-W.x1;if(W.y2===void 0)W.y2=W.y1+W.h;if(W.h===void 0)W.h=W.y2-W.y1;var L=new Y.graphlib.Graph({multigraph:!0,compound:!0}),E={},B=function b(y,g){if(g!=null)E[y]=g};B(\"nodesep\",X.nodeSep),B(\"edgesep\",X.edgeSep),B(\"ranksep\",X.rankSep),B(\"rankdir\",X.rankDir),B(\"align\",X.align),B(\"ranker\",X.ranker),B(\"acyclicer\",X.acyclicer),L.setGraph(E),L.setDefaultEdgeLabel(function(){return{}}),L.setDefaultNodeLabel(function(){return{}});var V=z.nodes();if(q(X.sort))V=V.sort(X.sort);for(var D=0;D<V.length;D++){var O=V[D],A=O.layoutDimensions(X);L.setNode(O.id(),{width:A.w,height:A.h,name:O.id()})}for(var R=0;R<V.length;R++){var C=V[R];if(C.isChild())L.setParent(C.id(),C.parent().id())}var I=z.edges().stdFilter(function(b){return!b.source().isParent()&&!b.target().isParent()});if(q(X.sort))I=I.sort(X.sort);for(var T=0;T<I.length;T++){var P=I[T];L.setEdge(P.source().id(),P.target().id(),{minlen:N(P,X.minLen),weight:N(P,X.edgeWeight),name:P.id()},P.id())}Y.layout(L);var k=L.nodes();for(var j=0;j<k.length;j++){var _=k[j],x=L.node(_);M.getElementById(_).scratch().dagre=x}var f;if(X.boundingBox)f={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},V.forEach(function(b){var y=b.scratch().dagre;f.x1=Math.min(f.x1,y.x),f.x2=Math.max(f.x2,y.x),f.y1=Math.min(f.y1,y.y),f.y2=Math.max(f.y2,y.y)}),f.w=f.x2-f.x1,f.h=f.y2-f.y1;else f=W;var v=function b(y){if(X.boundingBox){var g=f.w===0?0:(y.x-f.x1)/f.w,m=f.h===0?0:(y.y-f.y1)/f.h;return{x:W.x1+g*W.w,y:W.y1+m*W.h}}else return y};return V.layoutPositions(H,X,function(b){b=$(b)===\"object\"?b:this;var y=b.scratch().dagre;return v({x:y.x,y:y.y})}),this},J.exports=F},function(J,Z){var U={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function $(q){return 1},edgeWeight:function $(q){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function $(q,K){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function $(q,K){return K},ready:function $(){},sort:void 0,stop:function $(){}};J.exports=U},function(J,Z){J.exports=Object.assign!=null?Object.assign.bind(Object):function(U){for(var $=arguments.length,q=new Array($>1?$-1:0),K=1;K<$;K++)q[K-1]=arguments[K];return q.forEach(function(G){Object.keys(G).forEach(function(Y){return U[Y]=G[Y]})}),U}},function(J,Z){J.exports=Q}])})});function h0(Q,J){(J==null||J>Q.length)&&(J=Q.length);for(var Z=0,U=Array(J);Z<J;Z++)U[Z]=Q[Z];return U}function hB(Q){if(Array.isArray(Q))return Q}function uB(Q){if(Array.isArray(Q))return h0(Q)}function p9(Q,J){if(!(Q instanceof J))throw new TypeError(\"Cannot call a class as a function\")}function gB(Q,J){for(var Z=0;Z<J.length;Z++){var U=J[Z];U.enumerable=U.enumerable||!1,U.configurable=!0,\"value\"in U&&(U.writable=!0),Object.defineProperty(Q,y1(U.key),U)}}function l9(Q,J,Z){return J&&gB(Q.prototype,J),Object.defineProperty(Q,\"prototype\",{writable:!1}),Q}function y8(Q,J){var Z=typeof Symbol!=\"undefined\"&&Q[Symbol.iterator]||Q[\"@@iterator\"];if(!Z){if(Array.isArray(Q)||(Z=qU(Q))||J){Z&&(Q=Z);var U=0,$=function(){};return{s:$,n:function(){return U>=Q.length?{done:!0}:{done:!1,value:Q[U++]}},e:function(Y){throw Y},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,K=!0,G=!1;return{s:function(){Z=Z.call(Q)},n:function(){var Y=Z.next();return K=Y.done,Y},e:function(Y){G=!0,q=Y},f:function(){try{K||Z.return==null||Z.return()}finally{if(G)throw q}}}}function m1(Q,J,Z){return(J=y1(J))in Q?Object.defineProperty(Q,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):Q[J]=Z,Q}function dB(Q){if(typeof Symbol!=\"undefined\"&&Q[Symbol.iterator]!=null||Q[\"@@iterator\"]!=null)return Array.from(Q)}function cB(Q,J){var Z=Q==null?null:typeof Symbol!=\"undefined\"&&Q[Symbol.iterator]||Q[\"@@iterator\"];if(Z!=null){var U,$,q,K,G=[],Y=!0,F=!1;try{if(q=(Z=Z.call(Q)).next,J===0){if(Object(Z)!==Z)return;Y=!1}else for(;!(Y=(U=q.call(Z)).done)&&(G.push(U.value),G.length!==J);Y=!0);}catch(X){F=!0,$=X}finally{try{if(!Y&&Z.return!=null&&(K=Z.return(),Object(K)!==K))return}finally{if(F)throw $}}return G}}function pB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8(Q,J){return hB(Q)||cB(Q,J)||qU(Q,J)||pB()}function s6(Q){return uB(Q)||dB(Q)||qU(Q)||lB()}function iB(Q,J){if(typeof Q!=\"object\"||!Q)return Q;var Z=Q[Symbol.toPrimitive];if(Z!==void 0){var U=Z.call(Q,J);if(typeof U!=\"object\")return U;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(Q)}function y1(Q){var J=iB(Q,\"string\");return typeof J==\"symbol\"?J:J+\"\"}function z8(Q){return z8=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(J){return typeof J}:function(J){return J&&typeof Symbol==\"function\"&&J.constructor===Symbol&&J!==Symbol.prototype?\"symbol\":typeof J},z8(Q)}function qU(Q,J){if(Q){if(typeof Q==\"string\")return h0(Q,J);var Z={}.toString.call(Q).slice(8,-1);return Z===\"Object\"&&Q.constructor&&(Z=Q.constructor.name),Z===\"Map\"||Z===\"Set\"?Array.from(Q):Z===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?h0(Q,J):void 0}}var M8=typeof window===\"undefined\"?null:window,F4=M8?M8.navigator:null;M8&&M8.document;var nB=z8(\"\"),h1=z8({}),sB=z8(function(){}),aB=typeof HTMLElement===\"undefined\"?\"undefined\":z8(HTMLElement),mZ=function Q(J){return J&&J.instanceString&&Q8(J.instanceString)?J.instanceString():null},WJ=function Q(J){return J!=null&&z8(J)==nB},Q8=function Q(J){return J!=null&&z8(J)===sB},nJ=function Q(J){return!h8(J)&&(Array.isArray?Array.isArray(J):J!=null&&J instanceof Array)},yJ=function Q(J){return J!=null&&z8(J)===h1&&!nJ(J)&&J.constructor===Object},rB=function Q(J){return J!=null&&z8(J)===h1},$J=function Q(J){return J!=null&&z8(J)===z8(1)&&!isNaN(J)},oB=function Q(J){return $J(J)&&Math.floor(J)===J},a6=function Q(J){if(aB===\"undefined\")return;else return J!=null&&J instanceof HTMLElement},h8=function Q(J){return yZ(J)||u1(J)},yZ=function Q(J){return mZ(J)===\"collection\"&&J._private.single},u1=function Q(J){return mZ(J)===\"collection\"&&!J._private.single},KU=function Q(J){return mZ(J)===\"core\"},g1=function Q(J){return mZ(J)===\"stylesheet\"},tB=function Q(J){return mZ(J)===\"event\"},y9=function Q(J){if(J===void 0||J===null)return!0;else if(J===\"\"||J.match(/^\\s+$/))return!0;return!1},eB=function Q(J){if(typeof HTMLElement===\"undefined\")return!1;else return J instanceof HTMLElement},J2=function Q(J){return yJ(J)&&$J(J.x1)&&$J(J.x2)&&$J(J.y1)&&$J(J.y2)},Q2=function Q(J){return rB(J)&&Q8(J.then)},Z2=function Q(){return F4&&F4.userAgent.match(/msie|trident|edge/i)},cQ=function Q(J,Z){if(!Z)Z=function $(){if(arguments.length===1)return arguments[0];else if(arguments.length===0)return\"undefined\";var q=[];for(var K=0;K<arguments.length;K++)q.push(arguments[K]);return q.join(\"$\")};var U=function $(){var q=this,K=arguments,G,Y=Z.apply(q,K),F=U.cache;if(!(G=F[Y]))G=F[Y]=J.apply(q,K);return G};return U.cache={},U},GU=cQ(function(Q){return Q.replace(/([A-Z])/g,function(J){return\"-\"+J.toLowerCase()})}),Y7=cQ(function(Q){return Q.replace(/(-\\w)/g,function(J){return J[1].toUpperCase()})}),d1=cQ(function(Q,J){return Q+J[0].toUpperCase()+J.substring(1)},function(Q,J){return Q+\"$\"+J}),X4=function Q(J){if(y9(J))return J;return J.charAt(0).toUpperCase()+J.substring(1)},v9=function Q(J,Z){return J.slice(-1*Z.length)===Z},N8=\"(?:[-+]?(?:(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[Ee][+-]?\\\\d+)?))\",U2=\"rgb[a]?\\\\((\"+N8+\"[%]?)\\\\s*,\\\\s*(\"+N8+\"[%]?)\\\\s*,\\\\s*(\"+N8+\"[%]?)(?:\\\\s*,\\\\s*(\"+N8+\"))?\\\\)\",$2=\"rgb[a]?\\\\((?:\"+N8+\"[%]?)\\\\s*,\\\\s*(?:\"+N8+\"[%]?)\\\\s*,\\\\s*(?:\"+N8+\"[%]?)(?:\\\\s*,\\\\s*(?:\"+N8+\"))?\\\\)\",q2=\"hsl[a]?\\\\((\"+N8+\")\\\\s*,\\\\s*(\"+N8+\"[%])\\\\s*,\\\\s*(\"+N8+\"[%])(?:\\\\s*,\\\\s*(\"+N8+\"))?\\\\)\",K2=\"hsl[a]?\\\\((?:\"+N8+\")\\\\s*,\\\\s*(?:\"+N8+\"[%])\\\\s*,\\\\s*(?:\"+N8+\"[%])(?:\\\\s*,\\\\s*(?:\"+N8+\"))?\\\\)\",G2=\"\\\\#[0-9a-fA-F]{3}\",Y2=\"\\\\#[0-9a-fA-F]{6}\",c1=function Q(J,Z){if(J<Z)return-1;else if(J>Z)return 1;else return 0},F2=function Q(J,Z){return-1*c1(J,Z)},DJ=Object.assign!=null?Object.assign.bind(Object):function(Q){var J=arguments;for(var Z=1;Z<J.length;Z++){var U=J[Z];if(U==null)continue;var $=Object.keys(U);for(var q=0;q<$.length;q++){var K=$[q];Q[K]=U[K]}}return Q},X2=function Q(J){if(!(J.length===4||J.length===7)||J[0]!==\"#\")return;var Z=J.length===4,U,$,q,K=16;if(Z)U=parseInt(J[1]+J[1],K),$=parseInt(J[2]+J[2],K),q=parseInt(J[3]+J[3],K);else U=parseInt(J[1]+J[2],K),$=parseInt(J[3]+J[4],K),q=parseInt(J[5]+J[6],K);return[U,$,q]},H2=function Q(J){var Z,U,$,q,K,G,Y,F;function X(N,W,L){if(L<0)L+=1;if(L>1)L-=1;if(L<0.16666666666666666)return N+(W-N)*6*L;if(L<0.5)return W;if(L<0.6666666666666666)return N+(W-N)*(0.6666666666666666-L)*6;return N}var H=new RegExp(\"^\"+q2+\"$\").exec(J);if(H){if(U=parseInt(H[1]),U<0)U=(360- -1*U%360)%360;else if(U>360)U=U%360;if(U/=360,$=parseFloat(H[2]),$<0||$>100)return;if($=$/100,q=parseFloat(H[3]),q<0||q>100)return;if(q=q/100,K=H[4],K!==void 0){if(K=parseFloat(K),K<0||K>1)return}if($===0)G=Y=F=Math.round(q*255);else{var M=q<0.5?q*(1+$):q+$-q*$,z=2*q-M;G=Math.round(255*X(z,M,U+0.3333333333333333)),Y=Math.round(255*X(z,M,U)),F=Math.round(255*X(z,M,U-0.3333333333333333))}Z=[G,Y,F,K]}return Z},M2=function Q(J){var Z,U=new RegExp(\"^\"+U2+\"$\").exec(J);if(U){Z=[];var $=[];for(var q=1;q<=3;q++){var K=U[q];if(K[K.length-1]===\"%\")$[q]=!0;if(K=parseFloat(K),$[q])K=K/100*255;if(K<0||K>255)return;Z.push(Math.floor(K))}var G=$[1]||$[2]||$[3],Y=$[1]&&$[2]&&$[3];if(G&&!Y)return;var F=U[4];if(F!==void 0){if(F=parseFloat(F),F<0||F>1)return;Z.push(F)}}return Z},N2=function Q(J){return z2[J.toLowerCase()]},p1=function Q(J){return(nJ(J)?J:null)||N2(J)||X2(J)||M2(J)||H2(J)},z2={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l1=function Q(J){var{map:Z,keys:U}=J,$=U.length;for(var q=0;q<$;q++){var K=U[q];if(yJ(K))throw Error(\"Tried to set map with object key\");if(q<U.length-1){if(Z[K]==null)Z[K]={};Z=Z[K]}else Z[K]=J.value}},i1=function Q(J){var{map:Z,keys:U}=J,$=U.length;for(var q=0;q<$;q++){var K=U[q];if(yJ(K))throw Error(\"Tried to get map with object key\");if(Z=Z[K],Z==null)return Z}return Z},C6=typeof globalThis!==\"undefined\"?globalThis:typeof window!==\"undefined\"?window:typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:{};function hZ(Q){return Q&&Q.__esModule&&Object.prototype.hasOwnProperty.call(Q,\"default\")?Q.default:Q}var F5,H4;function uZ(){if(H4)return F5;H4=1;function Q(J){var Z=typeof J;return J!=null&&(Z==\"object\"||Z==\"function\")}return F5=Q,F5}var X5,M4;function L2(){if(M4)return X5;M4=1;var Q=typeof C6==\"object\"&&C6&&C6.Object===Object&&C6;return X5=Q,X5}var H5,N4;function F7(){if(N4)return H5;N4=1;var Q=L2(),J=typeof self==\"object\"&&self&&self.Object===Object&&self,Z=Q||J||Function(\"return this\")();return H5=Z,H5}var M5,z4;function W2(){if(z4)return M5;z4=1;var Q=F7(),J=function(){return Q.Date.now()};return M5=J,M5}var N5,L4;function E2(){if(L4)return N5;L4=1;var Q=/\\s/;function J(Z){var U=Z.length;while(U--&&Q.test(Z.charAt(U)));return U}return N5=J,N5}var z5,W4;function B2(){if(W4)return z5;W4=1;var Q=E2(),J=/^\\s+/;function Z(U){return U?U.slice(0,Q(U)+1).replace(J,\"\"):U}return z5=Z,z5}var L5,E4;function YU(){if(E4)return L5;E4=1;var Q=F7(),J=Q.Symbol;return L5=J,L5}var W5,B4;function V2(){if(B4)return W5;B4=1;var Q=YU(),J=Object.prototype,Z=J.hasOwnProperty,U=J.toString,$=Q?Q.toStringTag:void 0;function q(K){var G=Z.call(K,$),Y=K[$];try{K[$]=void 0;var F=!0}catch(H){}var X=U.call(K);if(F)if(G)K[$]=Y;else delete K[$];return X}return W5=q,W5}var E5,V4;function D2(){if(V4)return E5;V4=1;var Q=Object.prototype,J=Q.toString;function Z(U){return J.call(U)}return E5=Z,E5}var B5,D4;function n1(){if(D4)return B5;D4=1;var Q=YU(),J=V2(),Z=D2(),U=\"[object Null]\",$=\"[object Undefined]\",q=Q?Q.toStringTag:void 0;function K(G){if(G==null)return G===void 0?$:U;return q&&q in Object(G)?J(G):Z(G)}return B5=K,B5}var V5,R4;function R2(){if(R4)return V5;R4=1;function Q(J){return J!=null&&typeof J==\"object\"}return V5=Q,V5}var D5,O4;function gZ(){if(O4)return D5;O4=1;var Q=n1(),J=R2(),Z=\"[object Symbol]\";function U($){return typeof $==\"symbol\"||J($)&&Q($)==Z}return D5=U,D5}var R5,A4;function O2(){if(A4)return R5;A4=1;var Q=B2(),J=uZ(),Z=gZ(),U=NaN,$=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,K=/^0o[0-7]+$/i,G=parseInt;function Y(F){if(typeof F==\"number\")return F;if(Z(F))return U;if(J(F)){var X=typeof F.valueOf==\"function\"?F.valueOf():F;F=J(X)?X+\"\":X}if(typeof F!=\"string\")return F===0?F:+F;F=Q(F);var H=q.test(F);return H||K.test(F)?G(F.slice(2),H?2:8):$.test(F)?U:+F}return R5=Y,R5}var O5,C4;function A2(){if(C4)return O5;C4=1;var Q=uZ(),J=W2(),Z=O2(),U=\"Expected a function\",$=Math.max,q=Math.min;function K(G,Y,F){var X,H,M,z,N,W,L=0,E=!1,B=!1,V=!0;if(typeof G!=\"function\")throw new TypeError(U);if(Y=Z(Y)||0,Q(F))E=!!F.leading,B=\"maxWait\"in F,M=B?$(Z(F.maxWait)||0,Y):M,V=\"trailing\"in F?!!F.trailing:V;function D(j){var _=X,x=H;return X=H=void 0,L=j,z=G.apply(x,_),z}function O(j){return L=j,N=setTimeout(C,Y),E?D(j):z}function A(j){var _=j-W,x=j-L,f=Y-_;return B?q(f,M-x):f}function R(j){var _=j-W,x=j-L;return W===void 0||_>=Y||_<0||B&&x>=M}function C(){var j=J();if(R(j))return I(j);N=setTimeout(C,A(j))}function I(j){if(N=void 0,V&&X)return D(j);return X=H=void 0,z}function T(){if(N!==void 0)clearTimeout(N);L=0,X=W=H=N=void 0}function P(){return N===void 0?z:I(J())}function k(){var j=J(),_=R(j);if(X=arguments,H=this,W=j,_){if(N===void 0)return O(W);if(B)return clearTimeout(N),N=setTimeout(C,Y),D(W)}if(N===void 0)N=setTimeout(C,Y);return z}return k.cancel=T,k.flush=P,k}return O5=K,O5}var C2=A2(),dZ=hZ(C2),A5=M8?M8.performance:null,s1=A5&&A5.now?function(){return A5.now()}:function(){return Date.now()},S2=function(){if(M8){if(M8.requestAnimationFrame)return function(Q){M8.requestAnimationFrame(Q)};else if(M8.mozRequestAnimationFrame)return function(Q){M8.mozRequestAnimationFrame(Q)};else if(M8.webkitRequestAnimationFrame)return function(Q){M8.webkitRequestAnimationFrame(Q)};else if(M8.msRequestAnimationFrame)return function(Q){M8.msRequestAnimationFrame(Q)}}return function(Q){if(Q)setTimeout(function(){Q(s1())},16.666666666666668)}}(),r6=function Q(J){return S2(J)},B9=s1,YQ=9261,a1=65599,xQ=5381,r1=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YQ,U=Z,$;for(;;){if($=J.next(),$.done)break;U=U*a1+$.value|0}return U},TZ=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YQ;return Z*a1+J|0},PZ=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xQ;return(Z<<5)+Z+J|0},I2=function Q(J,Z){return J*2097152+Z},k9=function Q(J){return J[0]*2097152+J[1]},S6=function Q(J,Z){return[TZ(J[0],Z[0]),PZ(J[1],Z[1])]},S4=function Q(J,Z){var U={value:0,done:!1},$=0,q=J.length,K={next:function G(){if($<q)U.value=J[$++];else U.done=!0;return U}};return r1(K,Z)},HQ=function Q(J,Z){var U={value:0,done:!1},$=0,q=J.length,K={next:function G(){if($<q)U.value=J.charCodeAt($++);else U.done=!0;return U}};return r1(K,Z)},o1=function Q(){return T2(arguments)},T2=function Q(J){var Z;for(var U=0;U<J.length;U++){var $=J[U];if(U===0)Z=HQ($);else Z=HQ($,Z)}return Z};function P2(Q,J,Z,U,$){var q=$*Math.PI/180,K=Math.cos(q)*(Q-Z)-Math.sin(q)*(J-U)+Z,G=Math.sin(q)*(Q-Z)+Math.cos(q)*(J-U)+U;return{x:K,y:G}}var k2=function Q(J,Z,U,$,q,K){return{x:(J-U)*q+U,y:(Z-$)*K+$}};function j2(Q,J,Z){if(Z===0)return Q;var U=(J.x1+J.x2)/2,$=(J.y1+J.y2)/2,q=J.w/J.h,K=1/q,G=P2(Q.x,Q.y,U,$,Z),Y=k2(G.x,G.y,U,$,q,K);return{x:Y.x,y:Y.y}}var I4=!0,w2=console.warn!=null,_2=console.trace!=null,FU=Number.MAX_SAFE_INTEGER||9007199254740991,t1=function Q(){return!0},o6=function Q(){return!1},T4=function Q(){return 0},XU=function Q(){},J8=function Q(J){throw new Error(J)},e1=function Q(J){if(J!==void 0)I4=!!J;else return I4},lJ=function Q(J){if(!e1())return;if(w2)console.warn(J);else if(console.log(J),_2)console.trace()},v2=function Q(J){return DJ({},J)},q9=function Q(J){if(J==null)return J;if(nJ(J))return J.slice();else if(yJ(J))return v2(J);else return J},f2=function Q(J){return J.slice()},JK=function Q(J,Z){for(Z=J=\"\";J++<36;Z+=J*51&52?(J^15?8^Math.random()*(J^20?16:4):4).toString(16):\"-\");return Z},x2={},QK=function Q(){return x2},A8=function Q(J){var Z=Object.keys(J);return function(U){var $={};for(var q=0;q<Z.length;q++){var K=Z[q],G=U==null?void 0:U[K];$[K]=G===void 0?J[K]:G}return $}},h9=function Q(J,Z,U){for(var $=J.length-1;$>=0;$--)if(J[$]===Z)J.splice($,1)},HU=function Q(J){J.splice(0,J.length)},b2=function Q(J,Z){for(var U=0;U<Z.length;U++){var $=Z[U];J.push($)}},b8=function Q(J,Z,U){if(U)Z=d1(U,Z);return J[Z]},W9=function Q(J,Z,U,$){if(U)Z=d1(U,Z);J[Z]=$},m2=function(){function Q(){p9(this,Q),this._obj={}}return l9(Q,[{key:\"set\",value:function J(Z,U){return this._obj[Z]=U,this}},{key:\"delete\",value:function J(Z){return this._obj[Z]=void 0,this}},{key:\"clear\",value:function J(){this._obj={}}},{key:\"has\",value:function J(Z){return this._obj[Z]!==void 0}},{key:\"get\",value:function J(Z){return this._obj[Z]}}])}(),E9=typeof Map!==\"undefined\"?Map:m2,y2=\"undefined\",h2=function(){function Q(J){if(p9(this,Q),this._obj=Object.create(null),this.size=0,J!=null){var Z;if(J.instanceString!=null&&J.instanceString()===this.instanceString())Z=J.toArray();else Z=J;for(var U=0;U<Z.length;U++)this.add(Z[U])}}return l9(Q,[{key:\"instanceString\",value:function J(){return\"set\"}},{key:\"add\",value:function J(Z){var U=this._obj;if(U[Z]!==1)U[Z]=1,this.size++}},{key:\"delete\",value:function J(Z){var U=this._obj;if(U[Z]===1)U[Z]=0,this.size--}},{key:\"clear\",value:function J(){this._obj=Object.create(null)}},{key:\"has\",value:function J(Z){return this._obj[Z]===1}},{key:\"toArray\",value:function J(){var Z=this;return Object.keys(this._obj).filter(function(U){return Z.has(U)})}},{key:\"forEach\",value:function J(Z,U){return this.toArray().forEach(Z,U)}}])}(),iQ=(typeof Set===\"undefined\"?\"undefined\":z8(Set))!==y2?Set:h2,X7=function Q(J,Z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(J===void 0||Z===void 0||!KU(J)){J8(\"An element must have a core reference and parameters set\");return}var $=Z.group;if($==null)if(Z.data&&Z.data.source!=null&&Z.data.target!=null)$=\"edges\";else $=\"nodes\";if($!==\"nodes\"&&$!==\"edges\"){J8(\"An element must be of type `nodes` or `edges`; you specified `\"+$+\"`\");return}this.length=1,this[0]=this;var q=this._private={cy:J,single:!0,data:Z.data||{},position:Z.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:$,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:Z.selected?!0:!1,selectable:Z.selectable===void 0?!0:Z.selectable?!0:!1,locked:Z.locked?!0:!1,grabbed:!1,grabbable:Z.grabbable===void 0?!0:Z.grabbable?!0:!1,pannable:Z.pannable===void 0?$===\"edges\"?!0:!1:Z.pannable?!0:!1,active:!1,classes:new iQ,animation:{current:[],queue:[]},rscratch:{},scratch:Z.scratch||{},edges:[],children:[],parent:Z.parent&&Z.parent.isNode()?Z.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,\"mid-source\":null,\"mid-target\":null}};if(q.position.x==null)q.position.x=0;if(q.position.y==null)q.position.y=0;if(Z.renderedPosition){var K=Z.renderedPosition,G=J.pan(),Y=J.zoom();q.position={x:(K.x-G.x)/Y,y:(K.y-G.y)/Y}}var F=[];if(nJ(Z.classes))F=Z.classes;else if(WJ(Z.classes))F=Z.classes.split(/\\s+/);for(var X=0,H=F.length;X<H;X++){var M=F[X];if(!M||M===\"\")continue;q.classes.add(M)}if(this.createEmitter(),U===void 0||U)this.restore();var z=Z.style||Z.css;if(z)lJ(\"Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead.\"),this.style(z)},P4=function Q(J){return J={bfs:J.bfs||!J.dfs,dfs:J.dfs||!J.bfs},function Z(U,$,q){var K;if(yJ(U)&&!h8(U))K=U,U=K.roots||K.root,$=K.visit,q=K.directed;q=arguments.length===2&&!Q8($)?$:q,$=Q8($)?$:function(){};var G=this._private.cy,Y=U=WJ(U)?this.filter(U):U,F=[],X=[],H={},M={},z={},N=0,W,L=this.byGroup(),E=L.nodes,B=L.edges;for(var V=0;V<Y.length;V++){var D=Y[V],O=D.id();if(D.isNode()){if(F.unshift(D),J.bfs)z[O]=!0,X.push(D);M[O]=0}}var A=function k(){var j=J.bfs?F.shift():F.pop(),_=j.id();if(J.dfs){if(z[_])return 0;z[_]=!0,X.push(j)}var x=M[_],f=H[_],v=f!=null?f.source():null,b=f!=null?f.target():null,y=f==null?void 0:j.same(v)?b[0]:v[0],g;if(g=$(j,f,y,N++,x),g===!0)return W=j,1;if(g===!1)return 1;var m=j.connectedEdges().filter(function(JJ){return(!q||JJ.source().same(j))&&B.has(JJ)});for(var u=0;u<m.length;u++){var n=m[u],t=n.connectedNodes().filter(function(JJ){return!JJ.same(j)&&E.has(JJ)}),s=t.id();if(t.length!==0&&!z[s]){if(t=t[0],F.push(t),J.bfs)z[s]=!0,X.push(t);H[s]=n,M[s]=M[_]+1}}},R;while(F.length!==0){if(R=A(),R===0)continue;if(R===1)break}var C=G.collection();for(var I=0;I<X.length;I++){var T=X[I],P=H[T.id()];if(P!=null)C.push(P);C.push(T)}return{path:G.collection(C),found:G.collection(W)}}},kZ={breadthFirstSearch:P4({bfs:!0}),depthFirstSearch:P4({dfs:!0})};kZ.bfs=kZ.breadthFirstSearch;kZ.dfs=kZ.depthFirstSearch;var m6={exports:{}},u2=m6.exports,k4;function g2(){if(k4)return m6.exports;return k4=1,function(Q,J){(function(){var Z,U,$,q,K,G,Y,F,X,H,M,z,N,W,L;$=Math.floor,H=Math.min,U=function(E,B){if(E<B)return-1;if(E>B)return 1;return 0},X=function(E,B,V,D,O){var A;if(V==null)V=0;if(O==null)O=U;if(V<0)throw new Error(\"lo must be non-negative\");if(D==null)D=E.length;while(V<D)if(A=$((V+D)/2),O(B,E[A])<0)D=A;else V=A+1;return[].splice.apply(E,[V,V-V].concat(B)),B},G=function(E,B,V){if(V==null)V=U;return E.push(B),W(E,0,E.length-1,V)},K=function(E,B){var V,D;if(B==null)B=U;if(V=E.pop(),E.length)D=E[0],E[0]=V,L(E,0,B);else D=V;return D},F=function(E,B,V){var D;if(V==null)V=U;return D=E[0],E[0]=B,L(E,0,V),D},Y=function(E,B,V){var D;if(V==null)V=U;if(E.length&&V(E[0],B)<0)D=[E[0],B],B=D[0],E[0]=D[1],L(E,0,V);return B},q=function(E,B){var V,D,O,A,R,C;if(B==null)B=U;A=function(){C=[];for(var I=0,T=$(E.length/2);0<=T?I<T:I>T;0<=T?I++:I--)C.push(I);return C}.apply(this).reverse(),R=[];for(D=0,O=A.length;D<O;D++)V=A[D],R.push(L(E,V,B));return R},N=function(E,B,V){var D;if(V==null)V=U;if(D=E.indexOf(B),D===-1)return;return W(E,0,D,V),L(E,D,V)},M=function(E,B,V){var D,O,A,R,C;if(V==null)V=U;if(O=E.slice(0,B),!O.length)return O;q(O,V),C=E.slice(B);for(A=0,R=C.length;A<R;A++)D=C[A],Y(O,D,V);return O.sort(V).reverse()},z=function(E,B,V){var D,O,A,R,C,I,T,P,k;if(V==null)V=U;if(B*10<=E.length){if(A=E.slice(0,B).sort(V),!A.length)return A;O=A[A.length-1],T=E.slice(B);for(R=0,I=T.length;R<I;R++)if(D=T[R],V(D,O)<0)X(A,D,0,null,V),A.pop(),O=A[A.length-1];return A}q(E,V),k=[];for(C=0,P=H(B,E.length);0<=P?C<P:C>P;0<=P?++C:--C)k.push(K(E,V));return k},W=function(E,B,V,D){var O,A,R;if(D==null)D=U;O=E[V];while(V>B){if(R=V-1>>1,A=E[R],D(O,A)<0){E[V]=A,V=R;continue}break}return E[V]=O},L=function(E,B,V){var D,O,A,R,C;if(V==null)V=U;O=E.length,C=B,A=E[B],D=2*B+1;while(D<O){if(R=D+1,R<O&&!(V(E[D],E[R])<0))D=R;E[B]=E[D],B=D,D=2*B+1}return E[B]=A,W(E,C,B,V)},Z=function(){E.push=G,E.pop=K,E.replace=F,E.pushpop=Y,E.heapify=q,E.updateItem=N,E.nlargest=M,E.nsmallest=z;function E(B){this.cmp=B!=null?B:U,this.nodes=[]}return E.prototype.push=function(B){return G(this.nodes,B,this.cmp)},E.prototype.pop=function(){return K(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(B){return this.nodes.indexOf(B)!==-1},E.prototype.replace=function(B){return F(this.nodes,B,this.cmp)},E.prototype.pushpop=function(B){return Y(this.nodes,B,this.cmp)},E.prototype.heapify=function(){return q(this.nodes,this.cmp)},E.prototype.updateItem=function(B){return N(this.nodes,B,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var B=new E;return B.nodes=this.nodes.slice(0),B},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,B){return Q.exports=B()}(this,function(){return Z})}).call(u2)}(m6),m6.exports}var C5,j4;function d2(){if(j4)return C5;return j4=1,C5=g2(),C5}var c2=d2(),cZ=hZ(c2),p2=A8({root:null,weight:function Q(J){return 1},directed:!1}),l2={dijkstra:function Q(J){if(!yJ(J)){var Z=arguments;J={root:Z[0],weight:Z[1],directed:Z[2]}}var U=p2(J),$=U.root,q=U.weight,K=U.directed,G=this,Y=q,F=WJ($)?this.filter($)[0]:$[0],X={},H={},M={},z=this.byGroup(),N=z.nodes,W=z.edges;W.unmergeBy(function(x){return x.isLoop()});var L=function x(f){return X[f.id()]},E=function x(f,v){X[f.id()]=v,B.updateItem(f)},B=new cZ(function(x,f){return L(x)-L(f)});for(var V=0;V<N.length;V++){var D=N[V];X[D.id()]=D.same(F)?0:1/0,B.push(D)}var O=function x(f,v){var b=(K?f.edgesTo(v):f.edgesWith(v)).intersect(W),y=1/0,g;for(var m=0;m<b.length;m++){var u=b[m],n=Y(u);if(n<y||!g)y=n,g=u}return{edge:g,dist:y}};while(B.size()>0){var A=B.pop(),R=L(A),C=A.id();if(M[C]=R,R===1/0)continue;var I=A.neighborhood().intersect(N);for(var T=0;T<I.length;T++){var P=I[T],k=P.id(),j=O(A,P),_=R+j.dist;if(_<L(P))E(P,_),H[k]={node:A,edge:j.edge}}}return{distanceTo:function x(f){var v=WJ(f)?N.filter(f)[0]:f[0];return M[v.id()]},pathTo:function x(f){var v=WJ(f)?N.filter(f)[0]:f[0],b=[],y=v,g=y.id();if(v.length>0){b.unshift(v);while(H[g]){var m=H[g];b.unshift(m.edge),b.unshift(m.node),y=m.node,g=y.id()}}return G.spawn(b)}}}},i2={kruskal:function Q(J){J=J||function(V){return 1};var Z=this.byGroup(),U=Z.nodes,$=Z.edges,q=U.length,K=new Array(q),G=U,Y=function V(D){for(var O=0;O<K.length;O++){var A=K[O];if(A.has(D))return O}};for(var F=0;F<q;F++)K[F]=this.spawn(U[F]);var X=$.sort(function(V,D){return J(V)-J(D)});for(var H=0;H<X.length;H++){var M=X[H],z=M.source()[0],N=M.target()[0],W=Y(z),L=Y(N),E=K[W],B=K[L];if(W!==L)G.merge(M),E.merge(B),K.splice(L,1)}return G}},n2=A8({root:null,goal:null,weight:function Q(J){return 1},heuristic:function Q(J){return 0},directed:!1}),s2={aStar:function Q(J){var Z=this.cy(),U=n2(J),$=U.root,q=U.goal,K=U.heuristic,G=U.directed,Y=U.weight;$=Z.collection($)[0],q=Z.collection(q)[0];var F=$.id(),X=q.id(),H={},M={},z={},N=new cZ(function(g,m){return M[g.id()]-M[m.id()]}),W=new iQ,L={},E={},B=function g(m,u){N.push(m),W.add(u)},V,D,O=function g(){V=N.pop(),D=V.id(),W.delete(D)},A=function g(m){return W.has(m)};B($,F),H[F]=0,M[F]=K($);var R=0;while(N.size()>0){if(O(),R++,D===X){var C=[],I=q,T=X,P=E[T];for(;;){if(C.unshift(I),P!=null)C.unshift(P);if(I=L[T],I==null)break;T=I.id(),P=E[T]}return{found:!0,distance:H[D],path:this.spawn(C),steps:R}}z[D]=!0;var k=V._private.edges;for(var j=0;j<k.length;j++){var _=k[j];if(!this.hasElementWithId(_.id()))continue;if(G&&_.data(\"source\")!==D)continue;var x=_.source(),f=_.target(),v=x.id()!==D?x:f,b=v.id();if(!this.hasElementWithId(b))continue;if(z[b])continue;var y=H[D]+Y(_);if(!A(b)){H[b]=y,M[b]=y+K(v),B(v,b),L[b]=V,E[b]=_;continue}if(y<H[b])H[b]=y,M[b]=y+K(v),L[b]=V,E[b]=_}}return{found:!1,distance:void 0,path:void 0,steps:R}}},a2=A8({weight:function Q(J){return 1},directed:!1}),r2={floydWarshall:function Q(J){var Z=this.cy(),U=a2(J),$=U.weight,q=U.directed,K=$,G=this.byGroup(),Y=G.nodes,F=G.edges,X=Y.length,H=X*X,M=function u(n){return Y.indexOf(n)},z=function u(n){return Y[n]},N=new Array(H);for(var W=0;W<H;W++){var L=W%X,E=(W-L)/X;if(E===L)N[W]=0;else N[W]=1/0}var B=new Array(H),V=new Array(H);for(var D=0;D<F.length;D++){var O=F[D],A=O.source()[0],R=O.target()[0];if(A===R)continue;var C=M(A),I=M(R),T=C*X+I,P=K(O);if(N[T]>P)N[T]=P,B[T]=I,V[T]=O;if(!q){var k=I*X+C;if(!q&&N[k]>P)N[k]=P,B[k]=C,V[k]=O}}for(var j=0;j<X;j++)for(var _=0;_<X;_++){var x=_*X+j;for(var f=0;f<X;f++){var v=_*X+f,b=j*X+f;if(N[x]+N[b]<N[v])N[v]=N[x]+N[b],B[v]=B[x]}}var y=function u(n){return(WJ(n)?Z.filter(n):n)[0]},g=function u(n){return M(y(n))},m={distance:function u(n,t){var s=g(n),JJ=g(t);return N[s*X+JJ]},path:function u(n,t){var s=g(n),JJ=g(t),ZJ=z(s);if(s===JJ)return ZJ.collection();if(B[s*X+JJ]==null)return Z.collection();var qJ=Z.collection(),e=s,h;qJ.merge(ZJ);while(s!==JJ)e=s,s=B[s*X+JJ],h=V[e*X+s],qJ.merge(h),qJ.merge(z(s));return qJ}};return m}},o2=A8({weight:function Q(J){return 1},directed:!1,root:null}),t2={bellmanFord:function Q(J){var Z=this,U=o2(J),$=U.weight,q=U.directed,K=U.root,G=$,Y=this,F=this.cy(),X=this.byGroup(),H=X.edges,M=X.nodes,z=M.length,N=new E9,W=!1,L=[];K=F.collection(K)[0],H.unmergeBy(function(CJ){return CJ.isLoop()});var E=H.length,B=function CJ(RJ){var BJ=N.get(RJ.id());if(!BJ)BJ={},N.set(RJ.id(),BJ);return BJ},V=function CJ(RJ){return(WJ(RJ)?F.$(RJ):RJ)[0]},D=function CJ(RJ){return B(V(RJ)).dist},O=function CJ(RJ){var BJ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,KJ=V(RJ),zJ=[],LJ=KJ;for(;;){if(LJ==null)return Z.spawn();var AJ=B(LJ),EJ=AJ.edge,PJ=AJ.pred;if(zJ.unshift(LJ[0]),LJ.same(BJ)&&zJ.length>0)break;if(EJ!=null)zJ.unshift(EJ);LJ=PJ}return Y.spawn(zJ)};for(var A=0;A<z;A++){var R=M[A],C=B(R);if(R.same(K))C.dist=0;else C.dist=1/0;C.pred=null,C.edge=null}var I=!1,T=function CJ(RJ,BJ,KJ,zJ,LJ,AJ){var EJ=zJ.dist+AJ;if(EJ<LJ.dist&&!KJ.same(zJ.edge))LJ.dist=EJ,LJ.pred=RJ,LJ.edge=KJ,I=!0};for(var P=1;P<z;P++){I=!1;for(var k=0;k<E;k++){var j=H[k],_=j.source(),x=j.target(),f=G(j),v=B(_),b=B(x);if(T(_,x,j,v,b,f),!q)T(x,_,j,b,v,f)}if(!I)break}if(I){var y=[];for(var g=0;g<E;g++){var m=H[g],u=m.source(),n=m.target(),t=G(m),s=B(u).dist,JJ=B(n).dist;if(s+t<JJ||!q&&JJ+t<s){if(!W)lJ(\"Graph contains a negative weight cycle for Bellman-Ford\"),W=!0;if(J.findNegativeWeightCycles!==!1){var ZJ=[];if(s+t<JJ)ZJ.push(u);if(!q&&JJ+t<s)ZJ.push(n);var qJ=ZJ.length;for(var e=0;e<qJ;e++){var h=ZJ[e],d=[h];d.push(B(h).edge);var p=B(h).pred;while(d.indexOf(p)===-1)d.push(p),d.push(B(p).edge),p=B(p).pred;d=d.slice(d.indexOf(p));var r=d[0].id(),UJ=0;for(var NJ=2;NJ<d.length;NJ+=2)if(d[NJ].id()<r)r=d[NJ].id(),UJ=NJ;d=d.slice(UJ).concat(d.slice(0,UJ)),d.push(d[0]);var xJ=d.map(function(CJ){return CJ.id()}).join(\",\");if(y.indexOf(xJ)===-1)L.push(Y.spawn(d)),y.push(xJ)}}else break}}}return{distanceTo:D,pathTo:O,hasNegativeWeightCycle:W,negativeWeightCycles:L}}},e2=Math.sqrt(2),JV=function Q(J,Z,U){if(U.length===0)J8(\"Karger-Stein must be run on a connected (sub)graph\");var $=U[J],q=$[1],K=$[2],G=Z[q],Y=Z[K],F=U;for(var X=F.length-1;X>=0;X--){var H=F[X],M=H[1],z=H[2];if(Z[M]===G&&Z[z]===Y||Z[M]===Y&&Z[z]===G)F.splice(X,1)}for(var N=0;N<F.length;N++){var W=F[N];if(W[1]===Y)F[N]=W.slice(),F[N][1]=G;else if(W[2]===Y)F[N]=W.slice(),F[N][2]=G}for(var L=0;L<Z.length;L++)if(Z[L]===Y)Z[L]=G;return F},S5=function Q(J,Z,U,$){while(U>$){var q=Math.floor(Math.random()*Z.length);Z=JV(q,J,Z),U--}return Z},QV={kargerStein:function Q(){var J=this,Z=this.byGroup(),U=Z.nodes,$=Z.edges;$.unmergeBy(function(b){return b.isLoop()});var q=U.length,K=$.length,G=Math.ceil(Math.pow(Math.log(q)/Math.LN2,2)),Y=Math.floor(q/e2);if(q<2){J8(\"At least 2 nodes are required for Karger-Stein algorithm\");return}var F=[];for(var X=0;X<K;X++){var H=$[X];F.push([X,U.indexOf(H.source()),U.indexOf(H.target())])}var M=1/0,z=[],N=new Array(q),W=new Array(q),L=new Array(q),E=function b(y,g){for(var m=0;m<q;m++)g[m]=y[m]};for(var B=0;B<=G;B++){for(var V=0;V<q;V++)W[V]=V;var D=S5(W,F.slice(),q,Y),O=D.slice();E(W,L);var A=S5(W,D,Y,2),R=S5(L,O,Y,2);if(A.length<=R.length&&A.length<M)M=A.length,z=A,E(W,N);else if(R.length<=A.length&&R.length<M)M=R.length,z=R,E(L,N)}var C=this.spawn(z.map(function(b){return $[b[0]]})),I=this.spawn(),T=this.spawn(),P=N[0];for(var k=0;k<N.length;k++){var j=N[k],_=U[k];if(j===P)I.merge(_);else T.merge(_)}var x=function b(y){var g=J.spawn();return y.forEach(function(m){g.merge(m),m.connectedEdges().forEach(function(u){if(J.contains(u)&&!C.contains(u))g.merge(u)})}),g},f=[x(I),x(T)],v={cut:C,components:f,partition1:I,partition2:T};return v}},I5,ZV=function Q(J){return{x:J.x,y:J.y}},H7=function Q(J,Z,U){return{x:J.x*Z+U.x,y:J.y*Z+U.y}},ZK=function Q(J,Z,U){return{x:(J.x-U.x)/Z,y:(J.y-U.y)/Z}},bQ=function Q(J){return{x:J[0],y:J[1]}},UV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=1/0;for(var q=Z;q<U;q++){var K=J[q];if(isFinite(K))$=Math.min(K,$)}return $},$V=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=-1/0;for(var q=Z;q<U;q++){var K=J[q];if(isFinite(K))$=Math.max(K,$)}return $},qV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=0,q=0;for(var K=Z;K<U;K++){var G=J[K];if(isFinite(G))$+=G,q++}return $/q},KV=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if($)J=J.slice(Z,U);else{if(U<J.length)J.splice(U,J.length-U);if(Z>0)J.splice(0,Z)}var G=0;for(var Y=J.length-1;Y>=0;Y--){var F=J[Y];if(K){if(!isFinite(F))J[Y]=-1/0,G++}else J.splice(Y,1)}if(q)J.sort(function(M,z){return M-z});var X=J.length,H=Math.floor(X/2);if(X%2!==0)return J[H+1+G];else return(J[H-1+G]+J[H+G])/2},GV=function Q(J){return Math.PI*J/180},I6=function Q(J,Z){return Math.atan2(Z,J)-Math.PI/2},MU=Math.log2||function(Q){return Math.log(Q)/Math.log(2)},NU=function Q(J){if(J>0)return 1;else if(J<0)return-1;else return 0},MQ=function Q(J,Z){return Math.sqrt(KQ(J,Z))},KQ=function Q(J,Z){var U=Z.x-J.x,$=Z.y-J.y;return U*U+$*$},YV=function Q(J){var Z=J.length,U=0;for(var $=0;$<Z;$++)U+=J[$];for(var q=0;q<Z;q++)J[q]=J[q]/U;return J},E8=function Q(J,Z,U,$){return(1-$)*(1-$)*J+2*(1-$)*$*Z+$*$*U},hQ=function Q(J,Z,U,$){return{x:E8(J.x,Z.x,U.x,$),y:E8(J.y,Z.y,U.y,$)}},FV=function Q(J,Z,U,$){var q={x:Z.x-J.x,y:Z.y-J.y},K=MQ(J,Z),G={x:q.x/K,y:q.y/K};return U=U==null?0:U,$=$!=null?$:U*K,{x:J.x+G.x*$,y:J.y+G.y*$}},jZ=function Q(J,Z,U){return Math.max(J,Math.min(U,Z))},w8=function Q(J){if(J==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};else if(J.x1!=null&&J.y1!=null){if(J.x2!=null&&J.y2!=null&&J.x2>=J.x1&&J.y2>=J.y1)return{x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,w:J.x2-J.x1,h:J.y2-J.y1};else if(J.w!=null&&J.h!=null&&J.w>=0&&J.h>=0)return{x1:J.x1,y1:J.y1,x2:J.x1+J.w,y2:J.y1+J.h,w:J.w,h:J.h}}},XV=function Q(J){return{x1:J.x1,x2:J.x2,w:J.w,y1:J.y1,y2:J.y2,h:J.h}},HV=function Q(J){J.x1=1/0,J.y1=1/0,J.x2=-1/0,J.y2=-1/0,J.w=0,J.h=0},MV=function Q(J,Z){J.x1=Math.min(J.x1,Z.x1),J.x2=Math.max(J.x2,Z.x2),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,Z.y1),J.y2=Math.max(J.y2,Z.y2),J.h=J.y2-J.y1},UK=function Q(J,Z,U){J.x1=Math.min(J.x1,Z),J.x2=Math.max(J.x2,Z),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,U),J.y2=Math.max(J.y2,U),J.h=J.y2-J.y1},y6=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return J.x1-=Z,J.x2+=Z,J.y1-=Z,J.y2+=Z,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},h6=function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],U,$,q,K;if(Z.length===1)U=$=q=K=Z[0];else if(Z.length===2)U=q=Z[0],K=$=Z[1];else if(Z.length===4){var G=F8(Z,4);U=G[0],$=G[1],q=G[2],K=G[3]}return J.x1-=K,J.x2+=$,J.y1-=U,J.y2+=q,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},w4=function Q(J,Z){J.x1=Z.x1,J.y1=Z.y1,J.x2=Z.x2,J.y2=Z.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},zU=function Q(J,Z){if(J.x1>Z.x2)return!1;if(Z.x1>J.x2)return!1;if(J.x2<Z.x1)return!1;if(Z.x2<J.x1)return!1;if(J.y2<Z.y1)return!1;if(Z.y2<J.y1)return!1;if(J.y1>Z.y2)return!1;if(Z.y1>J.y2)return!1;return!0},f9=function Q(J,Z,U){return J.x1<=Z&&Z<=J.x2&&J.y1<=U&&U<=J.y2},_4=function Q(J,Z){return f9(J,Z.x,Z.y)},$K=function Q(J,Z){return f9(J,Z.x1,Z.y1)&&f9(J,Z.x2,Z.y2)},NV=(I5=Math.hypot)!==null&&I5!==void 0?I5:function(Q,J){return Math.sqrt(Q*Q+J*J)};function zV(Q,J){if(Q.length<3)throw new Error(\"Need at least 3 vertices\");var Z=function R(C,I){return{x:C.x+I.x,y:C.y+I.y}},U=function R(C,I){return{x:C.x-I.x,y:C.y-I.y}},$=function R(C,I){return{x:C.x*I,y:C.y*I}},q=function R(C,I){return C.x*I.y-C.y*I.x},K=function R(C){var I=NV(C.x,C.y);return I===0?{x:0,y:0}:{x:C.x/I,y:C.y/I}},G=function R(C){var I=0;for(var T=0;T<C.length;T++){var P=C[T],k=C[(T+1)%C.length];I+=P.x*k.y-k.x*P.y}return I/2},Y=function R(C,I,T,P){var k=U(I,C),j=U(P,T),_=q(k,j);if(Math.abs(_)<0.000000001)return Z(C,$(k,0.5));var x=q(U(T,C),j)/_;return Z(C,$(k,x))},F=Q.map(function(R){return{x:R.x,y:R.y}});if(G(F)<0)F.reverse();var X=F.length,H=[];for(var M=0;M<X;M++){var z=F[M],N=F[(M+1)%X],W=U(N,z),L=K({x:W.y,y:-W.x});H.push(L)}var E=H.map(function(R,C){var I=Z(F[C],$(R,J)),T=Z(F[(C+1)%X],$(R,J));return{p1:I,p2:T}}),B=[];for(var V=0;V<X;V++){var D=E[(V-1+X)%X],O=E[V],A=Y(D.p1,D.p2,O.p1,O.p2);B.push(A)}return B}function LV(Q,J,Z,U,$,q){var K=CV(Q,J,Z,U,$),G=zV(K,q),Y=w8();return G.forEach(function(F){return UK(Y,F.x,F.y)}),Y}var qK=function Q(J,Z,U,$,q,K,G){var Y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:\"auto\",F=Y===\"auto\"?u9(q,K):Y,X=q/2,H=K/2;F=Math.min(F,X,H);var M=F!==X,z=F!==H,N;if(M){var W=U-X+F-G,L=$-H-G,E=U+X-F+G,B=L;if(N=x9(J,Z,U,$,W,L,E,B,!1),N.length>0)return N}if(z){var V=U+X+G,D=$-H+F-G,O=V,A=$+H-F+G;if(N=x9(J,Z,U,$,V,D,O,A,!1),N.length>0)return N}if(M){var R=U-X+F-G,C=$+H+G,I=U+X-F+G,T=C;if(N=x9(J,Z,U,$,R,C,I,T,!1),N.length>0)return N}if(z){var P=U-X-G,k=$-H+F-G,j=P,_=$+H-F+G;if(N=x9(J,Z,U,$,P,k,j,_,!1),N.length>0)return N}var x;{var f=U-X+F,v=$-H+F;if(x=RZ(J,Z,U,$,f,v,F+G),x.length>0&&x[0]<=f&&x[1]<=v)return[x[0],x[1]]}{var b=U+X-F,y=$-H+F;if(x=RZ(J,Z,U,$,b,y,F+G),x.length>0&&x[0]>=b&&x[1]<=y)return[x[0],x[1]]}{var g=U+X-F,m=$+H-F;if(x=RZ(J,Z,U,$,g,m,F+G),x.length>0&&x[0]>=g&&x[1]>=m)return[x[0],x[1]]}{var u=U-X+F,n=$+H-F;if(x=RZ(J,Z,U,$,u,n,F+G),x.length>0&&x[0]<=u&&x[1]>=n)return[x[0],x[1]]}return[]},WV=function Q(J,Z,U,$,q,K,G){var Y=G,F=Math.min(U,q),X=Math.max(U,q),H=Math.min($,K),M=Math.max($,K);return F-Y<=J&&J<=X+Y&&H-Y<=Z&&Z<=M+Y},EV=function Q(J,Z,U,$,q,K,G,Y,F){var X={x1:Math.min(U,G,q)-F,x2:Math.max(U,G,q)+F,y1:Math.min($,Y,K)-F,y2:Math.max($,Y,K)+F};if(J<X.x1||J>X.x2||Z<X.y1||Z>X.y2)return!1;else return!0},BV=function Q(J,Z,U,$){U-=$;var q=Z*Z-4*J*U;if(q<0)return[];var K=Math.sqrt(q),G=2*J,Y=(-Z+K)/G,F=(-Z-K)/G;return[Y,F]},VV=function Q(J,Z,U,$,q){var K=0.00001;if(J===0)J=K;Z/=J,U/=J,$/=J;var G,Y,F,X,H,M,z,N;if(Y=(3*U-Z*Z)/9,F=-(27*$)+Z*(9*U-2*(Z*Z)),F/=54,G=Y*Y*Y+F*F,q[1]=0,z=Z/3,G>0){H=F+Math.sqrt(G),H=H<0?-Math.pow(-H,0.3333333333333333):Math.pow(H,0.3333333333333333),M=F-Math.sqrt(G),M=M<0?-Math.pow(-M,0.3333333333333333):Math.pow(M,0.3333333333333333),q[0]=-z+H+M,z+=(H+M)/2,q[4]=q[2]=-z,z=Math.sqrt(3)*(-M+H)/2,q[3]=z,q[5]=-z;return}if(q[5]=q[3]=0,G===0){N=F<0?-Math.pow(-F,0.3333333333333333):Math.pow(F,0.3333333333333333),q[0]=-z+2*N,q[4]=q[2]=-(N+z);return}Y=-Y,X=Y*Y*Y,X=Math.acos(F/Math.sqrt(X)),N=2*Math.sqrt(Y),q[0]=-z+N*Math.cos(X/3),q[2]=-z+N*Math.cos((X+2*Math.PI)/3),q[4]=-z+N*Math.cos((X+4*Math.PI)/3);return},DV=function Q(J,Z,U,$,q,K,G,Y){var F=1*U*U-4*U*q+2*U*G+4*q*q-4*q*G+G*G+$*$-4*$*K+2*$*Y+4*K*K-4*K*Y+Y*Y,X=9*U*q-3*U*U-3*U*G-6*q*q+3*q*G+9*$*K-3*$*$-3*$*Y-6*K*K+3*K*Y,H=3*U*U-6*U*q+U*G-U*J+2*q*q+2*q*J-G*J+3*$*$-6*$*K+$*Y-$*Z+2*K*K+2*K*Z-Y*Z,M=1*U*q-U*U+U*J-q*J+$*K-$*$+$*Z-K*Z,z=[];VV(F,X,H,M,z);var N=0.0000001,W=[];for(var L=0;L<6;L+=2)if(Math.abs(z[L+1])<N&&z[L]>=0&&z[L]<=1)W.push(z[L]);W.push(1),W.push(0);var E=-1,B,V,D;for(var O=0;O<W.length;O++)if(B=Math.pow(1-W[O],2)*U+2*(1-W[O])*W[O]*q+W[O]*W[O]*G,V=Math.pow(1-W[O],2)*$+2*(1-W[O])*W[O]*K+W[O]*W[O]*Y,D=Math.pow(B-J,2)+Math.pow(V-Z,2),E>=0){if(D<E)E=D}else E=D;return E},RV=function Q(J,Z,U,$,q,K){var G=[J-U,Z-$],Y=[q-U,K-$],F=Y[0]*Y[0]+Y[1]*Y[1],X=G[0]*G[0]+G[1]*G[1],H=G[0]*Y[0]+G[1]*Y[1],M=H*H/F;if(H<0)return X;if(M>F)return(J-q)*(J-q)+(Z-K)*(Z-K);return X-M},m8=function Q(J,Z,U){var $,q,K,G,Y,F=0;for(var X=0;X<U.length/2;X++){if($=U[X*2],q=U[X*2+1],X+1<U.length/2)K=U[(X+1)*2],G=U[(X+1)*2+1];else K=U[(X+1-U.length/2)*2],G=U[(X+1-U.length/2)*2+1];if($==J&&K==J);else if($>=J&&J>=K||$<=J&&J<=K){if(Y=(J-$)/(K-$)*(G-q)+q,Y>Z)F++}else continue}if(F%2===0)return!1;else return!0},V9=function Q(J,Z,U,$,q,K,G,Y,F){var X=new Array(U.length),H;if(Y[0]!=null)if(H=Math.atan(Y[1]/Y[0]),Y[0]<0)H=H+Math.PI/2;else H=-H-Math.PI/2;else H=Y;var M=Math.cos(-H),z=Math.sin(-H);for(var N=0;N<X.length/2;N++)X[N*2]=K/2*(U[N*2]*M-U[N*2+1]*z),X[N*2+1]=G/2*(U[N*2+1]*M+U[N*2]*z),X[N*2]+=$,X[N*2+1]+=q;var W;if(F>0){var L=e6(X,-F);W=t6(L)}else W=X;return m8(J,Z,W)},OV=function Q(J,Z,U,$,q,K,G,Y){var F=new Array(U.length*2);for(var X=0;X<Y.length;X++){var H=Y[X];F[X*4+0]=H.startX,F[X*4+1]=H.startY,F[X*4+2]=H.stopX,F[X*4+3]=H.stopY;var M=Math.pow(H.cx-J,2)+Math.pow(H.cy-Z,2);if(M<=Math.pow(H.radius,2))return!0}return m8(J,Z,F)},t6=function Q(J){var Z=new Array(J.length/2),U,$,q,K,G,Y,F,X;for(var H=0;H<J.length/4;H++){if(U=J[H*4],$=J[H*4+1],q=J[H*4+2],K=J[H*4+3],H<J.length/4-1)G=J[(H+1)*4],Y=J[(H+1)*4+1],F=J[(H+1)*4+2],X=J[(H+1)*4+3];else G=J[0],Y=J[1],F=J[2],X=J[3];var M=x9(U,$,q,K,G,Y,F,X,!0);Z[H*2]=M[0],Z[H*2+1]=M[1]}return Z},e6=function Q(J,Z){var U=new Array(J.length*2),$,q,K,G;for(var Y=0;Y<J.length/2;Y++){if($=J[Y*2],q=J[Y*2+1],Y<J.length/2-1)K=J[(Y+1)*2],G=J[(Y+1)*2+1];else K=J[0],G=J[1];var F=G-q,X=-(K-$),H=Math.sqrt(F*F+X*X),M=F/H,z=X/H;U[Y*4]=$+M*Z,U[Y*4+1]=q+z*Z,U[Y*4+2]=K+M*Z,U[Y*4+3]=G+z*Z}return U},AV=function Q(J,Z,U,$,q,K){var G=U-J,Y=$-Z;G/=q,Y/=K;var F=Math.sqrt(G*G+Y*Y),X=F-1;if(X<0)return[];var H=X/F;return[(U-J)*H+J,($-Z)*H+Z]},XQ=function Q(J,Z,U,$,q,K,G){return J-=q,Z-=K,J/=U/2+G,Z/=$/2+G,J*J+Z*Z<=1},RZ=function Q(J,Z,U,$,q,K,G){var Y=[U-J,$-Z],F=[J-q,Z-K],X=Y[0]*Y[0]+Y[1]*Y[1],H=2*(F[0]*Y[0]+F[1]*Y[1]),M=F[0]*F[0]+F[1]*F[1]-G*G,z=H*H-4*X*M;if(z<0)return[];var N=(-H+Math.sqrt(z))/(2*X),W=(-H-Math.sqrt(z))/(2*X),L=Math.min(N,W),E=Math.max(N,W),B=[];if(L>=0&&L<=1)B.push(L);if(E>=0&&E<=1)B.push(E);if(B.length===0)return[];var V=B[0]*Y[0]+J,D=B[0]*Y[1]+Z;if(B.length>1)if(B[0]==B[1])return[V,D];else{var O=B[1]*Y[0]+J,A=B[1]*Y[1]+Z;return[V,D,O,A]}else return[V,D]},T5=function Q(J,Z,U){if(Z<=J&&J<=U||U<=J&&J<=Z)return J;else if(J<=Z&&Z<=U||U<=Z&&Z<=J)return Z;else return U},x9=function Q(J,Z,U,$,q,K,G,Y,F){var X=J-q,H=U-J,M=G-q,z=Z-K,N=$-Z,W=Y-K,L=M*z-W*X,E=H*z-N*X,B=W*H-M*N;if(B!==0){var V=L/B,D=E/B,O=0.001,A=0-O,R=1+O;if(A<=V&&V<=R&&A<=D&&D<=R)return[J+V*H,Z+V*N];else if(!F)return[];else return[J+V*H,Z+V*N]}else if(L===0||E===0){if(T5(J,U,G)===G)return[G,Y];if(T5(J,U,q)===q)return[q,K];if(T5(q,G,U)===U)return[U,$];return[]}else return[]},CV=function Q(J,Z,U,$,q){var K=[],G=$/2,Y=q/2,F=Z,X=U;K.push({x:F+G*J[0],y:X+Y*J[1]});for(var H=1;H<J.length/2;H++)K.push({x:F+G*J[H*2],y:X+Y*J[H*2+1]});return K},wZ=function Q(J,Z,U,$,q,K,G,Y){var F=[],X,H=new Array(U.length),M=!0;if(K==null)M=!1;var z;if(M){for(var N=0;N<H.length/2;N++)H[N*2]=U[N*2]*K+$,H[N*2+1]=U[N*2+1]*G+q;if(Y>0){var W=e6(H,-Y);z=t6(W)}else z=H}else z=U;var L,E,B,V;for(var D=0;D<z.length/2;D++){if(L=z[D*2],E=z[D*2+1],D<z.length/2-1)B=z[(D+1)*2],V=z[(D+1)*2+1];else B=z[0],V=z[1];if(X=x9(J,Z,$,q,L,E,B,V),X.length!==0)F.push(X[0],X[1])}return F},SV=function Q(J,Z,U,$,q,K,G,Y,F){var X=[],H,M=new Array(U.length*2);F.forEach(function(B,V){if(V===0)M[M.length-2]=B.startX,M[M.length-1]=B.startY;else M[V*4-2]=B.startX,M[V*4-1]=B.startY;if(M[V*4]=B.stopX,M[V*4+1]=B.stopY,H=RZ(J,Z,$,q,B.cx,B.cy,B.radius),H.length!==0)X.push(H[0],H[1])});for(var z=0;z<M.length/4;z++)if(H=x9(J,Z,$,q,M[z*4],M[z*4+1],M[z*4+2],M[z*4+3],!1),H.length!==0)X.push(H[0],H[1]);if(X.length>2){var N=[X[0],X[1]],W=Math.pow(N[0]-J,2)+Math.pow(N[1]-Z,2);for(var L=1;L<X.length/2;L++){var E=Math.pow(X[L*2]-J,2)+Math.pow(X[L*2+1]-Z,2);if(E<=W)N[0]=X[L*2],N[1]=X[L*2+1],W=E}return N}return X},T6=function Q(J,Z,U){var $=[J[0]-Z[0],J[1]-Z[1]],q=Math.sqrt($[0]*$[0]+$[1]*$[1]),K=(q-U)/q;if(K<0)K=0.00001;return[Z[0]+K*$[0],Z[1]+K*$[1]]},j8=function Q(J,Z){var U=u0(J,Z);return U=KK(U),U},KK=function Q(J){var Z,U,$=J.length/2,q=1/0,K=1/0,G=-1/0,Y=-1/0;for(var F=0;F<$;F++)Z=J[2*F],U=J[2*F+1],q=Math.min(q,Z),G=Math.max(G,Z),K=Math.min(K,U),Y=Math.max(Y,U);var X=2/(G-q),H=2/(Y-K);for(var M=0;M<$;M++)Z=J[2*M]=J[2*M]*X,U=J[2*M+1]=J[2*M+1]*H,q=Math.min(q,Z),G=Math.max(G,Z),K=Math.min(K,U),Y=Math.max(Y,U);if(K<-1)for(var z=0;z<$;z++)U=J[2*z+1]=J[2*z+1]+(-1-K);return J},u0=function Q(J,Z){var U=1/J*2*Math.PI,$=J%2===0?Math.PI/2+U/2:Math.PI/2;$+=Z;var q=new Array(J*2),K;for(var G=0;G<J;G++)K=G*U+$,q[2*G]=Math.cos(K),q[2*G+1]=Math.sin(-K);return q},u9=function Q(J,Z){return Math.min(J/4,Z/4,8)},GK=function Q(J,Z){return Math.min(J/10,Z/10,8)},LU=function Q(){return 8},IV=function Q(J,Z,U){return[J-2*Z+U,2*(Z-J),J]},g0=function Q(J,Z){return{heightOffset:Math.min(15,0.05*Z),widthOffset:Math.min(100,0.25*J),ctrlPtOffsetPct:0.05}};function P5(Q,J){function Z(H){var M=[];for(var z=0;z<H.length;z++){var N=H[z],W=H[(z+1)%H.length],L={x:W.x-N.x,y:W.y-N.y},E={x:-L.y,y:L.x},B=Math.sqrt(E.x*E.x+E.y*E.y);M.push({x:E.x/B,y:E.y/B})}return M}function U(H,M){var z=1/0,N=-1/0,W=y8(H),L;try{for(W.s();!(L=W.n()).done;){var E=L.value,B=E.x*M.x+E.y*M.y;z=Math.min(z,B),N=Math.max(N,B)}}catch(V){W.e(V)}finally{W.f()}return{min:z,max:N}}function $(H,M){return!(H.max<M.min||M.max<H.min)}var q=[].concat(s6(Z(Q)),s6(Z(J))),K=y8(q),G;try{for(K.s();!(G=K.n()).done;){var Y=G.value,F=U(Q,Y),X=U(J,Y);if(!$(F,X))return!1}}catch(H){K.e(H)}finally{K.f()}return!0}var TV=A8({dampingFactor:0.8,precision:0.000001,iterations:200,weight:function Q(J){return 1}}),PV={pageRank:function Q(J){var Z=TV(J),U=Z.dampingFactor,$=Z.precision,q=Z.iterations,K=Z.weight,G=this._private.cy,Y=this.byGroup(),F=Y.nodes,X=Y.edges,H=F.length,M=H*H,z=X.length,N=new Array(M),W=new Array(H),L=(1-U)/H;for(var E=0;E<H;E++){for(var B=0;B<H;B++){var V=E*H+B;N[V]=0}W[E]=0}for(var D=0;D<z;D++){var O=X[D],A=O.data(\"source\"),R=O.data(\"target\");if(A===R)continue;var C=F.indexOfId(A),I=F.indexOfId(R),T=K(O),P=I*H+C;N[P]+=T,W[C]+=T}var k=1/H+L;for(var j=0;j<H;j++)if(W[j]===0)for(var _=0;_<H;_++){var x=_*H+j;N[x]=k}else for(var f=0;f<H;f++){var v=f*H+j;N[v]=N[v]/W[j]+L}var b=new Array(H),y=new Array(H),g;for(var m=0;m<H;m++)b[m]=1;for(var u=0;u<q;u++){for(var n=0;n<H;n++)y[n]=0;for(var t=0;t<H;t++)for(var s=0;s<H;s++){var JJ=t*H+s;y[t]+=N[JJ]*b[s]}YV(y),g=b,b=y,y=g;var ZJ=0;for(var qJ=0;qJ<H;qJ++){var e=g[qJ]-b[qJ];ZJ+=e*e}if(ZJ<$)break}var h={rank:function d(p){return p=G.collection(p)[0],b[F.indexOf(p)]}};return h}},v4=A8({root:null,weight:function Q(J){return 1},directed:!1,alpha:0}),uQ={degreeCentralityNormalized:function Q(J){J=v4(J);var Z=this.cy(),U=this.nodes(),$=U.length;if(!J.directed){var q={},K=0;for(var G=0;G<$;G++){var Y=U[G];J.root=Y;var F=this.degreeCentrality(J);if(K<F.degree)K=F.degree;q[Y.id()]=F.degree}return{degree:function B(V){if(K===0)return 0;if(WJ(V))V=Z.filter(V);return q[V.id()]/K}}}else{var X={},H={},M=0,z=0;for(var N=0;N<$;N++){var W=U[N],L=W.id();J.root=W;var E=this.degreeCentrality(J);if(M<E.indegree)M=E.indegree;if(z<E.outdegree)z=E.outdegree;X[L]=E.indegree,H[L]=E.outdegree}return{indegree:function B(V){if(M==0)return 0;if(WJ(V))V=Z.filter(V);return X[V.id()]/M},outdegree:function B(V){if(z===0)return 0;if(WJ(V))V=Z.filter(V);return H[V.id()]/z}}}},degreeCentrality:function Q(J){J=v4(J);var Z=this.cy(),U=this,$=J,q=$.root,K=$.weight,G=$.directed,Y=$.alpha;if(q=Z.collection(q)[0],!G){var F=q.connectedEdges().intersection(U),X=F.length,H=0;for(var M=0;M<F.length;M++)H+=K(F[M]);return{degree:Math.pow(X,1-Y)*Math.pow(H,Y)}}else{var z=q.connectedEdges(),N=z.filter(function(A){return A.target().same(q)&&U.has(A)}),W=z.filter(function(A){return A.source().same(q)&&U.has(A)}),L=N.length,E=W.length,B=0,V=0;for(var D=0;D<N.length;D++)B+=K(N[D]);for(var O=0;O<W.length;O++)V+=K(W[O]);return{indegree:Math.pow(L,1-Y)*Math.pow(B,Y),outdegree:Math.pow(E,1-Y)*Math.pow(V,Y)}}}};uQ.dc=uQ.degreeCentrality;uQ.dcn=uQ.degreeCentralityNormalised=uQ.degreeCentralityNormalized;var f4=A8({harmonic:!0,weight:function Q(){return 1},directed:!1,root:null}),gQ={closenessCentralityNormalized:function Q(J){var Z=f4(J),U=Z.harmonic,$=Z.weight,q=Z.directed,K=this.cy(),G={},Y=0,F=this.nodes(),X=this.floydWarshall({weight:$,directed:q});for(var H=0;H<F.length;H++){var M=0,z=F[H];for(var N=0;N<F.length;N++)if(H!==N){var W=X.distance(z,F[N]);if(U)M+=1/W;else M+=W}if(!U)M=1/M;if(Y<M)Y=M;G[z.id()]=M}return{closeness:function L(E){if(Y==0)return 0;if(WJ(E))E=K.filter(E)[0].id();else E=E.id();return G[E]/Y}}},closenessCentrality:function Q(J){var Z=f4(J),U=Z.root,$=Z.weight,q=Z.directed,K=Z.harmonic;U=this.filter(U)[0];var G=this.dijkstra({root:U,weight:$,directed:q}),Y=0,F=this.nodes();for(var X=0;X<F.length;X++){var H=F[X];if(!H.same(U)){var M=G.distanceTo(H);if(K)Y+=1/M;else Y+=M}}return K?Y:1/Y}};gQ.cc=gQ.closenessCentrality;gQ.ccn=gQ.closenessCentralityNormalised=gQ.closenessCentralityNormalized;var kV=A8({weight:null,directed:!1}),d0={betweennessCentrality:function Q(J){var Z=kV(J),U=Z.directed,$=Z.weight,q=$!=null,K=this.cy(),G=this.nodes(),Y={},F={},X=0,H={set:function B(V,D){if(F[V]=D,D>X)X=D},get:function B(V){return F[V]}};for(var M=0;M<G.length;M++){var z=G[M],N=z.id();if(U)Y[N]=z.outgoers().nodes();else Y[N]=z.openNeighborhood().nodes();H.set(N,0)}var W=function B(){var V=G[L].id(),D=[],O={},A={},R={},C=new cZ(function(t,s){return R[t]-R[s]});for(var I=0;I<G.length;I++){var T=G[I].id();O[T]=[],A[T]=0,R[T]=1/0}A[V]=1,R[V]=0,C.push(V);while(!C.empty()){var P=C.pop();if(D.push(P),q)for(var k=0;k<Y[P].length;k++){var j=Y[P][k],_=K.getElementById(P),x=void 0;if(_.edgesTo(j).length>0)x=_.edgesTo(j)[0];else x=j.edgesTo(_)[0];var f=$(x);if(j=j.id(),R[j]>R[P]+f){if(R[j]=R[P]+f,C.nodes.indexOf(j)<0)C.push(j);else C.updateItem(j);A[j]=0,O[j]=[]}if(R[j]==R[P]+f)A[j]=A[j]+A[P],O[j].push(P)}else for(var v=0;v<Y[P].length;v++){var b=Y[P][v].id();if(R[b]==1/0)C.push(b),R[b]=R[P]+1;if(R[b]==R[P]+1)A[b]=A[b]+A[P],O[b].push(P)}}var y={};for(var g=0;g<G.length;g++)y[G[g].id()]=0;while(D.length>0){var m=D.pop();for(var u=0;u<O[m].length;u++){var n=O[m][u];y[n]=y[n]+A[n]/A[m]*(1+y[m])}if(m!=G[L].id())H.set(m,H.get(m)+y[m])}};for(var L=0;L<G.length;L++)W();var E={betweenness:function B(V){var D=K.collection(V).id();return H.get(D)},betweennessNormalized:function B(V){if(X==0)return 0;var D=K.collection(V).id();return H.get(D)/X}};return E.betweennessNormalised=E.betweennessNormalized,E}};d0.bc=d0.betweennessCentrality;var jV=A8({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(Q){return 1}]}),wV=function Q(J){return jV(J)},_V=function Q(J,Z){var U=0;for(var $=0;$<Z.length;$++)U+=Z[$](J);return U},vV=function Q(J,Z,U){for(var $=0;$<Z;$++)J[$*Z+$]=U},YK=function Q(J,Z){var U;for(var $=0;$<Z;$++){U=0;for(var q=0;q<Z;q++)U+=J[q*Z+$];for(var K=0;K<Z;K++)J[K*Z+$]=J[K*Z+$]/U}},fV=function Q(J,Z,U){var $=new Array(U*U);for(var q=0;q<U;q++){for(var K=0;K<U;K++)$[q*U+K]=0;for(var G=0;G<U;G++)for(var Y=0;Y<U;Y++)$[q*U+Y]+=J[q*U+G]*Z[G*U+Y]}return $},xV=function Q(J,Z,U){var $=J.slice(0);for(var q=1;q<U;q++)J=fV(J,$,Z);return J},bV=function Q(J,Z,U){var $=new Array(Z*Z);for(var q=0;q<Z*Z;q++)$[q]=Math.pow(J[q],U);return YK($,Z),$},mV=function Q(J,Z,U,$){for(var q=0;q<U;q++){var K=Math.round(J[q]*Math.pow(10,$))/Math.pow(10,$),G=Math.round(Z[q]*Math.pow(10,$))/Math.pow(10,$);if(K!==G)return!1}return!0},yV=function Q(J,Z,U,$){var q=[];for(var K=0;K<Z;K++){var G=[];for(var Y=0;Y<Z;Y++)if(Math.round(J[K*Z+Y]*1000)/1000>0)G.push(U[Y]);if(G.length!==0)q.push($.collection(G))}return q},hV=function Q(J,Z){for(var U=0;U<J.length;U++)if(!Z[U]||J[U].id()!==Z[U].id())return!1;return!0},uV=function Q(J){for(var Z=0;Z<J.length;Z++)for(var U=0;U<J.length;U++)if(Z!=U&&hV(J[Z],J[U]))J.splice(U,1);return J},x4=function Q(J){var Z=this.nodes(),U=this.edges(),$=this.cy(),q=wV(J),K={};for(var G=0;G<Z.length;G++)K[Z[G].id()]=G;var Y=Z.length,F=Y*Y,X=new Array(F),H;for(var M=0;M<F;M++)X[M]=0;for(var z=0;z<U.length;z++){var N=U[z],W=K[N.source().id()],L=K[N.target().id()],E=_V(N,q.attributes);X[W*Y+L]+=E,X[L*Y+W]+=E}vV(X,Y,q.multFactor),YK(X,Y);var B=!0,V=0;while(B&&V<q.maxIterations){if(B=!1,H=xV(X,Y,q.expandFactor),X=bV(H,Y,q.inflateFactor),!mV(X,H,F,4))B=!0;V++}var D=yV(X,Y,Z,$);return D=uV(D),D},gV={markovClustering:x4,mcl:x4},dV=function Q(J){return J},FK=function Q(J,Z){return Math.abs(Z-J)},b4=function Q(J,Z,U){return J+FK(Z,U)},m4=function Q(J,Z,U){return J+Math.pow(U-Z,2)},cV=function Q(J){return Math.sqrt(J)},pV=function Q(J,Z,U){return Math.max(J,FK(Z,U))},zZ=function Q(J,Z,U,$,q){var K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:dV,G=$,Y,F;for(var X=0;X<J;X++)Y=Z(X),F=U(X),G=q(G,Y,F);return K(G)},pQ={euclidean:function Q(J,Z,U){if(J>=2)return zZ(J,Z,U,0,m4,cV);else return zZ(J,Z,U,0,b4)},squaredEuclidean:function Q(J,Z,U){return zZ(J,Z,U,0,m4)},manhattan:function Q(J,Z,U){return zZ(J,Z,U,0,b4)},max:function Q(J,Z,U){return zZ(J,Z,U,-1/0,pV)}};pQ[\"squared-euclidean\"]=pQ.squaredEuclidean;pQ.squaredeuclidean=pQ.squaredEuclidean;function M7(Q,J,Z,U,$,q){var K;if(Q8(Q))K=Q;else K=pQ[Q]||pQ.euclidean;if(J===0&&Q8(Q))return K($,q);else return K(J,Z,U,$,q)}var lV=A8({k:2,m:2,sensitivityThreshold:0.0001,distance:\"euclidean\",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),WU=function Q(J){return lV(J)},J7=function Q(J,Z,U,$,q){var K=q!==\"kMedoids\",G=K?function(H){return U[H]}:function(H){return $[H](U)},Y=function H(M){return $[M](Z)},F=U,X=Z;return M7(J,$.length,G,Y,F,X)},k5=function Q(J,Z,U){var $=U.length,q=new Array($),K=new Array($),G=new Array(Z),Y=null;for(var F=0;F<$;F++)q[F]=J.min(U[F]).value,K[F]=J.max(U[F]).value;for(var X=0;X<Z;X++){Y=[];for(var H=0;H<$;H++)Y[H]=Math.random()*(K[H]-q[H])+q[H];G[X]=Y}return G},XK=function Q(J,Z,U,$,q){var K=1/0,G=0;for(var Y=0;Y<Z.length;Y++){var F=J7(U,J,Z[Y],$,q);if(F<K)K=F,G=Y}return G},HK=function Q(J,Z,U){var $=[],q=null;for(var K=0;K<Z.length;K++)if(q=Z[K],U[q.id()]===J)$.push(q);return $},iV=function Q(J,Z,U){return Math.abs(Z-J)<=U},nV=function Q(J,Z,U){for(var $=0;$<J.length;$++)for(var q=0;q<J[$].length;q++){var K=Math.abs(J[$][q]-Z[$][q]);if(K>U)return!1}return!0},sV=function Q(J,Z,U){for(var $=0;$<U;$++)if(J===Z[$])return!0;return!1},y4=function Q(J,Z){var U=new Array(Z);if(J.length<50)for(var $=0;$<Z;$++){var q=J[Math.floor(Math.random()*J.length)];while(sV(q,U,$))q=J[Math.floor(Math.random()*J.length)];U[$]=q}else for(var K=0;K<Z;K++)U[K]=J[Math.floor(Math.random()*J.length)];return U},h4=function Q(J,Z,U){var $=0;for(var q=0;q<Z.length;q++)$+=J7(\"manhattan\",Z[q],J,U,\"kMedoids\");return $},aV=function Q(J){var Z=this.cy(),U=this.nodes(),$=null,q=WU(J),K=new Array(q.k),G={},Y;if(q.testMode)if(typeof q.testCentroids===\"number\")q.testCentroids,Y=k5(U,q.k,q.attributes);else if(z8(q.testCentroids)===\"object\")Y=q.testCentroids;else Y=k5(U,q.k,q.attributes);else Y=k5(U,q.k,q.attributes);var F=!0,X=0;while(F&&X<q.maxIterations){for(var H=0;H<U.length;H++)$=U[H],G[$.id()]=XK($,Y,q.distance,q.attributes,\"kMeans\");F=!1;for(var M=0;M<q.k;M++){var z=HK(M,U,G);if(z.length===0)continue;var N=q.attributes.length,W=Y[M],L=new Array(N),E=new Array(N);for(var B=0;B<N;B++){E[B]=0;for(var V=0;V<z.length;V++)$=z[V],E[B]+=q.attributes[B]($);if(L[B]=E[B]/z.length,!iV(L[B],W[B],q.sensitivityThreshold))F=!0}Y[M]=L,K[M]=Z.collection(z)}X++}return K},rV=function Q(J){var Z=this.cy(),U=this.nodes(),$=null,q=WU(J),K=new Array(q.k),G,Y={},F,X=new Array(q.k);if(q.testMode)if(typeof q.testCentroids===\"number\");else if(z8(q.testCentroids)===\"object\")G=q.testCentroids;else G=y4(U,q.k);else G=y4(U,q.k);var H=!0,M=0;while(H&&M<q.maxIterations){for(var z=0;z<U.length;z++)$=U[z],Y[$.id()]=XK($,G,q.distance,q.attributes,\"kMedoids\");H=!1;for(var N=0;N<G.length;N++){var W=HK(N,U,Y);if(W.length===0)continue;X[N]=h4(G[N],W,q.attributes);for(var L=0;L<W.length;L++)if(F=h4(W[L],W,q.attributes),F<X[N])X[N]=F,G[N]=W[L],H=!0;K[N]=Z.collection(W)}M++}return K},oV=function Q(J,Z,U,$,q){var K,G;for(var Y=0;Y<Z.length;Y++)for(var F=0;F<J.length;F++)$[Y][F]=Math.pow(U[Y][F],q.m);for(var X=0;X<J.length;X++)for(var H=0;H<q.attributes.length;H++){K=0,G=0;for(var M=0;M<Z.length;M++)K+=$[M][X]*q.attributes[H](Z[M]),G+=$[M][X];J[X][H]=K/G}},tV=function Q(J,Z,U,$,q){for(var K=0;K<J.length;K++)Z[K]=J[K].slice();var G,Y,F,X=2/(q.m-1);for(var H=0;H<U.length;H++)for(var M=0;M<$.length;M++){G=0;for(var z=0;z<U.length;z++)Y=J7(q.distance,$[M],U[H],q.attributes,\"cmeans\"),F=J7(q.distance,$[M],U[z],q.attributes,\"cmeans\"),G+=Math.pow(Y/F,X);J[M][H]=1/G}},eV=function Q(J,Z,U,$){var q=new Array(U.k);for(var K=0;K<q.length;K++)q[K]=[];var G,Y;for(var F=0;F<Z.length;F++){G=-1/0,Y=-1;for(var X=0;X<Z[0].length;X++)if(Z[F][X]>G)G=Z[F][X],Y=X;q[Y].push(J[F])}for(var H=0;H<q.length;H++)q[H]=$.collection(q[H]);return q},u4=function Q(J){var Z=this.cy(),U=this.nodes(),$=WU(J),q,K,G,Y,F;Y=new Array(U.length);for(var X=0;X<U.length;X++)Y[X]=new Array($.k);G=new Array(U.length);for(var H=0;H<U.length;H++)G[H]=new Array($.k);for(var M=0;M<U.length;M++){var z=0;for(var N=0;N<$.k;N++)G[M][N]=Math.random(),z+=G[M][N];for(var W=0;W<$.k;W++)G[M][W]=G[M][W]/z}K=new Array($.k);for(var L=0;L<$.k;L++)K[L]=new Array($.attributes.length);F=new Array(U.length);for(var E=0;E<U.length;E++)F[E]=new Array($.k);var B=!0,V=0;while(B&&V<$.maxIterations){if(B=!1,oV(K,U,G,F,$),tV(G,Y,K,U,$),!nV(G,Y,$.sensitivityThreshold))B=!0;V++}return q=eV(U,G,$,Z),{clusters:q,degreeOfMembership:G}},JD={kMeans:aV,kMedoids:rV,fuzzyCMeans:u4,fcm:u4},QD=A8({distance:\"euclidean\",linkage:\"min\",mode:\"threshold\",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ZD={single:\"min\",complete:\"max\"},UD=function Q(J){var Z=QD(J),U=ZD[Z.linkage];if(U!=null)Z.linkage=U;return Z},g4=function Q(J,Z,U,$,q){var K=0,G=1/0,Y,F=q.attributes,X=function C(I,T){return M7(q.distance,F.length,function(P){return F[P](I)},function(P){return F[P](T)},I,T)};for(var H=0;H<J.length;H++){var M=J[H].key,z=U[M][$[M]];if(z<G)K=M,G=z}if(q.mode===\"threshold\"&&G>=q.threshold||q.mode===\"dendrogram\"&&J.length===1)return!1;var N=Z[K],W=Z[$[K]],L;if(q.mode===\"dendrogram\")L={left:N,right:W,key:N.key};else L={value:N.value.concat(W.value),key:N.key};J[N.index]=L,J.splice(W.index,1),Z[N.key]=L;for(var E=0;E<J.length;E++){var B=J[E];if(N.key===B.key)Y=1/0;else if(q.linkage===\"min\"){if(Y=U[N.key][B.key],U[N.key][B.key]>U[W.key][B.key])Y=U[W.key][B.key]}else if(q.linkage===\"max\"){if(Y=U[N.key][B.key],U[N.key][B.key]<U[W.key][B.key])Y=U[W.key][B.key]}else if(q.linkage===\"mean\")Y=(U[N.key][B.key]*N.size+U[W.key][B.key]*W.size)/(N.size+W.size);else if(q.mode===\"dendrogram\")Y=X(B.value,N.value);else Y=X(B.value[0],N.value[0]);U[N.key][B.key]=U[B.key][N.key]=Y}for(var V=0;V<J.length;V++){var D=J[V].key;if($[D]===N.key||$[D]===W.key){var O=D;for(var A=0;A<J.length;A++){var R=J[A].key;if(U[D][R]<U[D][O])O=R}$[D]=O}J[V].index=V}return N.key=W.key=N.index=W.index=null,!0},mQ=function Q(J,Z,U){if(!J)return;if(J.value)Z.push(J.value);else{if(J.left)mQ(J.left,Z);if(J.right)mQ(J.right,Z)}},c0=function Q(J,Z){if(!J)return\"\";if(J.left&&J.right){var U=c0(J.left,Z),$=c0(J.right,Z),q=Z.add({group:\"nodes\",data:{id:U+\",\"+$}});return Z.add({group:\"edges\",data:{source:U,target:q.id()}}),Z.add({group:\"edges\",data:{source:$,target:q.id()}}),q.id()}else if(J.value)return J.value.id()},p0=function Q(J,Z,U){if(!J)return[];var $=[],q=[],K=[];if(Z===0){if(J.left)mQ(J.left,$);if(J.right)mQ(J.right,q);return K=$.concat(q),[U.collection(K)]}else if(Z===1)if(J.value)return[U.collection(J.value)];else{if(J.left)mQ(J.left,$);if(J.right)mQ(J.right,q);return[U.collection($),U.collection(q)]}else if(J.value)return[U.collection(J.value)];else{if(J.left)$=p0(J.left,Z-1,U);if(J.right)q=p0(J.right,Z-1,U);return $.concat(q)}},d4=function Q(J){var Z=this.cy(),U=this.nodes(),$=UD(J),q=$.attributes,K=function B(V,D){return M7($.distance,q.length,function(O){return q[O](V)},function(O){return q[O](D)},V,D)},G=[],Y=[],F=[],X=[];for(var H=0;H<U.length;H++){var M={value:$.mode===\"dendrogram\"?U[H]:[U[H]],key:H,index:H};G[H]=M,X[H]=M,Y[H]=[],F[H]=0}for(var z=0;z<G.length;z++)for(var N=0;N<=z;N++){var W=void 0;if($.mode===\"dendrogram\")W=z===N?1/0:K(G[z].value,G[N].value);else W=z===N?1/0:K(G[z].value[0],G[N].value[0]);if(Y[z][N]=W,Y[N][z]=W,W<Y[z][F[z]])F[z]=N}var L=g4(G,X,Y,F,$);while(L)L=g4(G,X,Y,F,$);var E;if($.mode===\"dendrogram\"){if(E=p0(G[0],$.dendrogramDepth,Z),$.addDendrogram)c0(G[0],Z)}else E=new Array(G.length),G.forEach(function(B,V){B.key=B.index=null,E[V]=Z.collection(B.value)});return E},$D={hierarchicalClustering:d4,hca:d4},qD=A8({distance:\"euclidean\",preference:\"median\",damping:0.8,maxIterations:1000,minIterations:100,attributes:[]}),KD=function Q(J){var{damping:Z,preference:U}=J;if(!(0.5<=Z&&Z<1))J8(\"Damping must range on [0.5, 1).  Got: \".concat(Z));var $=[\"median\",\"mean\",\"min\",\"max\"];if(!($.some(function(q){return q===U})||$J(U)))J8(\"Preference must be one of [\".concat($.map(function(q){return\"'\".concat(q,\"'\")}).join(\", \"),\"] or a number.  Got: \").concat(U));return qD(J)},GD=function Q(J,Z,U,$){var q=function K(G,Y){return $[Y](G)};return-M7(J,$.length,function(K){return q(Z,K)},function(K){return q(U,K)},Z,U)},YD=function Q(J,Z){var U=null;if(Z===\"median\")U=KV(J);else if(Z===\"mean\")U=qV(J);else if(Z===\"min\")U=UV(J);else if(Z===\"max\")U=$V(J);else U=Z;return U},FD=function Q(J,Z,U){var $=[];for(var q=0;q<J;q++)if(Z[q*J+q]+U[q*J+q]>0)$.push(q);return $},c4=function Q(J,Z,U){var $=[];for(var q=0;q<J;q++){var K=-1,G=-1/0;for(var Y=0;Y<U.length;Y++){var F=U[Y];if(Z[q*J+F]>G)K=F,G=Z[q*J+F]}if(K>0)$.push(K)}for(var X=0;X<U.length;X++)$[U[X]]=U[X];return $},XD=function Q(J,Z,U){var $=c4(J,Z,U);for(var q=0;q<U.length;q++){var K=[];for(var G=0;G<$.length;G++)if($[G]===U[q])K.push(G);var Y=-1,F=-1/0;for(var X=0;X<K.length;X++){var H=0;for(var M=0;M<K.length;M++)H+=Z[K[M]*J+K[X]];if(H>F)Y=X,F=H}U[q]=K[Y]}return $=c4(J,Z,U),$},p4=function Q(J){var Z=this.cy(),U=this.nodes(),$=KD(J),q={};for(var K=0;K<U.length;K++)q[U[K].id()]=K;var G,Y,F,X,H,M;G=U.length,Y=G*G,F=new Array(Y);for(var z=0;z<Y;z++)F[z]=-1/0;for(var N=0;N<G;N++)for(var W=0;W<G;W++)if(N!==W)F[N*G+W]=GD($.distance,U[N],U[W],$.attributes);X=YD(F,$.preference);for(var L=0;L<G;L++)F[L*G+L]=X;H=new Array(Y);for(var E=0;E<Y;E++)H[E]=0;M=new Array(Y);for(var B=0;B<Y;B++)M[B]=0;var V=new Array(G),D=new Array(G),O=new Array(G);for(var A=0;A<G;A++)V[A]=0,D[A]=0,O[A]=0;var R=new Array(G*$.minIterations);for(var C=0;C<R.length;C++)R[C]=0;var I;for(I=0;I<$.maxIterations;I++){for(var T=0;T<G;T++){var P=-1/0,k=-1/0,j=-1,_=0;for(var x=0;x<G;x++)if(V[x]=H[T*G+x],_=M[T*G+x]+F[T*G+x],_>=P)k=P,P=_,j=x;else if(_>k)k=_;for(var f=0;f<G;f++)H[T*G+f]=(1-$.damping)*(F[T*G+f]-P)+$.damping*V[f];H[T*G+j]=(1-$.damping)*(F[T*G+j]-k)+$.damping*V[j]}for(var v=0;v<G;v++){var b=0;for(var y=0;y<G;y++)V[y]=M[y*G+v],D[y]=Math.max(0,H[y*G+v]),b+=D[y];b-=D[v],D[v]=H[v*G+v],b+=D[v];for(var g=0;g<G;g++)M[g*G+v]=(1-$.damping)*Math.min(0,b-D[g])+$.damping*V[g];M[v*G+v]=(1-$.damping)*(b-D[v])+$.damping*V[v]}var m=0;for(var u=0;u<G;u++){var n=M[u*G+u]+H[u*G+u]>0?1:0;R[I%$.minIterations*G+u]=n,m+=n}if(m>0&&(I>=$.minIterations-1||I==$.maxIterations-1)){var t=0;for(var s=0;s<G;s++){O[s]=0;for(var JJ=0;JJ<$.minIterations;JJ++)O[s]+=R[JJ*G+s];if(O[s]===0||O[s]===$.minIterations)t++}if(t===G)break}}var ZJ=FD(G,H,M),qJ=XD(G,F,ZJ),e={};for(var h=0;h<ZJ.length;h++)e[ZJ[h]]=[];for(var d=0;d<U.length;d++){var p=q[U[d].id()],r=qJ[p];if(r!=null)e[r].push(U[d])}var UJ=new Array(ZJ.length);for(var NJ=0;NJ<ZJ.length;NJ++)UJ[NJ]=Z.collection(e[ZJ[NJ]]);return UJ},HD={affinityPropagation:p4,ap:p4},MD=A8({root:void 0,directed:!1}),ND={hierholzer:function Q(J){if(!yJ(J)){var Z=arguments;J={root:Z[0],directed:Z[1]}}var U=MD(J),$=U.root,q=U.directed,K=this,G=!1,Y,F,X;if($)X=WJ($)?this.filter($)[0].id():$[0].id();var H={},M={};if(q)K.forEach(function(B){var V=B.id();if(B.isNode()){var D=B.indegree(!0),O=B.outdegree(!0),A=D-O,R=O-D;if(A==1)if(Y)G=!0;else Y=V;else if(R==1)if(F)G=!0;else F=V;else if(R>1||A>1)G=!0;H[V]=[],B.outgoers().forEach(function(C){if(C.isEdge())H[V].push(C.id())})}else M[V]=[void 0,B.target().id()]});else K.forEach(function(B){var V=B.id();if(B.isNode()){var D=B.degree(!0);if(D%2)if(!Y)Y=V;else if(!F)F=V;else G=!0;H[V]=[],B.connectedEdges().forEach(function(O){return H[V].push(O.id())})}else M[V]=[B.source().id(),B.target().id()]});var z={found:!1,trail:void 0};if(G)return z;else if(F&&Y){if(q){if(X&&F!=X)return z;X=F}else if(X&&F!=X&&Y!=X)return z;else if(!X)X=F}else if(!X)X=K[0].id();var N=function B(V){var D=V,O=[V],A,R,C;while(H[D].length){if(A=H[D].shift(),R=M[A][0],C=M[A][1],D!=C)H[C]=H[C].filter(function(I){return I!=A}),D=C;else if(!q&&D!=R)H[R]=H[R].filter(function(I){return I!=A}),D=R;O.unshift(A),O.unshift(D)}return O},W=[],L=[];L=N(X);while(L.length!=1)if(H[L[0]].length==0)W.unshift(K.getElementById(L.shift())),W.unshift(K.getElementById(L.shift()));else L=N(L.shift()).concat(L);W.unshift(K.getElementById(L.shift()));for(var E in H)if(H[E].length)return z;return z.found=!0,z.trail=this.spawn(W,!0),z}},P6=function Q(){var J=this,Z={},U=0,$=0,q=[],K=[],G={},Y=function H(M,z){var N=K.length-1,W=[],L=J.spawn();while(K[N].x!=M||K[N].y!=z)W.push(K.pop().edge),N--;W.push(K.pop().edge),W.forEach(function(E){var B=E.connectedNodes().intersection(J);L.merge(E),B.forEach(function(V){var D=V.id(),O=V.connectedEdges().intersection(J);if(L.merge(V),!Z[D].cutVertex)L.merge(O);else L.merge(O.filter(function(A){return A.isLoop()}))})}),q.push(L)},F=function H(M,z,N){if(M===N)$+=1;Z[z]={id:U,low:U++,cutVertex:!1};var W=J.getElementById(z).connectedEdges().intersection(J);if(W.size()===0)q.push(J.spawn(J.getElementById(z)));else{var L,E,B,V;W.forEach(function(D){if(L=D.source().id(),E=D.target().id(),B=L===z?E:L,B!==N){if(V=D.id(),!G[V])G[V]=!0,K.push({x:z,y:B,edge:D});if(!(B in Z)){if(F(M,B,z),Z[z].low=Math.min(Z[z].low,Z[B].low),Z[z].id<=Z[B].low)Z[z].cutVertex=!0,Y(z,B)}else Z[z].low=Math.min(Z[z].low,Z[B].id)}})}};J.forEach(function(H){if(H.isNode()){var M=H.id();if(!(M in Z))$=0,F(M,M),Z[M].cutVertex=$>1}});var X=Object.keys(Z).filter(function(H){return Z[H].cutVertex}).map(function(H){return J.getElementById(H)});return{cut:J.spawn(X),components:q}},zD={hopcroftTarjanBiconnected:P6,htbc:P6,htb:P6,hopcroftTarjanBiconnectedComponents:P6},k6=function Q(){var J=this,Z={},U=0,$=[],q=[],K=J.spawn(J),G=function Y(F){q.push(F),Z[F]={index:U,low:U++,explored:!1};var X=J.getElementById(F).connectedEdges().intersection(J);if(X.forEach(function(W){var L=W.target().id();if(L!==F){if(!(L in Z))G(L);if(!Z[L].explored)Z[F].low=Math.min(Z[F].low,Z[L].low)}}),Z[F].index===Z[F].low){var H=J.spawn();for(;;){var M=q.pop();if(H.merge(J.getElementById(M)),Z[M].low=Z[F].index,Z[M].explored=!0,M===F)break}var z=H.edgesWith(H),N=H.merge(z);$.push(N),K=K.difference(N)}};return J.forEach(function(Y){if(Y.isNode()){var F=Y.id();if(!(F in Z))G(F)}}),{cut:K,components:$}},LD={tarjanStronglyConnected:k6,tsc:k6,tscc:k6,tarjanStronglyConnectedComponents:k6},MK={};[kZ,l2,i2,s2,r2,t2,QV,PV,uQ,gQ,d0,gV,JD,$D,HD,ND,zD,LD].forEach(function(Q){DJ(MK,Q)});/*!\nEmbeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\nCopyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)\nLicensed under The MIT License (http://opensource.org/licenses/MIT)\n*/var NK=0,zK=1,LK=2,J9=function Q(J){if(!(this instanceof J9))return new J9(J);if(this.id=\"Thenable/1.0.7\",this.state=NK,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof J===\"function\")J.call(this,this.fulfill.bind(this),this.reject.bind(this))};J9.prototype={fulfill:function Q(J){return l4(this,zK,\"fulfillValue\",J)},reject:function Q(J){return l4(this,LK,\"rejectReason\",J)},then:function Q(J,Z){var U=this,$=new J9;return U.onFulfilled.push(n4(J,$,\"fulfill\")),U.onRejected.push(n4(Z,$,\"reject\")),WK(U),$.proxy}};var l4=function Q(J,Z,U,$){if(J.state===NK)J.state=Z,J[U]=$,WK(J);return J},WK=function Q(J){if(J.state===zK)i4(J,\"onFulfilled\",J.fulfillValue);else if(J.state===LK)i4(J,\"onRejected\",J.rejectReason)},i4=function Q(J,Z,U){if(J[Z].length===0)return;var $=J[Z];J[Z]=[];var q=function K(){for(var G=0;G<$.length;G++)$[G](U)};if(typeof setImmediate===\"function\")setImmediate(q);else setTimeout(q,0)},n4=function Q(J,Z,U){return function($){if(typeof J!==\"function\")Z[U].call(Z,$);else{var q;try{q=J($)}catch(K){Z.reject(K);return}EK(Z,q)}}},EK=function Q(J,Z){if(J===Z||J.proxy===Z){J.reject(new TypeError(\"cannot resolve promise with itself\"));return}var U;if(z8(Z)===\"object\"&&Z!==null||typeof Z===\"function\")try{U=Z.then}catch(q){J.reject(q);return}if(typeof U===\"function\"){var $=!1;try{U.call(Z,function(q){if($)return;if($=!0,q===Z)J.reject(new TypeError(\"circular thenable chain\"));else EK(J,q)},function(q){if($)return;$=!0,J.reject(q)})}catch(q){if(!$)J.reject(q)}return}J.fulfill(Z)};J9.all=function(Q){return new J9(function(J,Z){var U=new Array(Q.length),$=0,q=function G(Y,F){if(U[Y]=F,$++,$===Q.length)J(U)};for(var K=0;K<Q.length;K++)(function(G){var Y=Q[G],F=Y!=null&&Y.then!=null;if(F)Y.then(function(H){q(G,H)},function(H){Z(H)});else{var X=Y;q(G,X)}})(K)})};J9.resolve=function(Q){return new J9(function(J,Z){J(Q)})};J9.reject=function(Q){return new J9(function(J,Z){Z(Q)})};var nQ=typeof Promise!==\"undefined\"?Promise:J9,l0=function Q(J,Z,U){var $=KU(J),q=!$,K=this._private=DJ({duration:1000},Z,U);if(K.target=J,K.style=K.style||K.css,K.started=!1,K.playing=!1,K.hooked=!1,K.applying=!1,K.progress=0,K.completes=[],K.frames=[],K.complete&&Q8(K.complete))K.completes.push(K.complete);if(q){var G=J.position();K.startPosition=K.startPosition||{x:G.x,y:G.y},K.startStyle=K.startStyle||J.cy().style().getAnimationStartStyle(J,K.style)}if($){var Y=J.pan();K.startPan={x:Y.x,y:Y.y},K.startZoom=J.zoom()}this.length=1,this[0]=this},NQ=l0.prototype;DJ(NQ,{instanceString:function Q(){return\"animation\"},hook:function Q(){var J=this._private;if(!J.hooked){var Z,U=J.target._private.animation;if(J.queue)Z=U.queue;else Z=U.current;if(Z.push(this),h8(J.target))J.target.cy().addToAnimationPool(J.target);J.hooked=!0}return this},play:function Q(){var J=this._private;if(J.progress===1)J.progress=0;return J.playing=!0,J.started=!1,J.stopped=!1,this.hook(),this},playing:function Q(){return this._private.playing},apply:function Q(){var J=this._private;return J.applying=!0,J.started=!1,J.stopped=!1,this.hook(),this},applying:function Q(){return this._private.applying},pause:function Q(){var J=this._private;return J.playing=!1,J.started=!1,this},stop:function Q(){var J=this._private;return J.playing=!1,J.started=!1,J.stopped=!0,this},rewind:function Q(){return this.progress(0)},fastforward:function Q(){return this.progress(1)},time:function Q(J){var Z=this._private;if(J===void 0)return Z.progress*Z.duration;else return this.progress(J/Z.duration)},progress:function Q(J){var Z=this._private,U=Z.playing;if(J===void 0)return Z.progress;else{if(U)this.pause();if(Z.progress=J,Z.started=!1,U)this.play()}return this},completed:function Q(){return this._private.progress===1},reverse:function Q(){var J=this._private,Z=J.playing;if(Z)this.pause();J.progress=1-J.progress,J.started=!1;var U=function Y(F,X){var H=J[F];if(H==null)return;J[F]=J[X],J[X]=H};if(U(\"zoom\",\"startZoom\"),U(\"pan\",\"startPan\"),U(\"position\",\"startPosition\"),J.style)for(var $=0;$<J.style.length;$++){var q=J.style[$],K=q.name,G=J.startStyle[K];J.startStyle[K]=q,J.style[$]=G}if(Z)this.play();return this},promise:function Q(J){var Z=this._private,U;switch(J){case\"frame\":U=Z.frames;break;default:case\"complete\":case\"completed\":U=Z.completes}return new nQ(function($,q){U.push(function(){$()})})}});NQ.complete=NQ.completed;NQ.run=NQ.play;NQ.running=NQ.playing;var WD={animated:function Q(){return function J(){var Z=this,U=Z.length!==void 0,$=U?Z:[Z],q=this._private.cy||this;if(!q.styleEnabled())return!1;var K=$[0];if(K)return K._private.animation.current.length>0}},clearQueue:function Q(){return function J(){var Z=this,U=Z.length!==void 0,$=U?Z:[Z],q=this._private.cy||this;if(!q.styleEnabled())return this;for(var K=0;K<$.length;K++){var G=$[K];G._private.animation.queue=[]}return this}},delay:function Q(){return function J(Z,U){var $=this._private.cy||this;if(!$.styleEnabled())return this;return this.animate({delay:Z,duration:Z,complete:U})}},delayAnimation:function Q(){return function J(Z,U){var $=this._private.cy||this;if(!$.styleEnabled())return this;return this.animation({delay:Z,duration:Z,complete:U})}},animation:function Q(){return function J(Z,U){var $=this,q=$.length!==void 0,K=q?$:[$],G=this._private.cy||this,Y=!q,F=!Y;if(!G.styleEnabled())return this;var X=G.style();Z=DJ({},Z,U);var H=Object.keys(Z).length===0;if(H)return new l0(K[0],Z);if(Z.duration===void 0)Z.duration=400;switch(Z.duration){case\"slow\":Z.duration=600;break;case\"fast\":Z.duration=200;break}if(F)Z.style=X.getPropsList(Z.style||Z.css),Z.css=void 0;if(F&&Z.renderedPosition!=null){var M=Z.renderedPosition,z=G.pan(),N=G.zoom();Z.position=ZK(M,N,z)}if(Y&&Z.panBy!=null){var W=Z.panBy,L=G.pan();Z.pan={x:L.x+W.x,y:L.y+W.y}}var E=Z.center||Z.centre;if(Y&&E!=null){var B=G.getCenterPan(E.eles,Z.zoom);if(B!=null)Z.pan=B}if(Y&&Z.fit!=null){var V=Z.fit,D=G.getFitViewport(V.eles||V.boundingBox,V.padding);if(D!=null)Z.pan=D.pan,Z.zoom=D.zoom}if(Y&&yJ(Z.zoom)){var O=G.getZoomedViewport(Z.zoom);if(O!=null){if(O.zoomed)Z.zoom=O.zoom;if(O.panned)Z.pan=O.pan}else Z.zoom=null}return new l0(K[0],Z)}},animate:function Q(){return function J(Z,U){var $=this,q=$.length!==void 0,K=q?$:[$],G=this._private.cy||this;if(!G.styleEnabled())return this;if(U)Z=DJ({},Z,U);for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F.animated()&&(Z.queue===void 0||Z.queue),H=F.animation(Z,X?{queue:!0}:void 0);H.play()}return this}},stop:function Q(){return function J(Z,U){var $=this,q=$.length!==void 0,K=q?$:[$],G=this._private.cy||this;if(!G.styleEnabled())return this;for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F._private,H=X.animation.current;for(var M=0;M<H.length;M++){var z=H[M],N=z._private;if(U)N.duration=0}if(Z)X.animation.queue=[];if(!U)X.animation.current=[]}return G.notify(\"draw\"),this}}},j5,s4;function N7(){if(s4)return j5;s4=1;var Q=Array.isArray;return j5=Q,j5}var w5,a4;function ED(){if(a4)return w5;a4=1;var Q=N7(),J=gZ(),Z=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,U=/^\\w*$/;function $(q,K){if(Q(q))return!1;var G=typeof q;if(G==\"number\"||G==\"symbol\"||G==\"boolean\"||q==null||J(q))return!0;return U.test(q)||!Z.test(q)||K!=null&&q in Object(K)}return w5=$,w5}var _5,r4;function BD(){if(r4)return _5;r4=1;var Q=n1(),J=uZ(),Z=\"[object AsyncFunction]\",U=\"[object Function]\",$=\"[object GeneratorFunction]\",q=\"[object Proxy]\";function K(G){if(!J(G))return!1;var Y=Q(G);return Y==U||Y==$||Y==Z||Y==q}return _5=K,_5}var v5,o4;function VD(){if(o4)return v5;o4=1;var Q=F7(),J=Q[\"__core-js_shared__\"];return v5=J,v5}var f5,t4;function DD(){if(t4)return f5;t4=1;var Q=VD(),J=function(){var U=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||\"\");return U?\"Symbol(src)_1.\"+U:\"\"}();function Z(U){return!!J&&J in U}return f5=Z,f5}var x5,e4;function RD(){if(e4)return x5;e4=1;var Q=Function.prototype,J=Q.toString;function Z(U){if(U!=null){try{return J.call(U)}catch($){}try{return U+\"\"}catch($){}}return\"\"}return x5=Z,x5}var b5,Jq;function OD(){if(Jq)return b5;Jq=1;var Q=BD(),J=DD(),Z=uZ(),U=RD(),$=/[\\\\^$.*+?()[\\]{}|]/g,q=/^\\[object .+?Constructor\\]$/,K=Function.prototype,G=Object.prototype,Y=K.toString,F=G.hasOwnProperty,X=RegExp(\"^\"+Y.call(F).replace($,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function H(M){if(!Z(M)||J(M))return!1;var z=Q(M)?X:q;return z.test(U(M))}return b5=H,b5}var m5,Qq;function AD(){if(Qq)return m5;Qq=1;function Q(J,Z){return J==null?void 0:J[Z]}return m5=Q,m5}var y5,Zq;function EU(){if(Zq)return y5;Zq=1;var Q=OD(),J=AD();function Z(U,$){var q=J(U,$);return Q(q)?q:void 0}return y5=Z,y5}var h5,Uq;function z7(){if(Uq)return h5;Uq=1;var Q=EU(),J=Q(Object,\"create\");return h5=J,h5}var u5,$q;function CD(){if($q)return u5;$q=1;var Q=z7();function J(){this.__data__=Q?Q(null):{},this.size=0}return u5=J,u5}var g5,qq;function SD(){if(qq)return g5;qq=1;function Q(J){var Z=this.has(J)&&delete this.__data__[J];return this.size-=Z?1:0,Z}return g5=Q,g5}var d5,Kq;function ID(){if(Kq)return d5;Kq=1;var Q=z7(),J=\"__lodash_hash_undefined__\",Z=Object.prototype,U=Z.hasOwnProperty;function $(q){var K=this.__data__;if(Q){var G=K[q];return G===J?void 0:G}return U.call(K,q)?K[q]:void 0}return d5=$,d5}var c5,Gq;function TD(){if(Gq)return c5;Gq=1;var Q=z7(),J=Object.prototype,Z=J.hasOwnProperty;function U($){var q=this.__data__;return Q?q[$]!==void 0:Z.call(q,$)}return c5=U,c5}var p5,Yq;function PD(){if(Yq)return p5;Yq=1;var Q=z7(),J=\"__lodash_hash_undefined__\";function Z(U,$){var q=this.__data__;return this.size+=this.has(U)?0:1,q[U]=Q&&$===void 0?J:$,this}return p5=Z,p5}var l5,Fq;function kD(){if(Fq)return l5;Fq=1;var Q=CD(),J=SD(),Z=ID(),U=TD(),$=PD();function q(K){var G=-1,Y=K==null?0:K.length;this.clear();while(++G<Y){var F=K[G];this.set(F[0],F[1])}}return q.prototype.clear=Q,q.prototype.delete=J,q.prototype.get=Z,q.prototype.has=U,q.prototype.set=$,l5=q,l5}var i5,Xq;function jD(){if(Xq)return i5;Xq=1;function Q(){this.__data__=[],this.size=0}return i5=Q,i5}var n5,Hq;function BK(){if(Hq)return n5;Hq=1;function Q(J,Z){return J===Z||J!==J&&Z!==Z}return n5=Q,n5}var s5,Mq;function L7(){if(Mq)return s5;Mq=1;var Q=BK();function J(Z,U){var $=Z.length;while($--)if(Q(Z[$][0],U))return $;return-1}return s5=J,s5}var a5,Nq;function wD(){if(Nq)return a5;Nq=1;var Q=L7(),J=Array.prototype,Z=J.splice;function U($){var q=this.__data__,K=Q(q,$);if(K<0)return!1;var G=q.length-1;if(K==G)q.pop();else Z.call(q,K,1);return--this.size,!0}return a5=U,a5}var r5,zq;function _D(){if(zq)return r5;zq=1;var Q=L7();function J(Z){var U=this.__data__,$=Q(U,Z);return $<0?void 0:U[$][1]}return r5=J,r5}var o5,Lq;function vD(){if(Lq)return o5;Lq=1;var Q=L7();function J(Z){return Q(this.__data__,Z)>-1}return o5=J,o5}var t5,Wq;function fD(){if(Wq)return t5;Wq=1;var Q=L7();function J(Z,U){var $=this.__data__,q=Q($,Z);if(q<0)++this.size,$.push([Z,U]);else $[q][1]=U;return this}return t5=J,t5}var e5,Eq;function xD(){if(Eq)return e5;Eq=1;var Q=jD(),J=wD(),Z=_D(),U=vD(),$=fD();function q(K){var G=-1,Y=K==null?0:K.length;this.clear();while(++G<Y){var F=K[G];this.set(F[0],F[1])}}return q.prototype.clear=Q,q.prototype.delete=J,q.prototype.get=Z,q.prototype.has=U,q.prototype.set=$,e5=q,e5}var J0,Bq;function bD(){if(Bq)return J0;Bq=1;var Q=EU(),J=F7(),Z=Q(J,\"Map\");return J0=Z,J0}var Q0,Vq;function mD(){if(Vq)return Q0;Vq=1;var Q=kD(),J=xD(),Z=bD();function U(){this.size=0,this.__data__={hash:new Q,map:new(Z||J),string:new Q}}return Q0=U,Q0}var Z0,Dq;function yD(){if(Dq)return Z0;Dq=1;function Q(J){var Z=typeof J;return Z==\"string\"||Z==\"number\"||Z==\"symbol\"||Z==\"boolean\"?J!==\"__proto__\":J===null}return Z0=Q,Z0}var U0,Rq;function W7(){if(Rq)return U0;Rq=1;var Q=yD();function J(Z,U){var $=Z.__data__;return Q(U)?$[typeof U==\"string\"?\"string\":\"hash\"]:$.map}return U0=J,U0}var $0,Oq;function hD(){if(Oq)return $0;Oq=1;var Q=W7();function J(Z){var U=Q(this,Z).delete(Z);return this.size-=U?1:0,U}return $0=J,$0}var q0,Aq;function uD(){if(Aq)return q0;Aq=1;var Q=W7();function J(Z){return Q(this,Z).get(Z)}return q0=J,q0}var K0,Cq;function gD(){if(Cq)return K0;Cq=1;var Q=W7();function J(Z){return Q(this,Z).has(Z)}return K0=J,K0}var G0,Sq;function dD(){if(Sq)return G0;Sq=1;var Q=W7();function J(Z,U){var $=Q(this,Z),q=$.size;return $.set(Z,U),this.size+=$.size==q?0:1,this}return G0=J,G0}var Y0,Iq;function cD(){if(Iq)return Y0;Iq=1;var Q=mD(),J=hD(),Z=uD(),U=gD(),$=dD();function q(K){var G=-1,Y=K==null?0:K.length;this.clear();while(++G<Y){var F=K[G];this.set(F[0],F[1])}}return q.prototype.clear=Q,q.prototype.delete=J,q.prototype.get=Z,q.prototype.has=U,q.prototype.set=$,Y0=q,Y0}var F0,Tq;function pD(){if(Tq)return F0;Tq=1;var Q=cD(),J=\"Expected a function\";function Z(U,$){if(typeof U!=\"function\"||$!=null&&typeof $!=\"function\")throw new TypeError(J);var q=function(){var K=arguments,G=$?$.apply(this,K):K[0],Y=q.cache;if(Y.has(G))return Y.get(G);var F=U.apply(this,K);return q.cache=Y.set(G,F)||Y,F};return q.cache=new(Z.Cache||Q),q}return Z.Cache=Q,F0=Z,F0}var X0,Pq;function lD(){if(Pq)return X0;Pq=1;var Q=pD(),J=500;function Z(U){var $=Q(U,function(K){if(q.size===J)q.clear();return K}),q=$.cache;return $}return X0=Z,X0}var H0,kq;function VK(){if(kq)return H0;kq=1;var Q=lD(),J=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Z=/\\\\(\\\\)?/g,U=Q(function($){var q=[];if($.charCodeAt(0)===46)q.push(\"\");return $.replace(J,function(K,G,Y,F){q.push(Y?F.replace(Z,\"$1\"):G||K)}),q});return H0=U,H0}var M0,jq;function DK(){if(jq)return M0;jq=1;function Q(J,Z){var U=-1,$=J==null?0:J.length,q=Array($);while(++U<$)q[U]=Z(J[U],U,J);return q}return M0=Q,M0}var N0,wq;function iD(){if(wq)return N0;wq=1;var Q=YU(),J=DK(),Z=N7(),U=gZ(),$=Q?Q.prototype:void 0,q=$?$.toString:void 0;function K(G){if(typeof G==\"string\")return G;if(Z(G))return J(G,K)+\"\";if(U(G))return q?q.call(G):\"\";var Y=G+\"\";return Y==\"0\"&&1/G==-1/0?\"-0\":Y}return N0=K,N0}var z0,_q;function RK(){if(_q)return z0;_q=1;var Q=iD();function J(Z){return Z==null?\"\":Q(Z)}return z0=J,z0}var L0,vq;function OK(){if(vq)return L0;vq=1;var Q=N7(),J=ED(),Z=VK(),U=RK();function $(q,K){if(Q(q))return q;return J(q,K)?[q]:Z(U(q))}return L0=$,L0}var W0,fq;function BU(){if(fq)return W0;fq=1;var Q=gZ();function J(Z){if(typeof Z==\"string\"||Q(Z))return Z;var U=Z+\"\";return U==\"0\"&&1/Z==-1/0?\"-0\":U}return W0=J,W0}var E0,xq;function nD(){if(xq)return E0;xq=1;var Q=OK(),J=BU();function Z(U,$){$=Q($,U);var q=0,K=$.length;while(U!=null&&q<K)U=U[J($[q++])];return q&&q==K?U:void 0}return E0=Z,E0}var B0,bq;function sD(){if(bq)return B0;bq=1;var Q=nD();function J(Z,U,$){var q=Z==null?void 0:Q(Z,U);return q===void 0?$:q}return B0=J,B0}var aD=sD(),rD=hZ(aD),V0,mq;function oD(){if(mq)return V0;mq=1;var Q=EU(),J=function(){try{var Z=Q(Object,\"defineProperty\");return Z({},\"\",{}),Z}catch(U){}}();return V0=J,V0}var D0,yq;function tD(){if(yq)return D0;yq=1;var Q=oD();function J(Z,U,$){if(U==\"__proto__\"&&Q)Q(Z,U,{configurable:!0,enumerable:!0,value:$,writable:!0});else Z[U]=$}return D0=J,D0}var R0,hq;function eD(){if(hq)return R0;hq=1;var Q=tD(),J=BK(),Z=Object.prototype,U=Z.hasOwnProperty;function $(q,K,G){var Y=q[K];if(!(U.call(q,K)&&J(Y,G))||G===void 0&&!(K in q))Q(q,K,G)}return R0=$,R0}var O0,uq;function JR(){if(uq)return O0;uq=1;var Q=9007199254740991,J=/^(?:0|[1-9]\\d*)$/;function Z(U,$){var q=typeof U;return $=$==null?Q:$,!!$&&(q==\"number\"||q!=\"symbol\"&&J.test(U))&&(U>-1&&U%1==0&&U<$)}return O0=Z,O0}var A0,gq;function QR(){if(gq)return A0;gq=1;var Q=eD(),J=OK(),Z=JR(),U=uZ(),$=BU();function q(K,G,Y,F){if(!U(K))return K;G=J(G,K);var X=-1,H=G.length,M=H-1,z=K;while(z!=null&&++X<H){var N=$(G[X]),W=Y;if(N===\"__proto__\"||N===\"constructor\"||N===\"prototype\")return K;if(X!=M){var L=z[N];if(W=F?F(L,N,z):void 0,W===void 0)W=U(L)?L:Z(G[X+1])?[]:{}}Q(z,N,W),z=z[N]}return K}return A0=q,A0}var C0,dq;function ZR(){if(dq)return C0;dq=1;var Q=QR();function J(Z,U,$){return Z==null?Z:Q(Z,U,$)}return C0=J,C0}var UR=ZR(),$R=hZ(UR),S0,cq;function qR(){if(cq)return S0;cq=1;function Q(J,Z){var U=-1,$=J.length;Z||(Z=Array($));while(++U<$)Z[U]=J[U];return Z}return S0=Q,S0}var I0,pq;function KR(){if(pq)return I0;pq=1;var Q=DK(),J=qR(),Z=N7(),U=gZ(),$=VK(),q=BU(),K=RK();function G(Y){if(Z(Y))return Q(Y,q);return U(Y)?[Y]:J($(K(Y)))}return I0=G,I0}var GR=KR(),YR=hZ(GR),FR={data:function Q(J){var Z={field:\"data\",bindingEvent:\"data\",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:\"data\",settingTriggersEvent:!1,triggerFnName:\"trigger\",immutableKeys:{},updateStyle:!1,beforeGet:function U($){},beforeSet:function U($,q){},onSet:function U($){},canSet:function U($){return!0}};return J=DJ({},Z,J),function U($,q){var K=J,G=this,Y=G.length!==void 0,F=Y?G:[G],X=Y?G[0]:G;if(WJ($)){var H=$.indexOf(\".\")!==-1,M=H&&YR($);if(K.allowGetting&&q===void 0){var z;if(X)if(K.beforeGet(X),M&&X._private[K.field][$]===void 0)z=rD(X._private[K.field],M);else z=X._private[K.field][$];return z}else if(K.allowSetting&&q!==void 0){var N=!K.immutableKeys[$];if(N){var W=m1({},$,q);K.beforeSet(G,W);for(var L=0,E=F.length;L<E;L++){var B=F[L];if(K.canSet(B))if(M&&X._private[K.field][$]===void 0)$R(B._private[K.field],M,q);else B._private[K.field][$]=q}if(K.updateStyle)G.updateStyle();if(K.onSet(G),K.settingTriggersEvent)G[K.triggerFnName](K.settingEvent)}}}else if(K.allowSetting&&yJ($)){var V=$,D,O,A=Object.keys(V);K.beforeSet(G,V);for(var R=0;R<A.length;R++){D=A[R],O=V[D];var C=!K.immutableKeys[D];if(C)for(var I=0;I<F.length;I++){var T=F[I];if(K.canSet(T))T._private[K.field][D]=O}}if(K.updateStyle)G.updateStyle();if(K.onSet(G),K.settingTriggersEvent)G[K.triggerFnName](K.settingEvent)}else if(K.allowBinding&&Q8($)){var P=$;G.on(K.bindingEvent,P)}else if(K.allowGetting&&$===void 0){var k;if(X)K.beforeGet(X),k=X._private[K.field];return k}return G}},removeData:function Q(J){var Z={field:\"data\",event:\"data\",triggerFnName:\"trigger\",triggerEvent:!1,immutableKeys:{}};return J=DJ({},Z,J),function U($){var q=J,K=this,G=K.length!==void 0,Y=G?K:[K];if(WJ($)){var F=$.split(/\\s+/),X=F.length;for(var H=0;H<X;H++){var M=F[H];if(y9(M))continue;var z=!q.immutableKeys[M];if(z)for(var N=0,W=Y.length;N<W;N++)Y[N]._private[q.field][M]=void 0}if(q.triggerEvent)K[q.triggerFnName](q.event)}else if($===void 0){for(var L=0,E=Y.length;L<E;L++){var B=Y[L]._private[q.field],V=Object.keys(B);for(var D=0;D<V.length;D++){var O=V[D],A=!q.immutableKeys[O];if(A)B[O]=void 0}}if(q.triggerEvent)K[q.triggerFnName](q.event)}return K}}},XR={eventAliasesOn:function Q(J){var Z=J;Z.addListener=Z.listen=Z.bind=Z.on,Z.unlisten=Z.unbind=Z.off=Z.removeListener,Z.trigger=Z.emit,Z.pon=Z.promiseOn=function(U,$){var q=this,K=Array.prototype.slice.call(arguments,0);return new nQ(function(G,Y){var F=function M(z){q.off.apply(q,H),G(z)},X=K.concat([F]),H=X.concat([]);q.on.apply(q,X)})}}},pJ={};[WD,FR,XR].forEach(function(Q){DJ(pJ,Q)});var HR={animate:pJ.animate(),animation:pJ.animation(),animated:pJ.animated(),clearQueue:pJ.clearQueue(),delay:pJ.delay(),delayAnimation:pJ.delayAnimation(),stop:pJ.stop()},u6={classes:function Q(J){var Z=this;if(J===void 0){var U=[];return Z[0]._private.classes.forEach(function(N){return U.push(N)}),U}else if(!nJ(J))J=(J||\"\").match(/\\S+/g)||[];var $=[],q=new iQ(J);for(var K=0;K<Z.length;K++){var G=Z[K],Y=G._private,F=Y.classes,X=!1;for(var H=0;H<J.length;H++){var M=J[H],z=F.has(M);if(!z){X=!0;break}}if(!X)X=F.size!==J.length;if(X)Y.classes=q,$.push(G)}if($.length>0)this.spawn($).updateStyle().emit(\"class\");return Z},addClass:function Q(J){return this.toggleClass(J,!0)},hasClass:function Q(J){var Z=this[0];return Z!=null&&Z._private.classes.has(J)},toggleClass:function Q(J,Z){if(!nJ(J))J=J.match(/\\S+/g)||[];var U=this,$=Z===void 0,q=[];for(var K=0,G=U.length;K<G;K++){var Y=U[K],F=Y._private.classes,X=!1;for(var H=0;H<J.length;H++){var M=J[H],z=F.has(M),N=!1;if(Z||$&&!z)F.add(M),N=!0;else if(!Z||$&&z)F.delete(M),N=!0;if(!X&&N)q.push(Y),X=!0}}if(q.length>0)this.spawn(q).updateStyle().emit(\"class\");return U},removeClass:function Q(J){return this.toggleClass(J,!1)},flashClass:function Q(J,Z){var U=this;if(Z==null)Z=250;else if(Z===0)return U;return U.addClass(J),setTimeout(function(){U.removeClass(J)},Z),U}};u6.className=u6.classNames=u6.classes;var mJ={metaChar:\"[\\\\!\\\\\\\"\\\\#\\\\$\\\\%\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\.\\\\/\\\\:\\\\;\\\\<\\\\=\\\\>\\\\?\\\\@\\\\[\\\\]\\\\^\\\\`\\\\{\\\\|\\\\}\\\\~]\",comparatorOp:\"=|\\\\!=|>|>=|<|<=|\\\\$=|\\\\^=|\\\\*=\",boolOp:\"\\\\?|\\\\!|\\\\^\",string:`\"(?:\\\\\\\\\"|[^\"])*\"|'(?:\\\\\\\\'|[^'])*'`,number:N8,meta:\"degree|indegree|outdegree\",separator:\"\\\\s*,\\\\s*\",descendant:\"\\\\s+\",child:\"\\\\s+>\\\\s+\",subject:\"\\\\$\",group:\"node|edge|\\\\*\",directedEdge:\"\\\\s+->\\\\s+\",undirectedEdge:\"\\\\s+<->\\\\s+\"};mJ.variable=\"(?:[\\\\w-.]|(?:\\\\\\\\\"+mJ.metaChar+\"))+\";mJ.className=\"(?:[\\\\w-]|(?:\\\\\\\\\"+mJ.metaChar+\"))+\";mJ.value=mJ.string+\"|\"+mJ.number;mJ.id=mJ.variable;(function(){var Q,J,Z;Q=mJ.comparatorOp.split(\"|\");for(Z=0;Z<Q.length;Z++)J=Q[Z],mJ.comparatorOp+=\"|@\"+J;Q=mJ.comparatorOp.split(\"|\");for(Z=0;Z<Q.length;Z++){if(J=Q[Z],J.indexOf(\"!\")>=0)continue;if(J===\"=\")continue;mJ.comparatorOp+=\"|\\\\!\"+J}})();var iJ=function Q(){return{checks:[]}},GJ={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},i0=[{selector:\":selected\",matches:function Q(J){return J.selected()}},{selector:\":unselected\",matches:function Q(J){return!J.selected()}},{selector:\":selectable\",matches:function Q(J){return J.selectable()}},{selector:\":unselectable\",matches:function Q(J){return!J.selectable()}},{selector:\":locked\",matches:function Q(J){return J.locked()}},{selector:\":unlocked\",matches:function Q(J){return!J.locked()}},{selector:\":visible\",matches:function Q(J){return J.visible()}},{selector:\":hidden\",matches:function Q(J){return!J.visible()}},{selector:\":transparent\",matches:function Q(J){return J.transparent()}},{selector:\":grabbed\",matches:function Q(J){return J.grabbed()}},{selector:\":free\",matches:function Q(J){return!J.grabbed()}},{selector:\":removed\",matches:function Q(J){return J.removed()}},{selector:\":inside\",matches:function Q(J){return!J.removed()}},{selector:\":grabbable\",matches:function Q(J){return J.grabbable()}},{selector:\":ungrabbable\",matches:function Q(J){return!J.grabbable()}},{selector:\":animated\",matches:function Q(J){return J.animated()}},{selector:\":unanimated\",matches:function Q(J){return!J.animated()}},{selector:\":parent\",matches:function Q(J){return J.isParent()}},{selector:\":childless\",matches:function Q(J){return J.isChildless()}},{selector:\":child\",matches:function Q(J){return J.isChild()}},{selector:\":orphan\",matches:function Q(J){return J.isOrphan()}},{selector:\":nonorphan\",matches:function Q(J){return J.isChild()}},{selector:\":compound\",matches:function Q(J){if(J.isNode())return J.isParent();else return J.source().isParent()||J.target().isParent()}},{selector:\":loop\",matches:function Q(J){return J.isLoop()}},{selector:\":simple\",matches:function Q(J){return J.isSimple()}},{selector:\":active\",matches:function Q(J){return J.active()}},{selector:\":inactive\",matches:function Q(J){return!J.active()}},{selector:\":backgrounding\",matches:function Q(J){return J.backgrounding()}},{selector:\":nonbackgrounding\",matches:function Q(J){return!J.backgrounding()}}].sort(function(Q,J){return F2(Q.selector,J.selector)}),MR=function(){var Q={},J;for(var Z=0;Z<i0.length;Z++)J=i0[Z],Q[J.selector]=J.matches;return Q}(),NR=function Q(J,Z){return MR[J](Z)},zR=\"(\"+i0.map(function(Q){return Q.selector}).join(\"|\")+\")\",PQ=function Q(J){return J.replace(new RegExp(\"\\\\\\\\(\"+mJ.metaChar+\")\",\"g\"),function(Z,U){return U})},j9=function Q(J,Z,U){J[J.length-1]=U},n0=[{name:\"group\",query:!0,regex:\"(\"+mJ.group+\")\",populate:function Q(J,Z,U){var $=F8(U,1),q=$[0];Z.checks.push({type:GJ.GROUP,value:q===\"*\"?q:q+\"s\"})}},{name:\"state\",query:!0,regex:zR,populate:function Q(J,Z,U){var $=F8(U,1),q=$[0];Z.checks.push({type:GJ.STATE,value:q})}},{name:\"id\",query:!0,regex:\"\\\\#(\"+mJ.id+\")\",populate:function Q(J,Z,U){var $=F8(U,1),q=$[0];Z.checks.push({type:GJ.ID,value:PQ(q)})}},{name:\"className\",query:!0,regex:\"\\\\.(\"+mJ.className+\")\",populate:function Q(J,Z,U){var $=F8(U,1),q=$[0];Z.checks.push({type:GJ.CLASS,value:PQ(q)})}},{name:\"dataExists\",query:!0,regex:\"\\\\[\\\\s*(\"+mJ.variable+\")\\\\s*\\\\]\",populate:function Q(J,Z,U){var $=F8(U,1),q=$[0];Z.checks.push({type:GJ.DATA_EXIST,field:PQ(q)})}},{name:\"dataCompare\",query:!0,regex:\"\\\\[\\\\s*(\"+mJ.variable+\")\\\\s*(\"+mJ.comparatorOp+\")\\\\s*(\"+mJ.value+\")\\\\s*\\\\]\",populate:function Q(J,Z,U){var $=F8(U,3),q=$[0],K=$[1],G=$[2],Y=new RegExp(\"^\"+mJ.string+\"$\").exec(G)!=null;if(Y)G=G.substring(1,G.length-1);else G=parseFloat(G);Z.checks.push({type:GJ.DATA_COMPARE,field:PQ(q),operator:K,value:G})}},{name:\"dataBool\",query:!0,regex:\"\\\\[\\\\s*(\"+mJ.boolOp+\")\\\\s*(\"+mJ.variable+\")\\\\s*\\\\]\",populate:function Q(J,Z,U){var $=F8(U,2),q=$[0],K=$[1];Z.checks.push({type:GJ.DATA_BOOL,field:PQ(K),operator:q})}},{name:\"metaCompare\",query:!0,regex:\"\\\\[\\\\[\\\\s*(\"+mJ.meta+\")\\\\s*(\"+mJ.comparatorOp+\")\\\\s*(\"+mJ.number+\")\\\\s*\\\\]\\\\]\",populate:function Q(J,Z,U){var $=F8(U,3),q=$[0],K=$[1],G=$[2];Z.checks.push({type:GJ.META_COMPARE,field:PQ(q),operator:K,value:parseFloat(G)})}},{name:\"nextQuery\",separator:!0,regex:mJ.separator,populate:function Q(J,Z){var{currentSubject:U,edgeCount:$,compoundCount:q}=J,K=J[J.length-1];if(U!=null)K.subject=U,J.currentSubject=null;K.edgeCount=$,K.compoundCount=q,J.edgeCount=0,J.compoundCount=0;var G=J[J.length++]=iJ();return G}},{name:\"directedEdge\",separator:!0,regex:mJ.directedEdge,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=Z,q=iJ();return U.checks.push({type:GJ.DIRECTED_EDGE,source:$,target:q}),j9(J,Z,U),J.edgeCount++,q}else{var K=iJ(),G=Z,Y=iJ();return K.checks.push({type:GJ.NODE_SOURCE,source:G,target:Y}),j9(J,Z,K),J.edgeCount++,Y}}},{name:\"undirectedEdge\",separator:!0,regex:mJ.undirectedEdge,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=Z,q=iJ();return U.checks.push({type:GJ.UNDIRECTED_EDGE,nodes:[$,q]}),j9(J,Z,U),J.edgeCount++,q}else{var K=iJ(),G=Z,Y=iJ();return K.checks.push({type:GJ.NODE_NEIGHBOR,node:G,neighbor:Y}),j9(J,Z,K),Y}}},{name:\"child\",separator:!0,regex:mJ.child,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=iJ(),q=J[J.length-1];return U.checks.push({type:GJ.CHILD,parent:q,child:$}),j9(J,Z,U),J.compoundCount++,$}else if(J.currentSubject===Z){var K=iJ(),G=J[J.length-1],Y=iJ(),F=iJ(),X=iJ(),H=iJ();return K.checks.push({type:GJ.COMPOUND_SPLIT,left:G,right:Y,subject:F}),F.checks=Z.checks,Z.checks=[{type:GJ.TRUE}],H.checks.push({type:GJ.TRUE}),Y.checks.push({type:GJ.PARENT,parent:H,child:X}),j9(J,G,K),J.currentSubject=F,J.compoundCount++,X}else{var M=iJ(),z=iJ(),N=[{type:GJ.PARENT,parent:M,child:z}];return M.checks=Z.checks,Z.checks=N,J.compoundCount++,z}}},{name:\"descendant\",separator:!0,regex:mJ.descendant,populate:function Q(J,Z){if(J.currentSubject==null){var U=iJ(),$=iJ(),q=J[J.length-1];return U.checks.push({type:GJ.DESCENDANT,ancestor:q,descendant:$}),j9(J,Z,U),J.compoundCount++,$}else if(J.currentSubject===Z){var K=iJ(),G=J[J.length-1],Y=iJ(),F=iJ(),X=iJ(),H=iJ();return K.checks.push({type:GJ.COMPOUND_SPLIT,left:G,right:Y,subject:F}),F.checks=Z.checks,Z.checks=[{type:GJ.TRUE}],H.checks.push({type:GJ.TRUE}),Y.checks.push({type:GJ.ANCESTOR,ancestor:H,descendant:X}),j9(J,G,K),J.currentSubject=F,J.compoundCount++,X}else{var M=iJ(),z=iJ(),N=[{type:GJ.ANCESTOR,ancestor:M,descendant:z}];return M.checks=Z.checks,Z.checks=N,J.compoundCount++,z}}},{name:\"subject\",modifier:!0,regex:mJ.subject,populate:function Q(J,Z){if(J.currentSubject!=null&&J.currentSubject!==Z)return lJ(\"Redefinition of subject in selector `\"+J.toString()+\"`\"),!1;J.currentSubject=Z;var U=J[J.length-1],$=U.checks[0],q=$==null?null:$.type;if(q===GJ.DIRECTED_EDGE)$.type=GJ.NODE_TARGET;else if(q===GJ.UNDIRECTED_EDGE)$.type=GJ.NODE_NEIGHBOR,$.node=$.nodes[1],$.neighbor=$.nodes[0],$.nodes=null}}];n0.forEach(function(Q){return Q.regexObj=new RegExp(\"^\"+Q.regex)});var LR=function Q(J){var Z,U,$;for(var q=0;q<n0.length;q++){var K=n0[q],G=K.name,Y=J.match(K.regexObj);if(Y!=null){U=Y,Z=K,$=G;var F=Y[0];J=J.substring(F.length);break}}return{expr:Z,match:U,name:$,remaining:J}},WR=function Q(J){var Z=J.match(/^\\s+/);if(Z){var U=Z[0];J=J.substring(U.length)}return J},ER=function Q(J){var Z=this,U=Z.inputText=J,$=Z[0]=iJ();Z.length=1,U=WR(U);for(;;){var q=LR(U);if(q.expr==null)return lJ(\"The selector `\"+J+\"`is invalid\"),!1;else{var K=q.match.slice(1),G=q.expr.populate(Z,$,K);if(G===!1)return!1;else if(G!=null)$=G}if(U=q.remaining,U.match(/^\\s*$/))break}var Y=Z[Z.length-1];if(Z.currentSubject!=null)Y.subject=Z.currentSubject;Y.edgeCount=Z.edgeCount,Y.compoundCount=Z.compoundCount;for(var F=0;F<Z.length;F++){var X=Z[F];if(X.compoundCount>0&&X.edgeCount>0)return lJ(\"The selector `\"+J+\"` is invalid because it uses both a compound selector and an edge selector\"),!1;if(X.edgeCount>1)return lJ(\"The selector `\"+J+\"` is invalid because it uses multiple edge selectors\"),!1;else if(X.edgeCount===1)lJ(\"The selector `\"+J+\"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.\")}return!0},BR=function Q(){if(this.toStringCache!=null)return this.toStringCache;var J=function F(X){if(X==null)return\"\";else return X},Z=function F(X){if(WJ(X))return'\"'+X+'\"';else return J(X)},U=function F(X){return\" \"+X+\" \"},$=function F(X,H){var{type:M,value:z}=X;switch(M){case GJ.GROUP:{var N=J(z);return N.substring(0,N.length-1)}case GJ.DATA_COMPARE:{var{field:W,operator:L}=X;return\"[\"+W+U(J(L))+Z(z)+\"]\"}case GJ.DATA_BOOL:{var{operator:E,field:B}=X;return\"[\"+J(E)+B+\"]\"}case GJ.DATA_EXIST:{var V=X.field;return\"[\"+V+\"]\"}case GJ.META_COMPARE:{var{operator:D,field:O}=X;return\"[[\"+O+U(J(D))+Z(z)+\"]]\"}case GJ.STATE:return z;case GJ.ID:return\"#\"+z;case GJ.CLASS:return\".\"+z;case GJ.PARENT:case GJ.CHILD:return q(X.parent,H)+U(\">\")+q(X.child,H);case GJ.ANCESTOR:case GJ.DESCENDANT:return q(X.ancestor,H)+\" \"+q(X.descendant,H);case GJ.COMPOUND_SPLIT:{var A=q(X.left,H),R=q(X.subject,H),C=q(X.right,H);return A+(A.length>0?\" \":\"\")+R+C}case GJ.TRUE:return\"\"}},q=function F(X,H){return X.checks.reduce(function(M,z,N){return M+(H===X&&N===0?\"$\":\"\")+$(z,H)},\"\")},K=\"\";for(var G=0;G<this.length;G++){var Y=this[G];if(K+=q(Y,Y.subject),this.length>1&&G<this.length-1)K+=\", \"}return this.toStringCache=K,K},VR={parse:ER,toString:BR},AK=function Q(J,Z,U){var $,q=WJ(J),K=$J(J),G=WJ(U),Y,F,X=!1,H=!1,M=!1;if(Z.indexOf(\"!\")>=0)Z=Z.replace(\"!\",\"\"),H=!0;if(Z.indexOf(\"@\")>=0)Z=Z.replace(\"@\",\"\"),X=!0;if(q||G||X)Y=!q&&!K?\"\":\"\"+J,F=\"\"+U;if(X)J=Y=Y.toLowerCase(),U=F=F.toLowerCase();switch(Z){case\"*=\":$=Y.indexOf(F)>=0;break;case\"$=\":$=Y.indexOf(F,Y.length-F.length)>=0;break;case\"^=\":$=Y.indexOf(F)===0;break;case\"=\":$=J===U;break;case\">\":M=!0,$=J>U;break;case\">=\":M=!0,$=J>=U;break;case\"<\":M=!0,$=J<U;break;case\"<=\":M=!0,$=J<=U;break;default:$=!1;break}if(H&&(J!=null||!M))$=!$;return $},DR=function Q(J,Z){switch(Z){case\"?\":return J?!0:!1;case\"!\":return J?!1:!0;case\"^\":return J===void 0}},RR=function Q(J){return J!==void 0},VU=function Q(J,Z){return J.data(Z)},OR=function Q(J,Z){return J[Z]()},$8=[],oJ=function Q(J,Z){return J.checks.every(function(U){return $8[U.type](U,Z)})};$8[GJ.GROUP]=function(Q,J){var Z=Q.value;return Z===\"*\"||Z===J.group()};$8[GJ.STATE]=function(Q,J){var Z=Q.value;return NR(Z,J)};$8[GJ.ID]=function(Q,J){var Z=Q.value;return J.id()===Z};$8[GJ.CLASS]=function(Q,J){var Z=Q.value;return J.hasClass(Z)};$8[GJ.META_COMPARE]=function(Q,J){var{field:Z,operator:U,value:$}=Q;return AK(OR(J,Z),U,$)};$8[GJ.DATA_COMPARE]=function(Q,J){var{field:Z,operator:U,value:$}=Q;return AK(VU(J,Z),U,$)};$8[GJ.DATA_BOOL]=function(Q,J){var{field:Z,operator:U}=Q;return DR(VU(J,Z),U)};$8[GJ.DATA_EXIST]=function(Q,J){var Z=Q.field;return Q.operator,RR(VU(J,Z))};$8[GJ.UNDIRECTED_EDGE]=function(Q,J){var Z=Q.nodes[0],U=Q.nodes[1],$=J.source(),q=J.target();return oJ(Z,$)&&oJ(U,q)||oJ(U,$)&&oJ(Z,q)};$8[GJ.NODE_NEIGHBOR]=function(Q,J){return oJ(Q.node,J)&&J.neighborhood().some(function(Z){return Z.isNode()&&oJ(Q.neighbor,Z)})};$8[GJ.DIRECTED_EDGE]=function(Q,J){return oJ(Q.source,J.source())&&oJ(Q.target,J.target())};$8[GJ.NODE_SOURCE]=function(Q,J){return oJ(Q.source,J)&&J.outgoers().some(function(Z){return Z.isNode()&&oJ(Q.target,Z)})};$8[GJ.NODE_TARGET]=function(Q,J){return oJ(Q.target,J)&&J.incomers().some(function(Z){return Z.isNode()&&oJ(Q.source,Z)})};$8[GJ.CHILD]=function(Q,J){return oJ(Q.child,J)&&oJ(Q.parent,J.parent())};$8[GJ.PARENT]=function(Q,J){return oJ(Q.parent,J)&&J.children().some(function(Z){return oJ(Q.child,Z)})};$8[GJ.DESCENDANT]=function(Q,J){return oJ(Q.descendant,J)&&J.ancestors().some(function(Z){return oJ(Q.ancestor,Z)})};$8[GJ.ANCESTOR]=function(Q,J){return oJ(Q.ancestor,J)&&J.descendants().some(function(Z){return oJ(Q.descendant,Z)})};$8[GJ.COMPOUND_SPLIT]=function(Q,J){return oJ(Q.subject,J)&&oJ(Q.left,J)&&oJ(Q.right,J)};$8[GJ.TRUE]=function(){return!0};$8[GJ.COLLECTION]=function(Q,J){var Z=Q.value;return Z.has(J)};$8[GJ.FILTER]=function(Q,J){var Z=Q.value;return Z(J)};var AR=function Q(J){var Z=this;if(Z.length===1&&Z[0].checks.length===1&&Z[0].checks[0].type===GJ.ID)return J.getElementById(Z[0].checks[0].value).collection();var U=function $(q){for(var K=0;K<Z.length;K++){var G=Z[K];if(oJ(G,q))return!0}return!1};if(Z.text()==null)U=function $(){return!0};return J.filter(U)},CR=function Q(J){var Z=this;for(var U=0;U<Z.length;U++){var $=Z[U];if(oJ($,J))return!0}return!1},SR={matches:CR,filter:AR},g9=function Q(J){if(this.inputText=J,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,J==null||WJ(J)&&J.match(/^\\s*$/));else if(h8(J))this.addQuery({checks:[{type:GJ.COLLECTION,value:J.collection()}]});else if(Q8(J))this.addQuery({checks:[{type:GJ.FILTER,value:J}]});else if(WJ(J)){if(!this.parse(J))this.invalid=!0}else J8(\"A selector must be created from a string; found \")},d9=g9.prototype;[VR,SR].forEach(function(Q){return DJ(d9,Q)});d9.text=function(){return this.inputText};d9.size=function(){return this.length};d9.eq=function(Q){return this[Q]};d9.sameText=function(Q){return!this.invalid&&!Q.invalid&&this.text()===Q.text()};d9.addQuery=function(Q){this[this.length++]=Q};d9.selector=d9.toString;var b9={allAre:function Q(J){var Z=new g9(J);return this.every(function(U){return Z.matches(U)})},is:function Q(J){var Z=new g9(J);return this.some(function(U){return Z.matches(U)})},some:function Q(J,Z){for(var U=0;U<this.length;U++){var $=!Z?J(this[U],U,this):J.apply(Z,[this[U],U,this]);if($)return!0}return!1},every:function Q(J,Z){for(var U=0;U<this.length;U++){var $=!Z?J(this[U],U,this):J.apply(Z,[this[U],U,this]);if(!$)return!1}return!0},same:function Q(J){if(this===J)return!0;J=this.cy().collection(J);var Z=this.length,U=J.length;if(Z!==U)return!1;if(Z===1)return this[0]===J[0];return this.every(function($){return J.hasElementWithId($.id())})},anySame:function Q(J){return J=this.cy().collection(J),this.some(function(Z){return J.hasElementWithId(Z.id())})},allAreNeighbors:function Q(J){J=this.cy().collection(J);var Z=this.neighborhood();return J.every(function(U){return Z.hasElementWithId(U.id())})},contains:function Q(J){J=this.cy().collection(J);var Z=this;return J.every(function(U){return Z.hasElementWithId(U.id())})}};b9.allAreNeighbours=b9.allAreNeighbors;b9.has=b9.contains;b9.equal=b9.equals=b9.same;var i8=function Q(J,Z){return function U($,q,K,G){var Y=$,F=this,X;if(Y==null)X=\"\";else if(h8(Y)&&Y.length===1)X=Y.id();if(F.length===1&&X){var H=F[0]._private,M=H.traversalCache=H.traversalCache||{},z=M[Z]=M[Z]||[],N=HQ(X),W=z[N];if(W)return W;else return z[N]=J.call(F,$,q,K,G)}else return J.call(F,$,q,K,G)}},lQ={parent:function Q(J){var Z=[];if(this.length===1){var U=this[0]._private.parent;if(U)return U}for(var $=0;$<this.length;$++){var q=this[$],K=q._private.parent;if(K)Z.push(K)}return this.spawn(Z,!0).filter(J)},parents:function Q(J){var Z=[],U=this.parent();while(U.nonempty()){for(var $=0;$<U.length;$++){var q=U[$];Z.push(q)}U=U.parent()}return this.spawn(Z,!0).filter(J)},commonAncestors:function Q(J){var Z;for(var U=0;U<this.length;U++){var $=this[U],q=$.parents();Z=Z||q,Z=Z.intersect(q)}return Z.filter(J)},orphans:function Q(J){return this.stdFilter(function(Z){return Z.isOrphan()}).filter(J)},nonorphans:function Q(J){return this.stdFilter(function(Z){return Z.isChild()}).filter(J)},children:i8(function(Q){var J=[];for(var Z=0;Z<this.length;Z++){var U=this[Z],$=U._private.children;for(var q=0;q<$.length;q++)J.push($[q])}return this.spawn(J,!0).filter(Q)},\"children\"),siblings:function Q(J){return this.parent().children().not(this).filter(J)},isParent:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.children.length!==0},isChildless:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.children.length===0},isChild:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.parent!=null},isOrphan:function Q(){var J=this[0];if(J)return J.isNode()&&J._private.parent==null},descendants:function Q(J){var Z=[];function U($){for(var q=0;q<$.length;q++){var K=$[q];if(Z.push(K),K.children().nonempty())U(K.children())}}return U(this.children()),this.spawn(Z,!0).filter(J)}};function DU(Q,J,Z,U){var $=[],q=new iQ,K=Q.cy(),G=K.hasCompoundNodes();for(var Y=0;Y<Q.length;Y++){var F=Q[Y];if(Z)$.push(F);else if(G)U($,q,F)}while($.length>0){var X=$.shift();if(J(X),q.add(X.id()),G)U($,q,X)}return Q}function CK(Q,J,Z){if(Z.isParent()){var U=Z._private.children;for(var $=0;$<U.length;$++){var q=U[$];if(!J.has(q.id()))Q.push(q)}}}lQ.forEachDown=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return DU(this,Q,J,CK)};function SK(Q,J,Z){if(Z.isChild()){var U=Z._private.parent;if(!J.has(U.id()))Q.push(U)}}lQ.forEachUp=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return DU(this,Q,J,SK)};function IR(Q,J,Z){SK(Q,J,Z),CK(Q,J,Z)}lQ.forEachUpAndDown=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return DU(this,Q,J,IR)};lQ.ancestors=lQ.parents;var _Z,IK;_Z=IK={data:pJ.data({field:\"data\",bindingEvent:\"data\",allowBinding:!0,allowSetting:!0,settingEvent:\"data\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:pJ.removeData({field:\"data\",event:\"data\",triggerFnName:\"trigger\",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:pJ.data({field:\"scratch\",bindingEvent:\"scratch\",allowBinding:!0,allowSetting:!0,settingEvent:\"scratch\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,updateStyle:!0}),removeScratch:pJ.removeData({field:\"scratch\",event:\"scratch\",triggerFnName:\"trigger\",triggerEvent:!0,updateStyle:!0}),rscratch:pJ.data({field:\"rscratch\",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:pJ.removeData({field:\"rscratch\",triggerEvent:!1}),id:function Q(){var J=this[0];if(J)return J._private.data.id}};_Z.attr=_Z.data;_Z.removeAttr=_Z.removeData;var TR=IK,E7={};function T0(Q){return function(J){var Z=this;if(J===void 0)J=!0;if(Z.length===0)return;if(Z.isNode()&&!Z.removed()){var U=0,$=Z[0],q=$._private.edges;for(var K=0;K<q.length;K++){var G=q[K];if(!J&&G.isLoop())continue;U+=Q($,G)}return U}else return}}DJ(E7,{degree:T0(function(Q,J){if(J.source().same(J.target()))return 2;else return 1}),indegree:T0(function(Q,J){if(J.target().same(Q))return 1;else return 0}),outdegree:T0(function(Q,J){if(J.source().same(Q))return 1;else return 0})});function kQ(Q,J){return function(Z){var U,$=this.nodes();for(var q=0;q<$.length;q++){var K=$[q],G=K[Q](Z);if(G!==void 0&&(U===void 0||J(G,U)))U=G}return U}}DJ(E7,{minDegree:kQ(\"degree\",function(Q,J){return Q<J}),maxDegree:kQ(\"degree\",function(Q,J){return Q>J}),minIndegree:kQ(\"indegree\",function(Q,J){return Q<J}),maxIndegree:kQ(\"indegree\",function(Q,J){return Q>J}),minOutdegree:kQ(\"outdegree\",function(Q,J){return Q<J}),maxOutdegree:kQ(\"outdegree\",function(Q,J){return Q>J})});DJ(E7,{totalDegree:function Q(J){var Z=0,U=this.nodes();for(var $=0;$<U.length;$++)Z+=U[$].degree(J);return Z}});var e8,TK,PK=function Q(J,Z,U){for(var $=0;$<J.length;$++){var q=J[$];if(!q.locked()){var K=q._private.position,G={x:Z.x!=null?Z.x-K.x:0,y:Z.y!=null?Z.y-K.y:0};if(q.isParent()&&!(G.x===0&&G.y===0))q.children().shift(G,U);q.dirtyBoundingBoxCache()}}},lq={field:\"position\",bindingEvent:\"position\",allowBinding:!0,allowSetting:!0,settingEvent:\"position\",settingTriggersEvent:!0,triggerFnName:\"emitAndNotify\",allowGetting:!0,validKeys:[\"x\",\"y\"],beforeGet:function Q(J){J.updateCompoundBounds()},beforeSet:function Q(J,Z){PK(J,Z,!1)},onSet:function Q(J){J.dirtyCompoundBoundsCache()},canSet:function Q(J){return!J.locked()}};e8=TK={position:pJ.data(lq),silentPosition:pJ.data(DJ({},lq,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function Q(J,Z){PK(J,Z,!0)},onSet:function Q(J){J.dirtyCompoundBoundsCache()}})),positions:function Q(J,Z){if(yJ(J))if(Z)this.silentPosition(J);else this.position(J);else if(Q8(J)){var U=J,$=this.cy();$.startBatch();for(var q=0;q<this.length;q++){var K=this[q],G=void 0;if(G=U(K,q))if(Z)K.silentPosition(G);else K.position(G)}$.endBatch()}return this},silentPositions:function Q(J){return this.positions(J,!0)},shift:function Q(J,Z,U){var $;if(yJ(J))$={x:$J(J.x)?J.x:0,y:$J(J.y)?J.y:0},U=Z;else if(WJ(J)&&$J(Z))$={x:0,y:0},$[J]=Z;if($!=null){var q=this.cy();q.startBatch();for(var K=0;K<this.length;K++){var G=this[K];if(q.hasCompoundNodes()&&G.isChild()&&G.ancestors().anySame(this))continue;var Y=G.position(),F={x:Y.x+$.x,y:Y.y+$.y};if(U)G.silentPosition(F);else G.position(F)}q.endBatch()}return this},silentShift:function Q(J,Z){if(yJ(J))this.shift(J,!0);else if(WJ(J)&&$J(Z))this.shift(J,Z,!0);return this},renderedPosition:function Q(J,Z){var U=this[0],$=this.cy(),q=$.zoom(),K=$.pan(),G=yJ(J)?J:void 0,Y=G!==void 0||Z!==void 0&&WJ(J);if(U&&U.isNode())if(Y)for(var F=0;F<this.length;F++){var X=this[F];if(Z!==void 0)X.position(J,(Z-K[J])/q);else if(G!==void 0)X.position(ZK(G,q,K))}else{var H=U.position();if(G=H7(H,q,K),J===void 0)return G;else return G[J]}else if(!Y)return;return this},relativePosition:function Q(J,Z){var U=this[0],$=this.cy(),q=yJ(J)?J:void 0,K=q!==void 0||Z!==void 0&&WJ(J),G=$.hasCompoundNodes();if(U&&U.isNode())if(K)for(var Y=0;Y<this.length;Y++){var F=this[Y],X=G?F.parent():null,H=X&&X.length>0,M=H;if(H)X=X[0];var z=M?X.position():{x:0,y:0};if(Z!==void 0)F.position(J,Z+z[J]);else if(q!==void 0)F.position({x:q.x+z.x,y:q.y+z.y})}else{var N=U.position(),W=G?U.parent():null,L=W&&W.length>0,E=L;if(L)W=W[0];var B=E?W.position():{x:0,y:0};if(q={x:N.x-B.x,y:N.y-B.y},J===void 0)return q;else return q[J]}else if(!K)return;return this}};e8.modelPosition=e8.point=e8.position;e8.modelPositions=e8.points=e8.positions;e8.renderedPoint=e8.renderedPosition;e8.relativePoint=e8.relativePosition;var PR=TK,dQ,i9;dQ=i9={};i9.renderedBoundingBox=function(Q){var J=this.boundingBox(Q),Z=this.cy(),U=Z.zoom(),$=Z.pan(),q=J.x1*U+$.x,K=J.x2*U+$.x,G=J.y1*U+$.y,Y=J.y2*U+$.y;return{x1:q,x2:K,y1:G,y2:Y,w:K-q,h:Y-G}};i9.dirtyCompoundBoundsCache=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;return this.forEachUp(function(Z){if(Z.isParent()){var U=Z._private;if(U.compoundBoundsClean=!1,U.bbCache=null,!Q)Z.emitAndNotify(\"bounds\")}}),this};i9.updateCompoundBounds=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;if(!Q&&J.batching())return this;function Z(K){if(!K.isParent())return;var G=K._private,Y=K.children(),F=K.pstyle(\"compound-sizing-wrt-labels\").value===\"include\",X={width:{val:K.pstyle(\"min-width\").pfValue,left:K.pstyle(\"min-width-bias-left\"),right:K.pstyle(\"min-width-bias-right\")},height:{val:K.pstyle(\"min-height\").pfValue,top:K.pstyle(\"min-height-bias-top\"),bottom:K.pstyle(\"min-height-bias-bottom\")}},H=Y.boundingBox({includeLabels:F,includeOverlays:!1,useCache:!1}),M=G.position;if(H.w===0||H.h===0)H={w:K.pstyle(\"width\").pfValue,h:K.pstyle(\"height\").pfValue},H.x1=M.x-H.w/2,H.x2=M.x+H.w/2,H.y1=M.y-H.h/2,H.y2=M.y+H.h/2;function z(I,T,P){var k=0,j=0,_=T+P;if(I>0&&_>0)k=T/_*I,j=P/_*I;return{biasDiff:k,biasComplementDiff:j}}function N(I,T,P,k){if(P.units===\"%\")switch(k){case\"width\":return I>0?P.pfValue*I:0;case\"height\":return T>0?P.pfValue*T:0;case\"average\":return I>0&&T>0?P.pfValue*(I+T)/2:0;case\"min\":return I>0&&T>0?I>T?P.pfValue*T:P.pfValue*I:0;case\"max\":return I>0&&T>0?I>T?P.pfValue*I:P.pfValue*T:0;default:return 0}else if(P.units===\"px\")return P.pfValue;else return 0}var W=X.width.left.value;if(X.width.left.units===\"px\"&&X.width.val>0)W=W*100/X.width.val;var L=X.width.right.value;if(X.width.right.units===\"px\"&&X.width.val>0)L=L*100/X.width.val;var E=X.height.top.value;if(X.height.top.units===\"px\"&&X.height.val>0)E=E*100/X.height.val;var B=X.height.bottom.value;if(X.height.bottom.units===\"px\"&&X.height.val>0)B=B*100/X.height.val;var V=z(X.width.val-H.w,W,L),D=V.biasDiff,O=V.biasComplementDiff,A=z(X.height.val-H.h,E,B),R=A.biasDiff,C=A.biasComplementDiff;G.autoPadding=N(H.w,H.h,K.pstyle(\"padding\"),K.pstyle(\"padding-relative-to\").value),G.autoWidth=Math.max(H.w,X.width.val),M.x=(-D+H.x1+H.x2+O)/2,G.autoHeight=Math.max(H.h,X.height.val),M.y=(-R+H.y1+H.y2+C)/2}for(var U=0;U<this.length;U++){var $=this[U],q=$._private;if(!q.compoundBoundsClean||Q){if(Z($),!J.batching())q.compoundBoundsClean=!0}}return this};var l8=function Q(J){if(J===1/0||J===-1/0)return 0;return J},t8=function Q(J,Z,U,$,q){if($-Z===0||q-U===0)return;if(Z==null||U==null||$==null||q==null)return;J.x1=Z<J.x1?Z:J.x1,J.x2=$>J.x2?$:J.x2,J.y1=U<J.y1?U:J.y1,J.y2=q>J.y2?q:J.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},_9=function Q(J,Z){if(Z==null)return J;return t8(J,Z.x1,Z.y1,Z.x2,Z.y2)},LZ=function Q(J,Z,U){return b8(J,Z,U)},j6=function Q(J,Z,U){if(Z.cy().headless())return;var $=Z._private,q=$.rstyle,K=q.arrowWidth/2,G=Z.pstyle(U+\"-arrow-shape\").value,Y,F;if(G!==\"none\"){if(U===\"source\")Y=q.srcX,F=q.srcY;else if(U===\"target\")Y=q.tgtX,F=q.tgtY;else Y=q.midX,F=q.midY;var X=$.arrowBounds=$.arrowBounds||{},H=X[U]=X[U]||{};H.x1=Y-K,H.y1=F-K,H.x2=Y+K,H.y2=F+K,H.w=H.x2-H.x1,H.h=H.y2-H.y1,y6(H,1),t8(J,H.x1,H.y1,H.x2,H.y2)}},P0=function Q(J,Z,U){if(Z.cy().headless())return;var $;if(U)$=U+\"-\";else $=\"\";var q=Z._private,K=q.rstyle,G=Z.pstyle($+\"label\").strValue;if(G){var Y=Z.pstyle(\"text-halign\"),F=Z.pstyle(\"text-valign\"),X=LZ(K,\"labelWidth\",U),H=LZ(K,\"labelHeight\",U),M=LZ(K,\"labelX\",U),z=LZ(K,\"labelY\",U),N=Z.pstyle($+\"text-margin-x\").pfValue,W=Z.pstyle($+\"text-margin-y\").pfValue,L=Z.isEdge(),E=Z.pstyle($+\"text-rotation\"),B=Z.pstyle(\"text-outline-width\").pfValue,V=Z.pstyle(\"text-border-width\").pfValue,D=V/2,O=Z.pstyle(\"text-background-padding\").pfValue,A=2,R=H,C=X,I=C/2,T=R/2,P,k,j,_;if(L)P=M-I,k=M+I,j=z-T,_=z+T;else{switch(Y.value){case\"left\":P=M-C,k=M;break;case\"center\":P=M-I,k=M+I;break;case\"right\":P=M,k=M+C;break}switch(F.value){case\"top\":j=z-R,_=z;break;case\"center\":j=z-T,_=z+T;break;case\"bottom\":j=z,_=z+R;break}}var x=N-Math.max(B,D)-O-A,f=N+Math.max(B,D)+O+A,v=W-Math.max(B,D)-O-A,b=W+Math.max(B,D)+O+A;P+=x,k+=f,j+=v,_+=b;var y=U||\"main\",g=q.labelBounds,m=g[y]=g[y]||{};m.x1=P,m.y1=j,m.x2=k,m.y2=_,m.w=k-P,m.h=_-j,m.leftPad=x,m.rightPad=f,m.topPad=v,m.botPad=b;var u=L&&E.strValue===\"autorotate\",n=E.pfValue!=null&&E.pfValue!==0;if(u||n){var t=u?LZ(q.rstyle,\"labelAngle\",U):E.pfValue,s=Math.cos(t),JJ=Math.sin(t),ZJ=(P+k)/2,qJ=(j+_)/2;if(!L){switch(Y.value){case\"left\":ZJ=k;break;case\"right\":ZJ=P;break}switch(F.value){case\"top\":qJ=_;break;case\"bottom\":qJ=j;break}}var e=function xJ(CJ,RJ){return CJ=CJ-ZJ,RJ=RJ-qJ,{x:CJ*s-RJ*JJ+ZJ,y:CJ*JJ+RJ*s+qJ}},h=e(P,j),d=e(P,_),p=e(k,j),r=e(k,_);P=Math.min(h.x,d.x,p.x,r.x),k=Math.max(h.x,d.x,p.x,r.x),j=Math.min(h.y,d.y,p.y,r.y),_=Math.max(h.y,d.y,p.y,r.y)}var UJ=y+\"Rot\",NJ=g[UJ]=g[UJ]||{};NJ.x1=P,NJ.y1=j,NJ.x2=k,NJ.y2=_,NJ.w=k-P,NJ.h=_-j,t8(J,P,j,k,_),t8(q.labelBounds.all,P,j,k,_)}return J},iq=function Q(J,Z){if(Z.cy().headless())return;var U=Z.pstyle(\"outline-opacity\").value,$=Z.pstyle(\"outline-width\").value,q=Z.pstyle(\"outline-offset\").value,K=$+q;kK(J,Z,U,K,\"outside\",K/2)},kK=function Q(J,Z,U,$,q,K){if(U===0||$<=0||q===\"inside\")return;var G=Z.cy(),Y=Z.pstyle(\"shape\").value,F=G.renderer().nodeShapes[Y],X=Z.position(),H=X.x,M=X.y,z=Z.width(),N=Z.height();if(F.hasMiterBounds){if(q===\"center\")$/=2;var W=F.miterBounds(H,M,z,N,$);_9(J,W)}else if(K!=null&&K>0)h6(J,[K,K,K,K])},kR=function Q(J,Z){if(Z.cy().headless())return;var U=Z.pstyle(\"border-opacity\").value,$=Z.pstyle(\"border-width\").pfValue,q=Z.pstyle(\"border-position\").value;kK(J,Z,U,$,q)},jR=function Q(J,Z){var U=J._private.cy,$=U.styleEnabled(),q=U.headless(),K=w8(),G=J._private,Y=J.isNode(),F=J.isEdge(),X,H,M,z,N,W,L=G.rstyle,E=Y&&$?J.pstyle(\"bounds-expansion\").pfValue:[0],B=function NJ(xJ){return xJ.pstyle(\"display\").value!==\"none\"},V=!$||B(J)&&(!F||B(J.source())&&B(J.target()));if(V){var D=0,O=0;if($&&Z.includeOverlays){if(D=J.pstyle(\"overlay-opacity\").value,D!==0)O=J.pstyle(\"overlay-padding\").value}var A=0,R=0;if($&&Z.includeUnderlays){if(A=J.pstyle(\"underlay-opacity\").value,A!==0)R=J.pstyle(\"underlay-padding\").value}var C=Math.max(O,R),I=0,T=0;if($)I=J.pstyle(\"width\").pfValue,T=I/2;if(Y&&Z.includeNodes){var P=J.position();N=P.x,W=P.y;var k=J.outerWidth(),j=k/2,_=J.outerHeight(),x=_/2;if(X=N-j,H=N+j,M=W-x,z=W+x,t8(K,X,M,H,z),$)iq(K,J);if($&&Z.includeOutlines&&!q)iq(K,J);if($)kR(K,J)}else if(F&&Z.includeEdges)if($&&!q){var f=J.pstyle(\"curve-style\").strValue;if(X=Math.min(L.srcX,L.midX,L.tgtX),H=Math.max(L.srcX,L.midX,L.tgtX),M=Math.min(L.srcY,L.midY,L.tgtY),z=Math.max(L.srcY,L.midY,L.tgtY),X-=T,H+=T,M-=T,z+=T,t8(K,X,M,H,z),f===\"haystack\"){var v=L.haystackPts;if(v&&v.length===2){if(X=v[0].x,M=v[0].y,H=v[1].x,z=v[1].y,X>H){var b=X;X=H,H=b}if(M>z){var y=M;M=z,z=y}t8(K,X-T,M-T,H+T,z+T)}}else if(f===\"bezier\"||f===\"unbundled-bezier\"||v9(f,\"segments\")||v9(f,\"taxi\")){var g;switch(f){case\"bezier\":case\"unbundled-bezier\":g=L.bezierPts;break;case\"segments\":case\"taxi\":case\"round-segments\":case\"round-taxi\":g=L.linePts;break}if(g!=null)for(var m=0;m<g.length;m++){var u=g[m];X=u.x-T,H=u.x+T,M=u.y-T,z=u.y+T,t8(K,X,M,H,z)}}}else{var n=J.source(),t=n.position(),s=J.target(),JJ=s.position();if(X=t.x,H=JJ.x,M=t.y,z=JJ.y,X>H){var ZJ=X;X=H,H=ZJ}if(M>z){var qJ=M;M=z,z=qJ}X-=T,H+=T,M-=T,z+=T,t8(K,X,M,H,z)}if($&&Z.includeEdges&&F)j6(K,J,\"mid-source\"),j6(K,J,\"mid-target\"),j6(K,J,\"source\"),j6(K,J,\"target\");if($){var e=J.pstyle(\"ghost\").value===\"yes\";if(e){var h=J.pstyle(\"ghost-offset-x\").pfValue,d=J.pstyle(\"ghost-offset-y\").pfValue;t8(K,K.x1+h,K.y1+d,K.x2+h,K.y2+d)}}var p=G.bodyBounds=G.bodyBounds||{};if(w4(p,K),h6(p,E),y6(p,1),$)X=K.x1,H=K.x2,M=K.y1,z=K.y2,t8(K,X-C,M-C,H+C,z+C);var r=G.overlayBounds=G.overlayBounds||{};w4(r,K),h6(r,E),y6(r,1);var UJ=G.labelBounds=G.labelBounds||{};if(UJ.all!=null)HV(UJ.all);else UJ.all=w8();if($&&Z.includeLabels){if(Z.includeMainLabels)P0(K,J,null);if(F){if(Z.includeSourceLabels)P0(K,J,\"source\");if(Z.includeTargetLabels)P0(K,J,\"target\")}}}if(K.x1=l8(K.x1),K.y1=l8(K.y1),K.x2=l8(K.x2),K.y2=l8(K.y2),K.w=l8(K.x2-K.x1),K.h=l8(K.y2-K.y1),K.w>0&&K.h>0&&V)h6(K,E),y6(K,1);return K},jK=function Q(J){var Z=0,U=function q(K){return(K?1:0)<<Z++},$=0;return $+=U(J.incudeNodes),$+=U(J.includeEdges),$+=U(J.includeLabels),$+=U(J.includeMainLabels),$+=U(J.includeSourceLabels),$+=U(J.includeTargetLabels),$+=U(J.includeOverlays),$+=U(J.includeOutlines),$},wK=function Q(J){var Z=function K(G){return Math.round(G)};if(J.isEdge()){var U=J.source().position(),$=J.target().position();return S4([Z(U.x),Z(U.y),Z($.x),Z($.y)])}else{var q=J.position();return S4([Z(q.x),Z(q.y)])}},nq=function Q(J,Z){var U=J._private,$,q=J.isEdge(),K=Z==null?sq:jK(Z),G=K===sq;if(U.bbCache==null)$=jR(J,vZ),U.bbCache=$,U.bbCachePosKey=wK(J);else $=U.bbCache;if(!G){var Y=J.isNode();if($=w8(),Z.includeNodes&&Y||Z.includeEdges&&!Y)if(Z.includeOverlays)_9($,U.overlayBounds);else _9($,U.bodyBounds);if(Z.includeLabels)if(Z.includeMainLabels&&(!q||Z.includeSourceLabels&&Z.includeTargetLabels))_9($,U.labelBounds.all);else{if(Z.includeMainLabels)_9($,U.labelBounds.mainRot);if(Z.includeSourceLabels)_9($,U.labelBounds.sourceRot);if(Z.includeTargetLabels)_9($,U.labelBounds.targetRot)}$.w=$.x2-$.x1,$.h=$.y2-$.y1}return $},vZ={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},sq=jK(vZ),aq=A8(vZ);i9.boundingBox=function(Q){var J,Z=Q===void 0||Q.useCache===void 0||Q.useCache===!0,U=cQ(function(X){var H=X._private;return H.bbCache==null||H.styleDirty||H.bbCachePosKey!==wK(X)},function(X){return X.id()});if(Z&&this.length===1&&!U(this[0])){if(Q===void 0)Q=vZ;else Q=aq(Q);J=nq(this[0],Q)}else{J=w8(),Q=Q||vZ;var $=aq(Q),q=this,K=q.cy(),G=K.styleEnabled();if(this.edges().forEach(U),this.nodes().forEach(U),G)this.recalculateRenderedStyle(Z);this.updateCompoundBounds(!Z);for(var Y=0;Y<q.length;Y++){var F=q[Y];if(U(F))F.dirtyBoundingBoxCache();_9(J,nq(F,$))}}return J.x1=l8(J.x1),J.y1=l8(J.y1),J.x2=l8(J.x2),J.y2=l8(J.y2),J.w=l8(J.x2-J.x1),J.h=l8(J.y2-J.y1),J};i9.dirtyBoundingBoxCache=function(){for(var Q=0;Q<this.length;Q++){var J=this[Q]._private;J.bbCache=null,J.bbCachePosKey=null,J.bodyBounds=null,J.overlayBounds=null,J.labelBounds.all=null,J.labelBounds.source=null,J.labelBounds.target=null,J.labelBounds.main=null,J.labelBounds.sourceRot=null,J.labelBounds.targetRot=null,J.labelBounds.mainRot=null,J.arrowBounds.source=null,J.arrowBounds.target=null,J.arrowBounds[\"mid-source\"]=null,J.arrowBounds[\"mid-target\"]=null}return this.emitAndNotify(\"bounds\"),this};i9.boundingBoxAt=function(Q){var J=this.nodes(),Z=this.cy(),U=Z.hasCompoundNodes(),$=Z.collection();if(U)$=J.filter(function(F){return F.isParent()}),J=J.not($);if(yJ(Q)){var q=Q;Q=function F(){return q}}var K=function F(X,H){return X._private.bbAtOldPos=Q(X,H)},G=function F(X){return X._private.bbAtOldPos};if(Z.startBatch(),J.forEach(K).silentPositions(Q),U)$.dirtyCompoundBoundsCache(),$.dirtyBoundingBoxCache(),$.updateCompoundBounds(!0);var Y=XV(this.boundingBox({useCache:!1}));if(J.silentPositions(G),U)$.dirtyCompoundBoundsCache(),$.dirtyBoundingBoxCache(),$.updateCompoundBounds(!0);return Z.endBatch(),Y};dQ.boundingbox=dQ.bb=dQ.boundingBox;dQ.renderedBoundingbox=dQ.renderedBoundingBox;var wR=i9,OZ,pZ;OZ=pZ={};var _K=function Q(J){J.uppercaseName=X4(J.name),J.autoName=\"auto\"+J.uppercaseName,J.labelName=\"label\"+J.uppercaseName,J.outerName=\"outer\"+J.uppercaseName,J.uppercaseOuterName=X4(J.outerName),OZ[J.name]=function Z(){var U=this[0],$=U._private,q=$.cy,K=q._private.styleEnabled;if(U)if(K){if(U.isParent())return U.updateCompoundBounds(),$[J.autoName]||0;var G=U.pstyle(J.name);switch(G.strValue){case\"label\":return U.recalculateRenderedStyle(),$.rstyle[J.labelName]||0;default:return G.pfValue}}else return 1},OZ[\"outer\"+J.uppercaseName]=function Z(){var U=this[0],$=U._private,q=$.cy,K=q._private.styleEnabled;if(U)if(K){var G=U[J.name](),Y=U.pstyle(\"border-position\").value,F;if(Y===\"center\")F=U.pstyle(\"border-width\").pfValue;else if(Y===\"outside\")F=2*U.pstyle(\"border-width\").pfValue;else F=0;var X=2*U.padding();return G+F+X}else return 1},OZ[\"rendered\"+J.uppercaseName]=function Z(){var U=this[0];if(U){var $=U[J.name]();return $*this.cy().zoom()}},OZ[\"rendered\"+J.uppercaseOuterName]=function Z(){var U=this[0];if(U){var $=U[J.outerName]();return $*this.cy().zoom()}}};_K({name:\"width\"});_K({name:\"height\"});pZ.padding=function(){var Q=this[0],J=Q._private;if(Q.isParent())if(Q.updateCompoundBounds(),J.autoPadding!==void 0)return J.autoPadding;else return Q.pstyle(\"padding\").pfValue;else return Q.pstyle(\"padding\").pfValue};pZ.paddedHeight=function(){var Q=this[0];return Q.height()+2*Q.padding()};pZ.paddedWidth=function(){var Q=this[0];return Q.width()+2*Q.padding()};var _R=pZ,vR=function Q(J,Z){if(J.isEdge()&&J.takesUpSpace())return Z(J)},fR=function Q(J,Z){if(J.isEdge()&&J.takesUpSpace()){var U=J.cy();return H7(Z(J),U.zoom(),U.pan())}},xR=function Q(J,Z){if(J.isEdge()&&J.takesUpSpace()){var U=J.cy(),$=U.pan(),q=U.zoom();return Z(J).map(function(K){return H7(K,q,$)})}},bR=function Q(J){return J.renderer().getControlPoints(J)},mR=function Q(J){return J.renderer().getSegmentPoints(J)},yR=function Q(J){return J.renderer().getSourceEndpoint(J)},hR=function Q(J){return J.renderer().getTargetEndpoint(J)},uR=function Q(J){return J.renderer().getEdgeMidpoint(J)},rq={controlPoints:{get:bR,mult:!0},segmentPoints:{get:mR,mult:!0},sourceEndpoint:{get:yR},targetEndpoint:{get:hR},midpoint:{get:uR}},gR=function Q(J){return\"rendered\"+J[0].toUpperCase()+J.substr(1)},dR=Object.keys(rq).reduce(function(Q,J){var Z=rq[J],U=gR(J);if(Q[J]=function(){return vR(this,Z.get)},Z.mult)Q[U]=function(){return xR(this,Z.get)};else Q[U]=function(){return fR(this,Z.get)};return Q},{}),cR=DJ({},PR,wR,_R,dR);/*!\nEvent object based on jQuery events, MIT license\n\nhttps://jquery.org/license/\nhttps://tldrlegal.com/license/mit-license\nhttps://github.com/jquery/jquery/blob/master/src/event.js\n*/var vK=function Q(J,Z){this.recycle(J,Z)};function WZ(){return!1}function w6(){return!0}vK.prototype={instanceString:function Q(){return\"event\"},recycle:function Q(J,Z){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=WZ,J!=null&&J.preventDefault)this.type=J.type,this.isDefaultPrevented=J.defaultPrevented?w6:WZ;else if(J!=null&&J.type)Z=J;else this.type=J;if(Z!=null)this.originalEvent=Z.originalEvent,this.type=Z.type!=null?Z.type:this.type,this.cy=Z.cy,this.target=Z.target,this.position=Z.position,this.renderedPosition=Z.renderedPosition,this.namespace=Z.namespace,this.layout=Z.layout;if(this.cy!=null&&this.position!=null&&this.renderedPosition==null){var U=this.position,$=this.cy.zoom(),q=this.cy.pan();this.renderedPosition={x:U.x*$+q.x,y:U.y*$+q.y}}this.timeStamp=J&&J.timeStamp||Date.now()},preventDefault:function Q(){this.isDefaultPrevented=w6;var J=this.originalEvent;if(!J)return;if(J.preventDefault)J.preventDefault()},stopPropagation:function Q(){this.isPropagationStopped=w6;var J=this.originalEvent;if(!J)return;if(J.stopPropagation)J.stopPropagation()},stopImmediatePropagation:function Q(){this.isImmediatePropagationStopped=w6,this.stopPropagation()},isDefaultPrevented:WZ,isPropagationStopped:WZ,isImmediatePropagationStopped:WZ};var fK=/^([^.]+)(\\.(?:[^.]+))?$/,pR=\".*\",xK={qualifierCompare:function Q(J,Z){return J===Z},eventMatches:function Q(){return!0},addEventFields:function Q(){},callbackContext:function Q(J){return J},beforeEmit:function Q(){},afterEmit:function Q(){},bubble:function Q(){return!1},parent:function Q(){return null},context:null},oq=Object.keys(xK),lR={};function B7(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lR,J=arguments.length>1?arguments[1]:void 0;for(var Z=0;Z<oq.length;Z++){var U=oq[Z];this[U]=Q[U]||xK[U]}this.context=J||this.context,this.listeners=[],this.emitting=0}var c9=B7.prototype,bK=function Q(J,Z,U,$,q,K,G){if(Q8($))q=$,$=null;if(G)if(K==null)K=G;else K=DJ({},K,G);var Y=nJ(U)?U:U.split(/\\s+/);for(var F=0;F<Y.length;F++){var X=Y[F];if(y9(X))continue;var H=X.match(fK);if(H){var M=H[1],z=H[2]?H[2]:null,N=Z(J,X,M,z,$,q,K);if(N===!1)break}}},tq=function Q(J,Z){return J.addEventFields(J.context,Z),new vK(Z.type,Z)},iR=function Q(J,Z,U){if(tB(U)){Z(J,U);return}else if(yJ(U)){Z(J,tq(J,U));return}var $=nJ(U)?U:U.split(/\\s+/);for(var q=0;q<$.length;q++){var K=$[q];if(y9(K))continue;var G=K.match(fK);if(G){var Y=G[1],F=G[2]?G[2]:null,X=tq(J,{type:Y,namespace:F,target:J.context});Z(J,X)}}};c9.on=c9.addListener=function(Q,J,Z,U,$){return bK(this,function(q,K,G,Y,F,X,H){if(Q8(X))q.listeners.push({event:K,callback:X,type:G,namespace:Y,qualifier:F,conf:H})},Q,J,Z,U,$),this};c9.one=function(Q,J,Z,U){return this.on(Q,J,Z,U,{one:!0})};c9.removeListener=c9.off=function(Q,J,Z,U){var $=this;if(this.emitting!==0)this.listeners=f2(this.listeners);var q=this.listeners,K=function Y(F){var X=q[F];bK($,function(H,M,z,N,W,L){if((X.type===z||Q===\"*\")&&(!N&&X.namespace!==\".*\"||X.namespace===N)&&(!W||H.qualifierCompare(X.qualifier,W))&&(!L||X.callback===L))return q.splice(F,1),!1},Q,J,Z,U)};for(var G=q.length-1;G>=0;G--)K(G);return this};c9.removeAllListeners=function(){return this.removeListener(\"*\")};c9.emit=c9.trigger=function(Q,J,Z){var U=this.listeners,$=U.length;if(this.emitting++,!nJ(J))J=[J];return iR(this,function(q,K){if(Z!=null)U=[{event:K.event,type:K.type,namespace:K.namespace,callback:Z}],$=U.length;var G=function F(){var X=U[Y];if(X.type===K.type&&(!X.namespace||X.namespace===K.namespace||X.namespace===pR)&&q.eventMatches(q.context,X,K)){var H=[K];if(J!=null)b2(H,J);if(q.beforeEmit(q.context,X,K),X.conf&&X.conf.one)q.listeners=q.listeners.filter(function(N){return N!==X});var M=q.callbackContext(q.context,X,K),z=X.callback.apply(M,H);if(q.afterEmit(q.context,X,K),z===!1)K.stopPropagation(),K.preventDefault()}};for(var Y=0;Y<$;Y++)G();if(q.bubble(q.context)&&!K.isPropagationStopped())q.parent(q.context).emit(K,J)},Q),this.emitting--,this};var nR={qualifierCompare:function Q(J,Z){if(J==null||Z==null)return J==null&&Z==null;else return J.sameText(Z)},eventMatches:function Q(J,Z,U){var $=Z.qualifier;if($!=null)return J!==U.target&&yZ(U.target)&&$.matches(U.target);return!0},addEventFields:function Q(J,Z){Z.cy=J.cy(),Z.target=J},callbackContext:function Q(J,Z,U){return Z.qualifier!=null?U.target:J},beforeEmit:function Q(J,Z){if(Z.conf&&Z.conf.once)Z.conf.onceCollection.removeListener(Z.event,Z.qualifier,Z.callback)},bubble:function Q(){return!0},parent:function Q(J){return J.isChild()?J.parent():J.cy()}},_6=function Q(J){if(WJ(J))return new g9(J);else return J},mK={createEmitter:function Q(){for(var J=0;J<this.length;J++){var Z=this[J],U=Z._private;if(!U.emitter)U.emitter=new B7(nR,Z)}return this},emitter:function Q(){return this._private.emitter},on:function Q(J,Z,U){var $=_6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().on(J,$,U)}return this},removeListener:function Q(J,Z,U){var $=_6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().removeListener(J,$,U)}return this},removeAllListeners:function Q(){for(var J=0;J<this.length;J++){var Z=this[J];Z.emitter().removeAllListeners()}return this},one:function Q(J,Z,U){var $=_6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().one(J,$,U)}return this},once:function Q(J,Z,U){var $=_6(Z);for(var q=0;q<this.length;q++){var K=this[q];K.emitter().on(J,$,U,{once:!0,onceCollection:this})}},emit:function Q(J,Z){for(var U=0;U<this.length;U++){var $=this[U];$.emitter().emit(J,Z)}return this},emitAndNotify:function Q(J,Z){if(this.length===0)return;return this.cy().notify(J,this),this.emit(J,Z),this}};pJ.eventAliasesOn(mK);var yK={nodes:function Q(J){return this.filter(function(Z){return Z.isNode()}).filter(J)},edges:function Q(J){return this.filter(function(Z){return Z.isEdge()}).filter(J)},byGroup:function Q(){var J=this.spawn(),Z=this.spawn();for(var U=0;U<this.length;U++){var $=this[U];if($.isNode())J.push($);else Z.push($)}return{nodes:J,edges:Z}},filter:function Q(J,Z){if(J===void 0)return this;else if(WJ(J)||h8(J))return new g9(J).filter(this);else if(Q8(J)){var U=this.spawn(),$=this;for(var q=0;q<$.length;q++){var K=$[q],G=Z?J.apply(Z,[K,q,$]):J(K,q,$);if(G)U.push(K)}return U}return this.spawn()},not:function Q(J){if(!J)return this;else{if(WJ(J))J=this.filter(J);var Z=this.spawn();for(var U=0;U<this.length;U++){var $=this[U],q=J.has($);if(!q)Z.push($)}return Z}},absoluteComplement:function Q(){var J=this.cy();return J.mutableElements().not(this)},intersect:function Q(J){if(WJ(J)){var Z=J;return this.filter(Z)}var U=this.spawn(),$=this,q=J,K=this.length<J.length,G=K?$:q,Y=K?q:$;for(var F=0;F<G.length;F++){var X=G[F];if(Y.has(X))U.push(X)}return U},xor:function Q(J){var Z=this._private.cy;if(WJ(J))J=Z.$(J);var U=this.spawn(),$=this,q=J,K=function G(Y,F){for(var X=0;X<Y.length;X++){var H=Y[X],M=H._private.data.id,z=F.hasElementWithId(M);if(!z)U.push(H)}};return K($,q),K(q,$),U},diff:function Q(J){var Z=this._private.cy;if(WJ(J))J=Z.$(J);var U=this.spawn(),$=this.spawn(),q=this.spawn(),K=this,G=J,Y=function F(X,H,M){for(var z=0;z<X.length;z++){var N=X[z],W=N._private.data.id,L=H.hasElementWithId(W);if(L)q.merge(N);else M.push(N)}};return Y(K,G,U),Y(G,K,$),{left:U,right:$,both:q}},add:function Q(J){var Z=this._private.cy;if(!J)return this;if(WJ(J)){var U=J;J=Z.mutableElements().filter(U)}var $=this.spawnSelf();for(var q=0;q<J.length;q++){var K=J[q],G=!this.has(K);if(G)$.push(K)}return $},merge:function Q(J){var Z=this._private,U=Z.cy;if(!J)return this;if(J&&WJ(J)){var $=J;J=U.mutableElements().filter($)}var q=Z.map;for(var K=0;K<J.length;K++){var G=J[K],Y=G._private.data.id,F=!q.has(Y);if(F){var X=this.length++;this[X]=G,q.set(Y,{ele:G,index:X})}}return this},unmergeAt:function Q(J){var Z=this[J],U=Z.id(),$=this._private,q=$.map;this[J]=void 0,q.delete(U);var K=J===this.length-1;if(this.length>1&&!K){var G=this.length-1,Y=this[G],F=Y._private.data.id;this[G]=void 0,this[J]=Y,q.set(F,{ele:Y,index:J})}return this.length--,this},unmergeOne:function Q(J){J=J[0];var Z=this._private,U=J._private.data.id,$=Z.map,q=$.get(U);if(!q)return this;var K=q.index;return this.unmergeAt(K),this},unmerge:function Q(J){var Z=this._private.cy;if(!J)return this;if(J&&WJ(J)){var U=J;J=Z.mutableElements().filter(U)}for(var $=0;$<J.length;$++)this.unmergeOne(J[$]);return this},unmergeBy:function Q(J){for(var Z=this.length-1;Z>=0;Z--){var U=this[Z];if(J(U))this.unmergeAt(Z)}return this},map:function Q(J,Z){var U=[],$=this;for(var q=0;q<$.length;q++){var K=$[q],G=Z?J.apply(Z,[K,q,$]):J(K,q,$);U.push(G)}return U},reduce:function Q(J,Z){var U=Z,$=this;for(var q=0;q<$.length;q++)U=J(U,$[q],q,$);return U},max:function Q(J,Z){var U=-1/0,$,q=this;for(var K=0;K<q.length;K++){var G=q[K],Y=Z?J.apply(Z,[G,K,q]):J(G,K,q);if(Y>U)U=Y,$=G}return{value:U,ele:$}},min:function Q(J,Z){var U=1/0,$,q=this;for(var K=0;K<q.length;K++){var G=q[K],Y=Z?J.apply(Z,[G,K,q]):J(G,K,q);if(Y<U)U=Y,$=G}return{value:U,ele:$}}},hJ=yK;hJ.u=hJ[\"|\"]=hJ[\"+\"]=hJ.union=hJ.or=hJ.add;hJ[\"\\\\\"]=hJ[\"!\"]=hJ[\"-\"]=hJ.difference=hJ.relativeComplement=hJ.subtract=hJ.not;hJ.n=hJ[\"&\"]=hJ[\".\"]=hJ.and=hJ.intersection=hJ.intersect;hJ[\"^\"]=hJ[\"(+)\"]=hJ[\"(-)\"]=hJ.symmetricDifference=hJ.symdiff=hJ.xor;hJ.fnFilter=hJ.filterFn=hJ.stdFilter=hJ.filter;hJ.complement=hJ.abscomp=hJ.absoluteComplement;var sR={isNode:function Q(){return this.group()===\"nodes\"},isEdge:function Q(){return this.group()===\"edges\"},isLoop:function Q(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function Q(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function Q(){var J=this[0];if(J)return J._private.group}},hK=function Q(J,Z){var U=J.cy(),$=U.hasCompoundNodes();function q(X){var H=X.pstyle(\"z-compound-depth\");if(H.value===\"auto\")return $?X.zDepth():0;else if(H.value===\"bottom\")return-1;else if(H.value===\"top\")return FU;return 0}var K=q(J)-q(Z);if(K!==0)return K;function G(X){var H=X.pstyle(\"z-index-compare\");if(H.value===\"auto\")return X.isNode()?1:0;return 0}var Y=G(J)-G(Z);if(Y!==0)return Y;var F=J.pstyle(\"z-index\").value-Z.pstyle(\"z-index\").value;if(F!==0)return F;return J.poolIndex()-Z.poolIndex()},Q7={forEach:function Q(J,Z){if(Q8(J)){var U=this.length;for(var $=0;$<U;$++){var q=this[$],K=Z?J.apply(Z,[q,$,this]):J(q,$,this);if(K===!1)break}}return this},toArray:function Q(){var J=[];for(var Z=0;Z<this.length;Z++)J.push(this[Z]);return J},slice:function Q(J,Z){var U=[],$=this.length;if(Z==null)Z=$;if(J==null)J=0;if(J<0)J=$+J;if(Z<0)Z=$+Z;for(var q=J;q>=0&&q<Z&&q<$;q++)U.push(this[q]);return this.spawn(U)},size:function Q(){return this.length},eq:function Q(J){return this[J]||this.spawn()},first:function Q(){return this[0]||this.spawn()},last:function Q(){return this[this.length-1]||this.spawn()},empty:function Q(){return this.length===0},nonempty:function Q(){return!this.empty()},sort:function Q(J){if(!Q8(J))return this;var Z=this.toArray().sort(J);return this.spawn(Z)},sortByZIndex:function Q(){return this.sort(hK)},zDepth:function Q(){var J=this[0];if(!J)return;var Z=J._private,U=Z.group;if(U===\"nodes\"){var $=Z.data.parent?J.parents().size():0;if(!J.isParent())return FU-1;return $}else{var{source:q,target:K}=Z,G=q.zDepth(),Y=K.zDepth();return Math.max(G,Y,0)}}};Q7.each=Q7.forEach;var aR=function Q(){var J=\"undefined\",Z=(typeof Symbol===\"undefined\"?\"undefined\":z8(Symbol))!=J&&z8(Symbol.iterator)!=J;if(Z)Q7[Symbol.iterator]=function(){var U=this,$={value:void 0,done:!1},q=0,K=this.length;return m1({next:function G(){if(q<K)$.value=U[q++];else $.value=void 0,$.done=!0;return $}},Symbol.iterator,function(){return this})}};aR();var rR=A8({nodeDimensionsIncludeLabels:!1}),g6={layoutDimensions:function Q(J){J=rR(J);var Z;if(!this.takesUpSpace())Z={w:0,h:0};else if(J.nodeDimensionsIncludeLabels){var U=this.boundingBox();Z={w:U.w,h:U.h}}else Z={w:this.outerWidth(),h:this.outerHeight()};if(Z.w===0||Z.h===0)Z.w=Z.h=1;return Z},layoutPositions:function Q(J,Z,U){var $=this.nodes().filter(function(O){return!O.isParent()}),q=this.cy(),K=Z.eles,G=function O(A){return A.id()},Y=cQ(U,G);J.emit({type:\"layoutstart\",layout:J}),J.animations=[];var F=function O(A,R,C){var I={x:R.x1+R.w/2,y:R.y1+R.h/2},T={x:(C.x-I.x)*A,y:(C.y-I.y)*A};return{x:I.x+T.x,y:I.y+T.y}},X=Z.spacingFactor&&Z.spacingFactor!==1,H=function O(){if(!X)return null;var A=w8();for(var R=0;R<$.length;R++){var C=$[R],I=Y(C,R);UK(A,I.x,I.y)}return A},M=H(),z=cQ(function(O,A){var R=Y(O,A);if(X){var C=Math.abs(Z.spacingFactor);R=F(C,M,R)}if(Z.transform!=null)R=Z.transform(O,R);return R},G);if(Z.animate){for(var N=0;N<$.length;N++){var W=$[N],L=z(W,N),E=Z.animateFilter==null||Z.animateFilter(W,N);if(E){var B=W.animation({position:L,duration:Z.animationDuration,easing:Z.animationEasing});J.animations.push(B)}else W.position(L)}if(Z.fit){var V=q.animation({fit:{boundingBox:K.boundingBoxAt(z),padding:Z.padding},duration:Z.animationDuration,easing:Z.animationEasing});J.animations.push(V)}else if(Z.zoom!==void 0&&Z.pan!==void 0){var D=q.animation({zoom:Z.zoom,pan:Z.pan,duration:Z.animationDuration,easing:Z.animationEasing});J.animations.push(D)}J.animations.forEach(function(O){return O.play()}),J.one(\"layoutready\",Z.ready),J.emit({type:\"layoutready\",layout:J}),nQ.all(J.animations.map(function(O){return O.promise()})).then(function(){J.one(\"layoutstop\",Z.stop),J.emit({type:\"layoutstop\",layout:J})})}else{if($.positions(z),Z.fit)q.fit(Z.eles,Z.padding);if(Z.zoom!=null)q.zoom(Z.zoom);if(Z.pan)q.pan(Z.pan);J.one(\"layoutready\",Z.ready),J.emit({type:\"layoutready\",layout:J}),J.one(\"layoutstop\",Z.stop),J.emit({type:\"layoutstop\",layout:J})}return this},layout:function Q(J){var Z=this.cy();return Z.makeLayout(DJ({},J,{eles:this}))}};g6.createLayout=g6.makeLayout=g6.layout;function uK(Q,J,Z){var U=Z._private,$=U.styleCache=U.styleCache||[],q;if((q=$[Q])!=null)return q;else return q=$[Q]=J(Z),q}function V7(Q,J){return Q=HQ(Q),function Z(U){return uK(Q,J,U)}}function D7(Q,J){Q=HQ(Q);var Z=function U($){return J.call($)};return function U(){var $=this[0];if($)return uK(Q,Z,$)}}var R8={recalculateRenderedStyle:function Q(J){var Z=this.cy(),U=Z.renderer(),$=Z.styleEnabled();if(U&&$)U.recalculateRenderedStyle(this,J);return this},dirtyStyleCache:function Q(){var J=this.cy(),Z=function $(q){return q._private.styleCache=null};if(J.hasCompoundNodes()){var U=this.spawnSelf().merge(this.descendants()).merge(this.parents());U.merge(U.connectedEdges()),U.forEach(Z)}else this.forEach(function($){Z($),$.connectedEdges().forEach(Z)});return this},updateStyle:function Q(J){var Z=this._private.cy;if(!Z.styleEnabled())return this;if(Z.batching()){var U=Z._private.batchStyleEles;return U.merge(this),this}var $=Z.hasCompoundNodes(),q=this;if(J=J||J===void 0?!0:!1,$)q=this.spawnSelf().merge(this.descendants()).merge(this.parents());var K=q;if(J)K.emitAndNotify(\"style\");else K.emit(\"style\");return q.forEach(function(G){return G._private.styleDirty=!0}),this},cleanStyle:function Q(){var J=this.cy();if(!J.styleEnabled())return;for(var Z=0;Z<this.length;Z++){var U=this[Z];if(U._private.styleDirty)U._private.styleDirty=!1,J.style().apply(U)}},parsedStyle:function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=this[0],$=U.cy();if(!$.styleEnabled())return;if(U){if(U._private.styleDirty)U._private.styleDirty=!1,$.style().apply(U);var q=U._private.style[J];if(q!=null)return q;else if(Z)return $.style().getDefaultProperty(J);else return null}},numericStyle:function Q(J){var Z=this[0];if(!Z.cy().styleEnabled())return;if(Z){var U=Z.pstyle(J);return U.pfValue!==void 0?U.pfValue:U.value}},numericStyleUnits:function Q(J){var Z=this[0];if(!Z.cy().styleEnabled())return;if(Z)return Z.pstyle(J).units},renderedStyle:function Q(J){var Z=this.cy();if(!Z.styleEnabled())return this;var U=this[0];if(U)return Z.style().getRenderedStyle(U,J)},style:function Q(J,Z){var U=this.cy();if(!U.styleEnabled())return this;var $=!1,q=U.style();if(yJ(J)){var K=J;q.applyBypass(this,K,$),this.emitAndNotify(\"style\")}else if(WJ(J))if(Z===void 0){var G=this[0];if(G)return q.getStylePropertyValue(G,J);else return}else q.applyBypass(this,J,Z,$),this.emitAndNotify(\"style\");else if(J===void 0){var Y=this[0];if(Y)return q.getRawStyle(Y);else return}return this},removeStyle:function Q(J){var Z=this.cy();if(!Z.styleEnabled())return this;var U=!1,$=Z.style(),q=this;if(J===void 0)for(var K=0;K<q.length;K++){var G=q[K];$.removeAllBypasses(G,U)}else{J=J.split(/\\s+/);for(var Y=0;Y<q.length;Y++){var F=q[Y];$.removeBypasses(F,J,U)}}return this.emitAndNotify(\"style\"),this},show:function Q(){return this.css(\"display\",\"element\"),this},hide:function Q(){return this.css(\"display\",\"none\"),this},effectiveOpacity:function Q(){var J=this.cy();if(!J.styleEnabled())return 1;var Z=J.hasCompoundNodes(),U=this[0];if(U){var $=U._private,q=U.pstyle(\"opacity\").value;if(!Z)return q;var K=!$.data.parent?null:U.parents();if(K)for(var G=0;G<K.length;G++){var Y=K[G],F=Y.pstyle(\"opacity\").value;q=F*q}return q}},transparent:function Q(){var J=this.cy();if(!J.styleEnabled())return!1;var Z=this[0],U=Z.cy().hasCompoundNodes();if(Z)if(!U)return Z.pstyle(\"opacity\").value===0;else return Z.effectiveOpacity()===0},backgrounding:function Q(){var J=this.cy();if(!J.styleEnabled())return!1;var Z=this[0];return Z._private.backgrounding?!0:!1}};function k0(Q,J){var Z=Q._private,U=Z.data.parent?Q.parents():null;if(U)for(var $=0;$<U.length;$++){var q=U[$];if(!J(q))return!1}return!0}function RU(Q){var J=Q.ok,Z=Q.edgeOkViaNode||Q.ok,U=Q.parentOk||Q.ok;return function(){var $=this.cy();if(!$.styleEnabled())return!0;var q=this[0],K=$.hasCompoundNodes();if(q){var G=q._private;if(!J(q))return!1;if(q.isNode())return!K||k0(q,U);else{var{source:Y,target:F}=G;return Z(Y)&&(!K||k0(Y,Z))&&(Y===F||Z(F)&&(!K||k0(F,Z)))}}}}var sQ=V7(\"eleTakesUpSpace\",function(Q){return Q.pstyle(\"display\").value===\"element\"&&Q.width()!==0&&(Q.isNode()?Q.height()!==0:!0)});R8.takesUpSpace=D7(\"takesUpSpace\",RU({ok:sQ}));var oR=V7(\"eleInteractive\",function(Q){return Q.pstyle(\"events\").value===\"yes\"&&Q.pstyle(\"visibility\").value===\"visible\"&&sQ(Q)}),tR=V7(\"parentInteractive\",function(Q){return Q.pstyle(\"visibility\").value===\"visible\"&&sQ(Q)});R8.interactive=D7(\"interactive\",RU({ok:oR,parentOk:tR,edgeOkViaNode:sQ}));R8.noninteractive=function(){var Q=this[0];if(Q)return!Q.interactive()};var eR=V7(\"eleVisible\",function(Q){return Q.pstyle(\"visibility\").value===\"visible\"&&Q.pstyle(\"opacity\").pfValue!==0&&sQ(Q)}),JO=sQ;R8.visible=D7(\"visible\",RU({ok:eR,edgeOkViaNode:JO}));R8.hidden=function(){var Q=this[0];if(Q)return!Q.visible()};R8.isBundledBezier=D7(\"isBundledBezier\",function(){if(!this.cy().styleEnabled())return!1;return!this.removed()&&this.pstyle(\"curve-style\").value===\"bezier\"&&this.takesUpSpace()});R8.bypass=R8.css=R8.style;R8.renderedCss=R8.renderedStyle;R8.removeBypass=R8.removeCss=R8.removeStyle;R8.pstyle=R8.parsedStyle;var m9={};function eq(Q){return function(){var J=arguments,Z=[];if(J.length===2){var U=J[0],$=J[1];this.on(Q.event,U,$)}else if(J.length===1&&Q8(J[0])){var q=J[0];this.on(Q.event,q)}else if(J.length===0||J.length===1&&nJ(J[0])){var K=J.length===1?J[0]:null;for(var G=0;G<this.length;G++){var Y=this[G],F=!Q.ableField||Y._private[Q.ableField],X=Y._private[Q.field]!=Q.value;if(Q.overrideAble){var H=Q.overrideAble(Y);if(H!==void 0){if(F=H,!H)return this}}if(F){if(Y._private[Q.field]=Q.value,X)Z.push(Y)}}var M=this.spawn(Z);if(M.updateStyle(),M.emit(Q.event),K)M.emit(K)}return this}}function aQ(Q){m9[Q.field]=function(){var J=this[0];if(J){if(Q.overrideField){var Z=Q.overrideField(J);if(Z!==void 0)return Z}return J._private[Q.field]}},m9[Q.on]=eq({event:Q.on,field:Q.field,ableField:Q.ableField,overrideAble:Q.overrideAble,value:!0}),m9[Q.off]=eq({event:Q.off,field:Q.field,ableField:Q.ableField,overrideAble:Q.overrideAble,value:!1})}aQ({field:\"locked\",overrideField:function Q(J){return J.cy().autolock()?!0:void 0},on:\"lock\",off:\"unlock\"});aQ({field:\"grabbable\",overrideField:function Q(J){return J.cy().autoungrabify()||J.pannable()?!1:void 0},on:\"grabify\",off:\"ungrabify\"});aQ({field:\"selected\",ableField:\"selectable\",overrideAble:function Q(J){return J.cy().autounselectify()?!1:void 0},on:\"select\",off:\"unselect\"});aQ({field:\"selectable\",overrideField:function Q(J){return J.cy().autounselectify()?!1:void 0},on:\"selectify\",off:\"unselectify\"});m9.deselect=m9.unselect;m9.grabbed=function(){var Q=this[0];if(Q)return Q._private.grabbed};aQ({field:\"active\",on:\"activate\",off:\"unactivate\"});aQ({field:\"pannable\",on:\"panify\",off:\"unpanify\"});m9.inactive=function(){var Q=this[0];if(Q)return!Q._private.active};var I8={},J1=function Q(J){return function Z(U){var $=this,q=[];for(var K=0;K<$.length;K++){var G=$[K];if(!G.isNode())continue;var Y=!1,F=G.connectedEdges();for(var X=0;X<F.length;X++){var H=F[X],M=H.source(),z=H.target();if(J.noIncomingEdges&&z===G&&M!==G||J.noOutgoingEdges&&M===G&&z!==G){Y=!0;break}}if(!Y)q.push(G)}return this.spawn(q,!0).filter(U)}},Q1=function Q(J){return function(Z){var U=this,$=[];for(var q=0;q<U.length;q++){var K=U[q];if(!K.isNode())continue;var G=K.connectedEdges();for(var Y=0;Y<G.length;Y++){var F=G[Y],X=F.source(),H=F.target();if(J.outgoing&&X===K)$.push(F),$.push(H);else if(J.incoming&&H===K)$.push(F),$.push(X)}}return this.spawn($,!0).filter(Z)}},Z1=function Q(J){return function(Z){var U=this,$=[],q={};for(;;){var K=J.outgoing?U.outgoers():U.incomers();if(K.length===0)break;var G=!1;for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F.id();if(!q[X])q[X]=!0,$.push(F),G=!0}if(!G)break;U=K}return this.spawn($,!0).filter(Z)}};I8.clearTraversalCache=function(){for(var Q=0;Q<this.length;Q++)this[Q]._private.traversalCache=null};DJ(I8,{roots:J1({noIncomingEdges:!0}),leaves:J1({noOutgoingEdges:!0}),outgoers:i8(Q1({outgoing:!0}),\"outgoers\"),successors:Z1({outgoing:!0}),incomers:i8(Q1({incoming:!0}),\"incomers\"),predecessors:Z1({})});DJ(I8,{neighborhood:i8(function(Q){var J=[],Z=this.nodes();for(var U=0;U<Z.length;U++){var $=Z[U],q=$.connectedEdges();for(var K=0;K<q.length;K++){var G=q[K],Y=G.source(),F=G.target(),X=$===Y?F:Y;if(X.length>0)J.push(X[0]);J.push(G[0])}}return this.spawn(J,!0).filter(Q)},\"neighborhood\"),closedNeighborhood:function Q(J){return this.neighborhood().add(this).filter(J)},openNeighborhood:function Q(J){return this.neighborhood(J)}});I8.neighbourhood=I8.neighborhood;I8.closedNeighbourhood=I8.closedNeighborhood;I8.openNeighbourhood=I8.openNeighborhood;DJ(I8,{source:i8(function Q(J){var Z=this[0],U;if(Z)U=Z._private.source||Z.cy().collection();return U&&J?U.filter(J):U},\"source\"),target:i8(function Q(J){var Z=this[0],U;if(Z)U=Z._private.target||Z.cy().collection();return U&&J?U.filter(J):U},\"target\"),sources:U1({attr:\"source\"}),targets:U1({attr:\"target\"})});function U1(Q){return function J(Z){var U=[];for(var $=0;$<this.length;$++){var q=this[$],K=q._private[Q.attr];if(K)U.push(K)}return this.spawn(U,!0).filter(Z)}}DJ(I8,{edgesWith:i8($1(),\"edgesWith\"),edgesTo:i8($1({thisIsSrc:!0}),\"edgesTo\")});function $1(Q){return function J(Z){var U=[],$=this._private.cy,q=Q||{};if(WJ(Z))Z=$.$(Z);for(var K=0;K<Z.length;K++){var G=Z[K]._private.edges;for(var Y=0;Y<G.length;Y++){var F=G[Y],X=F._private.data,H=this.hasElementWithId(X.source)&&Z.hasElementWithId(X.target),M=Z.hasElementWithId(X.source)&&this.hasElementWithId(X.target),z=H||M;if(!z)continue;if(q.thisIsSrc||q.thisIsTgt){if(q.thisIsSrc&&!H)continue;if(q.thisIsTgt&&!M)continue}U.push(F)}}return this.spawn(U,!0)}}DJ(I8,{connectedEdges:i8(function(Q){var J=[],Z=this;for(var U=0;U<Z.length;U++){var $=Z[U];if(!$.isNode())continue;var q=$._private.edges;for(var K=0;K<q.length;K++){var G=q[K];J.push(G)}}return this.spawn(J,!0).filter(Q)},\"connectedEdges\"),connectedNodes:i8(function(Q){var J=[],Z=this;for(var U=0;U<Z.length;U++){var $=Z[U];if(!$.isEdge())continue;J.push($.source()[0]),J.push($.target()[0])}return this.spawn(J,!0).filter(Q)},\"connectedNodes\"),parallelEdges:i8(q1(),\"parallelEdges\"),codirectedEdges:i8(q1({codirected:!0}),\"codirectedEdges\")});function q1(Q){var J={codirected:!1};return Q=DJ({},J,Q),function Z(U){var $=[],q=this.edges(),K=Q;for(var G=0;G<q.length;G++){var Y=q[G],F=Y._private,X=F.source,H=X._private.data.id,M=F.data.target,z=X._private.edges;for(var N=0;N<z.length;N++){var W=z[N],L=W._private.data,E=L.target,B=L.source,V=E===M&&B===H,D=H===E&&M===B;if(K.codirected&&V||!K.codirected&&(V||D))$.push(W)}}return this.spawn($,!0).filter(U)}}DJ(I8,{components:function Q(J){var Z=this,U=Z.cy(),$=U.collection(),q=J==null?Z.nodes():J.nodes(),K=[];if(J!=null&&q.empty())q=J.sources();var G=function F(X,H){$.merge(X),q.unmerge(X),H.merge(X)};if(q.empty())return Z.spawn();var Y=function F(){var X=U.collection();K.push(X);var H=q[0];G(H,X),Z.bfs({directed:!1,roots:H,visit:function M(z){return G(z,X)}}),X.forEach(function(M){M.connectedEdges().forEach(function(z){if(Z.has(z)&&X.has(z.source())&&X.has(z.target()))X.merge(z)})})};do Y();while(q.length>0);return K},component:function Q(){var J=this[0];return J.cy().mutableElements().components(J)[0]}});I8.componentsOf=I8.components;var O8=function Q(J,Z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(J===void 0){J8(\"A collection must have a reference to the core\");return}var q=new E9,K=!1;if(!Z)Z=[];else if(Z.length>0&&yJ(Z[0])&&!yZ(Z[0])){K=!0;var G=[],Y=new iQ;for(var F=0,X=Z.length;F<X;F++){var H=Z[F];if(H.data==null)H.data={};var M=H.data;if(M.id==null)M.id=JK();else if(J.hasElementWithId(M.id)||Y.has(M.id))continue;var z=new X7(J,H,!1);G.push(z),Y.add(M.id)}Z=G}this.length=0;for(var N=0,W=Z.length;N<W;N++){var L=Z[N][0];if(L==null)continue;var E=L._private.data.id;if(!U||!q.has(E)){if(U)q.set(E,{index:this.length,ele:L});this[this.length]=L,this.length++}}if(this._private={eles:this,cy:J,get map(){if(this.lazyMap==null)this.rebuildMap();return this.lazyMap},set map(B){this.lazyMap=B},rebuildMap:function B(){var V=this.lazyMap=new E9,D=this.eles;for(var O=0;O<D.length;O++){var A=D[O];V.set(A.id(),{index:O,ele:A})}}},U)this._private.map=q;if(K&&!$)this.restore()},aJ=X7.prototype=O8.prototype=Object.create(Array.prototype);aJ.instanceString=function(){return\"collection\"};aJ.spawn=function(Q,J){return new O8(this.cy(),Q,J)};aJ.spawnSelf=function(){return this.spawn(this)};aJ.cy=function(){return this._private.cy};aJ.renderer=function(){return this._private.cy.renderer()};aJ.element=function(){return this[0]};aJ.collection=function(){if(u1(this))return this;else return new O8(this._private.cy,[this])};aJ.unique=function(){return new O8(this._private.cy,this,!0)};aJ.hasElementWithId=function(Q){return Q=\"\"+Q,this._private.map.has(Q)};aJ.getElementById=function(Q){Q=\"\"+Q;var J=this._private.cy,Z=this._private.map.get(Q);return Z?Z.ele:new O8(J)};aJ.$id=aJ.getElementById;aJ.poolIndex=function(){var Q=this._private.cy,J=Q._private.elements,Z=this[0]._private.data.id;return J._private.map.get(Z).index};aJ.indexOf=function(Q){var J=Q[0]._private.data.id;return this._private.map.get(J).index};aJ.indexOfId=function(Q){return Q=\"\"+Q,this._private.map.get(Q).index};aJ.json=function(Q){var J=this.element(),Z=this.cy();if(J==null&&Q)return this;if(J==null)return;var U=J._private;if(yJ(Q)){if(Z.startBatch(),Q.data){J.data(Q.data);var $=U.data;if(J.isEdge()){var q=!1,K={},G=Q.data.source,Y=Q.data.target;if(G!=null&&G!=$.source)K.source=\"\"+G,q=!0;if(Y!=null&&Y!=$.target)K.target=\"\"+Y,q=!0;if(q)J=J.move(K)}else{var F=\"parent\"in Q.data,X=Q.data.parent;if(F&&(X!=null||$.parent!=null)&&X!=$.parent){if(X===void 0)X=null;if(X!=null)X=\"\"+X;J=J.move({parent:X})}}}if(Q.position)J.position(Q.position);var H=function N(W,L,E){var B=Q[W];if(B!=null&&B!==U[W])if(B)J[L]();else J[E]()};if(H(\"removed\",\"remove\",\"restore\"),H(\"selected\",\"select\",\"unselect\"),H(\"selectable\",\"selectify\",\"unselectify\"),H(\"locked\",\"lock\",\"unlock\"),H(\"grabbable\",\"grabify\",\"ungrabify\"),H(\"pannable\",\"panify\",\"unpanify\"),Q.classes!=null)J.classes(Q.classes);return Z.endBatch(),this}else if(Q===void 0){var M={data:q9(U.data),position:q9(U.position),group:U.group,removed:U.removed,selected:U.selected,selectable:U.selectable,locked:U.locked,grabbable:U.grabbable,pannable:U.pannable,classes:null};M.classes=\"\";var z=0;return U.classes.forEach(function(N){return M.classes+=z++===0?N:\" \"+N}),M}};aJ.jsons=function(){var Q=[];for(var J=0;J<this.length;J++){var Z=this[J],U=Z.json();Q.push(U)}return Q};aJ.clone=function(){var Q=this.cy(),J=[];for(var Z=0;Z<this.length;Z++){var U=this[Z],$=U.json(),q=new X7(Q,$,!1);J.push(q)}return new O8(Q,J)};aJ.copy=aJ.clone;aJ.restore=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Z=this,U=Z.cy(),$=U._private,q=[],K=[],G;for(var Y=0,F=Z.length;Y<F;Y++){var X=Z[Y];if(J&&!X.removed())continue;if(X.isNode())q.push(X);else K.push(X)}G=q.concat(K);var H,M=function n(){G.splice(H,1),H--};for(H=0;H<G.length;H++){var z=G[H],N=z._private,W=N.data;if(z.clearTraversalCache(),!J&&!N.removed);else if(W.id===void 0)W.id=JK();else if($J(W.id))W.id=\"\"+W.id;else if(y9(W.id)||!WJ(W.id)){J8(\"Can not create element with invalid string ID `\"+W.id+\"`\"),M();continue}else if(U.hasElementWithId(W.id)){J8(\"Can not create second element with ID `\"+W.id+\"`\"),M();continue}var L=W.id;if(z.isNode()){var E=N.position;if(E.x==null)E.x=0;if(E.y==null)E.y=0}if(z.isEdge()){var B=z,V=[\"source\",\"target\"],D=V.length,O=!1;for(var A=0;A<D;A++){var R=V[A],C=W[R];if($J(C))C=W[R]=\"\"+W[R];if(C==null||C===\"\")J8(\"Can not create edge `\"+L+\"` with unspecified \"+R),O=!0;else if(!U.hasElementWithId(C))J8(\"Can not create edge `\"+L+\"` with nonexistant \"+R+\" `\"+C+\"`\"),O=!0}if(O){M();continue}var I=U.getElementById(W.source),T=U.getElementById(W.target);if(I.same(T))I._private.edges.push(B);else I._private.edges.push(B),T._private.edges.push(B);B._private.source=I,B._private.target=T}if(N.map=new E9,N.map.set(L,{ele:z,index:0}),N.removed=!1,J)U.addToPool(z)}for(var P=0;P<q.length;P++){var k=q[P],j=k._private.data;if($J(j.parent))j.parent=\"\"+j.parent;var _=j.parent,x=_!=null;if(x||k._private.parent){var f=k._private.parent?U.collection().merge(k._private.parent):U.getElementById(_);if(f.empty())j.parent=void 0;else if(f[0].removed())lJ(\"Node added with missing parent, reference to parent removed\"),j.parent=void 0,k._private.parent=null;else{var v=!1,b=f;while(!b.empty()){if(k.same(b)){v=!0,j.parent=void 0;break}b=b.parent()}if(!v)f[0]._private.children.push(k),k._private.parent=f[0],$.hasCompoundNodes=!0}}}if(G.length>0){var y=G.length===Z.length?Z:new O8(U,G);for(var g=0;g<y.length;g++){var m=y[g];if(m.isNode())continue;m.parallelEdges().clearTraversalCache(),m.source().clearTraversalCache(),m.target().clearTraversalCache()}var u;if($.hasCompoundNodes)u=U.collection().merge(y).merge(y.connectedNodes()).merge(y.parent());else u=y;if(u.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(Q),Q)y.emitAndNotify(\"add\");else if(J)y.emit(\"add\")}return Z};aJ.removed=function(){var Q=this[0];return Q&&Q._private.removed};aJ.inside=function(){var Q=this[0];return Q&&!Q._private.removed};aJ.remove=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Z=this,U=[],$={},q=Z._private.cy;function K(_){var x=_._private.edges;for(var f=0;f<x.length;f++)Y(x[f])}function G(_){var x=_._private.children;for(var f=0;f<x.length;f++)Y(x[f])}function Y(_){var x=$[_.id()];if(J&&_.removed()||x)return;else $[_.id()]=!0;if(_.isNode())U.push(_),K(_),G(_);else U.unshift(_)}for(var F=0,X=Z.length;F<X;F++){var H=Z[F];Y(H)}function M(_,x){var f=_._private.edges;h9(f,x),_.clearTraversalCache()}function z(_){_.clearTraversalCache()}var N=[];N.ids={};function W(_,x){x=x[0],_=_[0];var f=_._private.children,v=_.id();if(h9(f,x),x._private.parent=null,!N.ids[v])N.ids[v]=!0,N.push(_)}if(Z.dirtyCompoundBoundsCache(),J)q.removeFromPool(U);for(var L=0;L<U.length;L++){var E=U[L];if(E.isEdge()){var B=E.source()[0],V=E.target()[0];M(B,E),M(V,E);var D=E.parallelEdges();for(var O=0;O<D.length;O++){var A=D[O];if(z(A),A.isBundledBezier())A.dirtyBoundingBoxCache()}}else{var R=E.parent();if(R.length!==0)W(R,E)}if(J)E._private.removed=!0}var C=q._private.elements;q._private.hasCompoundNodes=!1;for(var I=0;I<C.length;I++){var T=C[I];if(T.isParent()){q._private.hasCompoundNodes=!0;break}}var P=new O8(this.cy(),U);if(P.size()>0){if(Q)P.emitAndNotify(\"remove\");else if(J)P.emit(\"remove\")}for(var k=0;k<N.length;k++){var j=N[k];if(!J||!j.removed())j.updateStyle()}return P};aJ.move=function(Q){var J=this._private.cy,Z=this,U=!1,$=!1,q=function z(N){return N==null?N:\"\"+N};if(Q.source!==void 0||Q.target!==void 0){var K=q(Q.source),G=q(Q.target),Y=K!=null&&J.hasElementWithId(K),F=G!=null&&J.hasElementWithId(G);if(Y||F)J.batch(function(){Z.remove(U,$),Z.emitAndNotify(\"moveout\");for(var z=0;z<Z.length;z++){var N=Z[z],W=N._private.data;if(N.isEdge()){if(Y)W.source=K;if(F)W.target=G}}Z.restore(U,$)}),Z.emitAndNotify(\"move\")}else if(Q.parent!==void 0){var X=q(Q.parent),H=X===null||J.hasElementWithId(X);if(H){var M=X===null?void 0:X;J.batch(function(){var z=Z.remove(U,$);z.emitAndNotify(\"moveout\");for(var N=0;N<Z.length;N++){var W=Z[N],L=W._private.data;if(W.isNode())L.parent=M}z.restore(U,$)}),Z.emitAndNotify(\"move\")}}return this};[MK,HR,u6,b9,lQ,TR,E7,cR,mK,yK,sR,Q7,g6,R8,m9,I8].forEach(function(Q){DJ(aJ,Q)});var QO={add:function Q(J){var Z,U=this;if(h8(J)){var $=J;if($._private.cy===U)Z=$.restore();else{var q=[];for(var K=0;K<$.length;K++){var G=$[K];q.push(G.json())}Z=new O8(U,q)}}else if(nJ(J)){var Y=J;Z=new O8(U,Y)}else if(yJ(J)&&(nJ(J.nodes)||nJ(J.edges))){var F=J,X=[],H=[\"nodes\",\"edges\"];for(var M=0,z=H.length;M<z;M++){var N=H[M],W=F[N];if(nJ(W))for(var L=0,E=W.length;L<E;L++){var B=DJ({group:N},W[L]);X.push(B)}}Z=new O8(U,X)}else{var V=J;Z=new X7(U,V).collection()}return Z},remove:function Q(J){if(h8(J));else if(WJ(J)){var Z=J;J=this.$(Z)}return J.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function ZO(Q,J,Z,U){var $=4,q=0.001,K=0.0000001,G=10,Y=11,F=1/(Y-1),X=typeof Float32Array!==\"undefined\";if(arguments.length!==4)return!1;for(var H=0;H<4;++H)if(typeof arguments[H]!==\"number\"||isNaN(arguments[H])||!isFinite(arguments[H]))return!1;Q=Math.min(Q,1),Z=Math.min(Z,1),Q=Math.max(Q,0),Z=Math.max(Z,0);var M=X?new Float32Array(Y):new Array(Y);function z(T,P){return 1-3*P+3*T}function N(T,P){return 3*P-6*T}function W(T){return 3*T}function L(T,P,k){return((z(P,k)*T+N(P,k))*T+W(P))*T}function E(T,P,k){return 3*z(P,k)*T*T+2*N(P,k)*T+W(P)}function B(T,P){for(var k=0;k<$;++k){var j=E(P,Q,Z);if(j===0)return P;var _=L(P,Q,Z)-T;P-=_/j}return P}function V(){for(var T=0;T<Y;++T)M[T]=L(T*F,Q,Z)}function D(T,P,k){var j,_,x=0;do if(_=P+(k-P)/2,j=L(_,Q,Z)-T,j>0)k=_;else P=_;while(Math.abs(j)>K&&++x<G);return _}function O(T){var P=0,k=1,j=Y-1;for(;k!==j&&M[k]<=T;++k)P+=F;--k;var _=(T-M[k])/(M[k+1]-M[k]),x=P+_*F,f=E(x,Q,Z);if(f>=q)return B(T,x);else if(f===0)return x;else return D(T,P,P+F)}var A=!1;function R(){if(A=!0,Q!==J||Z!==U)V()}var C=function T(P){if(!A)R();if(Q===J&&Z===U)return P;if(P===0)return 0;if(P===1)return 1;return L(O(P),J,U)};C.getControlPoints=function(){return[{x:Q,y:J},{x:Z,y:U}]};var I=\"generateBezier(\"+[Q,J,Z,U]+\")\";return C.toString=function(){return I},C}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var UO=function(){function Q(U){return-U.tension*U.x-U.friction*U.v}function J(U,$,q){var K={x:U.x+q.dx*$,v:U.v+q.dv*$,tension:U.tension,friction:U.friction};return{dx:K.v,dv:Q(K)}}function Z(U,$){var q={dx:U.v,dv:Q(U)},K=J(U,$*0.5,q),G=J(U,$*0.5,K),Y=J(U,$,G),F=0.16666666666666666*(q.dx+2*(K.dx+G.dx)+Y.dx),X=0.16666666666666666*(q.dv+2*(K.dv+G.dv)+Y.dv);return U.x=U.x+F*$,U.v=U.v+X*$,U}return function U($,q,K){var G={x:-1,v:0,tension:null,friction:null},Y=[0],F=0,X=0.0001,H=0.016,M,z,N;if($=parseFloat($)||500,q=parseFloat(q)||20,K=K||null,G.tension=$,G.friction=q,M=K!==null,M)F=U($,q),z=F/K*H;else z=H;for(;;)if(N=Z(N||G,z),Y.push(1+N.x),F+=16,!(Math.abs(N.x)>X&&Math.abs(N.v)>X))break;return!M?F:function(W){return Y[W*(Y.length-1)|0]}}}(),sJ=function Q(J,Z,U,$){var q=ZO(J,Z,U,$);return function(K,G,Y){return K+(G-K)*q(Y)}},d6={linear:function Q(J,Z,U){return J+(Z-J)*U},ease:sJ(0.25,0.1,0.25,1),\"ease-in\":sJ(0.42,0,1,1),\"ease-out\":sJ(0,0,0.58,1),\"ease-in-out\":sJ(0.42,0,0.58,1),\"ease-in-sine\":sJ(0.47,0,0.745,0.715),\"ease-out-sine\":sJ(0.39,0.575,0.565,1),\"ease-in-out-sine\":sJ(0.445,0.05,0.55,0.95),\"ease-in-quad\":sJ(0.55,0.085,0.68,0.53),\"ease-out-quad\":sJ(0.25,0.46,0.45,0.94),\"ease-in-out-quad\":sJ(0.455,0.03,0.515,0.955),\"ease-in-cubic\":sJ(0.55,0.055,0.675,0.19),\"ease-out-cubic\":sJ(0.215,0.61,0.355,1),\"ease-in-out-cubic\":sJ(0.645,0.045,0.355,1),\"ease-in-quart\":sJ(0.895,0.03,0.685,0.22),\"ease-out-quart\":sJ(0.165,0.84,0.44,1),\"ease-in-out-quart\":sJ(0.77,0,0.175,1),\"ease-in-quint\":sJ(0.755,0.05,0.855,0.06),\"ease-out-quint\":sJ(0.23,1,0.32,1),\"ease-in-out-quint\":sJ(0.86,0,0.07,1),\"ease-in-expo\":sJ(0.95,0.05,0.795,0.035),\"ease-out-expo\":sJ(0.19,1,0.22,1),\"ease-in-out-expo\":sJ(1,0,0,1),\"ease-in-circ\":sJ(0.6,0.04,0.98,0.335),\"ease-out-circ\":sJ(0.075,0.82,0.165,1),\"ease-in-out-circ\":sJ(0.785,0.135,0.15,0.86),spring:function Q(J,Z,U){if(U===0)return d6.linear;var $=UO(J,Z,U);return function(q,K,G){return q+(K-q)*$(G)}},\"cubic-bezier\":sJ};function K1(Q,J,Z,U,$){if(U===1)return Z;if(J===Z)return Z;var q=$(J,Z,U);if(Q==null)return q;if(Q.roundValue||Q.color)q=Math.round(q);if(Q.min!==void 0)q=Math.max(q,Q.min);if(Q.max!==void 0)q=Math.min(q,Q.max);return q}function G1(Q,J){if(Q.pfValue!=null||Q.value!=null)if(Q.pfValue!=null&&(J==null||J.type.units!==\"%\"))return Q.pfValue;else return Q.value;else return Q}function jQ(Q,J,Z,U,$){var q=$!=null?$.type:null;if(Z<0)Z=0;else if(Z>1)Z=1;var K=G1(Q,$),G=G1(J,$);if($J(K)&&$J(G))return K1(q,K,G,Z,U);else if(nJ(K)&&nJ(G)){var Y=[];for(var F=0;F<G.length;F++){var X=K[F],H=G[F];if(X!=null&&H!=null){var M=K1(q,X,H,Z,U);Y.push(M)}else Y.push(H)}return Y}return}function $O(Q,J,Z,U){var $=!U,q=Q._private,K=J._private,G=K.easing,Y=K.startTime,F=U?Q:Q.cy(),X=F.style();if(!K.easingImpl)if(G==null)K.easingImpl=d6.linear;else{var H;if(WJ(G)){var M=X.parse(\"transition-timing-function\",G);H=M.value}else H=G;var z,N;if(WJ(H))z=H,N=[];else z=H[1],N=H.slice(2).map(function(y){return+y});if(N.length>0){if(z===\"spring\")N.push(K.duration);K.easingImpl=d6[z].apply(null,N)}else K.easingImpl=d6[z]}var W=K.easingImpl,L;if(K.duration===0)L=1;else L=(Z-Y)/K.duration;if(K.applying)L=K.progress;if(L<0)L=0;else if(L>1)L=1;if(K.delay==null){var{startPosition:E,position:B}=K;if(B&&$&&!Q.locked()){var V={};if(EZ(E.x,B.x))V.x=jQ(E.x,B.x,L,W);if(EZ(E.y,B.y))V.y=jQ(E.y,B.y,L,W);Q.position(V)}var{startPan:D,pan:O}=K,A=q.pan,R=O!=null&&U;if(R){if(EZ(D.x,O.x))A.x=jQ(D.x,O.x,L,W);if(EZ(D.y,O.y))A.y=jQ(D.y,O.y,L,W);Q.emit(\"pan\")}var{startZoom:C,zoom:I}=K,T=I!=null&&U;if(T){if(EZ(C,I))q.zoom=jZ(q.minZoom,jQ(C,I,L,W),q.maxZoom);Q.emit(\"zoom\")}if(R||T)Q.emit(\"viewport\");var P=K.style;if(P&&P.length>0&&$){for(var k=0;k<P.length;k++){var j=P[k],_=j.name,x=j,f=K.startStyle[_],v=X.properties[f.name],b=jQ(f,x,L,W,v);X.overrideBypass(Q,_,b)}Q.emit(\"style\")}}return K.progress=L,L}function EZ(Q,J){if(Q==null||J==null)return!1;if($J(Q)&&$J(J))return!0;else if(Q&&J)return!0;return!1}function qO(Q,J,Z,U){var $=J._private;$.started=!0,$.startTime=Z-$.progress*$.duration}function Y1(Q,J){var Z=J._private.aniEles,U=[];function $(X,H){var M=X._private,z=M.animation.current,N=M.animation.queue,W=!1;if(z.length===0){var L=N.shift();if(L)z.push(L)}var E=function O(A){for(var R=A.length-1;R>=0;R--){var C=A[R];C()}A.splice(0,A.length)};for(var B=z.length-1;B>=0;B--){var V=z[B],D=V._private;if(D.stopped){z.splice(B,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.frames);continue}if(!D.playing&&!D.applying)continue;if(D.playing&&D.applying)D.applying=!1;if(!D.started)qO(X,V,Q);if($O(X,V,Q,H),D.applying)D.applying=!1;if(E(D.frames),D.step!=null)D.step(Q);if(V.completed())z.splice(B,1),D.hooked=!1,D.playing=!1,D.started=!1,E(D.completes);W=!0}if(!H&&z.length===0&&N.length===0)U.push(X);return W}var q=!1;for(var K=0;K<Z.length;K++){var G=Z[K],Y=$(G);q=q||Y}var F=$(J,!0);if(q||F)if(Z.length>0)J.notify(\"draw\",Z);else J.notify(\"draw\");Z.unmerge(U),J.emit(\"step\")}var KO={animate:pJ.animate(),animation:pJ.animation(),animated:pJ.animated(),clearQueue:pJ.clearQueue(),delay:pJ.delay(),delayAnimation:pJ.delayAnimation(),stop:pJ.stop(),addToAnimationPool:function Q(J){var Z=this;if(!Z.styleEnabled())return;Z._private.aniEles.merge(J)},stopAnimationLoop:function Q(){this._private.animationsRunning=!1},startAnimationLoop:function Q(){var J=this;if(J._private.animationsRunning=!0,!J.styleEnabled())return;function Z(){if(!J._private.animationsRunning)return;r6(function $(q){Y1(q,J),Z()})}var U=J.renderer();if(U&&U.beforeRender)U.beforeRender(function $(q,K){Y1(K,J)},U.beforeRenderPriorities.animations);else Z()}},GO={qualifierCompare:function Q(J,Z){if(J==null||Z==null)return J==null&&Z==null;else return J.sameText(Z)},eventMatches:function Q(J,Z,U){var $=Z.qualifier;if($!=null)return J!==U.target&&yZ(U.target)&&$.matches(U.target);return!0},addEventFields:function Q(J,Z){Z.cy=J,Z.target=J},callbackContext:function Q(J,Z,U){return Z.qualifier!=null?U.target:J}},v6=function Q(J){if(WJ(J))return new g9(J);else return J},gK={createEmitter:function Q(){var J=this._private;if(!J.emitter)J.emitter=new B7(GO,this);return this},emitter:function Q(){return this._private.emitter},on:function Q(J,Z,U){return this.emitter().on(J,v6(Z),U),this},removeListener:function Q(J,Z,U){return this.emitter().removeListener(J,v6(Z),U),this},removeAllListeners:function Q(){return this.emitter().removeAllListeners(),this},one:function Q(J,Z,U){return this.emitter().one(J,v6(Z),U),this},once:function Q(J,Z,U){return this.emitter().one(J,v6(Z),U),this},emit:function Q(J,Z){return this.emitter().emit(J,Z),this},emitAndNotify:function Q(J,Z){return this.emit(J),this.notify(J,Z),this}};pJ.eventAliasesOn(gK);var s0={png:function Q(J){var Z=this._private.renderer;return J=J||{},Z.png(J)},jpg:function Q(J){var Z=this._private.renderer;return J=J||{},J.bg=J.bg||\"#fff\",Z.jpg(J)}};s0.jpeg=s0.jpg;var c6={layout:function Q(J){var Z=this;if(J==null){J8(\"Layout options must be specified to make a layout\");return}if(J.name==null){J8(\"A `name` must be specified to make a layout\");return}var U=J.name,$=Z.extension(\"layout\",U);if($==null){J8(\"No such layout `\"+U+\"` found.  Did you forget to import it and `cytoscape.use()` it?\");return}var q;if(WJ(J.eles))q=Z.$(J.eles);else q=J.eles!=null?J.eles:Z.$();var K=new $(DJ({},J,{cy:Z,eles:q}));return K}};c6.createLayout=c6.makeLayout=c6.layout;var YO={notify:function Q(J,Z){var U=this._private;if(this.batching()){U.batchNotifications=U.batchNotifications||{};var $=U.batchNotifications[J]=U.batchNotifications[J]||this.collection();if(Z!=null)$.merge(Z);return}if(!U.notificationsEnabled)return;var q=this.renderer();if(this.destroyed()||!q)return;q.notify(J,Z)},notifications:function Q(J){var Z=this._private;if(J===void 0)return Z.notificationsEnabled;else Z.notificationsEnabled=J?!0:!1;return this},noNotifications:function Q(J){this.notifications(!1),J(),this.notifications(!0)},batching:function Q(){return this._private.batchCount>0},startBatch:function Q(){var J=this._private;if(J.batchCount==null)J.batchCount=0;if(J.batchCount===0)J.batchStyleEles=this.collection(),J.batchNotifications={};return J.batchCount++,this},endBatch:function Q(){var J=this._private;if(J.batchCount===0)return this;if(J.batchCount--,J.batchCount===0){J.batchStyleEles.updateStyle();var Z=this.renderer();Object.keys(J.batchNotifications).forEach(function(U){var $=J.batchNotifications[U];if($.empty())Z.notify(U);else Z.notify(U,$)})}return this},batch:function Q(J){return this.startBatch(),J(),this.endBatch(),this},batchData:function Q(J){var Z=this;return this.batch(function(){var U=Object.keys(J);for(var $=0;$<U.length;$++){var q=U[$],K=J[q],G=Z.getElementById(q);G.data(K)}})}},FO=A8({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:0.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),a0={renderTo:function Q(J,Z,U,$){var q=this._private.renderer;return q.renderTo(J,Z,U,$),this},renderer:function Q(){return this._private.renderer},forceRender:function Q(){return this.notify(\"draw\"),this},resize:function Q(){return this.invalidateSize(),this.emitAndNotify(\"resize\"),this},initRenderer:function Q(J){var Z=this,U=Z.extension(\"renderer\",J.name);if(U==null){J8(\"Can not initialise: No such renderer `\".concat(J.name,\"` found. Did you forget to import it and `cytoscape.use()` it?\"));return}if(J.wheelSensitivity!==void 0)lJ(\"You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.\");var $=FO(J);$.cy=Z,Z._private.renderer=new U($),this.notify(\"init\")},destroyRenderer:function Q(){var J=this;J.notify(\"destroy\");var Z=J.container();if(Z){Z._cyreg=null;while(Z.childNodes.length>0)Z.removeChild(Z.childNodes[0])}J._private.renderer=null,J.mutableElements().forEach(function(U){var $=U._private;$.rscratch={},$.rstyle={},$.animation.current=[],$.animation.queue=[]})},onRender:function Q(J){return this.on(\"render\",J)},offRender:function Q(J){return this.off(\"render\",J)}};a0.invalidateDimensions=a0.resize;var p6={collection:function Q(J,Z){if(WJ(J))return this.$(J);else if(h8(J))return J.collection();else if(nJ(J)){if(!Z)Z={};return new O8(this,J,Z.unique,Z.removed)}return new O8(this)},nodes:function Q(J){var Z=this.$(function(U){return U.isNode()});if(J)return Z.filter(J);return Z},edges:function Q(J){var Z=this.$(function(U){return U.isEdge()});if(J)return Z.filter(J);return Z},$:function Q(J){var Z=this._private.elements;if(J)return Z.filter(J);else return Z.spawnSelf()},mutableElements:function Q(){return this._private.elements}};p6.elements=p6.filter=p6.$;var V8={},CZ=\"t\",XO=\"f\";V8.apply=function(Q){var J=this,Z=J._private,U=Z.cy,$=U.collection();for(var q=0;q<Q.length;q++){var K=Q[q],G=J.getContextMeta(K);if(G.empty)continue;var Y=J.getContextStyle(G),F=J.applyContextStyle(G,Y,K);if(K._private.appliedInitStyle)J.updateTransitions(K,F.diffProps);else K._private.appliedInitStyle=!0;var X=J.updateStyleHints(K);if(X)$.push(K)}return $};V8.getPropertiesDiff=function(Q,J){var Z=this,U=Z._private.propDiffs=Z._private.propDiffs||{},$=Q+\"-\"+J,q=U[$];if(q)return q;var K=[],G={};for(var Y=0;Y<Z.length;Y++){var F=Z[Y],X=Q[Y]===CZ,H=J[Y]===CZ,M=X!==H,z=F.mappedProperties.length>0;if(M||H&&z){var N=void 0;if(M&&z)N=F.properties;else if(M)N=F.properties;else if(z)N=F.mappedProperties;for(var W=0;W<N.length;W++){var L=N[W],E=L.name,B=!1;for(var V=Y+1;V<Z.length;V++){var D=Z[V],O=J[V]===CZ;if(!O)continue;if(B=D.properties[L.name]!=null,B)break}if(!G[E]&&!B)G[E]=!0,K.push(E)}}}return U[$]=K,K};V8.getContextMeta=function(Q){var J=this,Z=\"\",U,$=Q._private.styleCxtKey||\"\";for(var q=0;q<J.length;q++){var K=J[q],G=K.selector&&K.selector.matches(Q);if(G)Z+=CZ;else Z+=XO}return U=J.getPropertiesDiff($,Z),Q._private.styleCxtKey=Z,{key:Z,diffPropNames:U,empty:U.length===0}};V8.getContextStyle=function(Q){var J=Q.key,Z=this,U=this._private.contextStyles=this._private.contextStyles||{};if(U[J])return U[J];var $={_private:{key:J}};for(var q=0;q<Z.length;q++){var K=Z[q],G=J[q]===CZ;if(!G)continue;for(var Y=0;Y<K.properties.length;Y++){var F=K.properties[Y];$[F.name]=F}}return U[J]=$,$};V8.applyContextStyle=function(Q,J,Z){var U=this,$=Q.diffPropNames,q={},K=U.types;for(var G=0;G<$.length;G++){var Y=$[G],F=J[Y],X=Z.pstyle(Y);if(!F)if(!X)continue;else if(X.bypass)F={name:Y,deleteBypassed:!0};else F={name:Y,delete:!0};if(X===F)continue;if(F.mapped===K.fn&&X!=null&&X.mapping!=null&&X.mapping.value===F.value){var H=X.mapping,M=H.fnValue=F.value(Z);if(M===H.prevFnValue)continue}var z=q[Y]={prev:X};if(U.applyParsedProperty(Z,F),z.next=Z.pstyle(Y),z.next&&z.next.bypass)z.next=z.next.bypassed}return{diffProps:q}};V8.updateStyleHints=function(Q){var J=Q._private,Z=this,U=Z.propertyGroupNames,$=Z.propertyGroupKeys,q=function d(p,r,UJ){return Z.getPropertiesHash(p,r,UJ)},K=J.styleKey;if(Q.removed())return!1;var G=J.group===\"nodes\",Y=Q._private.style;U=Object.keys(Y);for(var F=0;F<$.length;F++){var X=$[F];J.styleKeys[X]=[YQ,xQ]}var H=function d(p,r){return J.styleKeys[r][0]=TZ(p,J.styleKeys[r][0])},M=function d(p,r){return J.styleKeys[r][1]=PZ(p,J.styleKeys[r][1])},z=function d(p,r){H(p,r),M(p,r)},N=function d(p,r){for(var UJ=0;UJ<p.length;UJ++){var NJ=p.charCodeAt(UJ);H(NJ,r),M(NJ,r)}},W=2000000000,L=function d(p){return-128<p&&p<128&&Math.floor(p)!==p?W-(p*1024|0):p};for(var E=0;E<U.length;E++){var B=U[E],V=Y[B];if(V==null)continue;var D=this.properties[B],O=D.type,A=D.groupKey,R=void 0;if(D.hashOverride!=null)R=D.hashOverride(Q,V);else if(V.pfValue!=null)R=V.pfValue;var C=D.enums==null?V.value:null,I=R!=null,T=C!=null,P=I||T,k=V.units;if(O.number&&P&&!O.multiple){var j=I?R:C;if(z(L(j),A),!I&&k!=null)N(k,A)}else N(V.strValue,A)}var _=[YQ,xQ];for(var x=0;x<$.length;x++){var f=$[x],v=J.styleKeys[f];_[0]=TZ(v[0],_[0]),_[1]=PZ(v[1],_[1])}J.styleKey=I2(_[0],_[1]);var b=J.styleKeys;J.labelDimsKey=k9(b.labelDimensions);var y=q(Q,[\"label\"],b.labelDimensions);if(J.labelKey=k9(y),J.labelStyleKey=k9(S6(b.commonLabel,y)),!G){var g=q(Q,[\"source-label\"],b.labelDimensions);J.sourceLabelKey=k9(g),J.sourceLabelStyleKey=k9(S6(b.commonLabel,g));var m=q(Q,[\"target-label\"],b.labelDimensions);J.targetLabelKey=k9(m),J.targetLabelStyleKey=k9(S6(b.commonLabel,m))}if(G){var u=J.styleKeys,n=u.nodeBody,t=u.nodeBorder,s=u.nodeOutline,JJ=u.backgroundImage,ZJ=u.compound,qJ=u.pie,e=u.stripe,h=[n,t,s,JJ,ZJ,qJ,e].filter(function(d){return d!=null}).reduce(S6,[YQ,xQ]);J.nodeKey=k9(h),J.hasPie=qJ!=null&&qJ[0]!==YQ&&qJ[1]!==xQ,J.hasStripe=e!=null&&e[0]!==YQ&&e[1]!==xQ}return K!==J.styleKey};V8.clearStyleHints=function(Q){var J=Q._private;J.styleCxtKey=\"\",J.styleKeys={},J.styleKey=null,J.labelKey=null,J.labelStyleKey=null,J.sourceLabelKey=null,J.sourceLabelStyleKey=null,J.targetLabelKey=null,J.targetLabelStyleKey=null,J.nodeKey=null,J.hasPie=null,J.hasStripe=null};V8.applyParsedProperty=function(Q,J){var Z=this,U=J,$=Q._private.style,q,K=Z.types,G=Z.properties[U.name].type,Y=U.bypass,F=$[U.name],X=F&&F.bypass,H=Q._private,M=\"mapping\",z=function u(n){if(n==null)return null;else if(n.pfValue!=null)return n.pfValue;else return n.value},N=function u(){var n=z(F),t=z(U);Z.checkTriggers(Q,U.name,n,t)};if(J.name===\"curve-style\"&&Q.isEdge()&&(J.value!==\"bezier\"&&Q.isLoop()||J.value===\"haystack\"&&(Q.source().isParent()||Q.target().isParent())))U=J=this.parse(J.name,\"bezier\",Y);if(U.delete)return $[U.name]=void 0,N(),!0;if(U.deleteBypassed)if(!F)return N(),!0;else if(F.bypass)return F.bypassed=void 0,N(),!0;else return!1;if(U.deleteBypass)if(!F)return N(),!0;else if(F.bypass)return $[U.name]=F.bypassed,N(),!0;else return!1;var W=function u(){lJ(\"Do not assign mappings to elements without corresponding data (i.e. ele `\"+Q.id()+\"` has no mapping for property `\"+U.name+\"` with data field `\"+U.field+\"`); try a `[\"+U.field+\"]` selector to limit scope to elements with `\"+U.field+\"` defined\")};switch(U.mapped){case K.mapData:{var L=U.field.split(\".\"),E=H.data;for(var B=0;B<L.length&&E;B++){var V=L[B];E=E[V]}if(E==null)return W(),!1;var D;if(!$J(E))return lJ(\"Do not use continuous mappers without specifying numeric data (i.e. `\"+U.field+\": \"+E+\"` for `\"+Q.id()+\"` is non-numeric)\"),!1;else{var O=U.fieldMax-U.fieldMin;if(O===0)D=0;else D=(E-U.fieldMin)/O}if(D<0)D=0;else if(D>1)D=1;if(G.color){var A=U.valueMin[0],R=U.valueMax[0],C=U.valueMin[1],I=U.valueMax[1],T=U.valueMin[2],P=U.valueMax[2],k=U.valueMin[3]==null?1:U.valueMin[3],j=U.valueMax[3]==null?1:U.valueMax[3],_=[Math.round(A+(R-A)*D),Math.round(C+(I-C)*D),Math.round(T+(P-T)*D),Math.round(k+(j-k)*D)];q={bypass:U.bypass,name:U.name,value:_,strValue:\"rgb(\"+_[0]+\", \"+_[1]+\", \"+_[2]+\")\"}}else if(G.number){var x=U.valueMin+(U.valueMax-U.valueMin)*D;q=this.parse(U.name,x,U.bypass,M)}else return!1;if(!q)return W(),!1;q.mapping=U,U=q;break}case K.data:{var f=U.field.split(\".\"),v=H.data;for(var b=0;b<f.length&&v;b++){var y=f[b];v=v[y]}if(v!=null)q=this.parse(U.name,v,U.bypass,M);if(!q)return W(),!1;q.mapping=U,U=q;break}case K.fn:{var g=U.value,m=U.fnValue!=null?U.fnValue:g(Q);if(U.prevFnValue=m,m==null)return lJ(\"Custom function mappers may not return null (i.e. `\"+U.name+\"` for ele `\"+Q.id()+\"` is null)\"),!1;if(q=this.parse(U.name,m,U.bypass,M),!q)return lJ(\"Custom function mappers may not return invalid values for the property type (i.e. `\"+U.name+\"` for ele `\"+Q.id()+\"` is invalid)\"),!1;q.mapping=q9(U),U=q;break}case void 0:break;default:return!1}if(Y){if(X)U.bypassed=F.bypassed;else U.bypassed=F;$[U.name]=U}else if(X)F.bypassed=U;else $[U.name]=U;return N(),!0};V8.cleanElements=function(Q,J){for(var Z=0;Z<Q.length;Z++){var U=Q[Z];if(this.clearStyleHints(U),U.dirtyCompoundBoundsCache(),U.dirtyBoundingBoxCache(),!J)U._private.style={};else{var $=U._private.style,q=Object.keys($);for(var K=0;K<q.length;K++){var G=q[K],Y=$[G];if(Y!=null)if(Y.bypass)Y.bypassed=null;else $[G]=null}}}};V8.update=function(){var Q=this._private.cy,J=Q.mutableElements();J.updateStyle()};V8.updateTransitions=function(Q,J){var Z=this,U=Q._private,$=Q.pstyle(\"transition-property\").value,q=Q.pstyle(\"transition-duration\").pfValue,K=Q.pstyle(\"transition-delay\").pfValue;if($.length>0&&q>0){var G={},Y=!1;for(var F=0;F<$.length;F++){var X=$[F],H=Q.pstyle(X),M=J[X];if(!M)continue;var z=M.prev,N=z,W=M.next!=null?M.next:H,L=!1,E=void 0,B=0.000001;if(!N)continue;if($J(N.pfValue)&&$J(W.pfValue))L=W.pfValue-N.pfValue,E=N.pfValue+B*L;else if($J(N.value)&&$J(W.value))L=W.value-N.value,E=N.value+B*L;else if(nJ(N.value)&&nJ(W.value))L=N.value[0]!==W.value[0]||N.value[1]!==W.value[1]||N.value[2]!==W.value[2],E=N.strValue;if(L)G[X]=W.strValue,this.applyBypass(Q,X,E),Y=!0}if(!Y)return;U.transitioning=!0,new nQ(function(V){if(K>0)Q.delayAnimation(K).play().promise().then(V);else V()}).then(function(){return Q.animation({style:G,duration:q,easing:Q.pstyle(\"transition-timing-function\").value,queue:!1}).play().promise()}).then(function(){Z.removeBypasses(Q,$),Q.emitAndNotify(\"style\"),U.transitioning=!1})}else if(U.transitioning)this.removeBypasses(Q,$),Q.emitAndNotify(\"style\"),U.transitioning=!1};V8.checkTrigger=function(Q,J,Z,U,$,q){var K=this.properties[J],G=$(K);if(Q.removed())return;if(G!=null&&G(Z,U,Q))q(K)};V8.checkZOrderTrigger=function(Q,J,Z,U){var $=this;this.checkTrigger(Q,J,Z,U,function(q){return q.triggersZOrder},function(){$._private.cy.notify(\"zorder\",Q)})};V8.checkBoundsTrigger=function(Q,J,Z,U){this.checkTrigger(Q,J,Z,U,function($){return $.triggersBounds},function($){Q.dirtyCompoundBoundsCache(),Q.dirtyBoundingBoxCache()})};V8.checkConnectedEdgesBoundsTrigger=function(Q,J,Z,U){this.checkTrigger(Q,J,Z,U,function($){return $.triggersBoundsOfConnectedEdges},function($){Q.connectedEdges().forEach(function(q){q.dirtyBoundingBoxCache()})})};V8.checkParallelEdgesBoundsTrigger=function(Q,J,Z,U){this.checkTrigger(Q,J,Z,U,function($){return $.triggersBoundsOfParallelEdges},function($){Q.parallelEdges().forEach(function(q){q.dirtyBoundingBoxCache()})})};V8.checkTriggers=function(Q,J,Z,U){Q.dirtyStyleCache(),this.checkZOrderTrigger(Q,J,Z,U),this.checkBoundsTrigger(Q,J,Z,U),this.checkConnectedEdgesBoundsTrigger(Q,J,Z,U),this.checkParallelEdgesBoundsTrigger(Q,J,Z,U)};var lZ={};lZ.applyBypass=function(Q,J,Z,U){var $=this,q=[],K=!0;if(J===\"*\"||J===\"**\"){if(Z!==void 0)for(var G=0;G<$.properties.length;G++){var Y=$.properties[G],F=Y.name,X=this.parse(F,Z,!0);if(X)q.push(X)}}else if(WJ(J)){var H=this.parse(J,Z,!0);if(H)q.push(H)}else if(yJ(J)){var M=J;U=Z;var z=Object.keys(M);for(var N=0;N<z.length;N++){var W=z[N],L=M[W];if(L===void 0)L=M[Y7(W)];if(L!==void 0){var E=this.parse(W,L,!0);if(E)q.push(E)}}}else return!1;if(q.length===0)return!1;var B=!1;for(var V=0;V<Q.length;V++){var D=Q[V],O={},A=void 0;for(var R=0;R<q.length;R++){var C=q[R];if(U){var I=D.pstyle(C.name);A=O[C.name]={prev:I}}if(B=this.applyParsedProperty(D,q9(C))||B,U)A.next=D.pstyle(C.name)}if(B)this.updateStyleHints(D);if(U)this.updateTransitions(D,O,K)}return B};lZ.overrideBypass=function(Q,J,Z){J=GU(J);for(var U=0;U<Q.length;U++){var $=Q[U],q=$._private.style[J],K=this.properties[J].type,G=K.color,Y=K.mutiple,F=!q?null:q.pfValue!=null?q.pfValue:q.value;if(!q||!q.bypass)this.applyBypass($,J,Z);else{if(q.value=Z,q.pfValue!=null)q.pfValue=Z;if(G)q.strValue=\"rgb(\"+Z.join(\",\")+\")\";else if(Y)q.strValue=Z.join(\" \");else q.strValue=\"\"+Z;this.updateStyleHints($)}this.checkTriggers($,J,F,Z)}};lZ.removeAllBypasses=function(Q,J){return this.removeBypasses(Q,this.propertyNames,J)};lZ.removeBypasses=function(Q,J,Z){var U=!0;for(var $=0;$<Q.length;$++){var q=Q[$],K={};for(var G=0;G<J.length;G++){var Y=J[G],F=this.properties[Y],X=q.pstyle(F.name);if(!X||!X.bypass)continue;var H=\"\",M=this.parse(Y,H,!0),z=K[F.name]={prev:X};this.applyParsedProperty(q,M),z.next=q.pstyle(F.name)}if(this.updateStyleHints(q),Z)this.updateTransitions(q,K,U)}};var OU={};OU.getEmSizeInPixels=function(){var Q=this.containerCss(\"font-size\");if(Q!=null)return parseFloat(Q);else return 1};OU.containerCss=function(Q){var J=this._private.cy,Z=J.container(),U=J.window();if(U&&Z&&U.getComputedStyle)return U.getComputedStyle(Z).getPropertyValue(Q)};var K9={};K9.getRenderedStyle=function(Q,J){if(J)return this.getStylePropertyValue(Q,J,!0);else return this.getRawStyle(Q,!0)};K9.getRawStyle=function(Q,J){var Z=this;if(Q=Q[0],Q){var U={};for(var $=0;$<Z.properties.length;$++){var q=Z.properties[$],K=Z.getStylePropertyValue(Q,q.name,J);if(K!=null)U[q.name]=K,U[Y7(q.name)]=K}return U}};K9.getIndexedStyle=function(Q,J,Z,U){var $=Q.pstyle(J)[Z][U];return $!=null?$:Q.cy().style().getDefaultProperty(J)[Z][0]};K9.getStylePropertyValue=function(Q,J,Z){var U=this;if(Q=Q[0],Q){var $=U.properties[J];if($.alias)$=$.pointsTo;var q=$.type,K=Q.pstyle($.name);if(K){var{value:G,units:Y,strValue:F}=K;if(Z&&q.number&&G!=null&&$J(G)){var X=Q.cy().zoom(),H=function W(L){return L*X},M=function W(L,E){return H(L)+E},z=nJ(G),N=z?Y.every(function(W){return W!=null}):Y!=null;if(N)if(z)return G.map(function(W,L){return M(W,Y[L])}).join(\" \");else return M(G,Y);else if(z)return G.map(function(W){return WJ(W)?W:\"\"+H(W)}).join(\" \");else return\"\"+H(G)}else if(F!=null)return F}return null}};K9.getAnimationStartStyle=function(Q,J){var Z={};for(var U=0;U<J.length;U++){var $=J[U],q=$.name,K=Q.pstyle(q);if(K!==void 0)if(yJ(K))K=this.parse(q,K.strValue);else K=this.parse(q,K);if(K)Z[q]=K}return Z};K9.getPropsList=function(Q){var J=this,Z=[],U=Q,$=J.properties;if(U){var q=Object.keys(U);for(var K=0;K<q.length;K++){var G=q[K],Y=U[G],F=$[G]||$[GU(G)],X=this.parse(F.name,Y);if(X)Z.push(X)}}return Z};K9.getNonDefaultPropertiesHash=function(Q,J,Z){var U=Z.slice(),$,q,K,G,Y,F;for(Y=0;Y<J.length;Y++)if($=J[Y],q=Q.pstyle($,!1),q==null)continue;else if(q.pfValue!=null)U[0]=TZ(G,U[0]),U[1]=PZ(G,U[1]);else{K=q.strValue;for(F=0;F<K.length;F++)G=K.charCodeAt(F),U[0]=TZ(G,U[0]),U[1]=PZ(G,U[1])}return U};K9.getPropertiesHash=K9.getNonDefaultPropertiesHash;var R7={};R7.appendFromJson=function(Q){var J=this;for(var Z=0;Z<Q.length;Z++){var U=Q[Z],$=U.selector,q=U.style||U.css,K=Object.keys(q);J.selector($);for(var G=0;G<K.length;G++){var Y=K[G],F=q[Y];J.css(Y,F)}}return J};R7.fromJson=function(Q){var J=this;return J.resetToDefault(),J.appendFromJson(Q),J};R7.json=function(){var Q=[];for(var J=this.defaultLength;J<this.length;J++){var Z=this[J],U=Z.selector,$=Z.properties,q={};for(var K=0;K<$.length;K++){var G=$[K];q[G.name]=G.strValue}Q.push({selector:!U?\"core\":U.toString(),style:q})}return Q};var AU={};AU.appendFromString=function(Q){var J=this,Z=this,U=\"\"+Q,$,q,K;U=U.replace(/[/][*](\\s|.)+?[*][/]/g,\"\");function G(){if(U.length>$.length)U=U.substr($.length);else U=\"\"}function Y(){if(q.length>K.length)q=q.substr(K.length);else q=\"\"}for(;;){var F=U.match(/^\\s*$/);if(F)break;var X=U.match(/^\\s*((?:.|\\s)+?)\\s*\\{((?:.|\\s)+?)\\}/);if(!X){lJ(\"Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: \"+U);break}$=X[0];var H=X[1];if(H!==\"core\"){var M=new g9(H);if(M.invalid){lJ(\"Skipping parsing of block: Invalid selector found in string stylesheet: \"+H),G();continue}}var z=X[2],N=!1;q=z;var W=[];for(;;){var L=q.match(/^\\s*$/);if(L)break;var E=q.match(/^\\s*(.+?)\\s*:\\s*(.+?)(?:\\s*;|\\s*$)/);if(!E){lJ(\"Skipping parsing of block: Invalid formatting of style property and value definitions found in:\"+z),N=!0;break}K=E[0];var B=E[1],V=E[2],D=J.properties[B];if(!D){lJ(\"Skipping property: Invalid property name in: \"+K),Y();continue}var O=Z.parse(B,V);if(!O){lJ(\"Skipping property: Invalid property definition in: \"+K),Y();continue}W.push({name:B,val:V}),Y()}if(N){G();break}Z.selector(H);for(var A=0;A<W.length;A++){var R=W[A];Z.css(R.name,R.val)}G()}return Z};AU.fromString=function(Q){var J=this;return J.resetToDefault(),J.appendFromString(Q),J};var Y8={};(function(){var Q=N8,J=$2,Z=K2,U=G2,$=Y2,q=function h(d){return\"^\"+d+\"\\\\s*\\\\(\\\\s*([\\\\w\\\\.]+)\\\\s*\\\\)$\"},K=function h(d){var p=Q+\"|\\\\w+|\"+J+\"|\"+Z+\"|\"+U+\"|\"+$;return\"^\"+d+\"\\\\s*\\\\(([\\\\w\\\\.]+)\\\\s*\\\\,\\\\s*(\"+Q+\")\\\\s*\\\\,\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+p+\")\\\\s*\\\\,\\\\s*(\"+p+\")\\\\)$\"},G=[`^url\\\\s*\\\\(\\\\s*['\"]?(.+?)['\"]?\\\\s*\\\\)$`,\"^(none)$\",\"^(.+)$\"];Y8.types={time:{number:!0,min:0,units:\"s|ms\",implicitUnits:\"ms\"},percent:{number:!0,min:0,max:100,units:\"%\",implicitUnits:\"%\"},percentages:{number:!0,min:0,max:100,units:\"%\",implicitUnits:\"%\",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:[\"parent\",\"origin\"]},nodeSize:{number:!0,min:0,enums:[\"label\"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:[\"horizontal\",\"leftward\",\"rightward\",\"vertical\",\"upward\",\"downward\",\"auto\"]},axisDirectionExplicit:{enums:[\"leftward\",\"rightward\",\"upward\",\"downward\"]},axisDirectionPrimary:{enums:[\"horizontal\",\"vertical\"]},paddingRelativeTo:{enums:[\"width\",\"height\",\"average\",\"min\",\"max\"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:[\"auto\"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:[\"inner\",\"include-padding\"],multiple:!0},bgRepeat:{enums:[\"repeat\",\"repeat-x\",\"repeat-y\",\"no-repeat\"],multiple:!0},bgFit:{enums:[\"none\",\"contain\",\"cover\"],multiple:!0},bgCrossOrigin:{enums:[\"anonymous\",\"use-credentials\",\"null\"],multiple:!0},bgClip:{enums:[\"none\",\"node\"],multiple:!0},bgContainment:{enums:[\"inside\",\"over\"],multiple:!0},boxSelection:{enums:[\"contain\",\"overlap\",\"none\"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:[\"solid\",\"linear-gradient\",\"radial-gradient\"]},bool:{enums:[\"yes\",\"no\"]},bools:{enums:[\"yes\",\"no\"],multiple:!0},lineStyle:{enums:[\"solid\",\"dotted\",\"dashed\"]},lineCap:{enums:[\"butt\",\"round\",\"square\"]},linePosition:{enums:[\"center\",\"inside\",\"outside\"]},lineJoin:{enums:[\"round\",\"bevel\",\"miter\"]},borderStyle:{enums:[\"solid\",\"dotted\",\"dashed\",\"double\"]},curveStyle:{enums:[\"bezier\",\"unbundled-bezier\",\"haystack\",\"segments\",\"straight\",\"straight-triangle\",\"taxi\",\"round-segments\",\"round-taxi\"]},radiusType:{enums:[\"arc-radius\",\"influence-radius\"],multiple:!0},fontFamily:{regex:\"^([\\\\w- \\\\\\\"]+(?:\\\\s*,\\\\s*[\\\\w- \\\\\\\"]+)*)$\"},fontStyle:{enums:[\"italic\",\"normal\",\"oblique\"]},fontWeight:{enums:[\"normal\",\"bold\",\"bolder\",\"lighter\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"800\",\"900\",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:[\"none\",\"underline\",\"overline\",\"line-through\"]},textTransform:{enums:[\"none\",\"uppercase\",\"lowercase\"]},textWrap:{enums:[\"none\",\"wrap\",\"ellipsis\"]},textOverflowWrap:{enums:[\"whitespace\",\"anywhere\"]},textBackgroundShape:{enums:[\"rectangle\",\"roundrectangle\",\"round-rectangle\",\"circle\"]},nodeShape:{enums:[\"rectangle\",\"roundrectangle\",\"round-rectangle\",\"cutrectangle\",\"cut-rectangle\",\"bottomroundrectangle\",\"bottom-round-rectangle\",\"barrel\",\"ellipse\",\"triangle\",\"round-triangle\",\"square\",\"pentagon\",\"round-pentagon\",\"hexagon\",\"round-hexagon\",\"concavehexagon\",\"concave-hexagon\",\"heptagon\",\"round-heptagon\",\"octagon\",\"round-octagon\",\"tag\",\"round-tag\",\"star\",\"diamond\",\"round-diamond\",\"vee\",\"rhomboid\",\"right-rhomboid\",\"polygon\"]},overlayShape:{enums:[\"roundrectangle\",\"round-rectangle\",\"ellipse\"]},cornerRadius:{number:!0,min:0,units:\"px|em\",implicitUnits:\"px\",enums:[\"auto\"]},compoundIncludeLabels:{enums:[\"include\",\"exclude\"]},arrowShape:{enums:[\"tee\",\"triangle\",\"triangle-tee\",\"circle-triangle\",\"triangle-cross\",\"triangle-backcurve\",\"vee\",\"square\",\"circle\",\"diamond\",\"chevron\",\"none\"]},arrowFill:{enums:[\"filled\",\"hollow\"]},arrowWidth:{number:!0,units:\"%|px|em\",implicitUnits:\"px\",enums:[\"match-line\"]},display:{enums:[\"element\",\"none\"]},visibility:{enums:[\"hidden\",\"visible\"]},zCompoundDepth:{enums:[\"bottom\",\"orphan\",\"auto\",\"top\"]},zIndexCompare:{enums:[\"auto\",\"manual\"]},valign:{enums:[\"top\",\"center\",\"bottom\"]},halign:{enums:[\"left\",\"center\",\"right\"]},justification:{enums:[\"left\",\"center\",\"right\",\"auto\"]},text:{string:!0},data:{mapping:!0,regex:q(\"data\")},layoutData:{mapping:!0,regex:q(\"layoutData\")},scratch:{mapping:!0,regex:q(\"scratch\")},mapData:{mapping:!0,regex:K(\"mapData\")},mapLayoutData:{mapping:!0,regex:K(\"mapLayoutData\")},mapScratch:{mapping:!0,regex:K(\"mapScratch\")},fn:{mapping:!0,fn:!0},url:{regexes:G,singleRegexMatchValue:!0},urls:{regexes:G,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:\"deg|rad\",implicitUnits:\"rad\"},textRotation:{number:!0,units:\"deg|rad\",implicitUnits:\"rad\",enums:[\"none\",\"autorotate\"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:[\"intersection\",\"node-position\",\"endpoints\"]},edgeEndpoint:{number:!0,multiple:!0,units:\"%|px|em|deg|rad\",implicitUnits:\"px\",enums:[\"inside-to-node\",\"outside-to-node\",\"outside-to-node-or-label\",\"outside-to-line\",\"outside-to-line-or-label\"],singleEnum:!0,validate:function h(d,p){switch(d.length){case 2:return p[0]!==\"deg\"&&p[0]!==\"rad\"&&p[1]!==\"deg\"&&p[1]!==\"rad\";case 1:return WJ(d[0])||p[0]===\"deg\"||p[0]===\"rad\";default:return!1}}},easing:{regexes:[\"^(spring)\\\\s*\\\\(\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*\\\\)$\",\"^(cubic-bezier)\\\\s*\\\\(\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*,\\\\s*(\"+Q+\")\\\\s*\\\\)$\"],enums:[\"linear\",\"ease\",\"ease-in\",\"ease-out\",\"ease-in-out\",\"ease-in-sine\",\"ease-out-sine\",\"ease-in-out-sine\",\"ease-in-quad\",\"ease-out-quad\",\"ease-in-out-quad\",\"ease-in-cubic\",\"ease-out-cubic\",\"ease-in-out-cubic\",\"ease-in-quart\",\"ease-out-quart\",\"ease-in-out-quart\",\"ease-in-quint\",\"ease-out-quint\",\"ease-in-out-quint\",\"ease-in-expo\",\"ease-out-expo\",\"ease-in-out-expo\",\"ease-in-circ\",\"ease-out-circ\",\"ease-in-out-circ\"]},gradientDirection:{enums:[\"to-bottom\",\"to-top\",\"to-left\",\"to-right\",\"to-bottom-right\",\"to-bottom-left\",\"to-top-right\",\"to-top-left\",\"to-right-bottom\",\"to-left-bottom\",\"to-right-top\",\"to-left-top\"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function h(d){var p=d.length;return p===1||p===2||p===4}}};var Y={zeroNonZero:function h(d,p){if((d==null||p==null)&&d!==p)return!0;if(d==0&&p!=0)return!0;else if(d!=0&&p==0)return!0;else return!1},any:function h(d,p){return d!=p},emptyNonEmpty:function h(d,p){var r=y9(d),UJ=y9(p);return r&&!UJ||!r&&UJ}},F=Y8.types,X=[{name:\"label\",type:F.text,triggersBounds:Y.any,triggersZOrder:Y.emptyNonEmpty},{name:\"text-rotation\",type:F.textRotation,triggersBounds:Y.any},{name:\"text-margin-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"text-margin-y\",type:F.bidirectionalSize,triggersBounds:Y.any}],H=[{name:\"source-label\",type:F.text,triggersBounds:Y.any},{name:\"source-text-rotation\",type:F.textRotation,triggersBounds:Y.any},{name:\"source-text-margin-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"source-text-margin-y\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"source-text-offset\",type:F.size,triggersBounds:Y.any}],M=[{name:\"target-label\",type:F.text,triggersBounds:Y.any},{name:\"target-text-rotation\",type:F.textRotation,triggersBounds:Y.any},{name:\"target-text-margin-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"target-text-margin-y\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"target-text-offset\",type:F.size,triggersBounds:Y.any}],z=[{name:\"font-family\",type:F.fontFamily,triggersBounds:Y.any},{name:\"font-style\",type:F.fontStyle,triggersBounds:Y.any},{name:\"font-weight\",type:F.fontWeight,triggersBounds:Y.any},{name:\"font-size\",type:F.size,triggersBounds:Y.any},{name:\"text-transform\",type:F.textTransform,triggersBounds:Y.any},{name:\"text-wrap\",type:F.textWrap,triggersBounds:Y.any},{name:\"text-overflow-wrap\",type:F.textOverflowWrap,triggersBounds:Y.any},{name:\"text-max-width\",type:F.size,triggersBounds:Y.any},{name:\"text-outline-width\",type:F.size,triggersBounds:Y.any},{name:\"line-height\",type:F.positiveNumber,triggersBounds:Y.any}],N=[{name:\"text-valign\",type:F.valign,triggersBounds:Y.any},{name:\"text-halign\",type:F.halign,triggersBounds:Y.any},{name:\"color\",type:F.color},{name:\"text-outline-color\",type:F.color},{name:\"text-outline-opacity\",type:F.zeroOneNumber},{name:\"text-background-color\",type:F.color},{name:\"text-background-opacity\",type:F.zeroOneNumber},{name:\"text-background-padding\",type:F.size,triggersBounds:Y.any},{name:\"text-border-opacity\",type:F.zeroOneNumber},{name:\"text-border-color\",type:F.color},{name:\"text-border-width\",type:F.size,triggersBounds:Y.any},{name:\"text-border-style\",type:F.borderStyle,triggersBounds:Y.any},{name:\"text-background-shape\",type:F.textBackgroundShape,triggersBounds:Y.any},{name:\"text-justification\",type:F.justification},{name:\"box-select-labels\",type:F.bool,triggersBounds:Y.any}],W=[{name:\"events\",type:F.bool,triggersZOrder:Y.any},{name:\"text-events\",type:F.bool,triggersZOrder:Y.any},{name:\"box-selection\",type:F.boxSelection,triggersZOrder:Y.any}],L=[{name:\"display\",type:F.display,triggersZOrder:Y.any,triggersBounds:Y.any,triggersBoundsOfConnectedEdges:Y.any,triggersBoundsOfParallelEdges:function h(d,p,r){if(d===p)return!1;return r.pstyle(\"curve-style\").value===\"bezier\"}},{name:\"visibility\",type:F.visibility,triggersZOrder:Y.any},{name:\"opacity\",type:F.zeroOneNumber,triggersZOrder:Y.zeroNonZero},{name:\"text-opacity\",type:F.zeroOneNumber},{name:\"min-zoomed-font-size\",type:F.size},{name:\"z-compound-depth\",type:F.zCompoundDepth,triggersZOrder:Y.any},{name:\"z-index-compare\",type:F.zIndexCompare,triggersZOrder:Y.any},{name:\"z-index\",type:F.number,triggersZOrder:Y.any}],E=[{name:\"overlay-padding\",type:F.size,triggersBounds:Y.any},{name:\"overlay-color\",type:F.color},{name:\"overlay-opacity\",type:F.zeroOneNumber,triggersBounds:Y.zeroNonZero},{name:\"overlay-shape\",type:F.overlayShape,triggersBounds:Y.any},{name:\"overlay-corner-radius\",type:F.cornerRadius}],B=[{name:\"underlay-padding\",type:F.size,triggersBounds:Y.any},{name:\"underlay-color\",type:F.color},{name:\"underlay-opacity\",type:F.zeroOneNumber,triggersBounds:Y.zeroNonZero},{name:\"underlay-shape\",type:F.overlayShape,triggersBounds:Y.any},{name:\"underlay-corner-radius\",type:F.cornerRadius}],V=[{name:\"transition-property\",type:F.propList},{name:\"transition-duration\",type:F.time},{name:\"transition-delay\",type:F.time},{name:\"transition-timing-function\",type:F.easing}],D=function h(d,p){if(p.value===\"label\")return-d.poolIndex();else return p.pfValue},O=[{name:\"height\",type:F.nodeSize,triggersBounds:Y.any,hashOverride:D},{name:\"width\",type:F.nodeSize,triggersBounds:Y.any,hashOverride:D},{name:\"shape\",type:F.nodeShape,triggersBounds:Y.any},{name:\"shape-polygon-points\",type:F.polygonPointList,triggersBounds:Y.any},{name:\"corner-radius\",type:F.cornerRadius},{name:\"background-color\",type:F.color},{name:\"background-fill\",type:F.fill},{name:\"background-opacity\",type:F.zeroOneNumber},{name:\"background-blacken\",type:F.nOneOneNumber},{name:\"background-gradient-stop-colors\",type:F.colors},{name:\"background-gradient-stop-positions\",type:F.percentages},{name:\"background-gradient-direction\",type:F.gradientDirection},{name:\"padding\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"padding-relative-to\",type:F.paddingRelativeTo,triggersBounds:Y.any},{name:\"bounds-expansion\",type:F.boundsExpansion,triggersBounds:Y.any}],A=[{name:\"border-color\",type:F.color},{name:\"border-opacity\",type:F.zeroOneNumber},{name:\"border-width\",type:F.size,triggersBounds:Y.any},{name:\"border-style\",type:F.borderStyle},{name:\"border-cap\",type:F.lineCap},{name:\"border-join\",type:F.lineJoin},{name:\"border-dash-pattern\",type:F.numbers},{name:\"border-dash-offset\",type:F.number},{name:\"border-position\",type:F.linePosition}],R=[{name:\"outline-color\",type:F.color},{name:\"outline-opacity\",type:F.zeroOneNumber},{name:\"outline-width\",type:F.size,triggersBounds:Y.any},{name:\"outline-style\",type:F.borderStyle},{name:\"outline-offset\",type:F.size,triggersBounds:Y.any}],C=[{name:\"background-image\",type:F.urls},{name:\"background-image-crossorigin\",type:F.bgCrossOrigin},{name:\"background-image-opacity\",type:F.zeroOneNumbers},{name:\"background-image-containment\",type:F.bgContainment},{name:\"background-image-smoothing\",type:F.bools},{name:\"background-position-x\",type:F.bgPos},{name:\"background-position-y\",type:F.bgPos},{name:\"background-width-relative-to\",type:F.bgRelativeTo},{name:\"background-height-relative-to\",type:F.bgRelativeTo},{name:\"background-repeat\",type:F.bgRepeat},{name:\"background-fit\",type:F.bgFit},{name:\"background-clip\",type:F.bgClip},{name:\"background-width\",type:F.bgWH},{name:\"background-height\",type:F.bgWH},{name:\"background-offset-x\",type:F.bgPos},{name:\"background-offset-y\",type:F.bgPos}],I=[{name:\"position\",type:F.position,triggersBounds:Y.any},{name:\"compound-sizing-wrt-labels\",type:F.compoundIncludeLabels,triggersBounds:Y.any},{name:\"min-width\",type:F.size,triggersBounds:Y.any},{name:\"min-width-bias-left\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"min-width-bias-right\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"min-height\",type:F.size,triggersBounds:Y.any},{name:\"min-height-bias-top\",type:F.sizeMaybePercent,triggersBounds:Y.any},{name:\"min-height-bias-bottom\",type:F.sizeMaybePercent,triggersBounds:Y.any}],T=[{name:\"line-style\",type:F.lineStyle},{name:\"line-color\",type:F.color},{name:\"line-fill\",type:F.fill},{name:\"line-cap\",type:F.lineCap},{name:\"line-opacity\",type:F.zeroOneNumber},{name:\"line-dash-pattern\",type:F.numbers},{name:\"line-dash-offset\",type:F.number},{name:\"line-outline-width\",type:F.size},{name:\"line-outline-color\",type:F.color},{name:\"line-gradient-stop-colors\",type:F.colors},{name:\"line-gradient-stop-positions\",type:F.percentages},{name:\"curve-style\",type:F.curveStyle,triggersBounds:Y.any,triggersBoundsOfParallelEdges:function h(d,p){if(d===p)return!1;return d===\"bezier\"||p===\"bezier\"}},{name:\"haystack-radius\",type:F.zeroOneNumber,triggersBounds:Y.any},{name:\"source-endpoint\",type:F.edgeEndpoint,triggersBounds:Y.any},{name:\"target-endpoint\",type:F.edgeEndpoint,triggersBounds:Y.any},{name:\"control-point-step-size\",type:F.size,triggersBounds:Y.any},{name:\"control-point-distances\",type:F.bidirectionalSizes,triggersBounds:Y.any},{name:\"control-point-weights\",type:F.numbers,triggersBounds:Y.any},{name:\"segment-distances\",type:F.bidirectionalSizes,triggersBounds:Y.any},{name:\"segment-weights\",type:F.numbers,triggersBounds:Y.any},{name:\"segment-radii\",type:F.numbers,triggersBounds:Y.any},{name:\"radius-type\",type:F.radiusType,triggersBounds:Y.any},{name:\"taxi-turn\",type:F.bidirectionalSizeMaybePercent,triggersBounds:Y.any},{name:\"taxi-turn-min-distance\",type:F.size,triggersBounds:Y.any},{name:\"taxi-direction\",type:F.axisDirection,triggersBounds:Y.any},{name:\"taxi-radius\",type:F.number,triggersBounds:Y.any},{name:\"edge-distances\",type:F.edgeDistances,triggersBounds:Y.any},{name:\"arrow-scale\",type:F.positiveNumber,triggersBounds:Y.any},{name:\"loop-direction\",type:F.angle,triggersBounds:Y.any},{name:\"loop-sweep\",type:F.angle,triggersBounds:Y.any},{name:\"source-distance-from-node\",type:F.size,triggersBounds:Y.any},{name:\"target-distance-from-node\",type:F.size,triggersBounds:Y.any}],P=[{name:\"ghost\",type:F.bool,triggersBounds:Y.any},{name:\"ghost-offset-x\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"ghost-offset-y\",type:F.bidirectionalSize,triggersBounds:Y.any},{name:\"ghost-opacity\",type:F.zeroOneNumber}],k=[{name:\"selection-box-color\",type:F.color},{name:\"selection-box-opacity\",type:F.zeroOneNumber},{name:\"selection-box-border-color\",type:F.color},{name:\"selection-box-border-width\",type:F.size},{name:\"active-bg-color\",type:F.color},{name:\"active-bg-opacity\",type:F.zeroOneNumber},{name:\"active-bg-size\",type:F.size},{name:\"outside-texture-bg-color\",type:F.color},{name:\"outside-texture-bg-opacity\",type:F.zeroOneNumber}],j=[];Y8.pieBackgroundN=16,j.push({name:\"pie-size\",type:F.sizeMaybePercent}),j.push({name:\"pie-hole\",type:F.sizeMaybePercent}),j.push({name:\"pie-start-angle\",type:F.angle});for(var _=1;_<=Y8.pieBackgroundN;_++)j.push({name:\"pie-\"+_+\"-background-color\",type:F.color}),j.push({name:\"pie-\"+_+\"-background-size\",type:F.percent}),j.push({name:\"pie-\"+_+\"-background-opacity\",type:F.zeroOneNumber});var x=[];Y8.stripeBackgroundN=16,x.push({name:\"stripe-size\",type:F.sizeMaybePercent}),x.push({name:\"stripe-direction\",type:F.axisDirectionPrimary});for(var f=1;f<=Y8.stripeBackgroundN;f++)x.push({name:\"stripe-\"+f+\"-background-color\",type:F.color}),x.push({name:\"stripe-\"+f+\"-background-size\",type:F.percent}),x.push({name:\"stripe-\"+f+\"-background-opacity\",type:F.zeroOneNumber});var v=[],b=Y8.arrowPrefixes=[\"source\",\"mid-source\",\"target\",\"mid-target\"];[{name:\"arrow-shape\",type:F.arrowShape,triggersBounds:Y.any},{name:\"arrow-color\",type:F.color},{name:\"arrow-fill\",type:F.arrowFill},{name:\"arrow-width\",type:F.arrowWidth}].forEach(function(h){b.forEach(function(d){var p=d+\"-\"+h.name,r=h.type,UJ=h.triggersBounds;v.push({name:p,type:r,triggersBounds:UJ})})},{});var y=Y8.properties=[].concat(W,V,L,E,B,P,N,z,X,H,M,O,A,R,C,j,x,I,T,v,k),g=Y8.propertyGroups={behavior:W,transition:V,visibility:L,overlay:E,underlay:B,ghost:P,commonLabel:N,labelDimensions:z,mainLabel:X,sourceLabel:H,targetLabel:M,nodeBody:O,nodeBorder:A,nodeOutline:R,backgroundImage:C,pie:j,stripe:x,compound:I,edgeLine:T,edgeArrow:v,core:k},m=Y8.propertyGroupNames={},u=Y8.propertyGroupKeys=Object.keys(g);u.forEach(function(h){m[h]=g[h].map(function(d){return d.name}),g[h].forEach(function(d){return d.groupKey=h})});var n=Y8.aliases=[{name:\"content\",pointsTo:\"label\"},{name:\"control-point-distance\",pointsTo:\"control-point-distances\"},{name:\"control-point-weight\",pointsTo:\"control-point-weights\"},{name:\"segment-distance\",pointsTo:\"segment-distances\"},{name:\"segment-weight\",pointsTo:\"segment-weights\"},{name:\"segment-radius\",pointsTo:\"segment-radii\"},{name:\"edge-text-rotation\",pointsTo:\"text-rotation\"},{name:\"padding-left\",pointsTo:\"padding\"},{name:\"padding-right\",pointsTo:\"padding\"},{name:\"padding-top\",pointsTo:\"padding\"},{name:\"padding-bottom\",pointsTo:\"padding\"}];Y8.propertyNames=y.map(function(h){return h.name});for(var t=0;t<y.length;t++){var s=y[t];y[s.name]=s}for(var JJ=0;JJ<n.length;JJ++){var ZJ=n[JJ],qJ=y[ZJ.pointsTo],e={name:ZJ.name,alias:!0,pointsTo:qJ};y.push(e),y[ZJ.name]=e}})();Y8.getDefaultProperty=function(Q){return this.getDefaultProperties()[Q]};Y8.getDefaultProperties=function(){var Q=this._private;if(Q.defaultProperties!=null)return Q.defaultProperties;var J=DJ({\"selection-box-color\":\"#ddd\",\"selection-box-opacity\":0.65,\"selection-box-border-color\":\"#aaa\",\"selection-box-border-width\":1,\"active-bg-color\":\"black\",\"active-bg-opacity\":0.15,\"active-bg-size\":30,\"outside-texture-bg-color\":\"#000\",\"outside-texture-bg-opacity\":0.125,events:\"yes\",\"text-events\":\"no\",\"text-valign\":\"top\",\"text-halign\":\"center\",\"text-justification\":\"auto\",\"line-height\":1,color:\"#000\",\"box-selection\":\"contain\",\"text-outline-color\":\"#000\",\"text-outline-width\":0,\"text-outline-opacity\":1,\"text-opacity\":1,\"text-decoration\":\"none\",\"text-transform\":\"none\",\"text-wrap\":\"none\",\"text-overflow-wrap\":\"whitespace\",\"text-max-width\":9999,\"text-background-color\":\"#000\",\"text-background-opacity\":0,\"text-background-shape\":\"rectangle\",\"text-background-padding\":0,\"text-border-opacity\":0,\"text-border-width\":0,\"text-border-style\":\"solid\",\"text-border-color\":\"#000\",\"font-family\":\"Helvetica Neue, Helvetica, sans-serif\",\"font-style\":\"normal\",\"font-weight\":\"normal\",\"font-size\":16,\"min-zoomed-font-size\":0,\"text-rotation\":\"none\",\"source-text-rotation\":\"none\",\"target-text-rotation\":\"none\",visibility:\"visible\",display:\"element\",opacity:1,\"z-compound-depth\":\"auto\",\"z-index-compare\":\"auto\",\"z-index\":0,label:\"\",\"text-margin-x\":0,\"text-margin-y\":0,\"source-label\":\"\",\"source-text-offset\":0,\"source-text-margin-x\":0,\"source-text-margin-y\":0,\"target-label\":\"\",\"target-text-offset\":0,\"target-text-margin-x\":0,\"target-text-margin-y\":0,\"overlay-opacity\":0,\"overlay-color\":\"#000\",\"overlay-padding\":10,\"overlay-shape\":\"round-rectangle\",\"overlay-corner-radius\":\"auto\",\"underlay-opacity\":0,\"underlay-color\":\"#000\",\"underlay-padding\":10,\"underlay-shape\":\"round-rectangle\",\"underlay-corner-radius\":\"auto\",\"transition-property\":\"none\",\"transition-duration\":0,\"transition-delay\":0,\"transition-timing-function\":\"linear\",\"box-select-labels\":\"no\",\"background-blacken\":0,\"background-color\":\"#999\",\"background-fill\":\"solid\",\"background-opacity\":1,\"background-image\":\"none\",\"background-image-crossorigin\":\"anonymous\",\"background-image-opacity\":1,\"background-image-containment\":\"inside\",\"background-image-smoothing\":\"yes\",\"background-position-x\":\"50%\",\"background-position-y\":\"50%\",\"background-offset-x\":0,\"background-offset-y\":0,\"background-width-relative-to\":\"include-padding\",\"background-height-relative-to\":\"include-padding\",\"background-repeat\":\"no-repeat\",\"background-fit\":\"none\",\"background-clip\":\"node\",\"background-width\":\"auto\",\"background-height\":\"auto\",\"border-color\":\"#000\",\"border-opacity\":1,\"border-width\":0,\"border-style\":\"solid\",\"border-dash-pattern\":[4,2],\"border-dash-offset\":0,\"border-cap\":\"butt\",\"border-join\":\"miter\",\"border-position\":\"center\",\"outline-color\":\"#999\",\"outline-opacity\":1,\"outline-width\":0,\"outline-offset\":0,\"outline-style\":\"solid\",height:30,width:30,shape:\"ellipse\",\"shape-polygon-points\":\"-1, -1,   1, -1,   1, 1,   -1, 1\",\"corner-radius\":\"auto\",\"bounds-expansion\":0,\"background-gradient-direction\":\"to-bottom\",\"background-gradient-stop-colors\":\"#999\",\"background-gradient-stop-positions\":\"0%\",ghost:\"no\",\"ghost-offset-y\":0,\"ghost-offset-x\":0,\"ghost-opacity\":0,padding:0,\"padding-relative-to\":\"width\",position:\"origin\",\"compound-sizing-wrt-labels\":\"include\",\"min-width\":0,\"min-width-bias-left\":0,\"min-width-bias-right\":0,\"min-height\":0,\"min-height-bias-top\":0,\"min-height-bias-bottom\":0},{\"pie-size\":\"100%\",\"pie-hole\":0,\"pie-start-angle\":\"0deg\"},[{name:\"pie-{{i}}-background-color\",value:\"black\"},{name:\"pie-{{i}}-background-size\",value:\"0%\"},{name:\"pie-{{i}}-background-opacity\",value:1}].reduce(function(Y,F){for(var X=1;X<=Y8.pieBackgroundN;X++){var H=F.name.replace(\"{{i}}\",X),M=F.value;Y[H]=M}return Y},{}),{\"stripe-size\":\"100%\",\"stripe-direction\":\"horizontal\"},[{name:\"stripe-{{i}}-background-color\",value:\"black\"},{name:\"stripe-{{i}}-background-size\",value:\"0%\"},{name:\"stripe-{{i}}-background-opacity\",value:1}].reduce(function(Y,F){for(var X=1;X<=Y8.stripeBackgroundN;X++){var H=F.name.replace(\"{{i}}\",X),M=F.value;Y[H]=M}return Y},{}),{\"line-style\":\"solid\",\"line-color\":\"#999\",\"line-fill\":\"solid\",\"line-cap\":\"butt\",\"line-opacity\":1,\"line-outline-width\":0,\"line-outline-color\":\"#000\",\"line-gradient-stop-colors\":\"#999\",\"line-gradient-stop-positions\":\"0%\",\"control-point-step-size\":40,\"control-point-weights\":0.5,\"segment-weights\":0.5,\"segment-distances\":20,\"segment-radii\":15,\"radius-type\":\"arc-radius\",\"taxi-turn\":\"50%\",\"taxi-radius\":15,\"taxi-turn-min-distance\":10,\"taxi-direction\":\"auto\",\"edge-distances\":\"intersection\",\"curve-style\":\"haystack\",\"haystack-radius\":0,\"arrow-scale\":1,\"loop-direction\":\"-45deg\",\"loop-sweep\":\"-90deg\",\"source-distance-from-node\":0,\"target-distance-from-node\":0,\"source-endpoint\":\"outside-to-node\",\"target-endpoint\":\"outside-to-node\",\"line-dash-pattern\":[6,3],\"line-dash-offset\":0},[{name:\"arrow-shape\",value:\"none\"},{name:\"arrow-color\",value:\"#999\"},{name:\"arrow-fill\",value:\"filled\"},{name:\"arrow-width\",value:1}].reduce(function(Y,F){return Y8.arrowPrefixes.forEach(function(X){var H=X+\"-\"+F.name,M=F.value;Y[H]=M}),Y},{})),Z={};for(var U=0;U<this.properties.length;U++){var $=this.properties[U];if($.pointsTo)continue;var q=$.name,K=J[q],G=this.parse(q,K);Z[q]=G}return Q.defaultProperties=Z,Q.defaultProperties};Y8.addDefaultStylesheet=function(){this.selector(\":parent\").css({shape:\"rectangle\",padding:10,\"background-color\":\"#eee\",\"border-color\":\"#ccc\",\"border-width\":1}).selector(\"edge\").css({width:3}).selector(\":loop\").css({\"curve-style\":\"bezier\"}).selector(\"edge:compound\").css({\"curve-style\":\"bezier\",\"source-endpoint\":\"outside-to-line\",\"target-endpoint\":\"outside-to-line\"}).selector(\":selected\").css({\"background-color\":\"#0169D9\",\"line-color\":\"#0169D9\",\"source-arrow-color\":\"#0169D9\",\"target-arrow-color\":\"#0169D9\",\"mid-source-arrow-color\":\"#0169D9\",\"mid-target-arrow-color\":\"#0169D9\"}).selector(\":parent:selected\").css({\"background-color\":\"#CCE1F9\",\"border-color\":\"#aec8e5\"}).selector(\":active\").css({\"overlay-color\":\"black\",\"overlay-padding\":10,\"overlay-opacity\":0.25}),this.defaultLength=this.length};var O7={};O7.parse=function(Q,J,Z,U){var $=this;if(Q8(J))return $.parseImplWarn(Q,J,Z,U);var q=U===\"mapping\"||U===!0||U===!1||U==null?\"dontcare\":U,K=Z?\"t\":\"f\",G=\"\"+J,Y=o1(Q,G,K,q),F=$.propCache=$.propCache||[],X;if(!(X=F[Y]))X=F[Y]=$.parseImplWarn(Q,J,Z,U);if(Z||U===\"mapping\"){if(X=q9(X),X)X.value=q9(X.value)}return X};O7.parseImplWarn=function(Q,J,Z,U){var $=this.parseImpl(Q,J,Z,U);if(!$&&J!=null)lJ(\"The style property `\".concat(Q,\": \").concat(J,\"` is invalid\"));if($&&($.name===\"width\"||$.name===\"height\")&&J===\"label\")lJ(\"The style value of `label` is deprecated for `\"+$.name+\"`\");return $};O7.parseImpl=function(Q,J,Z,U){var $=this;Q=GU(Q);var q=$.properties[Q],K=J,G=$.types;if(!q)return null;if(J===void 0)return null;if(q.alias)q=q.pointsTo,Q=q.name;var Y=WJ(J);if(Y)J=J.trim();var F=q.type;if(!F)return null;if(Z&&(J===\"\"||J===null))return{name:Q,value:J,bypass:!0,deleteBypass:!0};if(Q8(J))return{name:Q,value:J,strValue:\"fn\",mapped:G.fn,bypass:Z};var X,H;if(!Y||U||J.length<7||J[1]!==\"a\");else if(J.length>=7&&J[0]===\"d\"&&(X=new RegExp(G.data.regex).exec(J))){if(Z)return!1;var M=G.data;return{name:Q,value:X,strValue:\"\"+J,mapped:M,field:X[1],bypass:Z}}else if(J.length>=10&&J[0]===\"m\"&&(H=new RegExp(G.mapData.regex).exec(J))){if(Z)return!1;if(F.multiple)return!1;var z=G.mapData;if(!(F.color||F.number))return!1;var N=this.parse(Q,H[4]);if(!N||N.mapped)return!1;var W=this.parse(Q,H[5]);if(!W||W.mapped)return!1;if(N.pfValue===W.pfValue||N.strValue===W.strValue)return lJ(\"`\"+Q+\": \"+J+\"` is not a valid mapper because the output range is zero; converting to `\"+Q+\": \"+N.strValue+\"`\"),this.parse(Q,N.strValue);else if(F.color){var L=N.value,E=W.value,B=L[0]===E[0]&&L[1]===E[1]&&L[2]===E[2]&&(L[3]===E[3]||(L[3]==null||L[3]===1)&&(E[3]==null||E[3]===1));if(B)return!1}return{name:Q,value:H,strValue:\"\"+J,mapped:z,field:H[1],fieldMin:parseFloat(H[2]),fieldMax:parseFloat(H[3]),valueMin:N.value,valueMax:W.value,bypass:Z}}if(F.multiple&&U!==\"multiple\"){var V;if(Y)V=J.split(/\\s+/);else if(nJ(J))V=J;else V=[J];if(F.evenMultiple&&V.length%2!==0)return null;var D=[],O=[],A=[],R=\"\",C=!1;for(var I=0;I<V.length;I++){var T=$.parse(Q,V[I],Z,\"multiple\");C=C||WJ(T.value),D.push(T.value),A.push(T.pfValue!=null?T.pfValue:T.value),O.push(T.units),R+=(I>0?\" \":\"\")+T.strValue}if(F.validate&&!F.validate(D,O))return null;if(F.singleEnum&&C)if(D.length===1&&WJ(D[0]))return{name:Q,value:D[0],strValue:D[0],bypass:Z};else return null;return{name:Q,value:D,pfValue:A,strValue:R,bypass:Z,units:O}}var P=function qJ(){for(var e=0;e<F.enums.length;e++){var h=F.enums[e];if(h===J)return{name:Q,value:J,strValue:\"\"+J,bypass:Z}}return null};if(F.number){var k,j=\"px\";if(F.units)k=F.units;if(F.implicitUnits)j=F.implicitUnits;if(!F.unitless){if(Y){var _=\"px|em\"+(F.allowPercent?\"|\\\\%\":\"\");if(k)_=k;var x=J.match(\"^(\"+N8+\")(\"+_+\")?$\");if(x)J=x[1],k=x[2]||j}else if(!k||F.implicitUnits)k=j}if(J=parseFloat(J),isNaN(J)&&F.enums===void 0)return null;if(isNaN(J)&&F.enums!==void 0)return J=K,P();if(F.integer&&!oB(J))return null;if(F.min!==void 0&&(J<F.min||F.strictMin&&J===F.min)||F.max!==void 0&&(J>F.max||F.strictMax&&J===F.max))return null;var f={name:Q,value:J,strValue:\"\"+J+(k?k:\"\"),units:k,bypass:Z};if(F.unitless||k!==\"px\"&&k!==\"em\")f.pfValue=J;else f.pfValue=k===\"px\"||!k?J:this.getEmSizeInPixels()*J;if(k===\"ms\"||k===\"s\")f.pfValue=k===\"ms\"?J:1000*J;if(k===\"deg\"||k===\"rad\")f.pfValue=k===\"rad\"?J:GV(J);if(k===\"%\")f.pfValue=J/100;return f}else if(F.propList){var v=[],b=\"\"+J;if(b===\"none\");else{var y=b.split(/\\s*,\\s*|\\s+/);for(var g=0;g<y.length;g++){var m=y[g].trim();if($.properties[m])v.push(m);else lJ(\"`\"+m+\"` is not a valid property name\")}if(v.length===0)return null}return{name:Q,value:v,strValue:v.length===0?\"none\":v.join(\" \"),bypass:Z}}else if(F.color){var u=p1(J);if(!u)return null;return{name:Q,value:u,pfValue:u,strValue:\"rgb(\"+u[0]+\",\"+u[1]+\",\"+u[2]+\")\",bypass:Z}}else if(F.regex||F.regexes){if(F.enums){var n=P();if(n)return n}var t=F.regexes?F.regexes:[F.regex];for(var s=0;s<t.length;s++){var JJ=new RegExp(t[s]),ZJ=JJ.exec(J);if(ZJ)return{name:Q,value:F.singleRegexMatchValue?ZJ[1]:ZJ,strValue:\"\"+J,bypass:Z}}return null}else if(F.string)return{name:Q,value:\"\"+J,strValue:\"\"+J,bypass:Z};else if(F.enums)return P();else return null};var B8=function Q(J){if(!(this instanceof B8))return new B8(J);if(!KU(J)){J8(\"A style must have a core reference\");return}this._private={cy:J,coreStyle:{}},this.length=0,this.resetToDefault()},T8=B8.prototype;T8.instanceString=function(){return\"style\"};T8.clear=function(){var Q=this._private,J=Q.cy,Z=J.elements();for(var U=0;U<this.length;U++)this[U]=void 0;return this.length=0,Q.contextStyles={},Q.propDiffs={},this.cleanElements(Z,!0),Z.forEach(function($){var q=$[0]._private;q.styleDirty=!0,q.appliedInitStyle=!1}),this};T8.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};T8.core=function(Q){return this._private.coreStyle[Q]||this.getDefaultProperty(Q)};T8.selector=function(Q){var J=Q===\"core\"?null:new g9(Q),Z=this.length++;return this[Z]={selector:J,properties:[],mappedProperties:[],index:Z},this};T8.css=function(){var Q=this,J=arguments;if(J.length===1){var Z=J[0];for(var U=0;U<Q.properties.length;U++){var $=Q.properties[U],q=Z[$.name];if(q===void 0)q=Z[Y7($.name)];if(q!==void 0)this.cssRule($.name,q)}}else if(J.length===2)this.cssRule(J[0],J[1]);return this};T8.style=T8.css;T8.cssRule=function(Q,J){var Z=this.parse(Q,J);if(Z){var U=this.length-1;if(this[U].properties.push(Z),this[U].properties[Z.name]=Z,Z.name.match(/pie-(\\d+)-background-size/)&&Z.value)this._private.hasPie=!0;if(Z.name.match(/stripe-(\\d+)-background-size/)&&Z.value)this._private.hasStripe=!0;if(Z.mapped)this[U].mappedProperties.push(Z);var $=!this[U].selector;if($)this._private.coreStyle[Z.name]=Z}return this};T8.append=function(Q){if(g1(Q))Q.appendToStyle(this);else if(nJ(Q))this.appendFromJson(Q);else if(WJ(Q))this.appendFromString(Q);return this};B8.fromJson=function(Q,J){var Z=new B8(Q);return Z.fromJson(J),Z};B8.fromString=function(Q,J){return new B8(Q).fromString(J)};[V8,lZ,OU,K9,R7,AU,Y8,O7].forEach(function(Q){DJ(T8,Q)});B8.types=T8.types;B8.properties=T8.properties;B8.propertyGroups=T8.propertyGroups;B8.propertyGroupNames=T8.propertyGroupNames;B8.propertyGroupKeys=T8.propertyGroupKeys;var HO={style:function Q(J){if(J){var Z=this.setStyle(J);Z.update()}return this._private.style},setStyle:function Q(J){var Z=this._private;if(g1(J))Z.style=J.generateStyle(this);else if(nJ(J))Z.style=B8.fromJson(this,J);else if(WJ(J))Z.style=B8.fromString(this,J);else Z.style=B8(this);return Z.style},updateStyle:function Q(){this.mutableElements().updateStyle()}},MO=\"single\",zQ={autolock:function Q(J){if(J!==void 0)this._private.autolock=J?!0:!1;else return this._private.autolock;return this},autoungrabify:function Q(J){if(J!==void 0)this._private.autoungrabify=J?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function Q(J){if(J!==void 0)this._private.autounselectify=J?!0:!1;else return this._private.autounselectify;return this},selectionType:function Q(J){var Z=this._private;if(Z.selectionType==null)Z.selectionType=MO;if(J!==void 0){if(J===\"additive\"||J===\"single\")Z.selectionType=J}else return Z.selectionType;return this},panningEnabled:function Q(J){if(J!==void 0)this._private.panningEnabled=J?!0:!1;else return this._private.panningEnabled;return this},userPanningEnabled:function Q(J){if(J!==void 0)this._private.userPanningEnabled=J?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function Q(J){if(J!==void 0)this._private.zoomingEnabled=J?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function Q(J){if(J!==void 0)this._private.userZoomingEnabled=J?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function Q(J){if(J!==void 0)this._private.boxSelectionEnabled=J?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function Q(){var J=arguments,Z=this._private.pan,U,$,q,K,G;switch(J.length){case 0:return Z;case 1:if(WJ(J[0]))return U=J[0],Z[U];else if(yJ(J[0])){if(!this._private.panningEnabled)return this;if(q=J[0],K=q.x,G=q.y,$J(K))Z.x=K;if($J(G))Z.y=G;this.emit(\"pan viewport\")}break;case 2:if(!this._private.panningEnabled)return this;if(U=J[0],$=J[1],(U===\"x\"||U===\"y\")&&$J($))Z[U]=$;this.emit(\"pan viewport\");break}return this.notify(\"viewport\"),this},panBy:function Q(J,Z){var U=arguments,$=this._private.pan,q,K,G,Y,F;if(!this._private.panningEnabled)return this;switch(U.length){case 1:if(yJ(J)){if(G=U[0],Y=G.x,F=G.y,$J(Y))$.x+=Y;if($J(F))$.y+=F;this.emit(\"pan viewport\")}break;case 2:if(q=J,K=Z,(q===\"x\"||q===\"y\")&&$J(K))$[q]+=K;this.emit(\"pan viewport\");break}return this.notify(\"viewport\"),this},gc:function Q(){this.notify(\"gc\")},fit:function Q(J,Z){var U=this.getFitViewport(J,Z);if(U){var $=this._private;$.zoom=U.zoom,$.pan=U.pan,this.emit(\"pan zoom viewport\"),this.notify(\"viewport\")}return this},getFitViewport:function Q(J,Z){if($J(J)&&Z===void 0)Z=J,J=void 0;if(!this._private.panningEnabled||!this._private.zoomingEnabled)return;var U;if(WJ(J)){var $=J;J=this.$($)}else if(J2(J)){var q=J;U={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2},U.w=U.x2-U.x1,U.h=U.y2-U.y1}else if(!h8(J))J=this.mutableElements();if(h8(J)&&J.empty())return;U=U||J.boundingBox();var K=this.width(),G=this.height(),Y;if(Z=$J(Z)?Z:0,!isNaN(K)&&!isNaN(G)&&K>0&&G>0&&!isNaN(U.w)&&!isNaN(U.h)&&U.w>0&&U.h>0){Y=Math.min((K-2*Z)/U.w,(G-2*Z)/U.h),Y=Y>this._private.maxZoom?this._private.maxZoom:Y,Y=Y<this._private.minZoom?this._private.minZoom:Y;var F={x:(K-Y*(U.x1+U.x2))/2,y:(G-Y*(U.y1+U.y2))/2};return{zoom:Y,pan:F}}return},zoomRange:function Q(J,Z){var U=this._private;if(Z==null){var $=J;J=$.min,Z=$.max}if($J(J)&&$J(Z)&&J<=Z)U.minZoom=J,U.maxZoom=Z;else if($J(J)&&Z===void 0&&J<=U.maxZoom)U.minZoom=J;else if($J(Z)&&J===void 0&&Z>=U.minZoom)U.maxZoom=Z;return this},minZoom:function Q(J){if(J===void 0)return this._private.minZoom;else return this.zoomRange({min:J})},maxZoom:function Q(J){if(J===void 0)return this._private.maxZoom;else return this.zoomRange({max:J})},getZoomedViewport:function Q(J){var Z=this._private,U=Z.pan,$=Z.zoom,q,K,G=!1;if(!Z.zoomingEnabled)G=!0;if($J(J))K=J;else if(yJ(J)){if(K=J.level,J.position!=null)q=H7(J.position,$,U);else if(J.renderedPosition!=null)q=J.renderedPosition;if(q!=null&&!Z.panningEnabled)G=!0}if(K=K>Z.maxZoom?Z.maxZoom:K,K=K<Z.minZoom?Z.minZoom:K,G||!$J(K)||K===$||q!=null&&(!$J(q.x)||!$J(q.y)))return null;if(q!=null){var Y=U,F=$,X=K,H={x:-X/F*(q.x-Y.x)+q.x,y:-X/F*(q.y-Y.y)+q.y};return{zoomed:!0,panned:!0,zoom:X,pan:H}}else return{zoomed:!0,panned:!1,zoom:K,pan:U}},zoom:function Q(J){if(J===void 0)return this._private.zoom;else{var Z=this.getZoomedViewport(J),U=this._private;if(Z==null||!Z.zoomed)return this;if(U.zoom=Z.zoom,Z.panned)U.pan.x=Z.pan.x,U.pan.y=Z.pan.y;return this.emit(\"zoom\"+(Z.panned?\" pan\":\"\")+\" viewport\"),this.notify(\"viewport\"),this}},viewport:function Q(J){var Z=this._private,U=!0,$=!0,q=[],K=!1,G=!1;if(!J)return this;if(!$J(J.zoom))U=!1;if(!yJ(J.pan))$=!1;if(!U&&!$)return this;if(U){var Y=J.zoom;if(Y<Z.minZoom||Y>Z.maxZoom||!Z.zoomingEnabled)K=!0;else Z.zoom=Y,q.push(\"zoom\")}if($&&(!K||!J.cancelOnFailedZoom)&&Z.panningEnabled){var F=J.pan;if($J(F.x))Z.pan.x=F.x,G=!1;if($J(F.y))Z.pan.y=F.y,G=!1;if(!G)q.push(\"pan\")}if(q.length>0)q.push(\"viewport\"),this.emit(q.join(\" \")),this.notify(\"viewport\");return this},center:function Q(J){var Z=this.getCenterPan(J);if(Z)this._private.pan=Z,this.emit(\"pan viewport\"),this.notify(\"viewport\");return this},getCenterPan:function Q(J,Z){if(!this._private.panningEnabled)return;if(WJ(J)){var U=J;J=this.mutableElements().filter(U)}else if(!h8(J))J=this.mutableElements();if(J.length===0)return;var $=J.boundingBox(),q=this.width(),K=this.height();Z=Z===void 0?this._private.zoom:Z;var G={x:(q-Z*($.x1+$.x2))/2,y:(K-Z*($.y1+$.y2))/2};return G},reset:function Q(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;return this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function Q(){this._private.sizeCache=null},size:function Q(){var J=this._private,Z=J.container,U=this;return J.sizeCache=J.sizeCache||(Z?function(){var $=U.window().getComputedStyle(Z),q=function K(G){return parseFloat($.getPropertyValue(G))};return{width:Z.clientWidth-q(\"padding-left\")-q(\"padding-right\"),height:Z.clientHeight-q(\"padding-top\")-q(\"padding-bottom\")}}():{width:1,height:1})},width:function Q(){return this.size().width},height:function Q(){return this.size().height},extent:function Q(){var J=this._private.pan,Z=this._private.zoom,U=this.renderedExtent(),$={x1:(U.x1-J.x)/Z,x2:(U.x2-J.x)/Z,y1:(U.y1-J.y)/Z,y2:(U.y2-J.y)/Z};return $.w=$.x2-$.x1,$.h=$.y2-$.y1,$},renderedExtent:function Q(){var J=this.width(),Z=this.height();return{x1:0,y1:0,x2:J,y2:Z,w:J,h:Z}},multiClickDebounceTime:function Q(J){if(J)this._private.multiClickDebounceTime=J;else return this._private.multiClickDebounceTime;return this}};zQ.centre=zQ.center;zQ.autolockNodes=zQ.autolock;zQ.autoungrabifyNodes=zQ.autoungrabify;var fZ={data:pJ.data({field:\"data\",bindingEvent:\"data\",allowBinding:!0,allowSetting:!0,settingEvent:\"data\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,updateStyle:!0}),removeData:pJ.removeData({field:\"data\",event:\"data\",triggerFnName:\"trigger\",triggerEvent:!0,updateStyle:!0}),scratch:pJ.data({field:\"scratch\",bindingEvent:\"scratch\",allowBinding:!0,allowSetting:!0,settingEvent:\"scratch\",settingTriggersEvent:!0,triggerFnName:\"trigger\",allowGetting:!0,updateStyle:!0}),removeScratch:pJ.removeData({field:\"scratch\",event:\"scratch\",triggerFnName:\"trigger\",triggerEvent:!0,updateStyle:!0})};fZ.attr=fZ.data;fZ.removeAttr=fZ.removeData;var xZ=function Q(J){var Z=this;J=DJ({},J);var U=J.container;if(U&&!a6(U)&&a6(U[0]))U=U[0];var $=U?U._cyreg:null;if($=$||{},$&&$.cy)$.cy.destroy(),$={};var q=$.readies=$.readies||[];if(U)U._cyreg=$;$.cy=Z;var K=M8!==void 0&&U!==void 0&&!J.headless,G=J;G.layout=DJ({name:K?\"grid\":\"null\"},G.layout),G.renderer=DJ({name:K?\"canvas\":\"null\"},G.renderer);var Y=function z(N,W,L){if(W!==void 0)return W;else if(L!==void 0)return L;else return N},F=this._private={container:U,ready:!1,options:G,elements:new O8(this),listeners:[],aniEles:new O8(this),data:G.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:0.00000000000000000000000000000000000000000000000001,maxZoom:100000000000000000000000000000000000000000000000000,zoomingEnabled:Y(!0,G.zoomingEnabled),userZoomingEnabled:Y(!0,G.userZoomingEnabled),panningEnabled:Y(!0,G.panningEnabled),userPanningEnabled:Y(!0,G.userPanningEnabled),boxSelectionEnabled:Y(!0,G.boxSelectionEnabled),autolock:Y(!1,G.autolock,G.autolockNodes),autoungrabify:Y(!1,G.autoungrabify,G.autoungrabifyNodes),autounselectify:Y(!1,G.autounselectify),styleEnabled:G.styleEnabled===void 0?K:G.styleEnabled,zoom:$J(G.zoom)?G.zoom:1,pan:{x:yJ(G.pan)&&$J(G.pan.x)?G.pan.x:0,y:yJ(G.pan)&&$J(G.pan.y)?G.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:Y(250,G.multiClickDebounceTime)};this.createEmitter(),this.selectionType(G.selectionType),this.zoomRange({min:G.minZoom,max:G.maxZoom});var X=function z(N,W){var L=N.some(Q2);if(L)return nQ.all(N).then(W);else W(N)};if(F.styleEnabled)Z.setStyle([]);var H=DJ({},G,G.renderer);Z.initRenderer(H);var M=function z(N,W,L){Z.notifications(!1);var E=Z.mutableElements();if(E.length>0)E.remove();if(N!=null){if(yJ(N)||nJ(N))Z.add(N)}Z.one(\"layoutready\",function(V){Z.notifications(!0),Z.emit(V),Z.one(\"load\",W),Z.emitAndNotify(\"load\")}).one(\"layoutstop\",function(){Z.one(\"done\",L),Z.emit(\"done\")});var B=DJ({},Z._private.options.layout);B.eles=Z.elements(),Z.layout(B).run()};X([G.style,G.elements],function(z){var N=z[0],W=z[1];if(F.styleEnabled)Z.style().append(N);M(W,function(){if(Z.startAnimationLoop(),F.ready=!0,Q8(G.ready))Z.on(\"ready\",G.ready);for(var L=0;L<q.length;L++){var E=q[L];Z.on(\"ready\",E)}if($)$.readies=[];Z.emit(\"ready\")},G.done)})},Z7=xZ.prototype;DJ(Z7,{instanceString:function Q(){return\"core\"},isReady:function Q(){return this._private.ready},destroyed:function Q(){return this._private.destroyed},ready:function Q(J){if(this.isReady())this.emitter().emit(\"ready\",[],J);else this.on(\"ready\",J);return this},destroy:function Q(){var J=this;if(J.destroyed())return;return J.stopAnimationLoop(),J.destroyRenderer(),this.emit(\"destroy\"),J._private.destroyed=!0,J},hasElementWithId:function Q(J){return this._private.elements.hasElementWithId(J)},getElementById:function Q(J){return this._private.elements.getElementById(J)},hasCompoundNodes:function Q(){return this._private.hasCompoundNodes},headless:function Q(){return this._private.renderer.isHeadless()},styleEnabled:function Q(){return this._private.styleEnabled},addToPool:function Q(J){return this._private.elements.merge(J),this},removeFromPool:function Q(J){return this._private.elements.unmerge(J),this},container:function Q(){return this._private.container||null},window:function Q(){var J=this._private.container;if(J==null)return M8;var Z=this._private.container.ownerDocument;if(Z===void 0||Z==null)return M8;return Z.defaultView||M8},mount:function Q(J){if(J==null)return;var Z=this,U=Z._private,$=U.options;if(!a6(J)&&a6(J[0]))J=J[0];return Z.stopAnimationLoop(),Z.destroyRenderer(),U.container=J,U.styleEnabled=!0,Z.invalidateSize(),Z.initRenderer(DJ({},$,$.renderer,{name:$.renderer.name===\"null\"?\"canvas\":$.renderer.name})),Z.startAnimationLoop(),Z.style($.style),Z.emit(\"mount\"),Z},unmount:function Q(){var J=this;return J.stopAnimationLoop(),J.destroyRenderer(),J.initRenderer({name:\"null\"}),J.emit(\"unmount\"),J},options:function Q(){return q9(this._private.options)},json:function Q(J){var Z=this,U=Z._private,$=Z.mutableElements(),q=function V(D){return Z.getElementById(D.id())};if(yJ(J)){if(Z.startBatch(),J.elements){var K={},G=function V(D,O){var A=[],R=[];for(var C=0;C<D.length;C++){var I=D[C];if(!I.data.id){lJ(\"cy.json() cannot handle elements without an ID attribute\");continue}var T=\"\"+I.data.id,P=Z.getElementById(T);if(K[T]=!0,P.length!==0)R.push({ele:P,json:I});else if(O)I.group=O,A.push(I);else A.push(I)}Z.add(A);for(var k=0;k<R.length;k++){var j=R[k],_=j.ele,x=j.json;_.json(x)}};if(nJ(J.elements))G(J.elements);else{var Y=[\"nodes\",\"edges\"];for(var F=0;F<Y.length;F++){var X=Y[F],H=J.elements[X];if(nJ(H))G(H,X)}}var M=Z.collection();$.filter(function(V){return!K[V.id()]}).forEach(function(V){if(V.isParent())M.merge(V);else V.remove()}),M.forEach(function(V){return V.children().move({parent:null})}),M.forEach(function(V){return q(V).remove()})}if(J.style)Z.style(J.style);if(J.zoom!=null&&J.zoom!==U.zoom)Z.zoom(J.zoom);if(J.pan){if(J.pan.x!==U.pan.x||J.pan.y!==U.pan.y)Z.pan(J.pan)}if(J.data)Z.data(J.data);var z=[\"minZoom\",\"maxZoom\",\"zoomingEnabled\",\"userZoomingEnabled\",\"panningEnabled\",\"userPanningEnabled\",\"boxSelectionEnabled\",\"autolock\",\"autoungrabify\",\"autounselectify\",\"multiClickDebounceTime\"];for(var N=0;N<z.length;N++){var W=z[N];if(J[W]!=null)Z[W](J[W])}return Z.endBatch(),this}else{var L=!!J,E={};if(L)E.elements=this.elements().map(function(V){return V.json()});else E.elements={},$.forEach(function(V){var D=V.group();if(!E.elements[D])E.elements[D]=[];E.elements[D].push(V.json())});if(this._private.styleEnabled)E.style=Z.style().json();E.data=q9(Z.data());var B=U.options;return E.zoomingEnabled=U.zoomingEnabled,E.userZoomingEnabled=U.userZoomingEnabled,E.zoom=U.zoom,E.minZoom=U.minZoom,E.maxZoom=U.maxZoom,E.panningEnabled=U.panningEnabled,E.userPanningEnabled=U.userPanningEnabled,E.pan=q9(U.pan),E.boxSelectionEnabled=U.boxSelectionEnabled,E.renderer=q9(B.renderer),E.hideEdgesOnViewport=B.hideEdgesOnViewport,E.textureOnViewport=B.textureOnViewport,E.wheelSensitivity=B.wheelSensitivity,E.motionBlur=B.motionBlur,E.multiClickDebounceTime=B.multiClickDebounceTime,E}}});Z7.$id=Z7.getElementById;[QO,KO,gK,s0,c6,YO,a0,p6,HO,zQ,fZ].forEach(function(Q){DJ(Z7,Q)});var NO={fit:!0,directed:!1,direction:\"downward\",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}},zO={maximal:!1,acyclic:!1},wQ=function Q(J){return J.scratch(\"breadthfirst\")},F1=function Q(J,Z){return J.scratch(\"breadthfirst\",Z)};function dK(Q){this.options=DJ({},NO,zO,Q)}dK.prototype.run=function(){var Q=this.options,J=Q.cy,Z=Q.eles,U=Z.nodes().filter(function(BJ){return BJ.isChildless()}),$=Z,q=Q.directed,K=Q.acyclic||Q.maximal||Q.maximalAdjustments>0,G=!!Q.boundingBox,Y=w8(G?Q.boundingBox:structuredClone(J.extent())),F;if(h8(Q.roots))F=Q.roots;else if(nJ(Q.roots)){var X=[];for(var H=0;H<Q.roots.length;H++){var M=Q.roots[H],z=J.getElementById(M);X.push(z)}F=J.collection(X)}else if(WJ(Q.roots))F=J.$(Q.roots);else if(q)F=U.roots();else{var N=Z.components();F=J.collection();var W=function BJ(){var KJ=N[L],zJ=KJ.maxDegree(!1),LJ=KJ.filter(function(AJ){return AJ.degree(!1)===zJ});F=F.add(LJ)};for(var L=0;L<N.length;L++)W()}var E=[],B={},V=function BJ(KJ,zJ){if(E[zJ]==null)E[zJ]=[];var LJ=E[zJ].length;E[zJ].push(KJ),F1(KJ,{index:LJ,depth:zJ})},D=function BJ(KJ,zJ){var LJ=wQ(KJ),AJ=LJ.depth,EJ=LJ.index;if(E[AJ][EJ]=null,KJ.isChildless())V(KJ,zJ)};$.bfs({roots:F,directed:Q.directed,visit:function BJ(KJ,zJ,LJ,AJ,EJ){var PJ=KJ[0],bJ=PJ.id();if(PJ.isChildless())V(PJ,EJ);B[bJ]=!0}});var O=[];for(var A=0;A<U.length;A++){var R=U[A];if(B[R.id()])continue;else O.push(R)}var C=function BJ(KJ){var zJ=E[KJ];for(var LJ=0;LJ<zJ.length;LJ++){var AJ=zJ[LJ];if(AJ==null){zJ.splice(LJ,1),LJ--;continue}F1(AJ,{depth:KJ,index:LJ})}},I=function BJ(KJ,zJ){var LJ=wQ(KJ),AJ=KJ.incomers().filter(function(OJ){return OJ.isNode()&&Z.has(OJ)}),EJ=-1,PJ=KJ.id();for(var bJ=0;bJ<AJ.length;bJ++){var gJ=AJ[bJ],dJ=wQ(gJ);EJ=Math.max(EJ,dJ.depth)}if(LJ.depth<=EJ){if(!Q.acyclic&&zJ[PJ])return null;var cJ=EJ+1;return D(KJ,cJ),zJ[PJ]=cJ,!0}return!1};if(q&&K){var T=[],P={},k=function BJ(KJ){return T.push(KJ)},j=function BJ(){return T.shift()};U.forEach(function(BJ){return T.push(BJ)});while(T.length>0){var _=j(),x=I(_,P);if(x)_.outgoers().filter(function(BJ){return BJ.isNode()&&Z.has(BJ)}).forEach(k);else if(x===null){lJ(\"Detected double maximal shift for node `\"+_.id()+\"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.\");break}}}var f=0;if(Q.avoidOverlap)for(var v=0;v<U.length;v++){var b=U[v],y=b.layoutDimensions(Q),g=y.w,m=y.h;f=Math.max(f,g,m)}var u={},n=function BJ(KJ){if(u[KJ.id()])return u[KJ.id()];var zJ=wQ(KJ).depth,LJ=KJ.neighborhood(),AJ=0,EJ=0;for(var PJ=0;PJ<LJ.length;PJ++){var bJ=LJ[PJ];if(bJ.isEdge()||bJ.isParent()||!U.has(bJ))continue;var gJ=wQ(bJ);if(gJ==null)continue;var{index:dJ,depth:cJ}=gJ;if(dJ==null||cJ==null)continue;var OJ=E[cJ].length;if(cJ<zJ)AJ+=dJ/OJ,EJ++}if(EJ=Math.max(1,EJ),AJ=AJ/EJ,EJ===0)AJ=0;return u[KJ.id()]=AJ,AJ},t=function BJ(KJ,zJ){var LJ=n(KJ),AJ=n(zJ),EJ=LJ-AJ;if(EJ===0)return c1(KJ.id(),zJ.id());else return EJ};if(Q.depthSort!==void 0)t=Q.depthSort;var s=E.length;for(var JJ=0;JJ<s;JJ++)E[JJ].sort(t),C(JJ);var ZJ=[];for(var qJ=0;qJ<O.length;qJ++)ZJ.push(O[qJ]);var e=function BJ(){for(var KJ=0;KJ<s;KJ++)C(KJ)};if(ZJ.length)E.unshift(ZJ),s=E.length,e();var h=0;for(var d=0;d<s;d++)h=Math.max(E[d].length,h);var p={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},r=U.reduce(function(BJ,KJ){return function(zJ){return{w:BJ.w===-1?zJ.w:(BJ.w+zJ.w)/2,h:BJ.h===-1?zJ.h:(BJ.h+zJ.h)/2}}(KJ.boundingBox({includeLabels:Q.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),UJ=Math.max(s===1?0:G?(Y.h-Q.padding*2-r.h)/(s-1):(Y.h-Q.padding*2-r.h)/(s+1),f),NJ=E.reduce(function(BJ,KJ){return Math.max(BJ,KJ.length)},0),xJ=function BJ(KJ){var zJ=wQ(KJ),LJ=zJ.depth,AJ=zJ.index;if(Q.circle){var EJ=Math.min(Y.w/2/s,Y.h/2/s);EJ=Math.max(EJ,f);var PJ=EJ*LJ+EJ-(s>0&&E[0].length<=3?EJ/2:0),bJ=2*Math.PI/E[LJ].length*AJ;if(LJ===0&&E[0].length===1)PJ=1;return{x:p.x+PJ*Math.cos(bJ),y:p.y+PJ*Math.sin(bJ)}}else{var gJ=E[LJ].length,dJ=Math.max(gJ===1?0:G?(Y.w-Q.padding*2-r.w)/((Q.grid?NJ:gJ)-1):(Y.w-Q.padding*2-r.w)/((Q.grid?NJ:gJ)+1),f),cJ={x:p.x+(AJ+1-(gJ+1)/2)*dJ,y:p.y+(LJ+1-(s+1)/2)*UJ};return cJ}},CJ={downward:0,leftward:90,upward:180,rightward:-90};if(Object.keys(CJ).indexOf(Q.direction)===-1)J8(\"Invalid direction '\".concat(Q.direction,\"' specified for breadthfirst layout. Valid values are: \").concat(Object.keys(CJ).join(\", \")));var RJ=function BJ(KJ){return j2(xJ(KJ),Y,CJ[Q.direction])};return Z.nodes().layoutPositions(this,Q,RJ),this};var LO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function cK(Q){this.options=DJ({},LO,Q)}cK.prototype.run=function(){var Q=this.options,J=Q,Z=Q.cy,U=J.eles,$=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,q=U.nodes().not(\":parent\");if(J.sort)q=q.sort(J.sort);var K=w8(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Z.width(),h:Z.height()}),G={x:K.x1+K.w/2,y:K.y1+K.h/2},Y=J.sweep===void 0?2*Math.PI-2*Math.PI/q.length:J.sweep,F=Y/Math.max(1,q.length-1),X,H=0;for(var M=0;M<q.length;M++){var z=q[M],N=z.layoutDimensions(J),W=N.w,L=N.h;H=Math.max(H,W,L)}if($J(J.radius))X=J.radius;else if(q.length<=1)X=0;else X=Math.min(K.h,K.w)/2-H;if(q.length>1&&J.avoidOverlap){H*=1.75;var E=Math.cos(F)-Math.cos(0),B=Math.sin(F)-Math.sin(0),V=Math.sqrt(H*H/(E*E+B*B));X=Math.max(V,X)}var D=function O(A,R){var C=J.startAngle+R*F*($?1:-1),I=X*Math.cos(C),T=X*Math.sin(C),P={x:G.x+I,y:G.y+T};return P};return U.nodes().layoutPositions(this,J,D),this};var WO={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function Q(J){return J.degree()},levelWidth:function Q(J){return J.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function pK(Q){this.options=DJ({},WO,Q)}pK.prototype.run=function(){var Q=this.options,J=Q,Z=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,U=Q.cy,$=J.eles,q=$.nodes().not(\":parent\"),K=w8(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:U.width(),h:U.height()}),G={x:K.x1+K.w/2,y:K.y1+K.h/2},Y=[],F=0;for(var X=0;X<q.length;X++){var H=q[X],M=void 0;M=J.concentric(H),Y.push({value:M,node:H}),H._private.scratch.concentric=M}q.updateStyle();for(var z=0;z<q.length;z++){var N=q[z],W=N.layoutDimensions(J);F=Math.max(F,W.w,W.h)}Y.sort(function(UJ,NJ){return NJ.value-UJ.value});var L=J.levelWidth(q),E=[[]],B=E[0];for(var V=0;V<Y.length;V++){var D=Y[V];if(B.length>0){var O=Math.abs(B[0].value-D.value);if(O>=L)B=[],E.push(B)}B.push(D)}var A=F+J.minNodeSpacing;if(!J.avoidOverlap){var R=E.length>0&&E[0].length>1,C=Math.min(K.w,K.h)/2-A,I=C/(E.length+R?1:0);A=Math.min(A,I)}var T=0;for(var P=0;P<E.length;P++){var k=E[P],j=J.sweep===void 0?2*Math.PI-2*Math.PI/k.length:J.sweep,_=k.dTheta=j/Math.max(1,k.length-1);if(k.length>1&&J.avoidOverlap){var x=Math.cos(_)-Math.cos(0),f=Math.sin(_)-Math.sin(0),v=Math.sqrt(A*A/(x*x+f*f));T=Math.max(v,T)}k.r=T,T+=A}if(J.equidistant){var b=0,y=0;for(var g=0;g<E.length;g++){var m=E[g],u=m.r-y;b=Math.max(b,u)}y=0;for(var n=0;n<E.length;n++){var t=E[n];if(n===0)y=t.r;t.r=y,y+=b}}var s={};for(var JJ=0;JJ<E.length;JJ++){var ZJ=E[JJ],qJ=ZJ.dTheta,e=ZJ.r;for(var h=0;h<ZJ.length;h++){var d=ZJ[h],p=J.startAngle+(Z?1:-1)*qJ*h,r={x:G.x+e*Math.cos(p),y:G.y+e*Math.sin(p)};s[d.node.id()]=r}}return $.nodes().layoutPositions(this,J,function(UJ){var NJ=UJ.id();return s[NJ]}),this};var j0,EO={ready:function Q(){},stop:function Q(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function Q(J,Z){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function Q(J){return 2048},nodeOverlap:4,idealEdgeLength:function Q(J){return 32},edgeElasticity:function Q(J){return 32},nestingFactor:1.2,gravity:1,numIter:1000,initialTemp:1000,coolingFactor:0.99,minTemp:1};function A7(Q){this.options=DJ({},EO,Q),this.options.layout=this;var J=this.options.eles.nodes(),Z=this.options.eles.edges(),U=Z.filter(function($){var q=$.source().data(\"id\"),K=$.target().data(\"id\"),G=J.some(function(F){return F.data(\"id\")===q}),Y=J.some(function(F){return F.data(\"id\")===K});return!G||!Y});this.options.eles=this.options.eles.not(U)}A7.prototype.run=function(){var Q=this.options,J=Q.cy,Z=this;if(Z.stopped=!1,Q.animate===!0||Q.animate===!1)Z.emit({type:\"layoutstart\",layout:Z});if(Q.debug===!0)j0=!0;else j0=!1;var U=BO(J,Z,Q);if(j0)DO(U);if(Q.randomize)RO(U);var $=B9(),q=function H(){if(OO(U,J,Q),Q.fit===!0)J.fit(Q.padding)},K=function H(M){if(Z.stopped||M>=Q.numIter)return!1;if(AO(U,Q),U.temperature=U.temperature*Q.coolingFactor,U.temperature<Q.minTemp)return!1;return!0},G=function H(){if(Q.animate===!0||Q.animate===!1)q(),Z.one(\"layoutstop\",Q.stop),Z.emit({type:\"layoutstop\",layout:Z});else{var M=Q.eles.nodes(),z=iK(U,Q,M);M.layoutPositions(Z,Q,z)}},Y=0,F=!0;if(Q.animate===!0){var X=function H(){var M=0;while(F&&M<Q.refresh)F=K(Y),Y++,M++;if(!F)H1(U,Q),G();else{var z=B9();if(z-$>=Q.animationThreshold)q();r6(X)}};X()}else{while(F)F=K(Y),Y++;H1(U,Q),G()}return this};A7.prototype.stop=function(){if(this.stopped=!0,this.thread)this.thread.stop();return this.emit(\"layoutstop\"),this};A7.prototype.destroy=function(){if(this.thread)this.thread.stop();return this};var BO=function Q(J,Z,U){var $=U.eles.edges(),q=U.eles.nodes(),K=w8(U.boundingBox?U.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),G={isCompound:J.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:q.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:$.size(),temperature:U.initialTemp,clientWidth:K.w,clientHeight:K.h,boundingBox:K},Y=U.eles.components(),F={};for(var X=0;X<Y.length;X++){var H=Y[X];for(var M=0;M<H.length;M++){var z=H[M];F[z.id()]=X}}for(var X=0;X<G.nodeSize;X++){var N=q[X],W=N.layoutDimensions(U),L={};L.isLocked=N.locked(),L.id=N.data(\"id\"),L.parentId=N.data(\"parent\"),L.cmptId=F[N.id()],L.children=[],L.positionX=N.position(\"x\"),L.positionY=N.position(\"y\"),L.offsetX=0,L.offsetY=0,L.height=W.w,L.width=W.h,L.maxX=L.positionX+L.width/2,L.minX=L.positionX-L.width/2,L.maxY=L.positionY+L.height/2,L.minY=L.positionY-L.height/2,L.padLeft=parseFloat(N.style(\"padding\")),L.padRight=parseFloat(N.style(\"padding\")),L.padTop=parseFloat(N.style(\"padding\")),L.padBottom=parseFloat(N.style(\"padding\")),L.nodeRepulsion=Q8(U.nodeRepulsion)?U.nodeRepulsion(N):U.nodeRepulsion,G.layoutNodes.push(L),G.idToIndex[L.id]=X}var E=[],B=0,V=-1,D=[];for(var X=0;X<G.nodeSize;X++){var N=G.layoutNodes[X],O=N.parentId;if(O!=null)G.layoutNodes[G.idToIndex[O]].children.push(N.id);else E[++V]=N.id,D.push(N.id)}G.graphSet.push(D);while(B<=V){var A=E[B++],R=G.idToIndex[A],z=G.layoutNodes[R],C=z.children;if(C.length>0){G.graphSet.push(C);for(var X=0;X<C.length;X++)E[++V]=C[X]}}for(var X=0;X<G.graphSet.length;X++){var I=G.graphSet[X];for(var M=0;M<I.length;M++){var T=G.idToIndex[I[M]];G.indexToGraph[T]=X}}for(var X=0;X<G.edgeSize;X++){var P=$[X],k={};k.id=P.data(\"id\"),k.sourceId=P.data(\"source\"),k.targetId=P.data(\"target\");var j=Q8(U.idealEdgeLength)?U.idealEdgeLength(P):U.idealEdgeLength,_=Q8(U.edgeElasticity)?U.edgeElasticity(P):U.edgeElasticity,x=G.idToIndex[k.sourceId],f=G.idToIndex[k.targetId],v=G.indexToGraph[x],b=G.indexToGraph[f];if(v!=b){var y=VO(k.sourceId,k.targetId,G),g=G.graphSet[y],m=0,L=G.layoutNodes[x];while(g.indexOf(L.id)===-1)L=G.layoutNodes[G.idToIndex[L.parentId]],m++;L=G.layoutNodes[f];while(g.indexOf(L.id)===-1)L=G.layoutNodes[G.idToIndex[L.parentId]],m++;j*=m*U.nestingFactor}k.idealLength=j,k.elasticity=_,G.layoutEdges.push(k)}return G},VO=function Q(J,Z,U){var $=lK(J,Z,0,U);if(2>$.count)return 0;else return $.graph},lK=function Q(J,Z,U,$){var q=$.graphSet[U];if(-1<q.indexOf(J)&&-1<q.indexOf(Z))return{count:2,graph:U};var K=0;for(var G=0;G<q.length;G++){var Y=q[G],F=$.idToIndex[Y],X=$.layoutNodes[F].children;if(X.length===0)continue;var H=$.indexToGraph[$.idToIndex[X[0]]],M=lK(J,Z,H,$);if(M.count===0)continue;else if(M.count===1){if(K++,K===2)break}else return M}return{count:K,graph:U}},DO,RO=function Q(J,Z){var{clientWidth:U,clientHeight:$}=J;for(var q=0;q<J.nodeSize;q++){var K=J.layoutNodes[q];if(K.children.length===0&&!K.isLocked)K.positionX=Math.random()*U,K.positionY=Math.random()*$}},iK=function Q(J,Z,U){var $=J.boundingBox,q={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};if(Z.boundingBox)U.forEach(function(K){var G=J.layoutNodes[J.idToIndex[K.data(\"id\")]];q.x1=Math.min(q.x1,G.positionX),q.x2=Math.max(q.x2,G.positionX),q.y1=Math.min(q.y1,G.positionY),q.y2=Math.max(q.y2,G.positionY)}),q.w=q.x2-q.x1,q.h=q.y2-q.y1;return function(K,G){var Y=J.layoutNodes[J.idToIndex[K.data(\"id\")]];if(Z.boundingBox){var F=q.w===0?0.5:(Y.positionX-q.x1)/q.w,X=q.h===0?0.5:(Y.positionY-q.y1)/q.h;return{x:$.x1+F*$.w,y:$.y1+X*$.h}}else return{x:Y.positionX,y:Y.positionY}}},OO=function Q(J,Z,U){var $=U.layout,q=U.eles.nodes(),K=iK(J,U,q);if(q.positions(K),J.ready!==!0)J.ready=!0,$.one(\"layoutready\",U.ready),$.emit({type:\"layoutready\",layout:this})},AO=function Q(J,Z,U){CO(J,Z),TO(J),PO(J,Z),kO(J),jO(J)},CO=function Q(J,Z){for(var U=0;U<J.graphSet.length;U++){var $=J.graphSet[U],q=$.length;for(var K=0;K<q;K++){var G=J.layoutNodes[J.idToIndex[$[K]]];for(var Y=K+1;Y<q;Y++){var F=J.layoutNodes[J.idToIndex[$[Y]]];SO(G,F,J,Z)}}}},X1=function Q(J){return-1+2*J*Math.random()},SO=function Q(J,Z,U,$){var q=J.cmptId,K=Z.cmptId;if(q!==K&&!U.isCompound)return;var G=Z.positionX-J.positionX,Y=Z.positionY-J.positionY,F=1;if(G===0&&Y===0)G=X1(F),Y=X1(F);var X=IO(J,Z,G,Y);if(X>0)var H=$.nodeOverlap*X,M=Math.sqrt(G*G+Y*Y),z=H*G/M,N=H*Y/M;else var W=U7(J,G,Y),L=U7(Z,-1*G,-1*Y),E=L.x-W.x,B=L.y-W.y,V=E*E+B*B,M=Math.sqrt(V),H=(J.nodeRepulsion+Z.nodeRepulsion)/V,z=H*E/M,N=H*B/M;if(!J.isLocked)J.offsetX-=z,J.offsetY-=N;if(!Z.isLocked)Z.offsetX+=z,Z.offsetY+=N;return},IO=function Q(J,Z,U,$){if(U>0)var q=J.maxX-Z.minX;else var q=Z.maxX-J.minX;if($>0)var K=J.maxY-Z.minY;else var K=Z.maxY-J.minY;if(q>=0&&K>=0)return Math.sqrt(q*q+K*K);else return 0},U7=function Q(J,Z,U){var{positionX:$,positionY:q}=J,K=J.height||1,G=J.width||1,Y=U/Z,F=K/G,X={};if(Z===0&&0<U)return X.x=$,X.y=q+K/2,X;if(Z===0&&0>U)return X.x=$,X.y=q+K/2,X;if(0<Z&&-1*F<=Y&&Y<=F)return X.x=$+G/2,X.y=q+G*U/2/Z,X;if(0>Z&&-1*F<=Y&&Y<=F)return X.x=$-G/2,X.y=q-G*U/2/Z,X;if(0<U&&(Y<=-1*F||Y>=F))return X.x=$+K*Z/2/U,X.y=q+K/2,X;if(0>U&&(Y<=-1*F||Y>=F))return X.x=$-K*Z/2/U,X.y=q-K/2,X;return X},TO=function Q(J,Z){for(var U=0;U<J.edgeSize;U++){var $=J.layoutEdges[U],q=J.idToIndex[$.sourceId],K=J.layoutNodes[q],G=J.idToIndex[$.targetId],Y=J.layoutNodes[G],F=Y.positionX-K.positionX,X=Y.positionY-K.positionY;if(F===0&&X===0)continue;var H=U7(K,F,X),M=U7(Y,-1*F,-1*X),z=M.x-H.x,N=M.y-H.y,W=Math.sqrt(z*z+N*N),L=Math.pow($.idealLength-W,2)/$.elasticity;if(W!==0)var E=L*z/W,B=L*N/W;else var E=0,B=0;if(!K.isLocked)K.offsetX+=E,K.offsetY+=B;if(!Y.isLocked)Y.offsetX-=E,Y.offsetY-=B}},PO=function Q(J,Z){if(Z.gravity===0)return;var U=1;for(var $=0;$<J.graphSet.length;$++){var q=J.graphSet[$],K=q.length;if($===0)var G=J.clientHeight/2,Y=J.clientWidth/2;else var F=J.layoutNodes[J.idToIndex[q[0]]],X=J.layoutNodes[J.idToIndex[F.parentId]],G=X.positionX,Y=X.positionY;for(var H=0;H<K;H++){var M=J.layoutNodes[J.idToIndex[q[H]]];if(M.isLocked)continue;var z=G-M.positionX,N=Y-M.positionY,W=Math.sqrt(z*z+N*N);if(W>U){var L=Z.gravity*z/W,E=Z.gravity*N/W;M.offsetX+=L,M.offsetY+=E}}}},kO=function Q(J,Z){var U=[],$=0,q=-1;U.push.apply(U,J.graphSet[0]),q+=J.graphSet[0].length;while($<=q){var K=U[$++],G=J.idToIndex[K],Y=J.layoutNodes[G],F=Y.children;if(0<F.length&&!Y.isLocked){var{offsetX:X,offsetY:H}=Y;for(var M=0;M<F.length;M++){var z=J.layoutNodes[J.idToIndex[F[M]]];z.offsetX+=X,z.offsetY+=H,U[++q]=F[M]}Y.offsetX=0,Y.offsetY=0}}},jO=function Q(J,Z){for(var U=0;U<J.nodeSize;U++){var $=J.layoutNodes[U];if(0<$.children.length)$.maxX=void 0,$.minX=void 0,$.maxY=void 0,$.minY=void 0}for(var U=0;U<J.nodeSize;U++){var $=J.layoutNodes[U];if(0<$.children.length||$.isLocked)continue;var q=wO($.offsetX,$.offsetY,J.temperature);$.positionX+=q.x,$.positionY+=q.y,$.offsetX=0,$.offsetY=0,$.minX=$.positionX-$.width,$.maxX=$.positionX+$.width,$.minY=$.positionY-$.height,$.maxY=$.positionY+$.height,nK($,J)}for(var U=0;U<J.nodeSize;U++){var $=J.layoutNodes[U];if(0<$.children.length&&!$.isLocked)$.positionX=($.maxX+$.minX)/2,$.positionY=($.maxY+$.minY)/2,$.width=$.maxX-$.minX,$.height=$.maxY-$.minY}},wO=function Q(J,Z,U){var $=Math.sqrt(J*J+Z*Z);if($>U)var q={x:U*J/$,y:U*Z/$};else var q={x:J,y:Z};return q},nK=function Q(J,Z){var U=J.parentId;if(U==null)return;var $=Z.layoutNodes[Z.idToIndex[U]],q=!1;if($.maxX==null||J.maxX+$.padRight>$.maxX)$.maxX=J.maxX+$.padRight,q=!0;if($.minX==null||J.minX-$.padLeft<$.minX)$.minX=J.minX-$.padLeft,q=!0;if($.maxY==null||J.maxY+$.padBottom>$.maxY)$.maxY=J.maxY+$.padBottom,q=!0;if($.minY==null||J.minY-$.padTop<$.minY)$.minY=J.minY-$.padTop,q=!0;if(q)return nK($,Z);return},H1=function Q(J,Z){var U=J.layoutNodes,$=[];for(var q=0;q<U.length;q++){var K=U[q],G=K.cmptId,Y=$[G]=$[G]||[];Y.push(K)}var F=0;for(var q=0;q<$.length;q++){var X=$[q];if(!X)continue;X.x1=1/0,X.x2=-1/0,X.y1=1/0,X.y2=-1/0;for(var H=0;H<X.length;H++){var M=X[H];X.x1=Math.min(X.x1,M.positionX-M.width/2),X.x2=Math.max(X.x2,M.positionX+M.width/2),X.y1=Math.min(X.y1,M.positionY-M.height/2),X.y2=Math.max(X.y2,M.positionY+M.height/2)}X.w=X.x2-X.x1,X.h=X.y2-X.y1,F+=X.w*X.h}$.sort(function(B,V){return V.w*V.h-B.w*B.h});var z=0,N=0,W=0,L=0,E=Math.sqrt(F)*J.clientWidth/J.clientHeight;for(var q=0;q<$.length;q++){var X=$[q];if(!X)continue;for(var H=0;H<X.length;H++){var M=X[H];if(!M.isLocked)M.positionX+=z-X.x1,M.positionY+=N-X.y1}if(z+=X.w+Z.componentSpacing,W+=X.w+Z.componentSpacing,L=Math.max(L,X.h),W>E)N+=L+Z.componentSpacing,z=0,W=0,L=0}},_O={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function Q(J){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function sK(Q){this.options=DJ({},_O,Q)}sK.prototype.run=function(){var Q=this.options,J=Q,Z=Q.cy,U=J.eles,$=U.nodes().not(\":parent\");if(J.sort)$=$.sort(J.sort);var q=w8(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Z.width(),h:Z.height()});if(q.h===0||q.w===0)U.nodes().layoutPositions(this,J,function(n){return{x:q.x1,y:q.y1}});else{var K=$.size(),G=Math.sqrt(K*q.h/q.w),Y=Math.round(G),F=Math.round(q.w/q.h*G),X=function n(t){if(t==null)return Math.min(Y,F);else{var s=Math.min(Y,F);if(s==Y)Y=t;else F=t}},H=function n(t){if(t==null)return Math.max(Y,F);else{var s=Math.max(Y,F);if(s==Y)Y=t;else F=t}},M=J.rows,z=J.cols!=null?J.cols:J.columns;if(M!=null&&z!=null)Y=M,F=z;else if(M!=null&&z==null)Y=M,F=Math.ceil(K/Y);else if(M==null&&z!=null)F=z,Y=Math.ceil(K/F);else if(F*Y>K){var N=X(),W=H();if((N-1)*W>=K)X(N-1);else if((W-1)*N>=K)H(W-1)}else while(F*Y<K){var L=X(),E=H();if((E+1)*L>=K)H(E+1);else X(L+1)}var B=q.w/F,V=q.h/Y;if(J.condense)B=0,V=0;if(J.avoidOverlap)for(var D=0;D<$.length;D++){var O=$[D],A=O._private.position;if(A.x==null||A.y==null)A.x=0,A.y=0;var R=O.layoutDimensions(J),C=J.avoidOverlapPadding,I=R.w+C,T=R.h+C;B=Math.max(B,I),V=Math.max(V,T)}var P={},k=function n(t,s){return P[\"c-\"+t+\"-\"+s]?!0:!1},j=function n(t,s){P[\"c-\"+t+\"-\"+s]=!0},_=0,x=0,f=function n(){if(x++,x>=F)x=0,_++},v={};for(var b=0;b<$.length;b++){var y=$[b],g=J.position(y);if(g&&(g.row!==void 0||g.col!==void 0)){var m={row:g.row,col:g.col};if(m.col===void 0){m.col=0;while(k(m.row,m.col))m.col++}else if(m.row===void 0){m.row=0;while(k(m.row,m.col))m.row++}v[y.id()]=m,j(m.row,m.col)}}var u=function n(t,s){var JJ,ZJ;if(t.locked()||t.isParent())return!1;var qJ=v[t.id()];if(qJ)JJ=qJ.col*B+B/2+q.x1,ZJ=qJ.row*V+V/2+q.y1;else{while(k(_,x))f();JJ=x*B+B/2+q.x1,ZJ=_*V+V/2+q.y1,j(_,x),f()}return{x:JJ,y:ZJ}};$.layoutPositions(this,J,u)}return this};var vO={ready:function Q(){},stop:function Q(){}};function CU(Q){this.options=DJ({},vO,Q)}CU.prototype.run=function(){var Q=this.options,J=Q.eles,Z=this;return Q.cy,Z.emit(\"layoutstart\"),J.nodes().positions(function(){return{x:0,y:0}}),Z.one(\"layoutready\",Q.ready),Z.emit(\"layoutready\"),Z.one(\"layoutstop\",Q.stop),Z.emit(\"layoutstop\"),this};CU.prototype.stop=function(){return this};var fO={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function aK(Q){this.options=DJ({},fO,Q)}aK.prototype.run=function(){var Q=this.options,J=Q.eles,Z=J.nodes(),U=Q8(Q.positions);function $(q){if(Q.positions==null)return ZV(q.position());if(U)return Q.positions(q);var K=Q.positions[q._private.data.id];if(K==null)return null;return K}return Z.layoutPositions(this,Q,function(q,K){var G=$(q);if(q.locked()||G==null)return!1;return G}),this};var xO={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Q(J,Z){return!0},ready:void 0,stop:void 0,transform:function Q(J,Z){return Z}};function rK(Q){this.options=DJ({},xO,Q)}rK.prototype.run=function(){var Q=this.options,J=Q.cy,Z=Q.eles,U=w8(Q.boundingBox?Q.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),$=function q(K,G){return{x:U.x1+Math.round(Math.random()*U.w),y:U.y1+Math.round(Math.random()*U.h)}};return Z.nodes().layoutPositions(this,Q,$),this};var bO=[{name:\"breadthfirst\",impl:dK},{name:\"circle\",impl:cK},{name:\"concentric\",impl:pK},{name:\"cose\",impl:A7},{name:\"grid\",impl:sK},{name:\"null\",impl:CU},{name:\"preset\",impl:aK},{name:\"random\",impl:rK}];function oK(Q){this.options=Q,this.notifications=0}var M1=function Q(){},N1=function Q(){throw new Error(\"A headless instance can not render images\")};oK.prototype={recalculateRenderedStyle:M1,notify:function Q(){this.notifications++},init:M1,isHeadless:function Q(){return!0},png:N1,jpg:N1};var SU={};SU.arrowShapeWidth=0.3;SU.registerArrowShapes=function(){var Q=this.arrowShapes={},J=this,Z=function Y(F,X,H,M,z,N,W){var L=z.x-H/2-W,E=z.x+H/2+W,B=z.y-H/2-W,V=z.y+H/2+W,D=L<=F&&F<=E&&B<=X&&X<=V;return D},U=function Y(F,X,H,M,z){var N=F*Math.cos(M)-X*Math.sin(M),W=F*Math.sin(M)+X*Math.cos(M),L=N*H,E=W*H,B=L+z.x,V=E+z.y;return{x:B,y:V}},$=function Y(F,X,H,M){var z=[];for(var N=0;N<F.length;N+=2){var W=F[N],L=F[N+1];z.push(U(W,L,X,H,M))}return z},q=function Y(F){var X=[];for(var H=0;H<F.length;H++){var M=F[H];X.push(M.x,M.y)}return X},K=function Y(F){return F.pstyle(\"width\").pfValue*F.pstyle(\"arrow-scale\").pfValue*2},G=function Y(F,X){if(WJ(X))X=Q[X];Q[F]=DJ({name:F,points:[-0.15,-0.3,0.15,-0.3,0.15,0.3,-0.15,0.3],collide:function H(M,z,N,W,L,E){var B=q($(this.points,N+2*E,W,L)),V=m8(M,z,B);return V},roughCollide:Z,draw:function H(M,z,N,W){var L=$(this.points,z,N,W);J.arrowShapeImpl(\"polygon\")(M,L)},spacing:function H(M){return 0},gap:K},X)};G(\"none\",{collide:o6,roughCollide:o6,draw:XU,spacing:T4,gap:T4}),G(\"triangle\",{points:[-0.15,-0.3,0,0,0.15,-0.3]}),G(\"arrow\",\"triangle\"),G(\"triangle-backcurve\",{points:Q.triangle.points,controlPoint:[0,-0.15],roughCollide:Z,draw:function Y(F,X,H,M,z){var N=$(this.points,X,H,M),W=this.controlPoint,L=U(W[0],W[1],X,H,M);J.arrowShapeImpl(this.name)(F,N,L)},gap:function Y(F){return K(F)*0.8}}),G(\"triangle-tee\",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],pointsTee:[-0.15,-0.4,-0.15,-0.5,0.15,-0.5,0.15,-0.4],collide:function Y(F,X,H,M,z,N,W){var L=q($(this.points,H+2*W,M,z)),E=q($(this.pointsTee,H+2*W,M,z)),B=m8(F,X,L)||m8(F,X,E);return B},draw:function Y(F,X,H,M,z){var N=$(this.points,X,H,M),W=$(this.pointsTee,X,H,M);J.arrowShapeImpl(this.name)(F,N,W)}}),G(\"circle-triangle\",{radius:0.15,pointsTr:[0,-0.15,0.15,-0.45,-0.15,-0.45,0,-0.15],collide:function Y(F,X,H,M,z,N,W){var L=z,E=Math.pow(L.x-F,2)+Math.pow(L.y-X,2)<=Math.pow((H+2*W)*this.radius,2),B=q($(this.points,H+2*W,M,z));return m8(F,X,B)||E},draw:function Y(F,X,H,M,z){var N=$(this.pointsTr,X,H,M);J.arrowShapeImpl(this.name)(F,N,M.x,M.y,this.radius*X)},spacing:function Y(F){return J.getArrowWidth(F.pstyle(\"width\").pfValue,F.pstyle(\"arrow-scale\").value)*this.radius}}),G(\"triangle-cross\",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],baseCrossLinePts:[-0.15,-0.4,-0.15,-0.4,0.15,-0.4,0.15,-0.4],crossLinePts:function Y(F,X){var H=this.baseCrossLinePts.slice(),M=X/F,z=3,N=5;return H[z]=H[z]-M,H[N]=H[N]-M,H},collide:function Y(F,X,H,M,z,N,W){var L=q($(this.points,H+2*W,M,z)),E=q($(this.crossLinePts(H,N),H+2*W,M,z)),B=m8(F,X,L)||m8(F,X,E);return B},draw:function Y(F,X,H,M,z){var N=$(this.points,X,H,M),W=$(this.crossLinePts(X,z),X,H,M);J.arrowShapeImpl(this.name)(F,N,W)}}),G(\"vee\",{points:[-0.15,-0.3,0,0,0.15,-0.3,0,-0.15],gap:function Y(F){return K(F)*0.525}}),G(\"circle\",{radius:0.15,collide:function Y(F,X,H,M,z,N,W){var L=z,E=Math.pow(L.x-F,2)+Math.pow(L.y-X,2)<=Math.pow((H+2*W)*this.radius,2);return E},draw:function Y(F,X,H,M,z){J.arrowShapeImpl(this.name)(F,M.x,M.y,this.radius*X)},spacing:function Y(F){return J.getArrowWidth(F.pstyle(\"width\").pfValue,F.pstyle(\"arrow-scale\").value)*this.radius}}),G(\"tee\",{points:[-0.15,0,-0.15,-0.1,0.15,-0.1,0.15,0],spacing:function Y(F){return 1},gap:function Y(F){return 1}}),G(\"square\",{points:[-0.15,0,0.15,0,0.15,-0.3,-0.15,-0.3]}),G(\"diamond\",{points:[-0.15,-0.15,0,-0.3,0.15,-0.15,0,0],gap:function Y(F){return F.pstyle(\"width\").pfValue*F.pstyle(\"arrow-scale\").value}}),G(\"chevron\",{points:[0,0,-0.15,-0.15,-0.1,-0.2,0,-0.1,0.1,-0.2,0.15,-0.15],gap:function Y(F){return 0.95*F.pstyle(\"width\").pfValue*F.pstyle(\"arrow-scale\").value}})};var WQ={};WQ.projectIntoViewport=function(Q,J){var Z=this.cy,U=this.findContainerClientCoords(),$=U[0],q=U[1],K=U[4],G=Z.pan(),Y=Z.zoom(),F=((Q-$)/K-G.x)/Y,X=((J-q)/K-G.y)/Y;return[F,X]};WQ.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var Q=this.container,J=Q.getBoundingClientRect(),Z=this.cy.window().getComputedStyle(Q),U=function L(E){return parseFloat(Z.getPropertyValue(E))},$={left:U(\"padding-left\"),right:U(\"padding-right\"),top:U(\"padding-top\"),bottom:U(\"padding-bottom\")},q={left:U(\"border-left-width\"),right:U(\"border-right-width\"),top:U(\"border-top-width\"),bottom:U(\"border-bottom-width\")},K=Q.clientWidth,G=Q.clientHeight,Y=$.left+$.right,F=$.top+$.bottom,X=q.left+q.right,H=J.width/(K+X),M=K-Y,z=G-F,N=J.left+$.left+q.left,W=J.top+$.top+q.top;return this.containerBB=[N,W,M,z,H]};WQ.invalidateContainerClientCoordsCache=function(){this.containerBB=null};WQ.findNearestElement=function(Q,J,Z,U){return this.findNearestElements(Q,J,Z,U)[0]};WQ.findNearestElements=function(Q,J,Z,U){var $=this,q=this,K=q.getCachedZSortedEles(),G=[],Y=q.cy.zoom(),F=q.cy.hasCompoundNodes(),X=(U?24:8)/Y,H=(U?8:2)/Y,M=(U?8:2)/Y,z=1/0,N,W;if(Z)K=K.interactive;function L(R,C){if(R.isNode())if(W)return;else W=R,G.push(R);if(R.isEdge()&&(C==null||C<z))if(N){if(N.pstyle(\"z-compound-depth\").value===R.pstyle(\"z-compound-depth\").value&&N.pstyle(\"z-compound-depth\").value===R.pstyle(\"z-compound-depth\").value){for(var I=0;I<G.length;I++)if(G[I].isEdge()){G[I]=R,N=R,z=C!=null?C:z;break}}}else G.push(R),N=R,z=C!=null?C:z}function E(R){var C=R.outerWidth()+2*H,I=R.outerHeight()+2*H,T=C/2,P=I/2,k=R.position(),j=R.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":R.pstyle(\"corner-radius\").pfValue,_=R._private.rscratch;if(k.x-T<=Q&&Q<=k.x+T&&k.y-P<=J&&J<=k.y+P){var x=q.nodeShapes[$.getNodeShape(R)];if(x.checkPoint(Q,J,0,C,I,k.x,k.y,j,_))return L(R,0),!0}}function B(R){var C=R._private,I=C.rscratch,T=R.pstyle(\"width\").pfValue,P=R.pstyle(\"arrow-scale\").value,k=T/2+X,j=k*k,_=k*2,b=C.source,y=C.target,x;if(I.edgeType===\"segments\"||I.edgeType===\"straight\"||I.edgeType===\"haystack\"){var f=I.allpts;for(var v=0;v+3<f.length;v+=2)if(WV(Q,J,f[v],f[v+1],f[v+2],f[v+3],_)&&j>(x=RV(Q,J,f[v],f[v+1],f[v+2],f[v+3])))return L(R,x),!0}else if(I.edgeType===\"bezier\"||I.edgeType===\"multibezier\"||I.edgeType===\"self\"||I.edgeType===\"compound\"){var f=I.allpts;for(var v=0;v+5<I.allpts.length;v+=4)if(EV(Q,J,f[v],f[v+1],f[v+2],f[v+3],f[v+4],f[v+5],_)&&j>(x=DV(Q,J,f[v],f[v+1],f[v+2],f[v+3],f[v+4],f[v+5])))return L(R,x),!0}var b=b||C.source,y=y||C.target,g=$.getArrowWidth(T,P),m=[{name:\"source\",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:\"target\",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:\"mid-source\",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:\"mid-target\",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}];for(var v=0;v<m.length;v++){var u=m[v],n=q.arrowShapes[R.pstyle(u.name+\"-arrow-shape\").value],t=R.pstyle(\"width\").pfValue;if(n.roughCollide(Q,J,g,u.angle,{x:u.x,y:u.y},t,X)&&n.collide(Q,J,g,u.angle,{x:u.x,y:u.y},t,X))return L(R),!0}if(F&&G.length>0)E(b),E(y)}function V(R,C,I){return b8(R,C,I)}function D(R,C){var I=R._private,T=M,P;if(C)P=C+\"-\";else P=\"\";R.boundingBox();var k=I.labelBounds[C||\"main\"],j=R.pstyle(P+\"label\").value,_=R.pstyle(\"text-events\").strValue===\"yes\";if(!_||!j)return;var x=V(I.rscratch,\"labelX\",C),f=V(I.rscratch,\"labelY\",C),v=V(I.rscratch,\"labelAngle\",C),b=R.pstyle(P+\"text-margin-x\").pfValue,y=R.pstyle(P+\"text-margin-y\").pfValue,g=k.x1-T-b,m=k.x2+T-b,u=k.y1-T-y,n=k.y2+T-y;if(v){var t=Math.cos(v),s=Math.sin(v),JJ=function p(r,UJ){return r=r-x,UJ=UJ-f,{x:r*t-UJ*s+x,y:r*s+UJ*t+f}},ZJ=JJ(g,u),qJ=JJ(g,n),e=JJ(m,u),h=JJ(m,n),d=[ZJ.x+b,ZJ.y+y,e.x+b,e.y+y,h.x+b,h.y+y,qJ.x+b,qJ.y+y];if(m8(Q,J,d))return L(R),!0}else if(f9(k,Q,J))return L(R),!0}for(var O=K.length-1;O>=0;O--){var A=K[O];if(A.isNode())E(A)||D(A);else B(A)||D(A)||D(A,\"source\")||D(A,\"target\")}return G};WQ.getAllInBox=function(Q,J,Z,U){var $=this.getCachedZSortedEles().interactive,q=this.cy.zoom(),K=2/q,G=[],Y=Math.min(Q,Z),F=Math.max(Q,Z),X=Math.min(J,U),H=Math.max(J,U);Q=Y,Z=F,J=X,U=H;var M=w8({x1:Q,y1:J,x2:Z,y2:U}),z=[{x:M.x1,y:M.y1},{x:M.x2,y:M.y1},{x:M.x2,y:M.y2},{x:M.x1,y:M.y2}],N=[[z[0],z[1]],[z[1],z[2]],[z[2],z[3]],[z[3],z[0]]];function W(r,UJ,NJ){return b8(r,UJ,NJ)}function L(r,UJ){var NJ=r._private,xJ=K,CJ=\"\";r.boundingBox();var RJ=NJ.labelBounds.main;if(!RJ)return null;var BJ=W(NJ.rscratch,\"labelX\",UJ),KJ=W(NJ.rscratch,\"labelY\",UJ),zJ=W(NJ.rscratch,\"labelAngle\",UJ),LJ=r.pstyle(CJ+\"text-margin-x\").pfValue,AJ=r.pstyle(CJ+\"text-margin-y\").pfValue,EJ=RJ.x1-xJ-LJ,PJ=RJ.x2+xJ-LJ,bJ=RJ.y1-xJ-AJ,gJ=RJ.y2+xJ-AJ;if(zJ){var dJ=Math.cos(zJ),cJ=Math.sin(zJ),OJ=function FJ(a,S){return a=a-BJ,S=S-KJ,{x:a*dJ-S*cJ+BJ,y:a*cJ+S*dJ+KJ}};return[OJ(EJ,bJ),OJ(PJ,bJ),OJ(PJ,gJ),OJ(EJ,gJ)]}else return[{x:EJ,y:bJ},{x:PJ,y:bJ},{x:PJ,y:gJ},{x:EJ,y:gJ}]}function E(r,UJ,NJ,xJ){function CJ(RJ,BJ,KJ){return(KJ.y-RJ.y)*(BJ.x-RJ.x)>(BJ.y-RJ.y)*(KJ.x-RJ.x)}return CJ(r,NJ,xJ)!==CJ(UJ,NJ,xJ)&&CJ(r,UJ,NJ)!==CJ(r,UJ,xJ)}for(var B=0;B<$.length;B++){var V=$[B];if(V.isNode()){var D=V,O=D.pstyle(\"text-events\").strValue===\"yes\",A=D.pstyle(\"box-selection\").strValue,R=D.pstyle(\"box-select-labels\").strValue===\"yes\";if(A===\"none\")continue;var C=(A===\"overlap\"||R)&&O,I=D.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:C});if(A===\"contain\"){var T=!1;if(R&&O){var P=L(D);if(P&&P5(P,z))G.push(D),T=!0}if(!T&&$K(M,I))G.push(D)}else if(A===\"overlap\"){if(zU(M,I)){var k=D.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),j=[{x:k.x1,y:k.y1},{x:k.x2,y:k.y1},{x:k.x2,y:k.y2},{x:k.x1,y:k.y2}];if(P5(j,z))G.push(D);else{var _=L(D);if(_&&P5(_,z))G.push(D)}}}}else{var x=V,f=x._private,v=f.rscratch,b=x.pstyle(\"box-selection\").strValue;if(b===\"none\")continue;if(b===\"contain\"){if(v.startX!=null&&v.startY!=null&&!f9(M,v.startX,v.startY))continue;if(v.endX!=null&&v.endY!=null&&!f9(M,v.endX,v.endY))continue;if(v.edgeType===\"bezier\"||v.edgeType===\"multibezier\"||v.edgeType===\"self\"||v.edgeType===\"compound\"||v.edgeType===\"segments\"||v.edgeType===\"haystack\"){var y=f.rstyle.bezierPts||f.rstyle.linePts||f.rstyle.haystackPts,g=!0;for(var m=0;m<y.length;m++)if(!_4(M,y[m])){g=!1;break}if(g)G.push(x)}else if(v.edgeType===\"straight\")G.push(x)}else if(b===\"overlap\"){var u=!1;if(v.startX!=null&&v.startY!=null&&v.endX!=null&&v.endY!=null&&(f9(M,v.startX,v.startY)||f9(M,v.endX,v.endY)))G.push(x),u=!0;else if(!u&&v.edgeType===\"haystack\"){var n=f.rstyle.haystackPts;for(var t=0;t<n.length;t++)if(_4(M,n[t])){G.push(x),u=!0;break}}if(!u){var s=f.rstyle.bezierPts||f.rstyle.linePts||f.rstyle.haystackPts;if((!s||s.length<2)&&v.edgeType===\"straight\"){if(v.startX!=null&&v.startY!=null&&v.endX!=null&&v.endY!=null)s=[{x:v.startX,y:v.startY},{x:v.endX,y:v.endY}]}if(!s||s.length<2)continue;for(var JJ=0;JJ<s.length-1;JJ++){var ZJ=s[JJ],qJ=s[JJ+1];for(var e=0;e<N.length;e++){var h=F8(N[e],2),d=h[0],p=h[1];if(E(ZJ,qJ,d,p)){G.push(x),u=!0;break}}if(u)break}}}}}return G};var $7={};$7.calculateArrowAngles=function(Q){var J=Q._private.rscratch,Z=J.edgeType===\"haystack\",U=J.edgeType===\"bezier\",$=J.edgeType===\"multibezier\",q=J.edgeType===\"segments\",K=J.edgeType===\"compound\",G=J.edgeType===\"self\",Y,F,X,H,M,z,E,B;if(Z)X=J.haystackPts[0],H=J.haystackPts[1],M=J.haystackPts[2],z=J.haystackPts[3];else X=J.arrowStartX,H=J.arrowStartY,M=J.arrowEndX,z=J.arrowEndY;if(E=J.midX,B=J.midY,q)Y=X-J.segpts[0],F=H-J.segpts[1];else if($||K||G||U){var N=J.allpts,W=E8(N[0],N[2],N[4],0.1),L=E8(N[1],N[3],N[5],0.1);Y=X-W,F=H-L}else Y=X-E,F=H-B;J.srcArrowAngle=I6(Y,F);var{midX:E,midY:B}=J;if(Z)E=(X+M)/2,B=(H+z)/2;if(Y=M-X,F=z-H,q){var N=J.allpts;if(N.length/2%2===0){var V=N.length/2,D=V-2;Y=N[V]-N[D],F=N[V+1]-N[D+1]}else if(J.isRound)Y=J.midVector[1],F=-J.midVector[0];else{var V=N.length/2-1,D=V-2;Y=N[V]-N[D],F=N[V+1]-N[D+1]}}else if($||K||G){var{allpts:N,ctrlpts:O}=J,A,R,C,I;if(O.length/2%2===0){var T=N.length/2-1,P=T+2,k=P+2;A=E8(N[T],N[P],N[k],0),R=E8(N[T+1],N[P+1],N[k+1],0),C=E8(N[T],N[P],N[k],0.0001),I=E8(N[T+1],N[P+1],N[k+1],0.0001)}else{var P=N.length/2-1,T=P-2,k=P+2;A=E8(N[T],N[P],N[k],0.4999),R=E8(N[T+1],N[P+1],N[k+1],0.4999),C=E8(N[T],N[P],N[k],0.5),I=E8(N[T+1],N[P+1],N[k+1],0.5)}Y=C-A,F=I-R}if(J.midtgtArrowAngle=I6(Y,F),J.midDispX=Y,J.midDispY=F,Y*=-1,F*=-1,q){var N=J.allpts;if(N.length/2%2===0);else if(!J.isRound){var V=N.length/2-1,j=V+2;Y=-(N[j]-N[V]),F=-(N[j+1]-N[V+1])}}if(J.midsrcArrowAngle=I6(Y,F),q)Y=M-J.segpts[J.segpts.length-2],F=z-J.segpts[J.segpts.length-1];else if($||K||G||U){var N=J.allpts,_=N.length,W=E8(N[_-6],N[_-4],N[_-2],0.9),L=E8(N[_-5],N[_-3],N[_-1],0.9);Y=M-W,F=z-L}else Y=M-E,F=z-B;J.tgtArrowAngle=I6(Y,F)};$7.getArrowWidth=$7.getArrowHeight=function(Q,J){var Z=this.arrowWidthCache=this.arrowWidthCache||{},U=Z[Q+\", \"+J];if(U)return U;return U=Math.max(Math.pow(Q*13.37,0.9),29)*J,Z[Q+\", \"+J]=U,U};var r0,o0,$9={},p8={},z1,L1,FQ,l6,L9,$Q,GQ,Z9,_Q,f6,tK,eK,t0,e0,W1,E1=function Q(J,Z,U){U.x=Z.x-J.x,U.y=Z.y-J.y,U.len=Math.sqrt(U.x*U.x+U.y*U.y),U.nx=U.x/U.len,U.ny=U.y/U.len,U.ang=Math.atan2(U.ny,U.nx)},mO=function Q(J,Z){Z.x=J.x*-1,Z.y=J.y*-1,Z.nx=J.nx*-1,Z.ny=J.ny*-1,Z.ang=J.ang>0?-(Math.PI-J.ang):Math.PI+J.ang},yO=function Q(J,Z,U,$,q){if(J!==W1?E1(Z,J,$9):mO(p8,$9),E1(Z,U,p8),z1=$9.nx*p8.ny-$9.ny*p8.nx,L1=$9.nx*p8.nx-$9.ny*-p8.ny,L9=Math.asin(Math.max(-1,Math.min(1,z1))),Math.abs(L9)<0.000001){r0=Z.x,o0=Z.y,GQ=_Q=0;return}if(FQ=1,l6=!1,L1<0)if(L9<0)L9=Math.PI+L9;else L9=Math.PI-L9,FQ=-1,l6=!0;else if(L9>0)FQ=-1,l6=!0;if(Z.radius!==void 0)_Q=Z.radius;else _Q=$;if($Q=L9/2,f6=Math.min($9.len/2,p8.len/2),q)if(Z9=Math.abs(Math.cos($Q)*_Q/Math.sin($Q)),Z9>f6)Z9=f6,GQ=Math.abs(Z9*Math.sin($Q)/Math.cos($Q));else GQ=_Q;else Z9=Math.min(f6,_Q),GQ=Math.abs(Z9*Math.sin($Q)/Math.cos($Q));t0=Z.x+p8.nx*Z9,e0=Z.y+p8.ny*Z9,r0=t0-p8.ny*GQ*FQ,o0=e0+p8.nx*GQ*FQ,tK=Z.x+$9.nx*Z9,eK=Z.y+$9.ny*Z9,W1=Z};function JG(Q,J){if(J.radius===0)Q.lineTo(J.cx,J.cy);else Q.arc(J.cx,J.cy,J.radius,J.startAngle,J.endAngle,J.counterClockwise)}function IU(Q,J,Z,U){var $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(U===0||J.radius===0)return{cx:J.x,cy:J.y,radius:0,startX:J.x,startY:J.y,stopX:J.x,stopY:J.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0};return yO(Q,J,Z,U,$),{cx:r0,cy:o0,radius:GQ,startX:tK,startY:eK,stopX:t0,stopY:e0,startAngle:$9.ang+Math.PI/2*FQ,endAngle:p8.ang-Math.PI/2*FQ,counterClockwise:l6}}var bZ=0.01,hO=Math.sqrt(2*bZ),P8={};P8.findMidptPtsEtc=function(Q,J){var{posPts:Z,intersectionPts:U,vectorNormInverse:$}=J,q,K=Q.pstyle(\"source-endpoint\"),G=Q.pstyle(\"target-endpoint\"),Y=K.units!=null&&G.units!=null,F=function D(O,A,R,C){var I=C-A,T=R-O,P=Math.sqrt(T*T+I*I);return{x:-I/P,y:T/P}},X=Q.pstyle(\"edge-distances\").value;switch(X){case\"node-position\":q=Z;break;case\"intersection\":q=U;break;case\"endpoints\":{if(Y){var H=this.manualEndptToPx(Q.source()[0],K),M=F8(H,2),z=M[0],N=M[1],W=this.manualEndptToPx(Q.target()[0],G),L=F8(W,2),E=L[0],B=L[1],V={x1:z,y1:N,x2:E,y2:B};$=F(z,N,E,B),q=V}else lJ(\"Edge \".concat(Q.id(),\" has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).\")),q=U;break}}return{midptPts:q,vectorNormInverse:$}};P8.findHaystackPoints=function(Q){for(var J=0;J<Q.length;J++){var Z=Q[J],U=Z._private,$=U.rscratch;if(!$.haystack){var q=Math.random()*2*Math.PI;$.source={x:Math.cos(q),y:Math.sin(q)},q=Math.random()*2*Math.PI,$.target={x:Math.cos(q),y:Math.sin(q)}}var{source:K,target:G}=U,Y=K.position(),F=G.position(),X=K.width(),H=G.width(),M=K.height(),z=G.height(),N=Z.pstyle(\"haystack-radius\").value,W=N/2;$.haystackPts=$.allpts=[$.source.x*X*W+Y.x,$.source.y*M*W+Y.y,$.target.x*H*W+F.x,$.target.y*z*W+F.y],$.midX=($.allpts[0]+$.allpts[2])/2,$.midY=($.allpts[1]+$.allpts[3])/2,$.edgeType=\"haystack\",$.haystack=!0,this.storeEdgeProjections(Z),this.calculateArrowAngles(Z),this.recalculateEdgeLabelProjections(Z),this.calculateLabelAngles(Z)}};P8.findSegmentsPoints=function(Q,J){var Z=Q._private.rscratch,U=Q.pstyle(\"segment-weights\"),$=Q.pstyle(\"segment-distances\"),q=Q.pstyle(\"segment-radii\"),K=Q.pstyle(\"radius-type\"),G=Math.min(U.pfValue.length,$.pfValue.length),Y=q.pfValue[q.pfValue.length-1],F=K.pfValue[K.pfValue.length-1];Z.edgeType=\"segments\",Z.segpts=[],Z.radii=[],Z.isArcRadius=[];for(var X=0;X<G;X++){var H=U.pfValue[X],M=$.pfValue[X],z=1-H,N=H,W=this.findMidptPtsEtc(Q,J),L=W.midptPts,E=W.vectorNormInverse,B={x:L.x1*z+L.x2*N,y:L.y1*z+L.y2*N};Z.segpts.push(B.x+E.x*M,B.y+E.y*M),Z.radii.push(q.pfValue[X]!==void 0?q.pfValue[X]:Y),Z.isArcRadius.push((K.pfValue[X]!==void 0?K.pfValue[X]:F)===\"arc-radius\")}};P8.findLoopPoints=function(Q,J,Z,U){var $=Q._private.rscratch,q=J.dirCounts,K=J.srcPos,G=Q.pstyle(\"control-point-distances\"),Y=G?G.pfValue[0]:void 0,F=Q.pstyle(\"loop-direction\").pfValue,X=Q.pstyle(\"loop-sweep\").pfValue,H=Q.pstyle(\"control-point-step-size\").pfValue;$.edgeType=\"self\";var M=Z,z=H;if(U)M=0,z=Y;var N=F-Math.PI/2,W=N-X/2,L=N+X/2,E=String(F+\"_\"+X);M=q[E]===void 0?q[E]=0:++q[E],$.ctrlpts=[K.x+Math.cos(W)*1.4*z*(M/3+1),K.y+Math.sin(W)*1.4*z*(M/3+1),K.x+Math.cos(L)*1.4*z*(M/3+1),K.y+Math.sin(L)*1.4*z*(M/3+1)]};P8.findCompoundLoopPoints=function(Q,J,Z,U){var $=Q._private.rscratch;$.edgeType=\"compound\";var{srcPos:q,tgtPos:K,srcW:G,srcH:Y,tgtW:F,tgtH:X}=J,H=Q.pstyle(\"control-point-step-size\").pfValue,M=Q.pstyle(\"control-point-distances\"),z=M?M.pfValue[0]:void 0,N=Z,W=H;if(U)N=0,W=z;var L=50,E={x:q.x-G/2,y:q.y-Y/2},B={x:K.x-F/2,y:K.y-X/2},V={x:Math.min(E.x,B.x),y:Math.min(E.y,B.y)},D=0.5,O=Math.max(D,Math.log(G*bZ)),A=Math.max(D,Math.log(F*bZ));$.ctrlpts=[V.x,V.y-(1+Math.pow(L,1.12)/100)*W*(N/3+1)*O,V.x-(1+Math.pow(L,1.12)/100)*W*(N/3+1)*A,V.y]};P8.findStraightEdgePoints=function(Q){Q._private.rscratch.edgeType=\"straight\"};P8.findBezierPoints=function(Q,J,Z,U,$){var q=Q._private.rscratch,K=Q.pstyle(\"control-point-step-size\").pfValue,G=Q.pstyle(\"control-point-distances\"),Y=Q.pstyle(\"control-point-weights\"),F=G&&Y?Math.min(G.value.length,Y.value.length):1,X=G?G.pfValue[0]:void 0,H=Y.value[0],M=U;q.edgeType=M?\"multibezier\":\"bezier\",q.ctrlpts=[];for(var z=0;z<F;z++){var N=(0.5-J.eles.length/2+Z)*K*($?-1:1),W=void 0,L=NU(N);if(M)X=G?G.pfValue[z]:K,H=Y.value[z];if(U)W=X;else W=X!==void 0?L*X:void 0;var E=W!==void 0?W:N,B=1-H,V=H,D=this.findMidptPtsEtc(Q,J),O=D.midptPts,A=D.vectorNormInverse,R={x:O.x1*B+O.x2*V,y:O.y1*B+O.y2*V};q.ctrlpts.push(R.x+A.x*E,R.y+A.y*E)}};P8.findTaxiPoints=function(Q,J){var Z=Q._private.rscratch;Z.edgeType=\"segments\";var U=\"vertical\",$=\"horizontal\",q=\"leftward\",K=\"rightward\",G=\"downward\",Y=\"upward\",F=\"auto\",X=J.posPts,H=J.srcW,M=J.srcH,z=J.tgtW,N=J.tgtH,W=Q.pstyle(\"edge-distances\").value,L=W!==\"node-position\",E=Q.pstyle(\"taxi-direction\").value,B=E,V=Q.pstyle(\"taxi-turn\"),D=V.units===\"%\",O=V.pfValue,A=O<0,R=Q.pstyle(\"taxi-turn-min-distance\").pfValue,C=L?(H+z)/2:0,I=L?(M+N)/2:0,T=X.x2-X.x1,P=X.y2-X.y1,k=function a(S,c){if(S>0)return Math.max(S-c,0);else return Math.min(S+c,0)},j=k(T,C),_=k(P,I),x=!1;if(B===F)E=Math.abs(j)>Math.abs(_)?$:U;else if(B===Y||B===G)E=U,x=!0;else if(B===q||B===K)E=$,x=!0;var f=E===U,v=f?_:j,b=f?P:T,y=NU(b),g=!1;if(!(x&&(D||A))&&(B===G&&b<0||B===Y&&b>0||B===q&&b>0||B===K&&b<0))y*=-1,v=y*Math.abs(v),g=!0;var m;if(D){var u=O<0?1+O:O;m=u*v}else{var n=O<0?v:0;m=n+O*y}var t=function a(S){return Math.abs(S)<R||Math.abs(S)>=Math.abs(v)},s=t(m),JJ=t(Math.abs(v)-Math.abs(m)),ZJ=s||JJ;if(ZJ&&!g)if(f){var qJ=Math.abs(b)<=M/2,e=Math.abs(T)<=z/2;if(qJ){var h=(X.x1+X.x2)/2,d=X.y1,p=X.y2;Z.segpts=[h,d,h,p]}else if(e){var r=(X.y1+X.y2)/2,UJ=X.x1,NJ=X.x2;Z.segpts=[UJ,r,NJ,r]}else Z.segpts=[X.x1,X.y2]}else{var xJ=Math.abs(b)<=H/2,CJ=Math.abs(P)<=N/2;if(xJ){var RJ=(X.y1+X.y2)/2,BJ=X.x1,KJ=X.x2;Z.segpts=[BJ,RJ,KJ,RJ]}else if(CJ){var zJ=(X.x1+X.x2)/2,LJ=X.y1,AJ=X.y2;Z.segpts=[zJ,LJ,zJ,AJ]}else Z.segpts=[X.x2,X.y1]}else if(f){var EJ=X.y1+m+(L?M/2*y:0),PJ=X.x1,bJ=X.x2;Z.segpts=[PJ,EJ,bJ,EJ]}else{var gJ=X.x1+m+(L?H/2*y:0),dJ=X.y1,cJ=X.y2;Z.segpts=[gJ,dJ,gJ,cJ]}if(Z.isRound){var OJ=Q.pstyle(\"taxi-radius\").value,FJ=Q.pstyle(\"radius-type\").value[0]===\"arc-radius\";Z.radii=new Array(Z.segpts.length/2).fill(OJ),Z.isArcRadius=new Array(Z.segpts.length/2).fill(FJ)}};P8.tryToCorrectInvalidPoints=function(Q,J){var Z=Q._private.rscratch;if(Z.edgeType===\"bezier\"){var{srcPos:U,tgtPos:$,srcW:q,srcH:K,tgtW:G,tgtH:Y,srcShape:F,tgtShape:X,srcCornerRadius:H,tgtCornerRadius:M,srcRs:z,tgtRs:N}=J,W=!$J(Z.startX)||!$J(Z.startY),L=!$J(Z.arrowStartX)||!$J(Z.arrowStartY),E=!$J(Z.endX)||!$J(Z.endY),B=!$J(Z.arrowEndX)||!$J(Z.arrowEndY),V=3,D=this.getArrowWidth(Q.pstyle(\"width\").pfValue,Q.pstyle(\"arrow-scale\").value)*this.arrowShapeWidth,O=V*D,A=MQ({x:Z.ctrlpts[0],y:Z.ctrlpts[1]},{x:Z.startX,y:Z.startY}),R=A<O,C=MQ({x:Z.ctrlpts[0],y:Z.ctrlpts[1]},{x:Z.endX,y:Z.endY}),I=C<O,T=!1;if(W||L||R){T=!0;var P={x:Z.ctrlpts[0]-U.x,y:Z.ctrlpts[1]-U.y},k=Math.sqrt(P.x*P.x+P.y*P.y),j={x:P.x/k,y:P.y/k},_=Math.max(q,K),x={x:Z.ctrlpts[0]+j.x*2*_,y:Z.ctrlpts[1]+j.y*2*_},f=F.intersectLine(U.x,U.y,q,K,x.x,x.y,0,H,z);if(R)Z.ctrlpts[0]=Z.ctrlpts[0]+j.x*(O-A),Z.ctrlpts[1]=Z.ctrlpts[1]+j.y*(O-A);else Z.ctrlpts[0]=f[0]+j.x*O,Z.ctrlpts[1]=f[1]+j.y*O}if(E||B||I){T=!0;var v={x:Z.ctrlpts[0]-$.x,y:Z.ctrlpts[1]-$.y},b=Math.sqrt(v.x*v.x+v.y*v.y),y={x:v.x/b,y:v.y/b},g=Math.max(q,K),m={x:Z.ctrlpts[0]+y.x*2*g,y:Z.ctrlpts[1]+y.y*2*g},u=X.intersectLine($.x,$.y,G,Y,m.x,m.y,0,M,N);if(I)Z.ctrlpts[0]=Z.ctrlpts[0]+y.x*(O-C),Z.ctrlpts[1]=Z.ctrlpts[1]+y.y*(O-C);else Z.ctrlpts[0]=u[0]+y.x*O,Z.ctrlpts[1]=u[1]+y.y*O}if(T)this.findEndpoints(Q)}};P8.storeAllpts=function(Q){var J=Q._private.rscratch;if(J.edgeType===\"multibezier\"||J.edgeType===\"bezier\"||J.edgeType===\"self\"||J.edgeType===\"compound\"){J.allpts=[],J.allpts.push(J.startX,J.startY);for(var Z=0;Z+1<J.ctrlpts.length;Z+=2)if(J.allpts.push(J.ctrlpts[Z],J.ctrlpts[Z+1]),Z+3<J.ctrlpts.length)J.allpts.push((J.ctrlpts[Z]+J.ctrlpts[Z+2])/2,(J.ctrlpts[Z+1]+J.ctrlpts[Z+3])/2);J.allpts.push(J.endX,J.endY);var U,$;if(J.ctrlpts.length/2%2===0)U=J.allpts.length/2-1,J.midX=J.allpts[U],J.midY=J.allpts[U+1];else U=J.allpts.length/2-3,$=0.5,J.midX=E8(J.allpts[U],J.allpts[U+2],J.allpts[U+4],$),J.midY=E8(J.allpts[U+1],J.allpts[U+3],J.allpts[U+5],$)}else if(J.edgeType===\"straight\")J.allpts=[J.startX,J.startY,J.endX,J.endY],J.midX=(J.startX+J.endX+J.arrowStartX+J.arrowEndX)/4,J.midY=(J.startY+J.endY+J.arrowStartY+J.arrowEndY)/4;else if(J.edgeType===\"segments\"){if(J.allpts=[],J.allpts.push(J.startX,J.startY),J.allpts.push.apply(J.allpts,J.segpts),J.allpts.push(J.endX,J.endY),J.isRound){J.roundCorners=[];for(var q=2;q+3<J.allpts.length;q+=2){var K=J.radii[q/2-1],G=J.isArcRadius[q/2-1];J.roundCorners.push(IU({x:J.allpts[q-2],y:J.allpts[q-1]},{x:J.allpts[q],y:J.allpts[q+1],radius:K},{x:J.allpts[q+2],y:J.allpts[q+3]},K,G))}}if(J.segpts.length%4===0){var Y=J.segpts.length/2,F=Y-2;J.midX=(J.segpts[F]+J.segpts[Y])/2,J.midY=(J.segpts[F+1]+J.segpts[Y+1])/2}else{var X=J.segpts.length/2-1;if(!J.isRound)J.midX=J.segpts[X],J.midY=J.segpts[X+1];else{var H={x:J.segpts[X],y:J.segpts[X+1]},M=J.roundCorners[X/2];if(M.radius===0){var z={x:J.segpts[X+2],y:J.segpts[X+3]};J.midX=H.x,J.midY=H.y,J.midVector=[H.y-z.y,z.x-H.x]}else{var N=[H.x-M.cx,H.y-M.cy],W=M.radius/Math.sqrt(Math.pow(N[0],2)+Math.pow(N[1],2));N=N.map(function(L){return L*W}),J.midX=M.cx+N[0],J.midY=M.cy+N[1],J.midVector=N}}}}};P8.checkForInvalidEdgeWarning=function(Q){var J=Q[0]._private.rscratch;if(J.nodesOverlap||$J(J.startX)&&$J(J.startY)&&$J(J.endX)&&$J(J.endY))J.loggedErr=!1;else if(!J.loggedErr)J.loggedErr=!0,lJ(\"Edge `\"+Q.id()+\"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.\")};P8.findEdgeControlPoints=function(Q){var J=this;if(!Q||Q.length===0)return;var Z=this,U=Z.cy,$=U.hasCompoundNodes(),q=new E9,K=function C(I,T){return[].concat(s6(I),[T?1:0]).join(\"-\")},G=[],Y=[];for(var F=0;F<Q.length;F++){var X=Q[F],H=X._private,M=X.pstyle(\"curve-style\").value;if(X.removed()||!X.takesUpSpace())continue;if(M===\"haystack\"){Y.push(X);continue}var z=M===\"unbundled-bezier\"||v9(M,\"segments\")||M===\"straight\"||M===\"straight-triangle\"||v9(M,\"taxi\"),N=M===\"unbundled-bezier\"||M===\"bezier\",W=H.source,L=H.target,E=W.poolIndex(),B=L.poolIndex(),V=[E,B].sort(),D=K(V,z),O=q.get(D);if(O==null)O={eles:[]},G.push({pairId:V,edgeIsUnbundled:z}),q.set(D,O);if(O.eles.push(X),z)O.hasUnbundled=!0;if(N)O.hasBezier=!0}var A=function C(){var I=G[R],T=I.pairId,P=I.edgeIsUnbundled,k=K(T,P),j=q.get(k),_;if(!j.hasUnbundled){var x=j.eles[0].parallelEdges().filter(function(FJ){return FJ.isBundledBezier()});HU(j.eles),x.forEach(function(FJ){return j.eles.push(FJ)}),j.eles.sort(function(FJ,a){return FJ.poolIndex()-a.poolIndex()})}var f=j.eles[0],v=f.source(),b=f.target();if(v.poolIndex()>b.poolIndex()){var y=v;v=b,b=y}var g=j.srcPos=v.position(),m=j.tgtPos=b.position(),u=j.srcW=v.outerWidth(),n=j.srcH=v.outerHeight(),t=j.tgtW=b.outerWidth(),s=j.tgtH=b.outerHeight(),JJ=j.srcShape=Z.nodeShapes[J.getNodeShape(v)],ZJ=j.tgtShape=Z.nodeShapes[J.getNodeShape(b)],qJ=j.srcCornerRadius=v.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":v.pstyle(\"corner-radius\").pfValue,e=j.tgtCornerRadius=b.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":b.pstyle(\"corner-radius\").pfValue,h=j.tgtRs=b._private.rscratch,d=j.srcRs=v._private.rscratch;j.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var p=0;p<j.eles.length;p++){var r=j.eles[p],UJ=r[0]._private.rscratch,NJ=r.pstyle(\"curve-style\").value,xJ=NJ===\"unbundled-bezier\"||v9(NJ,\"segments\")||v9(NJ,\"taxi\"),CJ=!v.same(r.source());if(!j.calculatedIntersection&&v!==b&&(j.hasBezier||j.hasUnbundled)){j.calculatedIntersection=!0;var RJ=JJ.intersectLine(g.x,g.y,u,n,m.x,m.y,0,qJ,d),BJ=j.srcIntn=RJ,KJ=ZJ.intersectLine(m.x,m.y,t,s,g.x,g.y,0,e,h),zJ=j.tgtIntn=KJ,LJ=j.intersectionPts={x1:RJ[0],x2:KJ[0],y1:RJ[1],y2:KJ[1]},AJ=j.posPts={x1:g.x,x2:m.x,y1:g.y,y2:m.y},EJ=KJ[1]-RJ[1],PJ=KJ[0]-RJ[0],bJ=Math.sqrt(PJ*PJ+EJ*EJ);if($J(bJ)&&bJ>=hO);else bJ=Math.sqrt(Math.max(PJ*PJ,bZ)+Math.max(EJ*EJ,bZ));var gJ=j.vector={x:PJ,y:EJ},dJ=j.vectorNorm={x:gJ.x/bJ,y:gJ.y/bJ},cJ={x:-dJ.y,y:dJ.x};j.nodesOverlap=!$J(bJ)||ZJ.checkPoint(RJ[0],RJ[1],0,t,s,m.x,m.y,e,h)||JJ.checkPoint(KJ[0],KJ[1],0,u,n,g.x,g.y,qJ,d),j.vectorNormInverse=cJ,_={nodesOverlap:j.nodesOverlap,dirCounts:j.dirCounts,calculatedIntersection:!0,hasBezier:j.hasBezier,hasUnbundled:j.hasUnbundled,eles:j.eles,srcPos:m,srcRs:h,tgtPos:g,tgtRs:d,srcW:t,srcH:s,tgtW:u,tgtH:n,srcIntn:zJ,tgtIntn:BJ,srcShape:ZJ,tgtShape:JJ,posPts:{x1:AJ.x2,y1:AJ.y2,x2:AJ.x1,y2:AJ.y1},intersectionPts:{x1:LJ.x2,y1:LJ.y2,x2:LJ.x1,y2:LJ.y1},vector:{x:-gJ.x,y:-gJ.y},vectorNorm:{x:-dJ.x,y:-dJ.y},vectorNormInverse:{x:-cJ.x,y:-cJ.y}}}var OJ=CJ?_:j;if(UJ.nodesOverlap=OJ.nodesOverlap,UJ.srcIntn=OJ.srcIntn,UJ.tgtIntn=OJ.tgtIntn,UJ.isRound=NJ.startsWith(\"round\"),$&&(v.isParent()||v.isChild()||b.isParent()||b.isChild())&&(v.parents().anySame(b)||b.parents().anySame(v)||v.same(b)&&v.isParent()))J.findCompoundLoopPoints(r,OJ,p,xJ);else if(v===b)J.findLoopPoints(r,OJ,p,xJ);else if(NJ.endsWith(\"segments\"))J.findSegmentsPoints(r,OJ);else if(NJ.endsWith(\"taxi\"))J.findTaxiPoints(r,OJ);else if(NJ===\"straight\"||!xJ&&j.eles.length%2===1&&p===Math.floor(j.eles.length/2))J.findStraightEdgePoints(r);else J.findBezierPoints(r,OJ,p,xJ,CJ);J.findEndpoints(r),J.tryToCorrectInvalidPoints(r,OJ),J.checkForInvalidEdgeWarning(r),J.storeAllpts(r),J.storeEdgeProjections(r),J.calculateArrowAngles(r),J.recalculateEdgeLabelProjections(r),J.calculateLabelAngles(r)}};for(var R=0;R<G.length;R++)A();this.findHaystackPoints(Y)};function QG(Q){var J=[];if(Q==null)return;for(var Z=0;Z<Q.length;Z+=2){var U=Q[Z],$=Q[Z+1];J.push({x:U,y:$})}return J}P8.getSegmentPoints=function(Q){var J=Q[0]._private.rscratch;this.recalculateRenderedStyle(Q);var Z=J.edgeType;if(Z===\"segments\")return QG(J.segpts)};P8.getControlPoints=function(Q){var J=Q[0]._private.rscratch;this.recalculateRenderedStyle(Q);var Z=J.edgeType;if(Z===\"bezier\"||Z===\"multibezier\"||Z===\"self\"||Z===\"compound\")return QG(J.ctrlpts)};P8.getEdgeMidpoint=function(Q){var J=Q[0]._private.rscratch;return this.recalculateRenderedStyle(Q),{x:J.midX,y:J.midY}};var iZ={};iZ.manualEndptToPx=function(Q,J){var Z=this,U=Q.position(),$=Q.outerWidth(),q=Q.outerHeight(),K=Q._private.rscratch;if(J.value.length===2){var G=[J.pfValue[0],J.pfValue[1]];if(J.units[0]===\"%\")G[0]=G[0]*$;if(J.units[1]===\"%\")G[1]=G[1]*q;return G[0]+=U.x,G[1]+=U.y,G}else{var Y=J.pfValue[0];Y=-Math.PI/2+Y;var F=2*Math.max($,q),X=[U.x+Math.cos(Y)*F,U.y+Math.sin(Y)*F];return Z.nodeShapes[this.getNodeShape(Q)].intersectLine(U.x,U.y,$,q,X[0],X[1],0,Q.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":Q.pstyle(\"corner-radius\").pfValue,K)}};iZ.findEndpoints=function(Q){var J,Z,U,$,q=this,K,G=Q.source()[0],Y=Q.target()[0],F=G.position(),X=Y.position(),H=Q.pstyle(\"target-arrow-shape\").value,M=Q.pstyle(\"source-arrow-shape\").value,z=Q.pstyle(\"target-distance-from-node\").pfValue,N=Q.pstyle(\"source-distance-from-node\").pfValue,W=G._private.rscratch,L=Y._private.rscratch,E=Q.pstyle(\"curve-style\").value,B=Q._private.rscratch,V=B.edgeType,D=v9(E,\"taxi\"),O=V===\"self\"||V===\"compound\",A=V===\"bezier\"||V===\"multibezier\"||O,R=V!==\"bezier\",C=V===\"straight\"||V===\"segments\",I=V===\"segments\",T=A||R||C,P=O||D,k=Q.pstyle(\"source-endpoint\"),j=P?\"outside-to-node\":k.value,_=G.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":G.pstyle(\"corner-radius\").pfValue,x=Q.pstyle(\"target-endpoint\"),f=P?\"outside-to-node\":x.value,v=Y.pstyle(\"corner-radius\").value===\"auto\"?\"auto\":Y.pstyle(\"corner-radius\").pfValue;B.srcManEndpt=k,B.tgtManEndpt=x;var b,y,g,m,u=(J=(x===null||x===void 0||(Z=x.pfValue)===null||Z===void 0?void 0:Z.length)===2?x.pfValue:null)!==null&&J!==void 0?J:[0,0],n=(U=(k===null||k===void 0||($=k.pfValue)===null||$===void 0?void 0:$.length)===2?k.pfValue:null)!==null&&U!==void 0?U:[0,0];if(A){var t=[B.ctrlpts[0],B.ctrlpts[1]],s=R?[B.ctrlpts[B.ctrlpts.length-2],B.ctrlpts[B.ctrlpts.length-1]]:t;b=s,y=t}else if(C){var JJ=!I?[X.x+u[0],X.y+u[1]]:B.segpts.slice(0,2),ZJ=!I?[F.x+n[0],F.y+n[1]]:B.segpts.slice(B.segpts.length-2);b=ZJ,y=JJ}if(f===\"inside-to-node\")K=[X.x,X.y];else if(x.units)K=this.manualEndptToPx(Y,x);else if(f===\"outside-to-line\")K=B.tgtIntn;else{if(f===\"outside-to-node\"||f===\"outside-to-node-or-label\")g=b;else if(f===\"outside-to-line\"||f===\"outside-to-line-or-label\")g=[F.x,F.y];if(K=q.nodeShapes[this.getNodeShape(Y)].intersectLine(X.x,X.y,Y.outerWidth(),Y.outerHeight(),g[0],g[1],0,v,L),f===\"outside-to-node-or-label\"||f===\"outside-to-line-or-label\"){var qJ=Y._private.rscratch,e=qJ.labelWidth,h=qJ.labelHeight,d=qJ.labelX,p=qJ.labelY,r=e/2,UJ=h/2,NJ=Y.pstyle(\"text-valign\").value;if(NJ===\"top\")p-=UJ;else if(NJ===\"bottom\")p+=UJ;var xJ=Y.pstyle(\"text-halign\").value;if(xJ===\"left\")d-=r;else if(xJ===\"right\")d+=r;var CJ=wZ(g[0],g[1],[d-r,p-UJ,d+r,p-UJ,d+r,p+UJ,d-r,p+UJ],X.x,X.y);if(CJ.length>0){var RJ=F,BJ=KQ(RJ,bQ(K)),KJ=KQ(RJ,bQ(CJ)),zJ=BJ;if(KJ<BJ)K=CJ,zJ=KJ;if(CJ.length>2){var LJ=KQ(RJ,{x:CJ[2],y:CJ[3]});if(LJ<zJ)K=[CJ[2],CJ[3]]}}}}var AJ=T6(K,b,q.arrowShapes[H].spacing(Q)+z),EJ=T6(K,b,q.arrowShapes[H].gap(Q)+z);if(B.endX=EJ[0],B.endY=EJ[1],B.arrowEndX=AJ[0],B.arrowEndY=AJ[1],j===\"inside-to-node\")K=[F.x,F.y];else if(k.units)K=this.manualEndptToPx(G,k);else if(j===\"outside-to-line\")K=B.srcIntn;else{if(j===\"outside-to-node\"||j===\"outside-to-node-or-label\")m=y;else if(j===\"outside-to-line\"||j===\"outside-to-line-or-label\")m=[X.x,X.y];if(K=q.nodeShapes[this.getNodeShape(G)].intersectLine(F.x,F.y,G.outerWidth(),G.outerHeight(),m[0],m[1],0,_,W),j===\"outside-to-node-or-label\"||j===\"outside-to-line-or-label\"){var PJ=G._private.rscratch,bJ=PJ.labelWidth,gJ=PJ.labelHeight,dJ=PJ.labelX,cJ=PJ.labelY,OJ=bJ/2,FJ=gJ/2,a=G.pstyle(\"text-valign\").value;if(a===\"top\")cJ-=FJ;else if(a===\"bottom\")cJ+=FJ;var S=G.pstyle(\"text-halign\").value;if(S===\"left\")dJ-=OJ;else if(S===\"right\")dJ+=OJ;var c=wZ(m[0],m[1],[dJ-OJ,cJ-FJ,dJ+OJ,cJ-FJ,dJ+OJ,cJ+FJ,dJ-OJ,cJ+FJ],F.x,F.y);if(c.length>0){var l=X,i=KQ(l,bQ(K)),o=KQ(l,bQ(c)),YJ=i;if(o<i)K=[c[0],c[1]],YJ=o;if(c.length>2){var QJ=KQ(l,{x:c[2],y:c[3]});if(QJ<YJ)K=[c[2],c[3]]}}}}var HJ=T6(K,y,q.arrowShapes[M].spacing(Q)+N),XJ=T6(K,y,q.arrowShapes[M].gap(Q)+N);if(B.startX=XJ[0],B.startY=XJ[1],B.arrowStartX=HJ[0],B.arrowStartY=HJ[1],T)if(!$J(B.startX)||!$J(B.startY)||!$J(B.endX)||!$J(B.endY))B.badLine=!0;else B.badLine=!1};iZ.getSourceEndpoint=function(Q){var J=Q[0]._private.rscratch;switch(this.recalculateRenderedStyle(Q),J.edgeType){case\"haystack\":return{x:J.haystackPts[0],y:J.haystackPts[1]};default:return{x:J.arrowStartX,y:J.arrowStartY}}};iZ.getTargetEndpoint=function(Q){var J=Q[0]._private.rscratch;switch(this.recalculateRenderedStyle(Q),J.edgeType){case\"haystack\":return{x:J.haystackPts[2],y:J.haystackPts[3]};default:return{x:J.arrowEndX,y:J.arrowEndY}}};var TU={};function uO(Q,J,Z){var U=function Y(F,X,H,M){return E8(F,X,H,M)},$=J._private,q=$.rstyle.bezierPts;for(var K=0;K<Q.bezierProjPcts.length;K++){var G=Q.bezierProjPcts[K];q.push({x:U(Z[0],Z[2],Z[4],G),y:U(Z[1],Z[3],Z[5],G)})}}TU.storeEdgeProjections=function(Q){var J=Q._private,Z=J.rscratch,U=Z.edgeType;if(J.rstyle.bezierPts=null,J.rstyle.linePts=null,J.rstyle.haystackPts=null,U===\"multibezier\"||U===\"bezier\"||U===\"self\"||U===\"compound\"){J.rstyle.bezierPts=[];for(var $=0;$+5<Z.allpts.length;$+=4)uO(this,Q,Z.allpts.slice($,$+6))}else if(U===\"segments\"){var q=J.rstyle.linePts=[];for(var $=0;$+1<Z.allpts.length;$+=2)q.push({x:Z.allpts[$],y:Z.allpts[$+1]})}else if(U===\"haystack\"){var K=Z.haystackPts;J.rstyle.haystackPts=[{x:K[0],y:K[1]},{x:K[2],y:K[3]}]}J.rstyle.arrowWidth=this.getArrowWidth(Q.pstyle(\"width\").pfValue,Q.pstyle(\"arrow-scale\").value)*this.arrowShapeWidth};TU.recalculateEdgeProjections=function(Q){this.findEdgeControlPoints(Q)};var G9={};G9.recalculateNodeLabelProjection=function(Q){var J=Q.pstyle(\"label\").strValue;if(y9(J))return;var Z,U,$=Q._private,q=Q.width(),K=Q.height(),G=Q.padding(),Y=Q.position(),F=Q.pstyle(\"text-halign\").strValue,X=Q.pstyle(\"text-valign\").strValue,H=$.rscratch,M=$.rstyle;switch(F){case\"left\":Z=Y.x-q/2-G;break;case\"right\":Z=Y.x+q/2+G;break;default:Z=Y.x}switch(X){case\"top\":U=Y.y-K/2-G;break;case\"bottom\":U=Y.y+K/2+G;break;default:U=Y.y}H.labelX=Z,H.labelY=U,M.labelX=Z,M.labelY=U,this.calculateLabelAngles(Q),this.applyLabelDimensions(Q)};var ZG=function Q(J,Z){var U=Math.atan(Z/J);if(J===0&&U<0)U=U*-1;return U},UG=function Q(J,Z){var U=Z.x-J.x,$=Z.y-J.y;return ZG(U,$)},gO=function Q(J,Z,U,$){var q=jZ(0,$-0.001,1),K=jZ(0,$+0.001,1),G=hQ(J,Z,U,q),Y=hQ(J,Z,U,K);return UG(G,Y)};G9.recalculateEdgeLabelProjections=function(Q){var J,Z=Q._private,U=Z.rscratch,$=this,q={mid:Q.pstyle(\"label\").strValue,source:Q.pstyle(\"source-label\").strValue,target:Q.pstyle(\"target-label\").strValue};if(q.mid||q.source||q.target);else return;J={x:U.midX,y:U.midY};var K=function X(H,M,z){W9(Z.rscratch,H,M,z),W9(Z.rstyle,H,M,z)};K(\"labelX\",null,J.x),K(\"labelY\",null,J.y);var G=ZG(U.midDispX,U.midDispY);K(\"labelAutoAngle\",null,G);var Y=function X(){if(Y.cache)return Y.cache;var H=[];for(var M=0;M+5<U.allpts.length;M+=4){var z={x:U.allpts[M],y:U.allpts[M+1]},N={x:U.allpts[M+2],y:U.allpts[M+3]},W={x:U.allpts[M+4],y:U.allpts[M+5]};H.push({p0:z,p1:N,p2:W,startDist:0,length:0,segments:[]})}var L=Z.rstyle.bezierPts,E=$.bezierProjPcts.length;function B(R,C,I,T,P){var k=MQ(C,I),j=R.segments[R.segments.length-1],_={p0:C,p1:I,t0:T,t1:P,startDist:j?j.startDist+j.length:0,length:k};R.segments.push(_),R.length+=k}for(var V=0;V<H.length;V++){var D=H[V],O=H[V-1];if(O)D.startDist=O.startDist+O.length;B(D,D.p0,L[V*E],0,$.bezierProjPcts[0]);for(var A=0;A<E-1;A++)B(D,L[V*E+A],L[V*E+A+1],$.bezierProjPcts[A],$.bezierProjPcts[A+1]);B(D,L[V*E+E-1],D.p2,$.bezierProjPcts[E-1],1)}return Y.cache=H},F=function X(H){var M,z=H===\"source\";if(!q[H])return;var N=Q.pstyle(H+\"-text-offset\").pfValue;switch(U.edgeType){case\"self\":case\"compound\":case\"bezier\":case\"multibezier\":{var W=Y(),L,E=0,B=0;for(var V=0;V<W.length;V++){var D=W[z?V:W.length-1-V];for(var O=0;O<D.segments.length;O++){var A=D.segments[z?O:D.segments.length-1-O],R=V===W.length-1&&O===D.segments.length-1;if(E=B,B+=A.length,B>=N||R){L={cp:D,segment:A};break}}if(L)break}var{cp:C,segment:I}=L,T=(N-E)/I.length,P=I.t1-I.t0,k=z?I.t0+P*T:I.t1-P*T;k=jZ(0,k,1),J=hQ(C.p0,C.p1,C.p2,k),M=gO(C.p0,C.p1,C.p2,k);break}case\"straight\":case\"segments\":case\"haystack\":{var j=0,_,x,f,v,b=U.allpts.length;for(var y=0;y+3<b;y+=2){if(z)f={x:U.allpts[y],y:U.allpts[y+1]},v={x:U.allpts[y+2],y:U.allpts[y+3]};else f={x:U.allpts[b-2-y],y:U.allpts[b-1-y]},v={x:U.allpts[b-4-y],y:U.allpts[b-3-y]};if(_=MQ(f,v),x=j,j+=_,j>=N)break}var g=N-x,m=g/_;m=jZ(0,m,1),J=FV(f,v,m),M=UG(f,v);break}}K(\"labelX\",H,J.x),K(\"labelY\",H,J.y),K(\"labelAutoAngle\",H,M)};F(\"source\"),F(\"target\"),this.applyLabelDimensions(Q)};G9.applyLabelDimensions=function(Q){if(this.applyPrefixedLabelDimensions(Q),Q.isEdge())this.applyPrefixedLabelDimensions(Q,\"source\"),this.applyPrefixedLabelDimensions(Q,\"target\")};G9.applyPrefixedLabelDimensions=function(Q,J){var Z=Q._private,U=this.getLabelText(Q,J),$=HQ(U,Q._private.labelDimsKey);if(b8(Z.rscratch,\"prefixedLabelDimsKey\",J)===$)return;W9(Z.rscratch,\"prefixedLabelDimsKey\",J,$);var q=this.calculateLabelDimensions(Q,U),K=Q.pstyle(\"line-height\").pfValue,G=Q.pstyle(\"text-wrap\").strValue,Y=b8(Z.rscratch,\"labelWrapCachedLines\",J)||[],F=G!==\"wrap\"?1:Math.max(Y.length,1),X=q.height/F,H=X*K,M=q.width,z=q.height+(F-1)*(K-1)*X;W9(Z.rstyle,\"labelWidth\",J,M),W9(Z.rscratch,\"labelWidth\",J,M),W9(Z.rstyle,\"labelHeight\",J,z),W9(Z.rscratch,\"labelHeight\",J,z),W9(Z.rscratch,\"labelLineHeight\",J,H)};G9.getLabelText=function(Q,J){var Z=Q._private,U=J?J+\"-\":\"\",$=Q.pstyle(U+\"label\").strValue,q=Q.pstyle(\"text-transform\").value,K=function u(n,t){if(t)return W9(Z.rscratch,n,J,t),t;else return b8(Z.rscratch,n,J)};if(!$)return\"\";if(q==\"none\");else if(q==\"uppercase\")$=$.toUpperCase();else if(q==\"lowercase\")$=$.toLowerCase();var G=Q.pstyle(\"text-wrap\").value;if(G===\"wrap\"){var Y=K(\"labelKey\");if(Y!=null&&K(\"labelWrapKey\")===Y)return K(\"labelWrapCachedText\");var F=\"â€‹\",X=$.split(`\n`),H=Q.pstyle(\"text-max-width\").pfValue,M=Q.pstyle(\"text-overflow-wrap\").value,z=M===\"anywhere\",N=[],W=/[\\s\\u200b]+|$/g;for(var L=0;L<X.length;L++){var E=X[L],B=this.calculateLabelDimensions(Q,E),V=B.width;if(z){var D=E.split(\"\").join(F);E=D}if(V>H){var O=E.matchAll(W),A=\"\",R=0,C=y8(O),I;try{for(C.s();!(I=C.n()).done;){var T=I.value,P=T[0],k=E.substring(R,T.index);R=T.index+P.length;var j=A.length===0?k:A+k+P,_=this.calculateLabelDimensions(Q,j),x=_.width;if(x<=H)A+=k+P;else{if(A)N.push(A);A=k+P}}}catch(u){C.e(u)}finally{C.f()}if(!A.match(/^[\\s\\u200b]+$/))N.push(A)}else N.push(E)}K(\"labelWrapCachedLines\",N),$=K(\"labelWrapCachedText\",N.join(`\n`)),K(\"labelWrapKey\",Y)}else if(G===\"ellipsis\"){var f=Q.pstyle(\"text-max-width\").pfValue,v=\"\",b=\"â€¦\",y=!1;if(this.calculateLabelDimensions(Q,$).width<f)return $;for(var g=0;g<$.length;g++){var m=this.calculateLabelDimensions(Q,v+$[g]+b).width;if(m>f)break;if(v+=$[g],g===$.length-1)y=!0}if(!y)v+=b;return v}return $};G9.getLabelJustification=function(Q){var J=Q.pstyle(\"text-justification\").strValue,Z=Q.pstyle(\"text-halign\").strValue;if(J===\"auto\")if(Q.isNode())switch(Z){case\"left\":return\"right\";case\"right\":return\"left\";default:return\"center\"}else return\"center\";else return J};G9.calculateLabelDimensions=function(Q,J){var Z=this,U=Z.cy.window(),$=U.document,q=0,K=Q.pstyle(\"font-style\").strValue,G=Q.pstyle(\"font-size\").pfValue,Y=Q.pstyle(\"font-family\").strValue,F=Q.pstyle(\"font-weight\").strValue,X=this.labelCalcCanvas,H=this.labelCalcCanvasContext;if(!X){X=this.labelCalcCanvas=$.createElement(\"canvas\"),H=this.labelCalcCanvasContext=X.getContext(\"2d\");var M=X.style;M.position=\"absolute\",M.left=\"-9999px\",M.top=\"-9999px\",M.zIndex=\"-1\",M.visibility=\"hidden\",M.pointerEvents=\"none\"}H.font=\"\".concat(K,\" \").concat(F,\" \").concat(G,\"px \").concat(Y);var z=0,N=0,W=J.split(`\n`);for(var L=0;L<W.length;L++){var E=W[L],B=H.measureText(E),V=Math.ceil(B.width),D=G;z=Math.max(V,z),N+=D}return z+=q,N+=q,{width:z,height:N}};G9.calculateLabelAngle=function(Q,J){var Z=Q._private,U=Z.rscratch,$=Q.isEdge(),q=J?J+\"-\":\"\",K=Q.pstyle(q+\"text-rotation\"),G=K.strValue;if(G===\"none\")return 0;else if($&&G===\"autorotate\")return U.labelAutoAngle;else if(G===\"autorotate\")return 0;else return K.pfValue};G9.calculateLabelAngles=function(Q){var J=this,Z=Q.isEdge(),U=Q._private,$=U.rscratch;if($.labelAngle=J.calculateLabelAngle(Q),Z)$.sourceLabelAngle=J.calculateLabelAngle(Q,\"source\"),$.targetLabelAngle=J.calculateLabelAngle(Q,\"target\")};var $G={},B1=28,V1=!1;$G.getNodeShape=function(Q){var J=this,Z=Q.pstyle(\"shape\").value;if(Z===\"cutrectangle\"&&(Q.width()<B1||Q.height()<B1)){if(!V1)lJ(\"The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead\"),V1=!0;return\"rectangle\"}if(Q.isParent())if(Z===\"rectangle\"||Z===\"roundrectangle\"||Z===\"round-rectangle\"||Z===\"cutrectangle\"||Z===\"cut-rectangle\"||Z===\"barrel\")return Z;else return\"rectangle\";if(Z===\"polygon\"){var U=Q.pstyle(\"shape-polygon-points\").value;return J.nodeShapes.makePolygon(U).name}return Z};var C7={};C7.registerCalculationListeners=function(){var Q=this.cy,J=Q.collection(),Z=this,U=function q(K){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J.merge(K),G)for(var Y=0;Y<K.length;Y++){var F=K[Y],X=F._private,H=X.rstyle;H.clean=!1,H.cleanConnected=!1}};Z.binder(Q).on(\"bounds.* dirty.*\",function q(K){var G=K.target;U(G)}).on(\"style.* background.*\",function q(K){var G=K.target;U(G,!1)});var $=function q(K){if(K){var G=Z.onUpdateEleCalcsFns;J.cleanStyle();for(var Y=0;Y<J.length;Y++){var F=J[Y],X=F._private.rstyle;if(F.isNode()&&!X.cleanConnected)U(F.connectedEdges()),X.cleanConnected=!0}if(G)for(var H=0;H<G.length;H++){var M=G[H];M(K,J)}Z.recalculateRenderedStyle(J),J=Q.collection()}};Z.flushRenderedStyleQueue=function(){$(!0)},Z.beforeRender($,Z.beforeRenderPriorities.eleCalcs)};C7.onUpdateEleCalcs=function(Q){var J=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];J.push(Q)};C7.recalculateRenderedStyle=function(Q,J){var Z=function V(D){return D._private.rstyle.cleanConnected};if(Q.length===0)return;var U=[],$=[];if(this.destroyed)return;if(J===void 0)J=!0;for(var q=0;q<Q.length;q++){var K=Q[q],G=K._private,Y=G.rstyle;if(K.isEdge()&&(!Z(K.source())||!Z(K.target())))Y.clean=!1;if(K.isEdge()&&K.isBundledBezier()){if(K.parallelEdges().some(function(V){return!V._private.rstyle.clean&&V.isBundledBezier()}))Y.clean=!1}if(J&&Y.clean||K.removed())continue;if(K.pstyle(\"display\").value===\"none\")continue;if(G.group===\"nodes\")$.push(K);else U.push(K);Y.clean=!0}for(var F=0;F<$.length;F++){var X=$[F],H=X._private,M=H.rstyle,z=X.position();this.recalculateNodeLabelProjection(X),M.nodeX=z.x,M.nodeY=z.y,M.nodeW=X.pstyle(\"width\").pfValue,M.nodeH=X.pstyle(\"height\").pfValue}this.recalculateEdgeProjections(U);for(var N=0;N<U.length;N++){var W=U[N],L=W._private,E=L.rstyle,B=L.rscratch;E.srcX=B.arrowStartX,E.srcY=B.arrowStartY,E.tgtX=B.arrowEndX,E.tgtY=B.arrowEndY,E.midX=B.midX,E.midY=B.midY,E.labelAngle=B.labelAngle,E.sourceLabelAngle=B.sourceLabelAngle,E.targetLabelAngle=B.targetLabelAngle}};var S7={};S7.updateCachedGrabbedEles=function(){var Q=this.cachedZSortedEles;if(!Q)return;Q.drag=[],Q.nondrag=[];var J=[];for(var Z=0;Z<Q.length;Z++){var U=Q[Z],$=U._private.rscratch;if(U.grabbed()&&!U.isParent())J.push(U);else if($.inDragLayer)Q.drag.push(U);else Q.nondrag.push(U)}for(var Z=0;Z<J.length;Z++){var U=J[Z];Q.drag.push(U)}};S7.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};S7.getCachedZSortedEles=function(Q){if(Q||!this.cachedZSortedEles){var J=this.cy.mutableElements().toArray();J.sort(hK),J.interactive=J.filter(function(Z){return Z.interactive()}),this.cachedZSortedEles=J,this.updateCachedGrabbedEles()}else J=this.cachedZSortedEles;return J};var qG={};[WQ,$7,P8,iZ,TU,G9,$G,C7,S7].forEach(function(Q){DJ(qG,Q)});var KG={};KG.getCachedImage=function(Q,J,Z){var U=this,$=U.imageCache=U.imageCache||{},q=$[Q];if(q){if(!q.image.complete)q.image.addEventListener(\"load\",Z);return q.image}else{q=$[Q]=$[Q]||{};var K=q.image=new Image;K.addEventListener(\"load\",Z),K.addEventListener(\"error\",function(){K.error=!0});var G=\"data:\",Y=Q.substring(0,G.length).toLowerCase()===G;if(!Y)J=J===\"null\"?null:J,K.crossOrigin=J;return K.src=Q,K}};var rQ={};rQ.registerBinding=function(Q,J,Z,U){var $=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(Q)){var q=[];for(var K=0;K<Q.length;K++){var G=Q[K];if(G!==void 0){var Y=this.binder(G);q.push(Y.on.apply(Y,$))}}return q}var Y=this.binder(Q);return Y.on.apply(Y,$)};rQ.binder=function(Q){var J=this,Z=J.cy.window(),U=Q===Z||Q===Z.document||Q===Z.document.body||eB(Q);if(J.supportsPassiveEvents==null){var $=!1;try{var q=Object.defineProperty({},\"passive\",{get:function G(){return $=!0,!0}});Z.addEventListener(\"test\",null,q)}catch(G){}J.supportsPassiveEvents=$}var K=function G(Y,F,X){var H=Array.prototype.slice.call(arguments);if(U&&J.supportsPassiveEvents)H[2]={capture:X!=null?X:!1,passive:!1,once:!1};return J.bindings.push({target:Q,args:H}),(Q.addEventListener||Q.on).apply(Q,H),this};return{on:K,addEventListener:K,addListener:K,bind:K}};rQ.nodeIsDraggable=function(Q){return Q&&Q.isNode()&&!Q.locked()&&Q.grabbable()};rQ.nodeIsGrabbable=function(Q){return this.nodeIsDraggable(Q)&&Q.interactive()};rQ.load=function(){var Q=this,J=Q.cy.window(),Z=function a(S){return S.selected()},U=function a(S){var c=S.getRootNode();if(c&&c.nodeType===11&&c.host!==void 0)return c},$=function a(S,c,l,i){if(S==null)S=Q.cy;for(var o=0;o<c.length;o++){var YJ=c[o];S.emit({originalEvent:l,type:YJ,position:i})}},q=function a(S){return S.shiftKey||S.metaKey||S.ctrlKey},K=function a(S,c){var l=!0;if(Q.cy.hasCompoundNodes()&&S&&S.pannable())for(var i=0;c&&i<c.length;i++){var S=c[i];if(S.isNode()&&S.isParent()&&!S.pannable()){l=!1;break}}else l=!0;return l},G=function a(S){S[0]._private.grabbed=!0},Y=function a(S){S[0]._private.grabbed=!1},F=function a(S){S[0]._private.rscratch.inDragLayer=!0},X=function a(S){S[0]._private.rscratch.inDragLayer=!1},H=function a(S){S[0]._private.rscratch.isGrabTarget=!0},M=function a(S){S[0]._private.rscratch.isGrabTarget=!1},z=function a(S,c){var l=c.addToList,i=l.has(S);if(!i&&S.grabbable()&&!S.locked())l.merge(S),G(S)},N=function a(S,c){if(!S.cy().hasCompoundNodes())return;if(c.inDragLayer==null&&c.addToList==null)return;var l=S.descendants();if(c.inDragLayer)l.forEach(F),l.connectedEdges().forEach(F);if(c.addToList)z(l,c)},W=function a(S,c){c=c||{};var l=S.cy().hasCompoundNodes();if(c.inDragLayer)S.forEach(F),S.neighborhood().stdFilter(function(i){return!l||i.isEdge()}).forEach(F);if(c.addToList)S.forEach(function(i){z(i,c)});N(S,c),B(S,{inDragLayer:c.inDragLayer}),Q.updateCachedGrabbedEles()},L=W,E=function a(S){if(!S)return;Q.getCachedZSortedEles().forEach(function(c){Y(c),X(c),M(c)}),Q.updateCachedGrabbedEles()},B=function a(S,c){if(c.inDragLayer==null&&c.addToList==null)return;if(!S.cy().hasCompoundNodes())return;var l=S.ancestors().orphans();if(l.same(S))return;var i=l.descendants().spawnSelf().merge(l).unmerge(S).unmerge(S.descendants()),o=i.connectedEdges();if(c.inDragLayer)o.forEach(F),i.forEach(F);if(c.addToList)i.forEach(function(YJ){z(YJ,c)})},V=function a(){if(document.activeElement!=null&&document.activeElement.blur!=null)document.activeElement.blur()},D=typeof MutationObserver!==\"undefined\",O=typeof ResizeObserver!==\"undefined\";if(D){if(Q.removeObserver=new MutationObserver(function(a){for(var S=0;S<a.length;S++){var c=a[S],l=c.removedNodes;if(l)for(var i=0;i<l.length;i++){var o=l[i];if(o===Q.container){Q.destroy();break}}}}),Q.container.parentNode)Q.removeObserver.observe(Q.container.parentNode,{childList:!0})}else Q.registerBinding(Q.container,\"DOMNodeRemoved\",function(a){Q.destroy()});var A=dZ(function(){Q.cy.resize()},100);if(D)Q.styleObserver=new MutationObserver(A),Q.styleObserver.observe(Q.container,{attributes:!0});if(Q.registerBinding(J,\"resize\",A),O)Q.resizeObserver=new ResizeObserver(A),Q.resizeObserver.observe(Q.container);var R=function a(S,c){while(S!=null)c(S),S=S.parentNode},C=function a(){Q.invalidateContainerClientCoordsCache()};R(Q.container,function(a){Q.registerBinding(a,\"transitionend\",C),Q.registerBinding(a,\"animationend\",C),Q.registerBinding(a,\"scroll\",C)}),Q.registerBinding(Q.container,\"contextmenu\",function(a){a.preventDefault()});var I=function a(){return Q.selection[4]!==0},T=function a(S){var c=Q.findContainerClientCoords(),l=c[0],i=c[1],o=c[2],YJ=c[3],QJ=S.touches?S.touches:[S],HJ=!1;for(var XJ=0;XJ<QJ.length;XJ++){var VJ=QJ[XJ];if(l<=VJ.clientX&&VJ.clientX<=l+o&&i<=VJ.clientY&&VJ.clientY<=i+YJ){HJ=!0;break}}if(!HJ)return!1;var wJ=Q.container,TJ=S.target,MJ=TJ.parentNode,fJ=!1;while(MJ){if(MJ===wJ){fJ=!0;break}MJ=MJ.parentNode}if(!fJ)return!1;return!0};Q.registerBinding(Q.container,\"mousedown\",function a(S){if(!T(S))return;if(Q.hoverData.which===1&&S.which!==1)return;S.preventDefault(),V(),Q.hoverData.capture=!0,Q.hoverData.which=S.which;var c=Q.cy,l=[S.clientX,S.clientY],i=Q.projectIntoViewport(l[0],l[1]),o=Q.selection,YJ=Q.findNearestElements(i[0],i[1],!0,!1),QJ=YJ[0],HJ=Q.dragData.possibleDragElements;Q.hoverData.mdownPos=i,Q.hoverData.mdownGPos=l;var XJ=function fJ(_J){return{originalEvent:S,type:_J,position:{x:i[0],y:i[1]}}},VJ=function fJ(){Q.hoverData.tapholdCancelled=!1,clearTimeout(Q.hoverData.tapholdTimeout),Q.hoverData.tapholdTimeout=setTimeout(function(){if(Q.hoverData.tapholdCancelled)return;else{var _J=Q.hoverData.down;if(_J)_J.emit(XJ(\"taphold\"));else c.emit(XJ(\"taphold\"))}},Q.tapholdDuration)};if(S.which==3){Q.hoverData.cxtStarted=!0;var wJ={originalEvent:S,type:\"cxttapstart\",position:{x:i[0],y:i[1]}};if(QJ)QJ.activate(),QJ.emit(wJ),Q.hoverData.down=QJ;else c.emit(wJ);Q.hoverData.downTime=new Date().getTime(),Q.hoverData.cxtDragged=!1}else if(S.which==1){if(QJ)QJ.activate();{if(QJ!=null){if(Q.nodeIsGrabbable(QJ)){var TJ=function fJ(_J){_J.emit(XJ(\"grab\"))};if(H(QJ),!QJ.selected())HJ=Q.dragData.possibleDragElements=c.collection(),L(QJ,{addToList:HJ}),QJ.emit(XJ(\"grabon\")).emit(XJ(\"grab\"));else{HJ=Q.dragData.possibleDragElements=c.collection();var MJ=c.$(function(fJ){return fJ.isNode()&&fJ.selected()&&Q.nodeIsGrabbable(fJ)});W(MJ,{addToList:HJ}),QJ.emit(XJ(\"grabon\")),MJ.forEach(TJ)}Q.redrawHint(\"eles\",!0),Q.redrawHint(\"drag\",!0)}}Q.hoverData.down=QJ,Q.hoverData.downs=YJ,Q.hoverData.downTime=new Date().getTime()}if($(QJ,[\"mousedown\",\"tapstart\",\"vmousedown\"],S,{x:i[0],y:i[1]}),QJ==null)o[4]=1,Q.data.bgActivePosistion={x:i[0],y:i[1]},Q.redrawHint(\"select\",!0),Q.redraw();else if(QJ.pannable())o[4]=1;VJ()}o[0]=o[2]=i[0],o[1]=o[3]=i[1]},!1);var P=U(Q.container);Q.registerBinding([J,P],\"mousemove\",function a(S){var c=Q.hoverData.capture;if(!c&&!T(S))return;var l=!1,i=Q.cy,o=i.zoom(),YJ=[S.clientX,S.clientY],QJ=Q.projectIntoViewport(YJ[0],YJ[1]),HJ=Q.hoverData.mdownPos,XJ=Q.hoverData.mdownGPos,VJ=Q.selection,wJ=null;if(!Q.hoverData.draggingEles&&!Q.hoverData.dragging&&!Q.hoverData.selecting)wJ=Q.findNearestElement(QJ[0],QJ[1],!0,!1);var TJ=Q.hoverData.last,MJ=Q.hoverData.down,fJ=[QJ[0]-VJ[2],QJ[1]-VJ[3]],_J=Q.dragData.possibleDragElements,X8;if(XJ){var U8=YJ[0]-XJ[0],k8=U8*U8,K8=YJ[1]-XJ[1],W8=K8*K8,H8=k8+W8;Q.hoverData.isOverThresholdDrag=X8=H8>=Q.desktopTapThreshold2}var D8=q(S);if(X8)Q.hoverData.tapholdCancelled=!0;var P9=function HZ(){var c8=Q.hoverData.dragDelta=Q.hoverData.dragDelta||[];if(c8.length===0)c8.push(fJ[0]),c8.push(fJ[1]);else c8[0]+=fJ[0],c8[1]+=fJ[1]};l=!0,$(wJ,[\"mousemove\",\"vmousemove\",\"tapdrag\"],S,{x:QJ[0],y:QJ[1]});var G8=function HZ(c8){return{originalEvent:S,type:c8,position:{x:QJ[0],y:QJ[1]}}},N9=function HZ(){if(Q.data.bgActivePosistion=void 0,!Q.hoverData.selecting)i.emit(G8(\"boxstart\"));VJ[4]=1,Q.hoverData.selecting=!0,Q.redrawHint(\"select\",!0),Q.redraw()};if(Q.hoverData.which===3){if(X8){var z9=G8(\"cxtdrag\");if(MJ)MJ.emit(z9);else i.emit(z9);if(Q.hoverData.cxtDragged=!0,!Q.hoverData.cxtOver||wJ!==Q.hoverData.cxtOver){if(Q.hoverData.cxtOver)Q.hoverData.cxtOver.emit(G8(\"cxtdragout\"));if(Q.hoverData.cxtOver=wJ,wJ)wJ.emit(G8(\"cxtdragover\"))}}}else if(Q.hoverData.dragging){if(l=!0,i.panningEnabled()&&i.userPanningEnabled()){var TQ;if(Q.hoverData.justStartedPan){var O6=Q.hoverData.mdownPos;TQ={x:(QJ[0]-O6[0])*o,y:(QJ[1]-O6[1])*o},Q.hoverData.justStartedPan=!1}else TQ={x:fJ[0]*o,y:fJ[1]*o};i.panBy(TQ),i.emit(G8(\"dragpan\")),Q.hoverData.dragged=!0}QJ=Q.projectIntoViewport(S.clientX,S.clientY)}else if(VJ[4]==1&&(MJ==null||MJ.pannable())){if(X8){if(!Q.hoverData.dragging&&i.boxSelectionEnabled()&&(D8||!i.panningEnabled()||!i.userPanningEnabled()))N9();else if(!Q.hoverData.selecting&&i.panningEnabled()&&i.userPanningEnabled()){var UQ=K(MJ,Q.hoverData.downs);if(UQ)Q.hoverData.dragging=!0,Q.hoverData.justStartedPan=!0,VJ[4]=0,Q.data.bgActivePosistion=bQ(HJ),Q.redrawHint(\"select\",!0),Q.redraw()}if(MJ&&MJ.pannable()&&MJ.active())MJ.unactivate()}}else{if(MJ&&MJ.pannable()&&MJ.active())MJ.unactivate();if((!MJ||!MJ.grabbed())&&wJ!=TJ){if(TJ)$(TJ,[\"mouseout\",\"tapdragout\"],S,{x:QJ[0],y:QJ[1]});if(wJ)$(wJ,[\"mouseover\",\"tapdragover\"],S,{x:QJ[0],y:QJ[1]});Q.hoverData.last=wJ}if(MJ)if(X8){if(i.boxSelectionEnabled()&&D8){if(MJ&&MJ.grabbed()){if(E(_J),MJ.emit(G8(\"freeon\")),_J.emit(G8(\"free\")),Q.dragData.didDrag)MJ.emit(G8(\"dragfreeon\")),_J.emit(G8(\"dragfree\"))}N9()}else if(MJ&&MJ.grabbed()&&Q.nodeIsDraggable(MJ)){var f8=!Q.dragData.didDrag;if(f8)Q.redrawHint(\"eles\",!0);if(Q.dragData.didDrag=!0,!Q.hoverData.draggingEles)W(_J,{inDragLayer:!0});var S8={x:0,y:0};if($J(fJ[0])&&$J(fJ[1])){if(S8.x+=fJ[0],S8.y+=fJ[1],f8){var x8=Q.hoverData.dragDelta;if(x8&&$J(x8[0])&&$J(x8[1]))S8.x+=x8[0],S8.y+=x8[1]}}Q.hoverData.draggingEles=!0,_J.silentShift(S8).emit(G8(\"position\")).emit(G8(\"drag\")),Q.redrawHint(\"drag\",!0),Q.redraw()}}else P9();l=!0}if(VJ[2]=QJ[0],VJ[3]=QJ[1],l){if(S.stopPropagation)S.stopPropagation();if(S.preventDefault)S.preventDefault();return!1}},!1);var k,j,_;Q.registerBinding(J,\"mouseup\",function a(S){if(Q.hoverData.which===1&&S.which!==1&&Q.hoverData.capture)return;var c=Q.hoverData.capture;if(!c)return;Q.hoverData.capture=!1;var l=Q.cy,i=Q.projectIntoViewport(S.clientX,S.clientY),o=Q.selection,YJ=Q.findNearestElement(i[0],i[1],!0,!1),QJ=Q.dragData.possibleDragElements,HJ=Q.hoverData.down,XJ=q(S);if(Q.data.bgActivePosistion)Q.redrawHint(\"select\",!0),Q.redraw();if(Q.hoverData.tapholdCancelled=!0,Q.data.bgActivePosistion=void 0,HJ)HJ.unactivate();var VJ=function X8(U8){return{originalEvent:S,type:U8,position:{x:i[0],y:i[1]}}};if(Q.hoverData.which===3){var wJ=VJ(\"cxttapend\");if(HJ)HJ.emit(wJ);else l.emit(wJ);if(!Q.hoverData.cxtDragged){var TJ=VJ(\"cxttap\");if(HJ)HJ.emit(TJ);else l.emit(TJ)}Q.hoverData.cxtDragged=!1,Q.hoverData.which=null}else if(Q.hoverData.which===1){if($(YJ,[\"mouseup\",\"tapend\",\"vmouseup\"],S,{x:i[0],y:i[1]}),!Q.dragData.didDrag&&!Q.hoverData.dragged&&!Q.hoverData.selecting&&!Q.hoverData.isOverThresholdDrag)if($(HJ,[\"click\",\"tap\",\"vclick\"],S,{x:i[0],y:i[1]}),j=!1,S.timeStamp-_<=l.multiClickDebounceTime())k&&clearTimeout(k),j=!0,_=null,$(HJ,[\"dblclick\",\"dbltap\",\"vdblclick\"],S,{x:i[0],y:i[1]});else k=setTimeout(function(){if(j)return;$(HJ,[\"oneclick\",\"onetap\",\"voneclick\"],S,{x:i[0],y:i[1]})},l.multiClickDebounceTime()),_=S.timeStamp;if(HJ==null&&!Q.dragData.didDrag&&!Q.hoverData.selecting&&!Q.hoverData.dragged&&!q(S)){if(l.$(Z).unselect([\"tapunselect\"]),QJ.length>0)Q.redrawHint(\"eles\",!0);Q.dragData.possibleDragElements=QJ=l.collection()}if(YJ==HJ&&!Q.dragData.didDrag&&!Q.hoverData.selecting){if(YJ!=null&&YJ._private.selectable){if(Q.hoverData.dragging);else if(l.selectionType()===\"additive\"||XJ)if(YJ.selected())YJ.unselect([\"tapunselect\"]);else YJ.select([\"tapselect\"]);else if(!XJ)l.$(Z).unmerge(YJ).unselect([\"tapunselect\"]),YJ.select([\"tapselect\"]);Q.redrawHint(\"eles\",!0)}}if(Q.hoverData.selecting){var MJ=l.collection(Q.getAllInBox(o[0],o[1],o[2],o[3]));if(Q.redrawHint(\"select\",!0),MJ.length>0)Q.redrawHint(\"eles\",!0);l.emit(VJ(\"boxend\"));var fJ=function X8(U8){return U8.selectable()&&!U8.selected()};if(l.selectionType()===\"additive\")MJ.emit(VJ(\"box\")).stdFilter(fJ).select().emit(VJ(\"boxselect\"));else{if(!XJ)l.$(Z).unmerge(MJ).unselect();MJ.emit(VJ(\"box\")).stdFilter(fJ).select().emit(VJ(\"boxselect\"))}Q.redraw()}if(Q.hoverData.dragging)Q.hoverData.dragging=!1,Q.redrawHint(\"select\",!0),Q.redrawHint(\"eles\",!0),Q.redraw();if(!o[4]){Q.redrawHint(\"drag\",!0),Q.redrawHint(\"eles\",!0);var _J=HJ&&HJ.grabbed();if(E(QJ),_J){if(HJ.emit(VJ(\"freeon\")),QJ.emit(VJ(\"free\")),Q.dragData.didDrag)HJ.emit(VJ(\"dragfreeon\")),QJ.emit(VJ(\"dragfree\"))}}}o[4]=0,Q.hoverData.down=null,Q.hoverData.cxtStarted=!1,Q.hoverData.draggingEles=!1,Q.hoverData.selecting=!1,Q.hoverData.isOverThresholdDrag=!1,Q.dragData.didDrag=!1,Q.hoverData.dragged=!1,Q.hoverData.dragDelta=[],Q.hoverData.mdownPos=null,Q.hoverData.mdownGPos=null,Q.hoverData.which=null},!1);var x=[],f=4,v,b=1e5,y=function a(S,c){for(var l=0;l<S.length;l++)if(S[l]%c!==0)return!1;return!0},g=function a(S){var c=Math.abs(S[0]);for(var l=1;l<S.length;l++)if(Math.abs(S[l])!==c)return!1;return!0},m=function a(S){var c=!1,l=S.deltaY;if(l==null){if(S.wheelDeltaY!=null)l=S.wheelDeltaY/4;else if(S.wheelDelta!=null)l=S.wheelDelta/4}if(l===0)return;if(v==null)if(x.length>=f){var i=x;if(v=y(i,5),!v){var o=Math.abs(i[0]);v=g(i)&&o>5}if(v)for(var YJ=0;YJ<i.length;YJ++)b=Math.min(Math.abs(i[YJ]),b)}else x.push(l),c=!0;else if(v)b=Math.min(Math.abs(l),b);if(Q.scrollingPage)return;var QJ=Q.cy,HJ=QJ.zoom(),XJ=QJ.pan(),VJ=Q.projectIntoViewport(S.clientX,S.clientY),wJ=[VJ[0]*HJ+XJ.x,VJ[1]*HJ+XJ.y];if(Q.hoverData.draggingEles||Q.hoverData.dragging||Q.hoverData.cxtStarted||I()){S.preventDefault();return}if(QJ.panningEnabled()&&QJ.userPanningEnabled()&&QJ.zoomingEnabled()&&QJ.userZoomingEnabled()){S.preventDefault(),Q.data.wheelZooming=!0,clearTimeout(Q.data.wheelTimeout),Q.data.wheelTimeout=setTimeout(function(){Q.data.wheelZooming=!1,Q.redrawHint(\"eles\",!0),Q.redraw()},150);var TJ;if(c&&Math.abs(l)>5)l=NU(l)*5;if(TJ=l/-250,v)TJ/=b,TJ*=3;TJ=TJ*Q.wheelSensitivity;var MJ=S.deltaMode===1;if(MJ)TJ*=33;var fJ=QJ.zoom()*Math.pow(10,TJ);if(S.type===\"gesturechange\")fJ=Q.gestureStartZoom*S.scale;QJ.zoom({level:fJ,renderedPosition:{x:wJ[0],y:wJ[1]}}),QJ.emit({type:S.type===\"gesturechange\"?\"pinchzoom\":\"scrollzoom\",originalEvent:S,position:{x:VJ[0],y:VJ[1]}})}};Q.registerBinding(Q.container,\"wheel\",m,!0),Q.registerBinding(J,\"scroll\",function a(S){Q.scrollingPage=!0,clearTimeout(Q.scrollingPageTimeout),Q.scrollingPageTimeout=setTimeout(function(){Q.scrollingPage=!1},250)},!0),Q.registerBinding(Q.container,\"gesturestart\",function a(S){if(Q.gestureStartZoom=Q.cy.zoom(),!Q.hasTouchStarted)S.preventDefault()},!0),Q.registerBinding(Q.container,\"gesturechange\",function(a){if(!Q.hasTouchStarted)m(a)},!0),Q.registerBinding(Q.container,\"mouseout\",function a(S){var c=Q.projectIntoViewport(S.clientX,S.clientY);Q.cy.emit({originalEvent:S,type:\"mouseout\",position:{x:c[0],y:c[1]}})},!1),Q.registerBinding(Q.container,\"mouseover\",function a(S){var c=Q.projectIntoViewport(S.clientX,S.clientY);Q.cy.emit({originalEvent:S,type:\"mouseover\",position:{x:c[0],y:c[1]}})},!1);var u,n,t,s,JJ,ZJ,qJ,e,h,d,p,r,UJ,NJ=function a(S,c,l,i){return Math.sqrt((l-S)*(l-S)+(i-c)*(i-c))},xJ=function a(S,c,l,i){return(l-S)*(l-S)+(i-c)*(i-c)},CJ;Q.registerBinding(Q.container,\"touchstart\",CJ=function a(S){if(Q.hasTouchStarted=!0,!T(S))return;V(),Q.touchData.capture=!0,Q.data.bgActivePosistion=void 0;var c=Q.cy,l=Q.touchData.now,i=Q.touchData.earlier;if(S.touches[0]){var o=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);l[0]=o[0],l[1]=o[1]}if(S.touches[1]){var o=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);l[2]=o[0],l[3]=o[1]}if(S.touches[2]){var o=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);l[4]=o[0],l[5]=o[1]}var YJ=function H8(D8){return{originalEvent:S,type:D8,position:{x:l[0],y:l[1]}}};if(S.touches[1]){Q.touchData.singleTouchMoved=!0,E(Q.dragData.touchDragEles);var QJ=Q.findContainerClientCoords();h=QJ[0],d=QJ[1],p=QJ[2],r=QJ[3],u=S.touches[0].clientX-h,n=S.touches[0].clientY-d,t=S.touches[1].clientX-h,s=S.touches[1].clientY-d,UJ=0<=u&&u<=p&&0<=t&&t<=p&&0<=n&&n<=r&&0<=s&&s<=r;var HJ=c.pan(),XJ=c.zoom();JJ=NJ(u,n,t,s),ZJ=xJ(u,n,t,s),qJ=[(u+t)/2,(n+s)/2],e=[(qJ[0]-HJ.x)/XJ,(qJ[1]-HJ.y)/XJ];var VJ=200,wJ=VJ*VJ;if(ZJ<wJ&&!S.touches[2]){var TJ=Q.findNearestElement(l[0],l[1],!0,!0),MJ=Q.findNearestElement(l[2],l[3],!0,!0);if(TJ&&TJ.isNode())TJ.activate().emit(YJ(\"cxttapstart\")),Q.touchData.start=TJ;else if(MJ&&MJ.isNode())MJ.activate().emit(YJ(\"cxttapstart\")),Q.touchData.start=MJ;else c.emit(YJ(\"cxttapstart\"));if(Q.touchData.start)Q.touchData.start._private.grabbed=!1;Q.touchData.cxt=!0,Q.touchData.cxtDragged=!1,Q.data.bgActivePosistion=void 0,Q.redraw();return}}if(S.touches[2]){if(c.boxSelectionEnabled())S.preventDefault()}else if(S.touches[1]);else if(S.touches[0]){var fJ=Q.findNearestElements(l[0],l[1],!0,!0),_J=fJ[0];if(_J!=null){if(_J.activate(),Q.touchData.start=_J,Q.touchData.starts=fJ,Q.nodeIsGrabbable(_J)){var X8=Q.dragData.touchDragEles=c.collection(),U8=null;if(Q.redrawHint(\"eles\",!0),Q.redrawHint(\"drag\",!0),_J.selected())U8=c.$(function(H8){return H8.selected()&&Q.nodeIsGrabbable(H8)}),W(U8,{addToList:X8});else L(_J,{addToList:X8});if(H(_J),_J.emit(YJ(\"grabon\")),U8)U8.forEach(function(H8){H8.emit(YJ(\"grab\"))});else _J.emit(YJ(\"grab\"))}}if($(_J,[\"touchstart\",\"tapstart\",\"vmousedown\"],S,{x:l[0],y:l[1]}),_J==null)Q.data.bgActivePosistion={x:o[0],y:o[1]},Q.redrawHint(\"select\",!0),Q.redraw();Q.touchData.singleTouchMoved=!1,Q.touchData.singleTouchStartTime=+new Date,clearTimeout(Q.touchData.tapholdTimeout),Q.touchData.tapholdTimeout=setTimeout(function(){if(Q.touchData.singleTouchMoved===!1&&!Q.pinching&&!Q.touchData.selecting)$(Q.touchData.start,[\"taphold\"],S,{x:l[0],y:l[1]})},Q.tapholdDuration)}if(S.touches.length>=1){var k8=Q.touchData.startPosition=[null,null,null,null,null,null];for(var K8=0;K8<l.length;K8++)k8[K8]=i[K8]=l[K8];var W8=S.touches[0];Q.touchData.startGPosition=[W8.clientX,W8.clientY]}},!1);var RJ;Q.registerBinding(J,\"touchmove\",RJ=function a(S){var c=Q.touchData.capture;if(!c&&!T(S))return;var{selection:l,cy:i}=Q,o=Q.touchData.now,YJ=Q.touchData.earlier,QJ=i.zoom();if(S.touches[0]){var HJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);o[0]=HJ[0],o[1]=HJ[1]}if(S.touches[1]){var HJ=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);o[2]=HJ[0],o[3]=HJ[1]}if(S.touches[2]){var HJ=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);o[4]=HJ[0],o[5]=HJ[1]}var XJ=function gd(yB){return{originalEvent:S,type:yB,position:{x:o[0],y:o[1]}}},VJ=Q.touchData.startGPosition,wJ;if(c&&S.touches[0]&&VJ){var TJ=[];for(var MJ=0;MJ<o.length;MJ++)TJ[MJ]=o[MJ]-YJ[MJ];var fJ=S.touches[0].clientX-VJ[0],_J=fJ*fJ,X8=S.touches[0].clientY-VJ[1],U8=X8*X8,k8=_J+U8;wJ=k8>=Q.touchTapThreshold2}if(c&&Q.touchData.cxt){S.preventDefault();var K8=S.touches[0].clientX-h,W8=S.touches[0].clientY-d,H8=S.touches[1].clientX-h,D8=S.touches[1].clientY-d,P9=xJ(K8,W8,H8,D8),G8=P9/ZJ,N9=150,z9=N9*N9,TQ=1.5,O6=TQ*TQ;if(G8>=O6||P9>=z9){Q.touchData.cxt=!1,Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);var UQ=XJ(\"cxttapend\");if(Q.touchData.start)Q.touchData.start.unactivate().emit(UQ),Q.touchData.start=null;else i.emit(UQ)}}if(c&&Q.touchData.cxt){var UQ=XJ(\"cxtdrag\");if(Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0),Q.touchData.start)Q.touchData.start.emit(UQ);else i.emit(UQ);if(Q.touchData.start)Q.touchData.start._private.grabbed=!1;Q.touchData.cxtDragged=!0;var f8=Q.findNearestElement(o[0],o[1],!0,!0);if(!Q.touchData.cxtOver||f8!==Q.touchData.cxtOver){if(Q.touchData.cxtOver)Q.touchData.cxtOver.emit(XJ(\"cxtdragout\"));if(Q.touchData.cxtOver=f8,f8)f8.emit(XJ(\"cxtdragover\"))}}else if(c&&S.touches[2]&&i.boxSelectionEnabled()){if(S.preventDefault(),Q.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,!Q.touchData.selecting)i.emit(XJ(\"boxstart\"));if(Q.touchData.selecting=!0,Q.touchData.didSelect=!0,l[4]=1,!l||l.length===0||l[0]===void 0)l[0]=(o[0]+o[2]+o[4])/3,l[1]=(o[1]+o[3]+o[5])/3,l[2]=(o[0]+o[2]+o[4])/3+1,l[3]=(o[1]+o[3]+o[5])/3+1;else l[2]=(o[0]+o[2]+o[4])/3,l[3]=(o[1]+o[3]+o[5])/3;Q.redrawHint(\"select\",!0),Q.redraw()}else if(c&&S.touches[1]&&!Q.touchData.didSelect&&i.zoomingEnabled()&&i.panningEnabled()&&i.userZoomingEnabled()&&i.userPanningEnabled()){S.preventDefault(),Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);var S8=Q.dragData.touchDragEles;if(S8){Q.redrawHint(\"drag\",!0);for(var x8=0;x8<S8.length;x8++){var HZ=S8[x8]._private;HZ.grabbed=!1,HZ.rscratch.inDragLayer=!1}}var c8=Q.touchData.start,K8=S.touches[0].clientX-h,W8=S.touches[0].clientY-d,H8=S.touches[1].clientX-h,D8=S.touches[1].clientY-d,q4=NJ(K8,W8,H8,D8),kB=q4/JJ;if(UJ){var jB=K8-u,wB=W8-n,_B=H8-t,vB=D8-s,fB=(jB+_B)/2,xB=(wB+vB)/2,MZ=i.zoom(),G5=MZ*kB,A6=i.pan(),K4=e[0]*MZ+A6.x,G4=e[1]*MZ+A6.y,bB={x:-G5/MZ*(K4-A6.x-fB)+K4,y:-G5/MZ*(G4-A6.y-xB)+G4};if(c8&&c8.active()){var S8=Q.dragData.touchDragEles;if(E(S8),Q.redrawHint(\"drag\",!0),Q.redrawHint(\"eles\",!0),c8.unactivate().emit(XJ(\"freeon\")),S8.emit(XJ(\"free\")),Q.dragData.didDrag)c8.emit(XJ(\"dragfreeon\")),S8.emit(XJ(\"dragfree\"))}i.viewport({zoom:G5,pan:bB,cancelOnFailedZoom:!0}),i.emit(XJ(\"pinchzoom\")),JJ=q4,u=K8,n=W8,t=H8,s=D8,Q.pinching=!0}if(S.touches[0]){var HJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);o[0]=HJ[0],o[1]=HJ[1]}if(S.touches[1]){var HJ=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);o[2]=HJ[0],o[3]=HJ[1]}if(S.touches[2]){var HJ=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);o[4]=HJ[0],o[5]=HJ[1]}}else if(S.touches[0]&&!Q.touchData.didSelect){var r8=Q.touchData.start,Y5=Q.touchData.last,f8;if(!Q.hoverData.draggingEles&&!Q.swipePanning)f8=Q.findNearestElement(o[0],o[1],!0,!0);if(c&&r8!=null)S.preventDefault();if(c&&r8!=null&&Q.nodeIsDraggable(r8))if(wJ){var S8=Q.dragData.touchDragEles,Y4=!Q.dragData.didDrag;if(Y4)W(S8,{inDragLayer:!0});Q.dragData.didDrag=!0;var NZ={x:0,y:0};if($J(TJ[0])&&$J(TJ[1])){if(NZ.x+=TJ[0],NZ.y+=TJ[1],Y4){Q.redrawHint(\"eles\",!0);var o8=Q.touchData.dragDelta;if(o8&&$J(o8[0])&&$J(o8[1]))NZ.x+=o8[0],NZ.y+=o8[1]}}if(Q.hoverData.draggingEles=!0,S8.silentShift(NZ).emit(XJ(\"position\")).emit(XJ(\"drag\")),Q.redrawHint(\"drag\",!0),Q.touchData.startPosition[0]==YJ[0]&&Q.touchData.startPosition[1]==YJ[1])Q.redrawHint(\"eles\",!0);Q.redraw()}else{var o8=Q.touchData.dragDelta=Q.touchData.dragDelta||[];if(o8.length===0)o8.push(TJ[0]),o8.push(TJ[1]);else o8[0]+=TJ[0],o8[1]+=TJ[1]}{if($(r8||f8,[\"touchmove\",\"tapdrag\",\"vmousemove\"],S,{x:o[0],y:o[1]}),(!r8||!r8.grabbed())&&f8!=Y5){if(Y5)Y5.emit(XJ(\"tapdragout\"));if(f8)f8.emit(XJ(\"tapdragover\"))}Q.touchData.last=f8}if(c){for(var x8=0;x8<o.length;x8++)if(o[x8]&&Q.touchData.startPosition[x8]&&wJ)Q.touchData.singleTouchMoved=!0}if(c&&(r8==null||r8.pannable())&&i.panningEnabled()&&i.userPanningEnabled()){var mB=K(r8,Q.touchData.starts);if(mB){if(S.preventDefault(),!Q.data.bgActivePosistion)Q.data.bgActivePosistion=bQ(Q.touchData.startPosition);if(Q.swipePanning)i.panBy({x:TJ[0]*QJ,y:TJ[1]*QJ}),i.emit(XJ(\"dragpan\"));else if(wJ){if(Q.swipePanning=!0,i.panBy({x:fJ*QJ,y:X8*QJ}),i.emit(XJ(\"dragpan\")),r8)r8.unactivate(),Q.redrawHint(\"select\",!0),Q.touchData.start=null}}var HJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);o[0]=HJ[0],o[1]=HJ[1]}}for(var MJ=0;MJ<o.length;MJ++)YJ[MJ]=o[MJ];if(c&&S.touches.length>0&&!Q.hoverData.draggingEles&&!Q.swipePanning&&Q.data.bgActivePosistion!=null)Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0),Q.redraw()},!1);var BJ;Q.registerBinding(J,\"touchcancel\",BJ=function a(S){var c=Q.touchData.start;if(Q.touchData.capture=!1,c)c.unactivate()});var KJ,zJ,LJ,AJ;if(Q.registerBinding(J,\"touchend\",KJ=function a(S){var c=Q.touchData.start,l=Q.touchData.capture;if(l){if(S.touches.length===0)Q.touchData.capture=!1;S.preventDefault()}else return;var i=Q.selection;Q.swipePanning=!1,Q.hoverData.draggingEles=!1;var o=Q.cy,YJ=o.zoom(),QJ=Q.touchData.now,HJ=Q.touchData.earlier;if(S.touches[0]){var XJ=Q.projectIntoViewport(S.touches[0].clientX,S.touches[0].clientY);QJ[0]=XJ[0],QJ[1]=XJ[1]}if(S.touches[1]){var XJ=Q.projectIntoViewport(S.touches[1].clientX,S.touches[1].clientY);QJ[2]=XJ[0],QJ[3]=XJ[1]}if(S.touches[2]){var XJ=Q.projectIntoViewport(S.touches[2].clientX,S.touches[2].clientY);QJ[4]=XJ[0],QJ[5]=XJ[1]}var VJ=function N9(z9){return{originalEvent:S,type:z9,position:{x:QJ[0],y:QJ[1]}}};if(c)c.unactivate();var wJ;if(Q.touchData.cxt){if(wJ=VJ(\"cxttapend\"),c)c.emit(wJ);else o.emit(wJ);if(!Q.touchData.cxtDragged){var TJ=VJ(\"cxttap\");if(c)c.emit(TJ);else o.emit(TJ)}if(Q.touchData.start)Q.touchData.start._private.grabbed=!1;Q.touchData.cxt=!1,Q.touchData.start=null,Q.redraw();return}if(!S.touches[2]&&o.boxSelectionEnabled()&&Q.touchData.selecting){Q.touchData.selecting=!1;var MJ=o.collection(Q.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,Q.redrawHint(\"select\",!0),o.emit(VJ(\"boxend\"));var fJ=function N9(z9){return z9.selectable()&&!z9.selected()};if(MJ.emit(VJ(\"box\")).stdFilter(fJ).select().emit(VJ(\"boxselect\")),MJ.nonempty())Q.redrawHint(\"eles\",!0);Q.redraw()}if(c!=null)c.unactivate();if(S.touches[2])Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);else if(S.touches[1]);else if(S.touches[0]);else if(!S.touches[0]){Q.data.bgActivePosistion=void 0,Q.redrawHint(\"select\",!0);var _J=Q.dragData.touchDragEles;if(c!=null){var X8=c._private.grabbed;if(E(_J),Q.redrawHint(\"drag\",!0),Q.redrawHint(\"eles\",!0),X8){if(c.emit(VJ(\"freeon\")),_J.emit(VJ(\"free\")),Q.dragData.didDrag)c.emit(VJ(\"dragfreeon\")),_J.emit(VJ(\"dragfree\"))}$(c,[\"touchend\",\"tapend\",\"vmouseup\",\"tapdragout\"],S,{x:QJ[0],y:QJ[1]}),c.unactivate(),Q.touchData.start=null}else{var U8=Q.findNearestElement(QJ[0],QJ[1],!0,!0);$(U8,[\"touchend\",\"tapend\",\"vmouseup\",\"tapdragout\"],S,{x:QJ[0],y:QJ[1]})}var k8=Q.touchData.startPosition[0]-QJ[0],K8=k8*k8,W8=Q.touchData.startPosition[1]-QJ[1],H8=W8*W8,D8=K8+H8,P9=D8*YJ*YJ;if(!Q.touchData.singleTouchMoved){if(!c)o.$(\":selected\").unselect([\"tapunselect\"]);if($(c,[\"tap\",\"vclick\"],S,{x:QJ[0],y:QJ[1]}),zJ=!1,S.timeStamp-AJ<=o.multiClickDebounceTime())LJ&&clearTimeout(LJ),zJ=!0,AJ=null,$(c,[\"dbltap\",\"vdblclick\"],S,{x:QJ[0],y:QJ[1]});else LJ=setTimeout(function(){if(zJ)return;$(c,[\"onetap\",\"voneclick\"],S,{x:QJ[0],y:QJ[1]})},o.multiClickDebounceTime()),AJ=S.timeStamp}if(c!=null&&!Q.dragData.didDrag&&c._private.selectable&&P9<Q.touchTapThreshold2&&!Q.pinching){if(o.selectionType()===\"single\")o.$(Z).unmerge(c).unselect([\"tapunselect\"]),c.select([\"tapselect\"]);else if(c.selected())c.unselect([\"tapunselect\"]);else c.select([\"tapselect\"]);Q.redrawHint(\"eles\",!0)}Q.touchData.singleTouchMoved=!0}for(var G8=0;G8<QJ.length;G8++)HJ[G8]=QJ[G8];if(Q.dragData.didDrag=!1,S.touches.length===0)Q.touchData.dragDelta=[],Q.touchData.startPosition=[null,null,null,null,null,null],Q.touchData.startGPosition=null,Q.touchData.didSelect=!1;if(S.touches.length<2){if(S.touches.length===1)Q.touchData.startGPosition=[S.touches[0].clientX,S.touches[0].clientY];Q.pinching=!1,Q.redrawHint(\"eles\",!0),Q.redraw()}},!1),typeof TouchEvent===\"undefined\"){var EJ=[],PJ=function a(S){return{clientX:S.clientX,clientY:S.clientY,force:1,identifier:S.pointerId,pageX:S.pageX,pageY:S.pageY,radiusX:S.width/2,radiusY:S.height/2,screenX:S.screenX,screenY:S.screenY,target:S.target}},bJ=function a(S){return{event:S,touch:PJ(S)}},gJ=function a(S){EJ.push(bJ(S))},dJ=function a(S){for(var c=0;c<EJ.length;c++){var l=EJ[c];if(l.event.pointerId===S.pointerId){EJ.splice(c,1);return}}},cJ=function a(S){var c=EJ.filter(function(l){return l.event.pointerId===S.pointerId})[0];c.event=S,c.touch=PJ(S)},OJ=function a(S){S.touches=EJ.map(function(c){return c.touch})},FJ=function a(S){return S.pointerType===\"mouse\"||S.pointerType===4};Q.registerBinding(Q.container,\"pointerdown\",function(a){if(FJ(a))return;a.preventDefault(),gJ(a),OJ(a),CJ(a)}),Q.registerBinding(Q.container,\"pointerup\",function(a){if(FJ(a))return;dJ(a),OJ(a),KJ(a)}),Q.registerBinding(Q.container,\"pointercancel\",function(a){if(FJ(a))return;dJ(a),OJ(a),BJ(a)}),Q.registerBinding(Q.container,\"pointermove\",function(a){if(FJ(a))return;a.preventDefault(),cJ(a),OJ(a),RJ(a)})}};var R9={};R9.generatePolygon=function(Q,J){return this.nodeShapes[Q]={renderer:this,name:Q,points:J,draw:function Z(U,$,q,K,G,Y){this.renderer.nodeShapeImpl(\"polygon\",U,$,q,K,G,this.points)},intersectLine:function Z(U,$,q,K,G,Y,F,X){return wZ(G,Y,this.points,U,$,q/2,K/2,F)},checkPoint:function Z(U,$,q,K,G,Y,F,X){return V9(U,$,this.points,Y,F,K,G,[0,-1],q)},hasMiterBounds:Q!==\"rectangle\",miterBounds:function Z(U,$,q,K,G,Y){return LV(this.points,U,$,q,K,G)}}};R9.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:\"ellipse\",draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){return AV(q,K,J,Z,U/2+G,$/2+G)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){return XQ(J,Z,$,q,K,G,U)}}};R9.generateRoundPolygon=function(Q,J){return this.nodeShapes[Q]={renderer:this,name:Q,points:J,getOrCreateCorners:function Z(U,$,q,K,G,Y,F){if(Y[F]!==void 0&&Y[F+\"-cx\"]===U&&Y[F+\"-cy\"]===$)return Y[F];Y[F]=new Array(J.length/2),Y[F+\"-cx\"]=U,Y[F+\"-cy\"]=$;var X=q/2,H=K/2;G=G===\"auto\"?GK(q,K):G;var M=new Array(J.length/2);for(var z=0;z<J.length/2;z++)M[z]={x:U+X*J[z*2],y:$+H*J[z*2+1]};var N,W,L,E,B=M.length;W=M[B-1];for(N=0;N<B;N++)L=M[N%B],E=M[(N+1)%B],Y[F][N]=IU(W,L,E,G),W=L,L=E;return Y[F]},draw:function Z(U,$,q,K,G,Y,F){this.renderer.nodeShapeImpl(\"round-polygon\",U,$,q,K,G,this.points,this.getOrCreateCorners($,q,K,G,Y,F,\"drawCorners\"))},intersectLine:function Z(U,$,q,K,G,Y,F,X,H){return SV(G,Y,this.points,U,$,q,K,F,this.getOrCreateCorners(U,$,q,K,X,H,\"corners\"))},checkPoint:function Z(U,$,q,K,G,Y,F,X,H){return OV(U,$,this.points,Y,F,K,G,this.getOrCreateCorners(Y,F,K,G,X,H,\"corners\"))}}};R9.generateRoundRectangle=function(){return this.nodeShapes[\"round-rectangle\"]=this.nodeShapes.roundrectangle={renderer:this,name:\"round-rectangle\",points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q,this.points,K)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){return qK(q,K,J,Z,U,$,G,Y)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){var F=$/2,X=q/2;Y=Y===\"auto\"?u9($,q):Y,Y=Math.min(F,X,Y);var H=Y*2;if(V9(J,Z,this.points,K,G,$,q-H,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-H,q,[0,-1],U))return!0;if(XQ(J,Z,H,H,K-F+Y,G-X+Y,U))return!0;if(XQ(J,Z,H,H,K+F-Y,G-X+Y,U))return!0;if(XQ(J,Z,H,H,K+F-Y,G+X-Y,U))return!0;if(XQ(J,Z,H,H,K-F+Y,G+X-Y,U))return!0;return!1}}};R9.generateCutRectangle=function(){return this.nodeShapes[\"cut-rectangle\"]=this.nodeShapes.cutrectangle={renderer:this,name:\"cut-rectangle\",cornerLength:LU(),points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q,null,K)},generateCutTrianglePts:function Q(J,Z,U,$,q){var K=q===\"auto\"?this.cornerLength:q,G=Z/2,Y=J/2,F=U-Y,X=U+Y,H=$-G,M=$+G;return{topLeft:[F,H+K,F+K,H,F+K,H+K],topRight:[X-K,H,X,H+K,X-K,H+K],bottomRight:[X,M-K,X-K,M,X-K,M-K],bottomLeft:[F+K,M,F,M-K,F+K,M-K]}},intersectLine:function Q(J,Z,U,$,q,K,G,Y){var F=this.generateCutTrianglePts(U+2*G,$+2*G,J,Z,Y),X=[].concat.apply([],[F.topLeft.splice(0,4),F.topRight.splice(0,4),F.bottomRight.splice(0,4),F.bottomLeft.splice(0,4)]);return wZ(q,K,X,J,Z)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){var F=Y===\"auto\"?this.cornerLength:Y;if(V9(J,Z,this.points,K,G,$,q-2*F,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-2*F,q,[0,-1],U))return!0;var X=this.generateCutTrianglePts($,q,K,G);return m8(J,Z,X.topLeft)||m8(J,Z,X.topRight)||m8(J,Z,X.bottomRight)||m8(J,Z,X.bottomLeft)}}};R9.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:\"barrel\",points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){var F=0.15,X=0.5,H=0.85,M=this.generateBarrelBezierPts(U+2*G,$+2*G,J,Z),z=function W(L){var E=hQ({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},F),B=hQ({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},X),V=hQ({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},H);return[L[0],L[1],E.x,E.y,B.x,B.y,V.x,V.y,L[4],L[5]]},N=[].concat(z(M.topLeft),z(M.topRight),z(M.bottomRight),z(M.bottomLeft));return wZ(q,K,N,J,Z)},generateBarrelBezierPts:function Q(J,Z,U,$){var q=Z/2,K=J/2,G=U-K,Y=U+K,F=$-q,X=$+q,H=g0(J,Z),M=H.heightOffset,z=H.widthOffset,N=H.ctrlPtOffsetPct*J,W={topLeft:[G,F+M,G+N,F,G+z,F],topRight:[Y-z,F,Y-N,F,Y,F+M],bottomRight:[Y,X-M,Y-N,X,Y-z,X],bottomLeft:[G+z,X,G+N,X,G,X-M]};return W.topLeft.isTop=!0,W.topRight.isTop=!0,W.bottomLeft.isBottom=!0,W.bottomRight.isBottom=!0,W},checkPoint:function Q(J,Z,U,$,q,K,G,Y){var F=g0($,q),X=F.heightOffset,H=F.widthOffset;if(V9(J,Z,this.points,K,G,$,q-2*X,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-2*H,q,[0,-1],U))return!0;var M=this.generateBarrelBezierPts($,q,K,G),z=function R(C,I,T){var P=T[4],k=T[2],j=T[0],_=T[5],x=T[1],f=Math.min(P,j),v=Math.max(P,j),b=Math.min(_,x),y=Math.max(_,x);if(f<=C&&C<=v&&b<=I&&I<=y){var g=IV(P,k,j),m=BV(g[0],g[1],g[2],C),u=m.filter(function(n){return 0<=n&&n<=1});if(u.length>0)return u[0]}return null},N=Object.keys(M);for(var W=0;W<N.length;W++){var L=N[W],E=M[L],B=z(J,Z,E);if(B==null)continue;var V=E[5],D=E[3],O=E[1],A=E8(V,D,O,B);if(E.isTop&&A<=Z)return!0;if(E.isBottom&&Z<=A)return!0}return!1}}};R9.generateBottomRoundrectangle=function(){return this.nodeShapes[\"bottom-round-rectangle\"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:\"bottom-round-rectangle\",points:j8(4,0),draw:function Q(J,Z,U,$,q,K){this.renderer.nodeShapeImpl(this.name,J,Z,U,$,q,this.points,K)},intersectLine:function Q(J,Z,U,$,q,K,G,Y){var F=J-(U/2+G),X=Z-($/2+G),H=X,M=J+(U/2+G),z=x9(q,K,J,Z,F,X,M,H,!1);if(z.length>0)return z;return qK(q,K,J,Z,U,$,G,Y)},checkPoint:function Q(J,Z,U,$,q,K,G,Y){Y=Y===\"auto\"?u9($,q):Y;var F=2*Y;if(V9(J,Z,this.points,K,G,$,q-F,[0,-1],U))return!0;if(V9(J,Z,this.points,K,G,$-F,q,[0,-1],U))return!0;var X=$/2+2*U,H=q/2+2*U,M=[K-X,G-H,K-X,G,K+X,G,K+X,G-H];if(m8(J,Z,M))return!0;if(XQ(J,Z,F,F,K+$/2-Y,G+q/2-Y,U))return!0;if(XQ(J,Z,F,F,K-$/2+Y,G+q/2-Y,U))return!0;return!1}}};R9.registerNodeShapes=function(){var Q=this.nodeShapes={},J=this;this.generateEllipse(),this.generatePolygon(\"triangle\",j8(3,0)),this.generateRoundPolygon(\"round-triangle\",j8(3,0)),this.generatePolygon(\"rectangle\",j8(4,0)),Q.square=Q.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var Z=[0,1,1,0,0,-1,-1,0];this.generatePolygon(\"diamond\",Z),this.generateRoundPolygon(\"round-diamond\",Z)}this.generatePolygon(\"pentagon\",j8(5,0)),this.generateRoundPolygon(\"round-pentagon\",j8(5,0)),this.generatePolygon(\"hexagon\",j8(6,0)),this.generateRoundPolygon(\"round-hexagon\",j8(6,0)),this.generatePolygon(\"heptagon\",j8(7,0)),this.generateRoundPolygon(\"round-heptagon\",j8(7,0)),this.generatePolygon(\"octagon\",j8(8,0)),this.generateRoundPolygon(\"round-octagon\",j8(8,0));var U=new Array(20);{var $=u0(5,0),q=u0(5,Math.PI/5),K=0.5*(3-Math.sqrt(5));K*=1.57;for(var G=0;G<q.length/2;G++)q[G*2]*=K,q[G*2+1]*=K;for(var G=0;G<5;G++)U[G*4]=$[G*2],U[G*4+1]=$[G*2+1],U[G*4+2]=q[G*2],U[G*4+3]=q[G*2+1]}U=KK(U),this.generatePolygon(\"star\",U),this.generatePolygon(\"vee\",[-1,-1,0,-0.333,1,-1,0,1]),this.generatePolygon(\"rhomboid\",[-1,-1,0.333,-1,1,1,-0.333,1]),this.generatePolygon(\"right-rhomboid\",[-0.333,-1,1,-1,0.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon(\"concave-hexagon\",[-1,-0.95,-0.75,0,-1,0.95,1,0.95,0.75,0,1,-0.95]);{var Y=[-1,-1,0.25,-1,1,0,0.25,1,-1,1];this.generatePolygon(\"tag\",Y),this.generateRoundPolygon(\"round-tag\",Y)}Q.makePolygon=function(F){var X=F.join(\"$\"),H=\"polygon-\"+X,M;if(M=this[H])return M;return J.generatePolygon(H,F)}};var nZ={};nZ.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};nZ.redraw=function(Q){Q=Q||QK();var J=this;if(J.averageRedrawTime===void 0)J.averageRedrawTime=0;if(J.lastRedrawTime===void 0)J.lastRedrawTime=0;if(J.lastDrawTime===void 0)J.lastDrawTime=0;J.requestedFrame=!0,J.renderOptions=Q};nZ.beforeRender=function(Q,J){if(this.destroyed)return;if(J==null)J8(\"Priority is not optional for beforeRender\");var Z=this.beforeRenderCallbacks;Z.push({fn:Q,priority:J}),Z.sort(function(U,$){return $.priority-U.priority})};var D1=function Q(J,Z,U){var $=J.beforeRenderCallbacks;for(var q=0;q<$.length;q++)$[q].fn(Z,U)};nZ.startRenderLoop=function(){var Q=this,J=Q.cy;if(Q.renderLoopStarted)return;else Q.renderLoopStarted=!0;var Z=function U($){if(Q.destroyed)return;if(J.batching());else if(Q.requestedFrame&&!Q.skipFrame){D1(Q,!0,$);var q=B9();Q.render(Q.renderOptions);var K=Q.lastDrawTime=B9();if(Q.averageRedrawTime===void 0)Q.averageRedrawTime=K-q;if(Q.redrawCount===void 0)Q.redrawCount=0;if(Q.redrawCount++,Q.redrawTotalTime===void 0)Q.redrawTotalTime=0;var G=K-q;Q.redrawTotalTime+=G,Q.lastRedrawTime=G,Q.averageRedrawTime=Q.averageRedrawTime/2+G/2,Q.requestedFrame=!1}else D1(Q,!1,$);Q.skipFrame=!1,r6(Z)};r6(Z)};var dO=function Q(J){this.init(J)},GG=dO,oQ=GG.prototype;oQ.clientFunctions=[\"redrawHint\",\"render\",\"renderTo\",\"matchCanvasSize\",\"nodeShapeImpl\",\"arrowShapeImpl\"];oQ.init=function(Q){var J=this;J.options=Q,J.cy=Q.cy;var Z=J.container=Q.cy.container(),U=J.cy.window();if(U){var $=U.document,q=$.head,K=\"__________cytoscape_stylesheet\",G=\"__________cytoscape_container\",Y=$.getElementById(K)!=null;if(Z.className.indexOf(G)<0)Z.className=(Z.className||\"\")+\" \"+G;if(!Y){var F=$.createElement(\"style\");F.id=K,F.textContent=\".\"+G+\" { position: relative; }\",q.insertBefore(F,q.children[0])}var X=U.getComputedStyle(Z),H=X.getPropertyValue(\"position\");if(H===\"static\")lJ(\"A Cytoscape container has style position:static and so can not use UI extensions properly\")}J.selection=[void 0,void 0,void 0,void 0,0],J.bezierProjPcts=[0.05,0.225,0.4,0.5,0.6,0.775,0.95],J.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},J.dragData={possibleDragElements:[]},J.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},J.redraws=0,J.showFps=Q.showFps,J.debug=Q.debug,J.webgl=Q.webgl,J.hideEdgesOnViewport=Q.hideEdgesOnViewport,J.textureOnViewport=Q.textureOnViewport,J.wheelSensitivity=Q.wheelSensitivity,J.motionBlurEnabled=Q.motionBlur,J.forcedPixelRatio=$J(Q.pixelRatio)?Q.pixelRatio:null,J.motionBlur=Q.motionBlur,J.motionBlurOpacity=Q.motionBlurOpacity,J.motionBlurTransparency=1-J.motionBlurOpacity,J.motionBlurPxRatio=1,J.mbPxRBlurry=1,J.minMbLowQualFrames=4,J.fullQualityMb=!1,J.clearedForMotionBlur=[],J.desktopTapThreshold=Q.desktopTapThreshold,J.desktopTapThreshold2=Q.desktopTapThreshold*Q.desktopTapThreshold,J.touchTapThreshold=Q.touchTapThreshold,J.touchTapThreshold2=Q.touchTapThreshold*Q.touchTapThreshold,J.tapholdDuration=500,J.bindings=[],J.beforeRenderCallbacks=[],J.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},J.registerNodeShapes(),J.registerArrowShapes(),J.registerCalculationListeners()};oQ.notify=function(Q,J){var Z=this,U=Z.cy;if(this.destroyed)return;if(Q===\"init\"){Z.load();return}if(Q===\"destroy\"){Z.destroy();return}if(Q===\"add\"||Q===\"remove\"||Q===\"move\"&&U.hasCompoundNodes()||Q===\"load\"||Q===\"zorder\"||Q===\"mount\")Z.invalidateCachedZSortedEles();if(Q===\"viewport\")Z.redrawHint(\"select\",!0);if(Q===\"gc\")Z.redrawHint(\"gc\",!0);if(Q===\"load\"||Q===\"resize\"||Q===\"mount\")Z.invalidateContainerClientCoordsCache(),Z.matchCanvasSize(Z.container);Z.redrawHint(\"eles\",!0),Z.redrawHint(\"drag\",!0),this.startRenderLoop(),this.redraw()};oQ.destroy=function(){var Q=this;Q.destroyed=!0,Q.cy.stopAnimationLoop();for(var J=0;J<Q.bindings.length;J++){var Z=Q.bindings[J],U=Z,$=U.target;($.off||$.removeEventListener).apply($,U.args)}if(Q.bindings=[],Q.beforeRenderCallbacks=[],Q.onUpdateEleCalcsFns=[],Q.removeObserver)Q.removeObserver.disconnect();if(Q.styleObserver)Q.styleObserver.disconnect();if(Q.resizeObserver)Q.resizeObserver.disconnect();if(Q.labelCalcDiv)try{document.body.removeChild(Q.labelCalcDiv)}catch(q){}};oQ.isHeadless=function(){return!1};[SU,qG,KG,rQ,R9,nZ].forEach(function(Q){DJ(oQ,Q)});var w0=16.666666666666668,YG={setupDequeueing:function Q(J){return function Z(){var U=this,$=this.renderer;if(U.dequeueingSetup)return;else U.dequeueingSetup=!0;var q=dZ(function(){$.redrawHint(\"eles\",!0),$.redrawHint(\"drag\",!0),$.redraw()},J.deqRedrawThreshold),K=function Y(F,X){var H=B9(),M=$.averageRedrawTime,z=$.lastRedrawTime,N=[],W=$.cy.extent(),L=$.getPixelRatio();if(!F)$.flushRenderedStyleQueue();while(!0){var E=B9(),B=E-H,V=E-X;if(z<w0){var D=w0-(F?M:0);if(V>=J.deqFastCost*D)break}else if(F){if(B>=J.deqCost*z||B>=J.deqAvgCost*M)break}else if(V>=J.deqNoDrawCost*w0)break;var O=J.deq(U,L,W);if(O.length>0)for(var A=0;A<O.length;A++)N.push(O[A]);else break}if(N.length>0){if(J.onDeqd(U,N),!F&&J.shouldRedraw(U,N,L,W))q()}},G=J.priority||XU;$.beforeRender(K,G(U))}}},cO=function(){function Q(J){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o6;p9(this,Q),this.idsByKey=new E9,this.keyForId=new E9,this.cachesByLvl=new E9,this.lvls=[],this.getKey=J,this.doesEleInvalidateKey=Z}return l9(Q,[{key:\"getIdsFor\",value:function J(Z){if(Z==null)J8(\"Can not get id list for null key\");var U=this.idsByKey,$=this.idsByKey.get(Z);if(!$)$=new iQ,U.set(Z,$);return $}},{key:\"addIdForKey\",value:function J(Z,U){if(Z!=null)this.getIdsFor(Z).add(U)}},{key:\"deleteIdForKey\",value:function J(Z,U){if(Z!=null)this.getIdsFor(Z).delete(U)}},{key:\"getNumberOfIdsForKey\",value:function J(Z){if(Z==null)return 0;else return this.getIdsFor(Z).size}},{key:\"updateKeyMappingFor\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U),q=this.getKey(Z);this.deleteIdForKey($,U),this.addIdForKey(q,U),this.keyForId.set(U,q)}},{key:\"deleteKeyMappingFor\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U);this.deleteIdForKey($,U),this.keyForId.delete(U)}},{key:\"keyHasChangedFor\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U),q=this.getKey(Z);return $!==q}},{key:\"isInvalid\",value:function J(Z){return this.keyHasChangedFor(Z)||this.doesEleInvalidateKey(Z)}},{key:\"getCachesAt\",value:function J(Z){var U=this.cachesByLvl,$=this.lvls,q=U.get(Z);if(!q)q=new E9,U.set(Z,q),$.push(Z);return q}},{key:\"getCache\",value:function J(Z,U){return this.getCachesAt(U).get(Z)}},{key:\"get\",value:function J(Z,U){var $=this.getKey(Z),q=this.getCache($,U);if(q!=null)this.updateKeyMappingFor(Z);return q}},{key:\"getForCachedKey\",value:function J(Z,U){var $=this.keyForId.get(Z.id()),q=this.getCache($,U);return q}},{key:\"hasCache\",value:function J(Z,U){return this.getCachesAt(U).has(Z)}},{key:\"has\",value:function J(Z,U){var $=this.getKey(Z);return this.hasCache($,U)}},{key:\"setCache\",value:function J(Z,U,$){$.key=Z,this.getCachesAt(U).set(Z,$)}},{key:\"set\",value:function J(Z,U,$){var q=this.getKey(Z);this.setCache(q,U,$),this.updateKeyMappingFor(Z)}},{key:\"deleteCache\",value:function J(Z,U){this.getCachesAt(U).delete(Z)}},{key:\"delete\",value:function J(Z,U){var $=this.getKey(Z);this.deleteCache($,U)}},{key:\"invalidateKey\",value:function J(Z){var U=this;this.lvls.forEach(function($){return U.deleteCache(Z,$)})}},{key:\"invalidate\",value:function J(Z){var U=Z.id(),$=this.keyForId.get(U);this.deleteKeyMappingFor(Z);var q=this.doesEleInvalidateKey(Z);if(q)this.invalidateKey($);return q||this.getNumberOfIdsForKey($)===0}}])}(),R1=25,x6=50,i6=-4,JU=3,FG=7.99,pO=8,lO=1024,iO=1024,nO=1024,sO=0.2,aO=0.8,rO=10,oO=0.15,tO=0.1,eO=0.9,JA=0.9,QA=100,ZA=1,yQ={dequeue:\"dequeue\",downscale:\"downscale\",highQuality:\"highQuality\"},UA=A8({getKey:null,doesEleInvalidateKey:o6,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:t1,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),AZ=function Q(J,Z){var U=this;U.renderer=J,U.onDequeues=[];var $=UA(Z);DJ(U,$),U.lookup=new cO($.getKey,$.doesEleInvalidateKey),U.setupDequeueing()},L8=AZ.prototype;L8.reasons=yQ;L8.getTextureQueue=function(Q){var J=this;return J.eleImgCaches=J.eleImgCaches||{},J.eleImgCaches[Q]=J.eleImgCaches[Q]||[]};L8.getRetiredTextureQueue=function(Q){var J=this,Z=J.eleImgCaches.retired=J.eleImgCaches.retired||{},U=Z[Q]=Z[Q]||[];return U};L8.getElementQueue=function(){var Q=this,J=Q.eleCacheQueue=Q.eleCacheQueue||new cZ(function(Z,U){return U.reqs-Z.reqs});return J};L8.getElementKeyToQueue=function(){var Q=this,J=Q.eleKeyToCacheQueue=Q.eleKeyToCacheQueue||{};return J};L8.getElement=function(Q,J,Z,U,$){var q=this,K=this.renderer,G=K.cy.zoom(),Y=this.lookup;if(!J||J.w===0||J.h===0||isNaN(J.w)||isNaN(J.h)||!Q.visible()||Q.removed())return null;if(!q.allowEdgeTxrCaching&&Q.isEdge()||!q.allowParentTxrCaching&&Q.isParent())return null;if(U==null)U=Math.ceil(MU(G*Z));if(U<i6)U=i6;else if(G>=FG||U>JU)return null;var F=Math.pow(2,U),X=J.h*F,H=J.w*F,M=K.eleTextBiggerThanMin(Q,F);if(!this.isVisible(Q,M))return null;var z=Y.get(Q,U);if(z&&z.invalidated)z.invalidated=!1,z.texture.invalidatedWidth-=z.width;if(z)return z;var N;if(X<=R1)N=R1;else if(X<=x6)N=x6;else N=Math.ceil(X/x6)*x6;if(X>nO||H>iO)return null;var W=q.getTextureQueue(N),L=W[W.length-2],E=function x(){return q.recycleTexture(N,H)||q.addTexture(N,H)};if(!L)L=W[W.length-1];if(!L)L=E();if(L.width-L.usedWidth<H)L=E();var B=function x(f){return f&&f.scaledLabelShown===M},V=$&&$===yQ.dequeue,D=$&&$===yQ.highQuality,O=$&&$===yQ.downscale,A;for(var R=U+1;R<=JU;R++){var C=Y.get(Q,R);if(C){A=C;break}}var I=A&&A.level===U+1?A:null,T=function x(){L.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,L.usedWidth,0,H,X)};if(L.context.setTransform(1,0,0,1,0,0),L.context.clearRect(L.usedWidth,0,H,N),B(I))T();else if(B(A))if(D){for(var P=A.level;P>U;P--)I=q.getElement(Q,J,Z,P,yQ.downscale);T()}else return q.queueElement(Q,A.level-1),A;else{var k;if(!V&&!D&&!O)for(var j=U-1;j>=i6;j--){var _=Y.get(Q,j);if(_){k=_;break}}if(B(k))return q.queueElement(Q,U),k;L.context.translate(L.usedWidth,0),L.context.scale(F,F),this.drawElement(L.context,Q,J,M,!1),L.context.scale(1/F,1/F),L.context.translate(-L.usedWidth,0)}return z={x:L.usedWidth,texture:L,level:U,scale:F,width:H,height:X,scaledLabelShown:M},L.usedWidth+=Math.ceil(H+pO),L.eleCaches.push(z),Y.set(Q,U,z),q.checkTextureFullness(L),z};L8.invalidateElements=function(Q){for(var J=0;J<Q.length;J++)this.invalidateElement(Q[J])};L8.invalidateElement=function(Q){var J=this,Z=J.lookup,U=[],$=Z.isInvalid(Q);if(!$)return;for(var q=i6;q<=JU;q++){var K=Z.getForCachedKey(Q,q);if(K)U.push(K)}var G=Z.invalidate(Q);if(G)for(var Y=0;Y<U.length;Y++){var F=U[Y],X=F.texture;X.invalidatedWidth+=F.width,F.invalidated=!0,J.checkTextureUtility(X)}J.removeFromQueue(Q)};L8.checkTextureUtility=function(Q){if(Q.invalidatedWidth>=sO*Q.width)this.retireTexture(Q)};L8.checkTextureFullness=function(Q){var J=this,Z=J.getTextureQueue(Q.height);if(Q.usedWidth/Q.width>aO&&Q.fullnessChecks>=rO)h9(Z,Q);else Q.fullnessChecks++};L8.retireTexture=function(Q){var J=this,Z=Q.height,U=J.getTextureQueue(Z),$=this.lookup;h9(U,Q),Q.retired=!0;var q=Q.eleCaches;for(var K=0;K<q.length;K++){var G=q[K];$.deleteCache(G.key,G.level)}HU(q);var Y=J.getRetiredTextureQueue(Z);Y.push(Q)};L8.addTexture=function(Q,J){var Z=this,U=Z.getTextureQueue(Q),$={};return U.push($),$.eleCaches=[],$.height=Q,$.width=Math.max(lO,J),$.usedWidth=0,$.invalidatedWidth=0,$.fullnessChecks=0,$.canvas=Z.renderer.makeOffscreenCanvas($.width,$.height),$.context=$.canvas.getContext(\"2d\"),$};L8.recycleTexture=function(Q,J){var Z=this,U=Z.getTextureQueue(Q),$=Z.getRetiredTextureQueue(Q);for(var q=0;q<$.length;q++){var K=$[q];if(K.width>=J)return K.retired=!1,K.usedWidth=0,K.invalidatedWidth=0,K.fullnessChecks=0,HU(K.eleCaches),K.context.setTransform(1,0,0,1,0,0),K.context.clearRect(0,0,K.width,K.height),h9($,K),U.push(K),K}};L8.queueElement=function(Q,J){var Z=this,U=Z.getElementQueue(),$=Z.getElementKeyToQueue(),q=this.getKey(Q),K=$[q];if(K)K.level=Math.max(K.level,J),K.eles.merge(Q),K.reqs++,U.updateItem(K);else{var G={eles:Q.spawn().merge(Q),level:J,reqs:1,key:q};U.push(G),$[q]=G}};L8.dequeue=function(Q){var J=this,Z=J.getElementQueue(),U=J.getElementKeyToQueue(),$=[],q=J.lookup;for(var K=0;K<ZA;K++)if(Z.size()>0){var G=Z.pop(),Y=G.key,F=G.eles[0],X=q.hasCache(F,G.level);if(U[Y]=null,X)continue;$.push(G);var H=J.getBoundingBox(F);J.getElement(F,H,Q,G.level,yQ.dequeue)}else break;return $};L8.removeFromQueue=function(Q){var J=this,Z=J.getElementQueue(),U=J.getElementKeyToQueue(),$=this.getKey(Q),q=U[$];if(q!=null)if(q.eles.length===1)q.reqs=FU,Z.updateItem(q),Z.pop(),U[$]=null;else q.eles.unmerge(Q)};L8.onDequeue=function(Q){this.onDequeues.push(Q)};L8.offDequeue=function(Q){h9(this.onDequeues,Q)};L8.setupDequeueing=YG.setupDequeueing({deqRedrawThreshold:QA,deqCost:oO,deqAvgCost:tO,deqNoDrawCost:eO,deqFastCost:JA,deq:function Q(J,Z,U){return J.dequeue(Z,U)},onDeqd:function Q(J,Z){for(var U=0;U<J.onDequeues.length;U++){var $=J.onDequeues[U];$(Z)}},shouldRedraw:function Q(J,Z,U,$){for(var q=0;q<Z.length;q++){var K=Z[q].eles;for(var G=0;G<K.length;G++){var Y=K[G].boundingBox();if(zU(Y,$))return!0}}return!1},priority:function Q(J){return J.renderer.beforeRenderPriorities.eleTxrDeq}});var $A=1,SZ=-4,q7=2,qA=3.99,KA=50,GA=50,YA=0.15,FA=0.1,XA=0.9,HA=0.9,MA=1,O1=250,NA=16000000,A1=32767,zA=!0,XG=function Q(J){var Z=this,U=Z.renderer=J,$=U.cy;Z.layersByLevel={},Z.firstGet=!0,Z.lastInvalidationTime=B9()-2*O1,Z.skipping=!1,Z.eleTxrDeqs=$.collection(),Z.scheduleElementRefinement=dZ(function(){Z.refineElementTextures(Z.eleTxrDeqs),Z.eleTxrDeqs.unmerge(Z.eleTxrDeqs)},GA),U.beforeRender(function(K,G){if(G-Z.lastInvalidationTime<=O1)Z.skipping=!0;else Z.skipping=!1},U.beforeRenderPriorities.lyrTxrSkip);var q=function K(G,Y){return Y.reqs-G.reqs};Z.layersQueue=new cZ(q),Z.setupDequeueing()},C8=XG.prototype,C1=0,LA=Math.pow(2,53)-1;C8.makeLayer=function(Q,J){var Z=Math.pow(2,J),U=Math.ceil(Q.w*Z),$=Math.ceil(Q.h*Z),q=this.renderer.makeOffscreenCanvas(U,$),K={id:C1=++C1%LA,bb:Q,level:J,width:U,height:$,canvas:q,context:q.getContext(\"2d\"),eles:[],elesQueue:[],reqs:0},G=K.context,Y=-K.bb.x1,F=-K.bb.y1;return G.scale(Z,Z),G.translate(Y,F),K};C8.getLayers=function(Q,J,Z){var U=this,$=U.renderer,q=$.cy,K=q.zoom(),G=U.firstGet;if(U.firstGet=!1,Z==null){if(Z=Math.ceil(MU(K*J)),Z<SZ)Z=SZ;else if(K>=qA||Z>q7)return null}U.validateLayersElesOrdering(Z,Q);var Y=U.layersByLevel,F=Math.pow(2,Z),X=Y[Z]=Y[Z]||[],H,M=U.levelIsComplete(Z,Q),z,N=function I(){var T=function _(x){if(U.validateLayersElesOrdering(x,Q),U.levelIsComplete(x,Q))return z=Y[x],!0},P=function _(x){if(z)return;for(var f=Z+x;SZ<=f&&f<=q7;f+=x)if(T(f))break};P(1),P(-1);for(var k=X.length-1;k>=0;k--){var j=X[k];if(j.invalid)h9(X,j)}};if(!M)N();else return X;var W=function I(){if(!H){H=w8();for(var T=0;T<Q.length;T++)MV(H,Q[T].boundingBox())}return H},L=function I(T){T=T||{};var P=T.after;W();var k=Math.ceil(H.w*F),j=Math.ceil(H.h*F);if(k>A1||j>A1)return null;var _=k*j;if(_>NA)return null;var x=U.makeLayer(H,Z);if(P!=null){var f=X.indexOf(P)+1;X.splice(f,0,x)}else if(T.insert===void 0||T.insert)X.unshift(x);return x};if(U.skipping&&!G)return null;var E=null,B=Q.length/$A,V=!G;for(var D=0;D<Q.length;D++){var O=Q[D],A=O._private.rscratch,R=A.imgLayerCaches=A.imgLayerCaches||{},C=R[Z];if(C){E=C;continue}if(!E||E.eles.length>=B||!$K(E.bb,O.boundingBox())){if(E=L({insert:!0,after:E}),!E)return null}if(z||V)U.queueLayer(E,O);else U.drawEleInLayer(E,O,Z,J);E.eles.push(O),R[Z]=E}if(z)return z;if(V)return null;return X};C8.getEleLevelForLayerLevel=function(Q,J){return Q};C8.drawEleInLayer=function(Q,J,Z,U){var $=this,q=this.renderer,K=Q.context,G=J.boundingBox();if(G.w===0||G.h===0||!J.visible())return;Z=$.getEleLevelForLayerLevel(Z,U),q.setImgSmoothing(K,!1),q.drawCachedElement(K,J,null,null,Z,zA),q.setImgSmoothing(K,!0)};C8.levelIsComplete=function(Q,J){var Z=this,U=Z.layersByLevel[Q];if(!U||U.length===0)return!1;var $=0;for(var q=0;q<U.length;q++){var K=U[q];if(K.reqs>0)return!1;if(K.invalid)return!1;$+=K.eles.length}if($!==J.length)return!1;return!0};C8.validateLayersElesOrdering=function(Q,J){var Z=this.layersByLevel[Q];if(!Z)return;for(var U=0;U<Z.length;U++){var $=Z[U],q=-1;for(var K=0;K<J.length;K++)if($.eles[0]===J[K]){q=K;break}if(q<0){this.invalidateLayer($);continue}var G=q;for(var K=0;K<$.eles.length;K++)if($.eles[K]!==J[G+K]){this.invalidateLayer($);break}}};C8.updateElementsInLayers=function(Q,J){var Z=this,U=yZ(Q[0]);for(var $=0;$<Q.length;$++){var q=U?null:Q[$],K=U?Q[$]:Q[$].ele,G=K._private.rscratch,Y=G.imgLayerCaches=G.imgLayerCaches||{};for(var F=SZ;F<=q7;F++){var X=Y[F];if(!X)continue;if(q&&Z.getEleLevelForLayerLevel(X.level)!==q.level)continue;J(X,K,q)}}};C8.haveLayers=function(){var Q=this,J=!1;for(var Z=SZ;Z<=q7;Z++){var U=Q.layersByLevel[Z];if(U&&U.length>0){J=!0;break}}return J};C8.invalidateElements=function(Q){var J=this;if(Q.length===0)return;if(J.lastInvalidationTime=B9(),Q.length===0||!J.haveLayers())return;J.updateElementsInLayers(Q,function Z(U,$,q){J.invalidateLayer(U)})};C8.invalidateLayer=function(Q){if(this.lastInvalidationTime=B9(),Q.invalid)return;var{level:J,eles:Z}=Q,U=this.layersByLevel[J];if(h9(U,Q),Q.elesQueue=[],Q.invalid=!0,Q.replacement)Q.replacement.invalid=!0;for(var $=0;$<Z.length;$++){var q=Z[$]._private.rscratch.imgLayerCaches;if(q)q[J]=null}};C8.refineElementTextures=function(Q){var J=this;J.updateElementsInLayers(Q,function Z(U,$,q){var K=U.replacement;if(!K)K=U.replacement=J.makeLayer(U.bb,U.level),K.replaces=U,K.eles=U.eles;if(!K.reqs)for(var G=0;G<K.eles.length;G++)J.queueLayer(K,K.eles[G])})};C8.enqueueElementRefinement=function(Q){this.eleTxrDeqs.merge(Q),this.scheduleElementRefinement()};C8.queueLayer=function(Q,J){var Z=this,U=Z.layersQueue,$=Q.elesQueue,q=$.hasId=$.hasId||{};if(Q.replacement)return;if(J){if(q[J.id()])return;$.push(J),q[J.id()]=!0}if(Q.reqs)Q.reqs++,U.updateItem(Q);else Q.reqs=1,U.push(Q)};C8.dequeue=function(Q){var J=this,Z=J.layersQueue,U=[],$=0;while($<MA){if(Z.size()===0)break;var q=Z.peek();if(q.replacement){Z.pop();continue}if(q.replaces&&q!==q.replaces.replacement){Z.pop();continue}if(q.invalid){Z.pop();continue}var K=q.elesQueue.shift();if(K)J.drawEleInLayer(q,K,q.level,Q),$++;if(U.length===0)U.push(!0);if(q.elesQueue.length===0){if(Z.pop(),q.reqs=0,q.replaces)J.applyLayerReplacement(q);J.requestRedraw()}}return U};C8.applyLayerReplacement=function(Q){var J=this,Z=J.layersByLevel[Q.level],U=Q.replaces,$=Z.indexOf(U);if($<0||U.invalid)return;Z[$]=Q;for(var q=0;q<Q.eles.length;q++){var K=Q.eles[q]._private,G=K.imgLayerCaches=K.imgLayerCaches||{};if(G)G[Q.level]=Q}J.requestRedraw()};C8.requestRedraw=dZ(function(){var Q=this.renderer;Q.redrawHint(\"eles\",!0),Q.redrawHint(\"drag\",!0),Q.redraw()},100);C8.setupDequeueing=YG.setupDequeueing({deqRedrawThreshold:KA,deqCost:YA,deqAvgCost:FA,deqNoDrawCost:XA,deqFastCost:HA,deq:function Q(J,Z){return J.dequeue(Z)},onDeqd:XU,shouldRedraw:t1,priority:function Q(J){return J.renderer.beforeRenderPriorities.lyrTxrDeq}});var HG={},S1;function WA(Q,J){for(var Z=0;Z<J.length;Z++){var U=J[Z];Q.lineTo(U.x,U.y)}}function EA(Q,J,Z){var U;for(var $=0;$<J.length;$++){var q=J[$];if($===0)U=q;Q.lineTo(q.x,q.y)}Q.quadraticCurveTo(Z.x,Z.y,U.x,U.y)}function I1(Q,J,Z){if(Q.beginPath)Q.beginPath();var U=J;for(var $=0;$<U.length;$++){var q=U[$];Q.lineTo(q.x,q.y)}var K=Z,G=Z[0];Q.moveTo(G.x,G.y);for(var $=1;$<K.length;$++){var q=K[$];Q.lineTo(q.x,q.y)}if(Q.closePath)Q.closePath()}function BA(Q,J,Z,U,$){if(Q.beginPath)Q.beginPath();Q.arc(Z,U,$,0,Math.PI*2,!1);var q=J,K=q[0];Q.moveTo(K.x,K.y);for(var G=0;G<q.length;G++){var Y=q[G];Q.lineTo(Y.x,Y.y)}if(Q.closePath)Q.closePath()}function VA(Q,J,Z,U){Q.arc(J,Z,U,0,Math.PI*2,!1)}HG.arrowShapeImpl=function(Q){return(S1||(S1={polygon:WA,\"triangle-backcurve\":EA,\"triangle-tee\":I1,\"circle-triangle\":BA,\"triangle-cross\":I1,circle:VA}))[Q]};var Y9={};Y9.drawElement=function(Q,J,Z,U,$,q){var K=this;if(J.isNode())K.drawNode(Q,J,Z,U,$,q);else K.drawEdge(Q,J,Z,U,$,q)};Y9.drawElementOverlay=function(Q,J){var Z=this;if(J.isNode())Z.drawNodeOverlay(Q,J);else Z.drawEdgeOverlay(Q,J)};Y9.drawElementUnderlay=function(Q,J){var Z=this;if(J.isNode())Z.drawNodeUnderlay(Q,J);else Z.drawEdgeUnderlay(Q,J)};Y9.drawCachedElementPortion=function(Q,J,Z,U,$,q,K,G){var Y=this,F=Z.getBoundingBox(J);if(F.w===0||F.h===0)return;var X=Z.getElement(J,F,U,$,q);if(X!=null){var H=G(Y,J);if(H===0)return;var M=K(Y,J),z=F.x1,N=F.y1,W=F.w,L=F.h,E,B,V,D,O;if(M!==0){var A=Z.getRotationPoint(J);if(V=A.x,D=A.y,Q.translate(V,D),Q.rotate(M),O=Y.getImgSmoothing(Q),!O)Y.setImgSmoothing(Q,!0);var R=Z.getRotationOffset(J);E=R.x,B=R.y}else E=z,B=N;var C;if(H!==1)C=Q.globalAlpha,Q.globalAlpha=C*H;if(Q.drawImage(X.texture.canvas,X.x,0,X.width,X.height,E,B,W,L),H!==1)Q.globalAlpha=C;if(M!==0){if(Q.rotate(-M),Q.translate(-V,-D),!O)Y.setImgSmoothing(Q,!1)}}else Z.drawElement(Q,J)};var DA=function Q(){return 0},RA=function Q(J,Z){return J.getTextAngle(Z,null)},OA=function Q(J,Z){return J.getTextAngle(Z,\"source\")},AA=function Q(J,Z){return J.getTextAngle(Z,\"target\")},CA=function Q(J,Z){return Z.effectiveOpacity()},_0=function Q(J,Z){return Z.pstyle(\"text-opacity\").pfValue*Z.effectiveOpacity()};Y9.drawCachedElement=function(Q,J,Z,U,$,q){var K=this,G=K.data,Y=G.eleTxrCache,F=G.lblTxrCache,X=G.slbTxrCache,H=G.tlbTxrCache,M=J.boundingBox(),z=q===!0?Y.reasons.highQuality:null;if(M.w===0||M.h===0||!J.visible())return;if(!U||zU(M,U)){var N=J.isEdge(),W=J.element()._private.rscratch.badLine;if(K.drawElementUnderlay(Q,J),K.drawCachedElementPortion(Q,J,Y,Z,$,z,DA,CA),!N||!W)K.drawCachedElementPortion(Q,J,F,Z,$,z,RA,_0);if(N&&!W)K.drawCachedElementPortion(Q,J,X,Z,$,z,OA,_0),K.drawCachedElementPortion(Q,J,H,Z,$,z,AA,_0);K.drawElementOverlay(Q,J)}};Y9.drawElements=function(Q,J){var Z=this;for(var U=0;U<J.length;U++){var $=J[U];Z.drawElement(Q,$)}};Y9.drawCachedElements=function(Q,J,Z,U){var $=this;for(var q=0;q<J.length;q++){var K=J[q];$.drawCachedElement(Q,K,Z,U)}};Y9.drawCachedNodes=function(Q,J,Z,U){var $=this;for(var q=0;q<J.length;q++){var K=J[q];if(!K.isNode())continue;$.drawCachedElement(Q,K,Z,U)}};Y9.drawLayeredElements=function(Q,J,Z,U){var $=this,q=$.data.lyrTxrCache.getLayers(J,Z);if(q)for(var K=0;K<q.length;K++){var G=q[K],Y=G.bb;if(Y.w===0||Y.h===0)continue;Q.drawImage(G.canvas,Y.x1,Y.y1,Y.w,Y.h)}else $.drawCachedElements(Q,J,Z,U)};var O9={};O9.drawEdge=function(Q,J,Z){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,K=this,G=J._private.rscratch;if(q&&!J.visible())return;if(G.badLine||G.allpts==null||isNaN(G.allpts[0]))return;var Y;if(Z)Y=Z,Q.translate(-Y.x1,-Y.y1);var F=q?J.pstyle(\"opacity\").value:1,X=q?J.pstyle(\"line-opacity\").value:1,H=J.pstyle(\"curve-style\").value,M=J.pstyle(\"line-style\").value,z=J.pstyle(\"width\").pfValue,N=J.pstyle(\"line-cap\").value,W=J.pstyle(\"line-outline-width\").value,L=J.pstyle(\"line-outline-color\").value,E=F*X,B=F*X,V=function _(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(H===\"straight-triangle\")K.eleStrokeStyle(Q,J,x),K.drawEdgeTrianglePath(J,Q,G.allpts);else Q.lineWidth=z,Q.lineCap=N,K.eleStrokeStyle(Q,J,x),K.drawEdgePath(J,Q,G.allpts,M),Q.lineCap=\"butt\"},D=function _(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(Q.lineWidth=z+W,Q.lineCap=N,W>0)K.colorStrokeStyle(Q,L[0],L[1],L[2],x);else{Q.lineCap=\"butt\";return}if(H===\"straight-triangle\")K.drawEdgeTrianglePath(J,Q,G.allpts);else K.drawEdgePath(J,Q,G.allpts,M),Q.lineCap=\"butt\"},O=function _(){if(!$)return;K.drawEdgeOverlay(Q,J)},A=function _(){if(!$)return;K.drawEdgeUnderlay(Q,J)},R=function _(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;K.drawArrowheads(Q,J,x)},C=function _(){K.drawElementText(Q,J,null,U)};Q.lineJoin=\"round\";var I=J.pstyle(\"ghost\").value===\"yes\";if(I){var T=J.pstyle(\"ghost-offset-x\").pfValue,P=J.pstyle(\"ghost-offset-y\").pfValue,k=J.pstyle(\"ghost-opacity\").value,j=E*k;Q.translate(T,P),V(j),R(j),Q.translate(-T,-P)}else D();if(A(),V(),R(),O(),C(),Z)Q.translate(Y.x1,Y.y1)};var MG=function Q(J){if(![\"overlay\",\"underlay\"].includes(J))throw new Error(\"Invalid state\");return function(Z,U){if(!U.visible())return;var $=U.pstyle(\"\".concat(J,\"-opacity\")).value;if($===0)return;var q=this,K=q.usePaths(),G=U._private.rscratch,Y=U.pstyle(\"\".concat(J,\"-padding\")).pfValue,F=2*Y,X=U.pstyle(\"\".concat(J,\"-color\")).value;if(Z.lineWidth=F,G.edgeType===\"self\"&&!K)Z.lineCap=\"butt\";else Z.lineCap=\"round\";q.colorStrokeStyle(Z,X[0],X[1],X[2],$),q.drawEdgePath(U,Z,G.allpts,\"solid\")}};O9.drawEdgeOverlay=MG(\"overlay\");O9.drawEdgeUnderlay=MG(\"underlay\");O9.drawEdgePath=function(Q,J,Z,U){var $=Q._private.rscratch,q=J,K,G=!1,Y=this.usePaths(),F=Q.pstyle(\"line-dash-pattern\").pfValue,X=Q.pstyle(\"line-dash-offset\").pfValue;if(Y){var H=Z.join(\"$\"),M=$.pathCacheKey&&$.pathCacheKey===H;if(M)K=J=$.pathCache,G=!0;else K=J=new Path2D,$.pathCacheKey=H,$.pathCache=K}if(q.setLineDash)switch(U){case\"dotted\":q.setLineDash([1,1]);break;case\"dashed\":q.setLineDash(F),q.lineDashOffset=X;break;case\"solid\":q.setLineDash([]);break}if(!G&&!$.badLine){if(J.beginPath)J.beginPath();switch(J.moveTo(Z[0],Z[1]),$.edgeType){case\"bezier\":case\"self\":case\"compound\":case\"multibezier\":for(var z=2;z+3<Z.length;z+=4)J.quadraticCurveTo(Z[z],Z[z+1],Z[z+2],Z[z+3]);break;case\"straight\":case\"haystack\":for(var N=2;N+1<Z.length;N+=2)J.lineTo(Z[N],Z[N+1]);break;case\"segments\":if($.isRound){var W=y8($.roundCorners),L;try{for(W.s();!(L=W.n()).done;){var E=L.value;JG(J,E)}}catch(V){W.e(V)}finally{W.f()}J.lineTo(Z[Z.length-2],Z[Z.length-1])}else for(var B=2;B+1<Z.length;B+=2)J.lineTo(Z[B],Z[B+1]);break}}if(J=q,Y)J.stroke(K);else J.stroke();if(J.setLineDash)J.setLineDash([])};O9.drawEdgeTrianglePath=function(Q,J,Z){J.fillStyle=J.strokeStyle;var U=Q.pstyle(\"width\").pfValue;for(var $=0;$+1<Z.length;$+=2){var q=[Z[$+2]-Z[$],Z[$+3]-Z[$+1]],K=Math.sqrt(q[0]*q[0]+q[1]*q[1]),G=[q[1]/K,-q[0]/K],Y=[G[0]*U/2,G[1]*U/2];J.beginPath(),J.moveTo(Z[$]-Y[0],Z[$+1]-Y[1]),J.lineTo(Z[$]+Y[0],Z[$+1]+Y[1]),J.lineTo(Z[$+2],Z[$+3]),J.closePath(),J.fill()}};O9.drawArrowheads=function(Q,J,Z){var U=J._private.rscratch,$=U.edgeType===\"haystack\";if(!$)this.drawArrowhead(Q,J,\"source\",U.arrowStartX,U.arrowStartY,U.srcArrowAngle,Z);if(this.drawArrowhead(Q,J,\"mid-target\",U.midX,U.midY,U.midtgtArrowAngle,Z),this.drawArrowhead(Q,J,\"mid-source\",U.midX,U.midY,U.midsrcArrowAngle,Z),!$)this.drawArrowhead(Q,J,\"target\",U.arrowEndX,U.arrowEndY,U.tgtArrowAngle,Z)};O9.drawArrowhead=function(Q,J,Z,U,$,q,K){if(isNaN(U)||U==null||isNaN($)||$==null||isNaN(q)||q==null)return;var G=this,Y=J.pstyle(Z+\"-arrow-shape\").value;if(Y===\"none\")return;var F=J.pstyle(Z+\"-arrow-fill\").value===\"hollow\"?\"both\":\"filled\",X=J.pstyle(Z+\"-arrow-fill\").value,H=J.pstyle(\"width\").pfValue,M=J.pstyle(Z+\"-arrow-width\"),z=M.value===\"match-line\"?H:M.pfValue;if(M.units===\"%\")z*=H;var N=J.pstyle(\"opacity\").value;if(K===void 0)K=N;var W=Q.globalCompositeOperation;if(K!==1||X===\"hollow\")Q.globalCompositeOperation=\"destination-out\",G.colorFillStyle(Q,255,255,255,1),G.colorStrokeStyle(Q,255,255,255,1),G.drawArrowShape(J,Q,F,H,Y,z,U,$,q),Q.globalCompositeOperation=W;var L=J.pstyle(Z+\"-arrow-color\").value;G.colorFillStyle(Q,L[0],L[1],L[2],K),G.colorStrokeStyle(Q,L[0],L[1],L[2],K),G.drawArrowShape(J,Q,X,H,Y,z,U,$,q)};O9.drawArrowShape=function(Q,J,Z,U,$,q,K,G,Y){var F=this,X=this.usePaths()&&$!==\"triangle-cross\",H=!1,M,z=J,N={x:K,y:G},W=Q.pstyle(\"arrow-scale\").value,L=this.getArrowWidth(U,W),E=F.arrowShapes[$];if(X){var B=F.arrowPathCache=F.arrowPathCache||[],V=HQ($),D=B[V];if(D!=null)M=J=D,H=!0;else M=J=new Path2D,B[V]=M}if(!H){if(J.beginPath)J.beginPath();if(X)E.draw(J,1,0,{x:0,y:0},1);else E.draw(J,L,Y,N,U);if(J.closePath)J.closePath()}if(J=z,X)J.translate(K,G),J.rotate(Y),J.scale(L,L);if(Z===\"filled\"||Z===\"both\")if(X)J.fill(M);else J.fill();if(Z===\"hollow\"||Z===\"both\")if(J.lineWidth=q/(X?L:1),J.lineJoin=\"miter\",X)J.stroke(M);else J.stroke();if(X)J.scale(1/L,1/L),J.rotate(-Y),J.translate(-K,-G)};var PU={};PU.safeDrawImage=function(Q,J,Z,U,$,q,K,G,Y,F){if($<=0||q<=0||Y<=0||F<=0)return;try{Q.drawImage(J,Z,U,$,q,K,G,Y,F)}catch(X){lJ(X)}};PU.drawInscribedImage=function(Q,J,Z,U,$){var q=this,K=Z.position(),G=K.x,Y=K.y,F=Z.cy().style(),X=F.getIndexedStyle.bind(F),H=X(Z,\"background-fit\",\"value\",U),M=X(Z,\"background-repeat\",\"value\",U),z=Z.width(),N=Z.height(),W=Z.padding()*2,L=z+(X(Z,\"background-width-relative-to\",\"value\",U)===\"inner\"?0:W),E=N+(X(Z,\"background-height-relative-to\",\"value\",U)===\"inner\"?0:W),B=Z._private.rscratch,V=X(Z,\"background-clip\",\"value\",U),D=V===\"node\",O=X(Z,\"background-image-opacity\",\"value\",U)*$,A=X(Z,\"background-image-smoothing\",\"value\",U),R=Z.pstyle(\"corner-radius\").value;if(R!==\"auto\")R=Z.pstyle(\"corner-radius\").pfValue;var C=J.width||J.cachedW,I=J.height||J.cachedH;if(C==null||I==null)document.body.appendChild(J),C=J.cachedW=J.width||J.offsetWidth,I=J.cachedH=J.height||J.offsetHeight,document.body.removeChild(J);var T=C,P=I;if(X(Z,\"background-width\",\"value\",U)!==\"auto\")if(X(Z,\"background-width\",\"units\",U)===\"%\")T=X(Z,\"background-width\",\"pfValue\",U)*L;else T=X(Z,\"background-width\",\"pfValue\",U);if(X(Z,\"background-height\",\"value\",U)!==\"auto\")if(X(Z,\"background-height\",\"units\",U)===\"%\")P=X(Z,\"background-height\",\"pfValue\",U)*E;else P=X(Z,\"background-height\",\"pfValue\",U);if(T===0||P===0)return;if(H===\"contain\"){var k=Math.min(L/T,E/P);T*=k,P*=k}else if(H===\"cover\"){var k=Math.max(L/T,E/P);T*=k,P*=k}var j=G-L/2,_=X(Z,\"background-position-x\",\"units\",U),x=X(Z,\"background-position-x\",\"pfValue\",U);if(_===\"%\")j+=(L-T)*x;else j+=x;var f=X(Z,\"background-offset-x\",\"units\",U),v=X(Z,\"background-offset-x\",\"pfValue\",U);if(f===\"%\")j+=(L-T)*v;else j+=v;var b=Y-E/2,y=X(Z,\"background-position-y\",\"units\",U),g=X(Z,\"background-position-y\",\"pfValue\",U);if(y===\"%\")b+=(E-P)*g;else b+=g;var m=X(Z,\"background-offset-y\",\"units\",U),u=X(Z,\"background-offset-y\",\"pfValue\",U);if(m===\"%\")b+=(E-P)*u;else b+=u;if(B.pathCache)j-=G,b-=Y,G=0,Y=0;var n=Q.globalAlpha;Q.globalAlpha=O;var t=q.getImgSmoothing(Q),s=!1;if(A===\"no\"&&t)q.setImgSmoothing(Q,!1),s=!0;else if(A===\"yes\"&&!t)q.setImgSmoothing(Q,!0),s=!0;if(M===\"no-repeat\"){if(D)if(Q.save(),B.pathCache)Q.clip(B.pathCache);else q.nodeShapes[q.getNodeShape(Z)].draw(Q,G,Y,L,E,R,B),Q.clip();if(q.safeDrawImage(Q,J,0,0,C,I,j,b,T,P),D)Q.restore()}else{var JJ=Q.createPattern(J,M);Q.fillStyle=JJ,q.nodeShapes[q.getNodeShape(Z)].draw(Q,G,Y,L,E,R,B),Q.translate(j,b),Q.fill(),Q.translate(-j,-b)}if(Q.globalAlpha=n,s)q.setImgSmoothing(Q,t)};var EQ={};EQ.eleTextBiggerThanMin=function(Q,J){if(!J){var Z=Q.cy().zoom(),U=this.getPixelRatio(),$=Math.ceil(MU(Z*U));J=Math.pow(2,$)}var q=Q.pstyle(\"font-size\").pfValue*J,K=Q.pstyle(\"min-zoomed-font-size\").pfValue;if(q<K)return!1;return!0};EQ.drawElementText=function(Q,J,Z,U,$){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,K=this;if(U==null){if(q&&!K.eleTextBiggerThanMin(J))return}else if(U===!1)return;if(J.isNode()){var G=J.pstyle(\"label\");if(!G||!G.value)return;var Y=K.getLabelJustification(J);Q.textAlign=Y,Q.textBaseline=\"bottom\"}else{var F=J.element()._private.rscratch.badLine,X=J.pstyle(\"label\"),H=J.pstyle(\"source-label\"),M=J.pstyle(\"target-label\");if(F||(!X||!X.value)&&(!H||!H.value)&&(!M||!M.value))return;Q.textAlign=\"center\",Q.textBaseline=\"bottom\"}var z=!Z,N;if(Z)N=Z,Q.translate(-N.x1,-N.y1);if($==null){if(K.drawText(Q,J,null,z,q),J.isEdge())K.drawText(Q,J,\"source\",z,q),K.drawText(Q,J,\"target\",z,q)}else K.drawText(Q,J,$,z,q);if(Z)Q.translate(N.x1,N.y1)};EQ.getFontCache=function(Q){var J;this.fontCaches=this.fontCaches||[];for(var Z=0;Z<this.fontCaches.length;Z++)if(J=this.fontCaches[Z],J.context===Q)return J;return J={context:Q},this.fontCaches.push(J),J};EQ.setupTextStyle=function(Q,J){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,U=J.pstyle(\"font-style\").strValue,$=J.pstyle(\"font-size\").pfValue+\"px\",q=J.pstyle(\"font-family\").strValue,K=J.pstyle(\"font-weight\").strValue,G=Z?J.effectiveOpacity()*J.pstyle(\"text-opacity\").value:1,Y=J.pstyle(\"text-outline-opacity\").value*G,F=J.pstyle(\"color\").value,X=J.pstyle(\"text-outline-color\").value;Q.font=U+\" \"+K+\" \"+$+\" \"+q,Q.lineJoin=\"round\",this.colorFillStyle(Q,F[0],F[1],F[2],G),this.colorStrokeStyle(Q,X[0],X[1],X[2],Y)};function SA(Q,J,Z,U,$){var q=Math.min(U,$),K=q/2,G=J+U/2,Y=Z+$/2;Q.beginPath(),Q.arc(G,Y,K,0,Math.PI*2),Q.closePath()}function T1(Q,J,Z,U,$){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,K=Math.min(q,U/2,$/2);Q.beginPath(),Q.moveTo(J+K,Z),Q.lineTo(J+U-K,Z),Q.quadraticCurveTo(J+U,Z,J+U,Z+K),Q.lineTo(J+U,Z+$-K),Q.quadraticCurveTo(J+U,Z+$,J+U-K,Z+$),Q.lineTo(J+K,Z+$),Q.quadraticCurveTo(J,Z+$,J,Z+$-K),Q.lineTo(J,Z+K),Q.quadraticCurveTo(J,Z,J+K,Z),Q.closePath()}EQ.getTextAngle=function(Q,J){var Z,U=Q._private,$=U.rscratch,q=J?J+\"-\":\"\",K=Q.pstyle(q+\"text-rotation\");if(K.strValue===\"autorotate\"){var G=b8($,\"labelAngle\",J);Z=Q.isEdge()?G:0}else if(K.strValue===\"none\")Z=0;else Z=K.pfValue;return Z};EQ.drawText=function(Q,J,Z){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=J._private,K=q.rscratch,G=$?J.effectiveOpacity():1;if($&&(G===0||J.pstyle(\"text-opacity\").value===0))return;if(Z===\"main\")Z=null;var Y=b8(K,\"labelX\",Z),F=b8(K,\"labelY\",Z),X,H,M=this.getLabelText(J,Z);if(M!=null&&M!==\"\"&&!isNaN(Y)&&!isNaN(F)){this.setupTextStyle(Q,J,$);var z=Z?Z+\"-\":\"\",N=b8(K,\"labelWidth\",Z),W=b8(K,\"labelHeight\",Z),L=J.pstyle(z+\"text-margin-x\").pfValue,E=J.pstyle(z+\"text-margin-y\").pfValue,B=J.isEdge(),V=J.pstyle(\"text-halign\").value,D=J.pstyle(\"text-valign\").value;if(B)V=\"center\",D=\"center\";Y+=L,F+=E;var O;if(!U)O=0;else O=this.getTextAngle(J,Z);if(O!==0)X=Y,H=F,Q.translate(X,H),Q.rotate(O),Y=0,F=0;switch(D){case\"top\":break;case\"center\":F+=W/2;break;case\"bottom\":F+=W;break}var A=J.pstyle(\"text-background-opacity\").value,R=J.pstyle(\"text-border-opacity\").value,C=J.pstyle(\"text-border-width\").pfValue,I=J.pstyle(\"text-background-padding\").pfValue,T=J.pstyle(\"text-background-shape\").strValue,P=T===\"round-rectangle\"||T===\"roundrectangle\",k=T===\"circle\",j=2;if(A>0||C>0&&R>0){var{fillStyle:_,strokeStyle:x,lineWidth:f}=Q,v=J.pstyle(\"text-background-color\").value,b=J.pstyle(\"text-border-color\").value,y=J.pstyle(\"text-border-style\").value,g=A>0,m=C>0&&R>0,u=Y-I;switch(V){case\"left\":u-=N;break;case\"center\":u-=N/2;break}var n=F-W-I,t=N+2*I,s=W+2*I;if(g)Q.fillStyle=\"rgba(\".concat(v[0],\",\").concat(v[1],\",\").concat(v[2],\",\").concat(A*G,\")\");if(m){if(Q.strokeStyle=\"rgba(\".concat(b[0],\",\").concat(b[1],\",\").concat(b[2],\",\").concat(R*G,\")\"),Q.lineWidth=C,Q.setLineDash)switch(y){case\"dotted\":Q.setLineDash([1,1]);break;case\"dashed\":Q.setLineDash([4,2]);break;case\"double\":Q.lineWidth=C/4,Q.setLineDash([]);break;case\"solid\":default:Q.setLineDash([]);break}}if(P)Q.beginPath(),T1(Q,u,n,t,s,j);else if(k)Q.beginPath(),SA(Q,u,n,t,s);else Q.beginPath(),Q.rect(u,n,t,s);if(g)Q.fill();if(m)Q.stroke();if(m&&y===\"double\"){var JJ=C/2;if(Q.beginPath(),P)T1(Q,u+JJ,n+JJ,t-2*JJ,s-2*JJ,j);else Q.rect(u+JJ,n+JJ,t-2*JJ,s-2*JJ);Q.stroke()}if(Q.fillStyle=_,Q.strokeStyle=x,Q.lineWidth=f,Q.setLineDash)Q.setLineDash([])}var ZJ=2*J.pstyle(\"text-outline-width\").pfValue;if(ZJ>0)Q.lineWidth=ZJ;if(J.pstyle(\"text-wrap\").value===\"wrap\"){var qJ=b8(K,\"labelWrapCachedLines\",Z),e=b8(K,\"labelLineHeight\",Z),h=N/2,d=this.getLabelJustification(J);if(d===\"auto\");else if(V===\"left\"){if(d===\"left\")Y+=-N;else if(d===\"center\")Y+=-h}else if(V===\"center\"){if(d===\"left\")Y+=-h;else if(d===\"right\")Y+=h}else if(V===\"right\"){if(d===\"center\")Y+=h;else if(d===\"right\")Y+=N}switch(D){case\"top\":F-=(qJ.length-1)*e;break;case\"center\":case\"bottom\":F-=(qJ.length-1)*e;break}for(var p=0;p<qJ.length;p++){if(ZJ>0)Q.strokeText(qJ[p],Y,F);Q.fillText(qJ[p],Y,F),F+=e}}else{if(ZJ>0)Q.strokeText(M,Y,F);Q.fillText(M,Y,F)}if(O!==0)Q.rotate(-O),Q.translate(-X,-H)}};var n9={};n9.drawNode=function(Q,J,Z){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,K=this,G,Y,F=J._private,X=F.rscratch,H=J.position();if(!$J(H.x)||!$J(H.y))return;if(q&&!J.visible())return;var M=q?J.effectiveOpacity():1,z=K.usePaths(),N,W=!1,L=J.padding();G=J.width()+2*L,Y=J.height()+2*L;var E;if(Z)E=Z,Q.translate(-E.x1,-E.y1);var B=J.pstyle(\"background-image\"),V=B.value,D=new Array(V.length),O=new Array(V.length),A=0;for(var R=0;R<V.length;R++){var C=V[R],I=D[R]=C!=null&&C!==\"none\";if(I){var T=J.cy().style().getIndexedStyle(J,\"background-image-crossorigin\",\"value\",R);A++,O[R]=K.getCachedImage(C,T,function(){F.backgroundTimestamp=Date.now(),J.emitAndNotify(\"background\")})}}var P=J.pstyle(\"background-blacken\").value,k=J.pstyle(\"border-width\").pfValue,j=J.pstyle(\"background-opacity\").value*M,_=J.pstyle(\"border-color\").value,x=J.pstyle(\"border-style\").value,f=J.pstyle(\"border-join\").value,v=J.pstyle(\"border-cap\").value,b=J.pstyle(\"border-position\").value,y=J.pstyle(\"border-dash-pattern\").pfValue,g=J.pstyle(\"border-dash-offset\").pfValue,m=J.pstyle(\"border-opacity\").value*M,u=J.pstyle(\"outline-width\").pfValue,n=J.pstyle(\"outline-color\").value,t=J.pstyle(\"outline-style\").value,s=J.pstyle(\"outline-opacity\").value*M,JJ=J.pstyle(\"outline-offset\").value,ZJ=J.pstyle(\"corner-radius\").value;if(ZJ!==\"auto\")ZJ=J.pstyle(\"corner-radius\").pfValue;var qJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;K.eleFillStyle(Q,J,FJ)},e=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;K.colorStrokeStyle(Q,_[0],_[1],_[2],FJ)},h=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s;K.colorStrokeStyle(Q,n[0],n[1],n[2],FJ)},d=function OJ(FJ,a,S,c){var l=K.nodePathCache=K.nodePathCache||[],i=o1(S===\"polygon\"?S+\",\"+c.join(\",\"):S,\"\"+a,\"\"+FJ,\"\"+ZJ),o=l[i],YJ,QJ=!1;if(o!=null)YJ=o,QJ=!0,X.pathCache=YJ;else YJ=new Path2D,l[i]=X.pathCache=YJ;return{path:YJ,cacheHit:QJ}},p=J.pstyle(\"shape\").strValue,r=J.pstyle(\"shape-polygon-points\").pfValue;if(z){Q.translate(H.x,H.y);var UJ=d(G,Y,p,r);N=UJ.path,W=UJ.cacheHit}var NJ=function OJ(){if(!W){var FJ=H;if(z)FJ={x:0,y:0};K.nodeShapes[K.getNodeShape(J)].draw(N||Q,FJ.x,FJ.y,G,Y,ZJ,X)}if(z)Q.fill(N);else Q.fill()},xJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=F.backgrounding,c=0;for(var l=0;l<O.length;l++){var i=J.cy().style().getIndexedStyle(J,\"background-image-containment\",\"value\",l);if(a&&i===\"over\"||!a&&i===\"inside\"){c++;continue}if(D[l]&&O[l].complete&&!O[l].error)c++,K.drawInscribedImage(Q,O[l],J,l,FJ)}if(F.backgrounding=c!==A,S!==F.backgrounding)J.updateStyle(!1)},CJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M;if(K.hasPie(J)){if(K.drawPie(Q,J,a),FJ){if(!z)K.nodeShapes[K.getNodeShape(J)].draw(Q,H.x,H.y,G,Y,ZJ,X)}}},RJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M;if(K.hasStripe(J)){if(Q.save(),z)Q.clip(X.pathCache);else K.nodeShapes[K.getNodeShape(J)].draw(Q,H.x,H.y,G,Y,ZJ,X),Q.clip();if(K.drawStripe(Q,J,a),Q.restore(),FJ){if(!z)K.nodeShapes[K.getNodeShape(J)].draw(Q,H.x,H.y,G,Y,ZJ,X)}}},BJ=function OJ(){var FJ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M,a=(P>0?P:-P)*FJ,S=P>0?0:255;if(P!==0)if(K.colorFillStyle(Q,S,S,S,a),z)Q.fill(N);else Q.fill()},KJ=function OJ(){if(k>0){if(Q.lineWidth=k,Q.lineCap=v,Q.lineJoin=f,Q.setLineDash)switch(x){case\"dotted\":Q.setLineDash([1,1]);break;case\"dashed\":Q.setLineDash(y),Q.lineDashOffset=g;break;case\"solid\":case\"double\":Q.setLineDash([]);break}if(b!==\"center\"){if(Q.save(),Q.lineWidth*=2,b===\"inside\")z?Q.clip(N):Q.clip();else{var FJ=new Path2D;FJ.rect(-G/2-k,-Y/2-k,G+2*k,Y+2*k),FJ.addPath(N),Q.clip(FJ,\"evenodd\")}z?Q.stroke(N):Q.stroke(),Q.restore()}else z?Q.stroke(N):Q.stroke();if(x===\"double\"){Q.lineWidth=k/3;var a=Q.globalCompositeOperation;if(Q.globalCompositeOperation=\"destination-out\",z)Q.stroke(N);else Q.stroke();Q.globalCompositeOperation=a}if(Q.setLineDash)Q.setLineDash([])}},zJ=function OJ(){if(u>0){if(Q.lineWidth=u,Q.lineCap=\"butt\",Q.setLineDash)switch(t){case\"dotted\":Q.setLineDash([1,1]);break;case\"dashed\":Q.setLineDash([4,2]);break;case\"solid\":case\"double\":Q.setLineDash([]);break}var FJ=H;if(z)FJ={x:0,y:0};var a=K.getNodeShape(J),S=k;if(b===\"inside\")S=0;if(b===\"outside\")S*=2;var c=(G+S+(u+JJ))/G,l=(Y+S+(u+JJ))/Y,i=G*c,o=Y*l,YJ=K.nodeShapes[a].points,QJ;if(z){var HJ=d(i,o,a,YJ);QJ=HJ.path}if(a===\"ellipse\")K.drawEllipsePath(QJ||Q,FJ.x,FJ.y,i,o);else if([\"round-diamond\",\"round-heptagon\",\"round-hexagon\",\"round-octagon\",\"round-pentagon\",\"round-polygon\",\"round-triangle\",\"round-tag\"].includes(a)){var XJ=0,VJ=0,wJ=0;if(a===\"round-diamond\")XJ=(S+JJ+u)*1.4;else if(a===\"round-heptagon\")XJ=(S+JJ+u)*1.075,wJ=-(S/2+JJ+u)/35;else if(a===\"round-hexagon\")XJ=(S+JJ+u)*1.12;else if(a===\"round-pentagon\")XJ=(S+JJ+u)*1.13,wJ=-(S/2+JJ+u)/15;else if(a===\"round-tag\")XJ=(S+JJ+u)*1.12,VJ=(S/2+u+JJ)*0.07;else if(a===\"round-triangle\")XJ=(S+JJ+u)*(Math.PI/2),wJ=-(S+JJ/2+u)/Math.PI;if(XJ!==0){if(c=(G+XJ)/G,i=G*c,![\"round-hexagon\",\"round-tag\"].includes(a))l=(Y+XJ)/Y,o=Y*l}ZJ=ZJ===\"auto\"?GK(i,o):ZJ;var TJ=i/2,MJ=o/2,fJ=ZJ+(S+u+JJ)/2,_J=new Array(YJ.length/2),X8=new Array(YJ.length/2);for(var U8=0;U8<YJ.length/2;U8++)_J[U8]={x:FJ.x+VJ+TJ*YJ[U8*2],y:FJ.y+wJ+MJ*YJ[U8*2+1]};var k8,K8,W8,H8,D8=_J.length;K8=_J[D8-1];for(k8=0;k8<D8;k8++)W8=_J[k8%D8],H8=_J[(k8+1)%D8],X8[k8]=IU(K8,W8,H8,fJ),K8=W8,W8=H8;K.drawRoundPolygonPath(QJ||Q,FJ.x+VJ,FJ.y+wJ,G*c,Y*l,YJ,X8)}else if([\"roundrectangle\",\"round-rectangle\"].includes(a))ZJ=ZJ===\"auto\"?u9(i,o):ZJ,K.drawRoundRectanglePath(QJ||Q,FJ.x,FJ.y,i,o,ZJ+(S+u+JJ)/2);else if([\"cutrectangle\",\"cut-rectangle\"].includes(a))ZJ=ZJ===\"auto\"?LU():ZJ,K.drawCutRectanglePath(QJ||Q,FJ.x,FJ.y,i,o,null,ZJ+(S+u+JJ)/4);else if([\"bottomroundrectangle\",\"bottom-round-rectangle\"].includes(a))ZJ=ZJ===\"auto\"?u9(i,o):ZJ,K.drawBottomRoundRectanglePath(QJ||Q,FJ.x,FJ.y,i,o,ZJ+(S+u+JJ)/2);else if(a===\"barrel\")K.drawBarrelPath(QJ||Q,FJ.x,FJ.y,i,o);else if(a.startsWith(\"polygon\")||[\"rhomboid\",\"right-rhomboid\",\"round-tag\",\"tag\",\"vee\"].includes(a)){var P9=(S+u+JJ)/G;YJ=t6(e6(YJ,P9)),K.drawPolygonPath(QJ||Q,FJ.x,FJ.y,G,Y,YJ)}else{var G8=(S+u+JJ)/G;YJ=t6(e6(YJ,-G8)),K.drawPolygonPath(QJ||Q,FJ.x,FJ.y,G,Y,YJ)}if(z)Q.stroke(QJ);else Q.stroke();if(t===\"double\"){Q.lineWidth=S/3;var N9=Q.globalCompositeOperation;if(Q.globalCompositeOperation=\"destination-out\",z)Q.stroke(QJ);else Q.stroke();Q.globalCompositeOperation=N9}if(Q.setLineDash)Q.setLineDash([])}},LJ=function OJ(){if($)K.drawNodeOverlay(Q,J,H,G,Y)},AJ=function OJ(){if($)K.drawNodeUnderlay(Q,J,H,G,Y)},EJ=function OJ(){K.drawElementText(Q,J,null,U)},PJ=J.pstyle(\"ghost\").value===\"yes\";if(PJ){var bJ=J.pstyle(\"ghost-offset-x\").pfValue,gJ=J.pstyle(\"ghost-offset-y\").pfValue,dJ=J.pstyle(\"ghost-opacity\").value,cJ=dJ*M;Q.translate(bJ,gJ),h(),zJ(),qJ(dJ*j),NJ(),xJ(cJ,!0),e(dJ*m),KJ(),CJ(P!==0||k!==0),RJ(P!==0||k!==0),xJ(cJ,!1),BJ(cJ),Q.translate(-bJ,-gJ)}if(z)Q.translate(-H.x,-H.y);if(AJ(),z)Q.translate(H.x,H.y);if(h(),zJ(),qJ(),NJ(),xJ(M,!0),e(),KJ(),CJ(P!==0||k!==0),RJ(P!==0||k!==0),xJ(M,!1),BJ(),z)Q.translate(-H.x,-H.y);if(EJ(),LJ(),Z)Q.translate(E.x1,E.y1)};var NG=function Q(J){if(![\"overlay\",\"underlay\"].includes(J))throw new Error(\"Invalid state\");return function(Z,U,$,q,K){var G=this;if(!U.visible())return;var Y=U.pstyle(\"\".concat(J,\"-padding\")).pfValue,F=U.pstyle(\"\".concat(J,\"-opacity\")).value,X=U.pstyle(\"\".concat(J,\"-color\")).value,H=U.pstyle(\"\".concat(J,\"-shape\")).value,M=U.pstyle(\"\".concat(J,\"-corner-radius\")).value;if(F>0){if($=$||U.position(),q==null||K==null){var z=U.padding();q=U.width()+2*z,K=U.height()+2*z}G.colorFillStyle(Z,X[0],X[1],X[2],F),G.nodeShapes[H].draw(Z,$.x,$.y,q+Y*2,K+Y*2,M),Z.fill()}}};n9.drawNodeOverlay=NG(\"overlay\");n9.drawNodeUnderlay=NG(\"underlay\");n9.hasPie=function(Q){return Q=Q[0],Q._private.hasPie};n9.hasStripe=function(Q){return Q=Q[0],Q._private.hasStripe};n9.drawPie=function(Q,J,Z,U){J=J[0],U=U||J.position();var $=J.cy().style(),q=J.pstyle(\"pie-size\"),K=J.pstyle(\"pie-hole\"),G=J.pstyle(\"pie-start-angle\").pfValue,Y=U.x,F=U.y,X=J.width(),H=J.height(),M=Math.min(X,H)/2,z,N=0,W=this.usePaths();if(W)Y=0,F=0;if(q.units===\"%\")M=M*q.pfValue;else if(q.pfValue!==void 0)M=q.pfValue/2;if(K.units===\"%\")z=M*K.pfValue;else if(K.pfValue!==void 0)z=K.pfValue/2;if(z>=M)return;for(var L=1;L<=$.pieBackgroundN;L++){var E=J.pstyle(\"pie-\"+L+\"-background-size\").value,B=J.pstyle(\"pie-\"+L+\"-background-color\").value,V=J.pstyle(\"pie-\"+L+\"-background-opacity\").value*Z,D=E/100;if(D+N>1)D=1-N;var O=1.5*Math.PI+2*Math.PI*N;O+=G;var A=2*Math.PI*D,R=O+A;if(E===0||N>=1||N+D>1)continue;if(z===0)Q.beginPath(),Q.moveTo(Y,F),Q.arc(Y,F,M,O,R),Q.closePath();else Q.beginPath(),Q.arc(Y,F,M,O,R),Q.arc(Y,F,z,R,O,!0),Q.closePath();this.colorFillStyle(Q,B[0],B[1],B[2],V),Q.fill(),N+=D}};n9.drawStripe=function(Q,J,Z,U){J=J[0],U=U||J.position();var $=J.cy().style(),q=U.x,K=U.y,G=J.width(),Y=J.height(),F=0,X=this.usePaths();Q.save();var H=J.pstyle(\"stripe-direction\").value,M=J.pstyle(\"stripe-size\");switch(H){case\"vertical\":break;case\"righward\":Q.rotate(-Math.PI/2);break}var z=G,N=Y;if(M.units===\"%\")z=z*M.pfValue,N=N*M.pfValue;else if(M.pfValue!==void 0)z=M.pfValue,N=M.pfValue;if(X)q=0,K=0;K-=z/2,q-=N/2;for(var W=1;W<=$.stripeBackgroundN;W++){var L=J.pstyle(\"stripe-\"+W+\"-background-size\").value,E=J.pstyle(\"stripe-\"+W+\"-background-color\").value,B=J.pstyle(\"stripe-\"+W+\"-background-opacity\").value*Z,V=L/100;if(V+F>1)V=1-F;if(L===0||F>=1||F+V>1)continue;Q.beginPath(),Q.rect(q,K+N*F,z,N*V),Q.closePath(),this.colorFillStyle(Q,E[0],E[1],E[2],B),Q.fill(),F+=V}Q.restore()};var _8={},IA=100;_8.getPixelRatio=function(){var Q=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var J=this.cy.window(),Z=Q.backingStorePixelRatio||Q.webkitBackingStorePixelRatio||Q.mozBackingStorePixelRatio||Q.msBackingStorePixelRatio||Q.oBackingStorePixelRatio||Q.backingStorePixelRatio||1;return(J.devicePixelRatio||1)/Z};_8.paintCache=function(Q){var J=this.paintCaches=this.paintCaches||[],Z=!0,U;for(var $=0;$<J.length;$++)if(U=J[$],U.context===Q){Z=!1;break}if(Z)U={context:Q},J.push(U);return U};_8.createGradientStyleFor=function(Q,J,Z,U,$){var q,K=this.usePaths(),G=Z.pstyle(J+\"-gradient-stop-colors\").value,Y=Z.pstyle(J+\"-gradient-stop-positions\").pfValue;if(U===\"radial-gradient\")if(Z.isEdge()){var F=Z.sourceEndpoint(),X=Z.targetEndpoint(),H=Z.midpoint(),M=MQ(F,H),z=MQ(X,H);q=Q.createRadialGradient(H.x,H.y,0,H.x,H.y,Math.max(M,z))}else{var N=K?{x:0,y:0}:Z.position(),W=Z.paddedWidth(),L=Z.paddedHeight();q=Q.createRadialGradient(N.x,N.y,0,N.x,N.y,Math.max(W,L))}else if(Z.isEdge()){var E=Z.sourceEndpoint(),B=Z.targetEndpoint();q=Q.createLinearGradient(E.x,E.y,B.x,B.y)}else{var V=K?{x:0,y:0}:Z.position(),D=Z.paddedWidth(),O=Z.paddedHeight(),A=D/2,R=O/2,C=Z.pstyle(\"background-gradient-direction\").value;switch(C){case\"to-bottom\":q=Q.createLinearGradient(V.x,V.y-R,V.x,V.y+R);break;case\"to-top\":q=Q.createLinearGradient(V.x,V.y+R,V.x,V.y-R);break;case\"to-left\":q=Q.createLinearGradient(V.x+A,V.y,V.x-A,V.y);break;case\"to-right\":q=Q.createLinearGradient(V.x-A,V.y,V.x+A,V.y);break;case\"to-bottom-right\":case\"to-right-bottom\":q=Q.createLinearGradient(V.x-A,V.y-R,V.x+A,V.y+R);break;case\"to-top-right\":case\"to-right-top\":q=Q.createLinearGradient(V.x-A,V.y+R,V.x+A,V.y-R);break;case\"to-bottom-left\":case\"to-left-bottom\":q=Q.createLinearGradient(V.x+A,V.y-R,V.x-A,V.y+R);break;case\"to-top-left\":case\"to-left-top\":q=Q.createLinearGradient(V.x+A,V.y+R,V.x-A,V.y-R);break}}if(!q)return null;var I=Y.length===G.length,T=G.length;for(var P=0;P<T;P++)q.addColorStop(I?Y[P]:P/(T-1),\"rgba(\"+G[P][0]+\",\"+G[P][1]+\",\"+G[P][2]+\",\"+$+\")\");return q};_8.gradientFillStyle=function(Q,J,Z,U){var $=this.createGradientStyleFor(Q,\"background\",J,Z,U);if(!$)return null;Q.fillStyle=$};_8.colorFillStyle=function(Q,J,Z,U,$){Q.fillStyle=\"rgba(\"+J+\",\"+Z+\",\"+U+\",\"+$+\")\"};_8.eleFillStyle=function(Q,J,Z){var U=J.pstyle(\"background-fill\").value;if(U===\"linear-gradient\"||U===\"radial-gradient\")this.gradientFillStyle(Q,J,U,Z);else{var $=J.pstyle(\"background-color\").value;this.colorFillStyle(Q,$[0],$[1],$[2],Z)}};_8.gradientStrokeStyle=function(Q,J,Z,U){var $=this.createGradientStyleFor(Q,\"line\",J,Z,U);if(!$)return null;Q.strokeStyle=$};_8.colorStrokeStyle=function(Q,J,Z,U,$){Q.strokeStyle=\"rgba(\"+J+\",\"+Z+\",\"+U+\",\"+$+\")\"};_8.eleStrokeStyle=function(Q,J,Z){var U=J.pstyle(\"line-fill\").value;if(U===\"linear-gradient\"||U===\"radial-gradient\")this.gradientStrokeStyle(Q,J,U,Z);else{var $=J.pstyle(\"line-color\").value;this.colorStrokeStyle(Q,$[0],$[1],$[2],Z)}};_8.matchCanvasSize=function(Q){var J=this,Z=J.data,U=J.findContainerClientCoords(),$=U[2],q=U[3],K=J.getPixelRatio(),G=J.motionBlurPxRatio;if(Q===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE]||Q===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG])K=G;var Y=$*K,F=q*K,X;if(Y===J.canvasWidth&&F===J.canvasHeight)return;J.fontCaches=null;var H=Z.canvasContainer;H.style.width=$+\"px\",H.style.height=q+\"px\";for(var M=0;M<J.CANVAS_LAYERS;M++)X=Z.canvases[M],X.width=Y,X.height=F,X.style.width=$+\"px\",X.style.height=q+\"px\";for(var M=0;M<J.BUFFER_COUNT;M++)X=Z.bufferCanvases[M],X.width=Y,X.height=F,X.style.width=$+\"px\",X.style.height=q+\"px\";if(J.textureMult=1,K<=1)X=Z.bufferCanvases[J.TEXTURE_BUFFER],J.textureMult=2,X.width=Y*J.textureMult,X.height=F*J.textureMult;J.canvasWidth=Y,J.canvasHeight=F,J.pixelRatio=K};_8.renderTo=function(Q,J,Z,U){this.render({forcedContext:Q,forcedZoom:J,forcedPan:Z,drawAllLayers:!0,forcedPxRatio:U})};_8.clearCanvas=function(){var Q=this,J=Q.data;function Z(U){U.clearRect(0,0,Q.canvasWidth,Q.canvasHeight)}Z(J.contexts[Q.NODE]),Z(J.contexts[Q.DRAG])};_8.render=function(Q){var J=this;Q=Q||QK();var Z=J.cy,U=Q.forcedContext,$=Q.drawAllLayers,q=Q.drawOnlyNodeLayer,K=Q.forcedZoom,G=Q.forcedPan,Y=Q.forcedPxRatio===void 0?this.getPixelRatio():Q.forcedPxRatio,F=J.data,X=F.canvasNeedsRedraw,H=J.textureOnViewport&&!U&&(J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming),M=Q.motionBlur!==void 0?Q.motionBlur:J.motionBlur,z=J.motionBlurPxRatio,N=Z.hasCompoundNodes(),W=J.hoverData.draggingEles,L=J.hoverData.selecting||J.touchData.selecting?!0:!1;M=M&&!U&&J.motionBlurEnabled&&!L;var E=M;if(!U){if(J.prevPxRatio!==Y)J.invalidateContainerClientCoordsCache(),J.matchCanvasSize(J.container),J.redrawHint(\"eles\",!0),J.redrawHint(\"drag\",!0);J.prevPxRatio=Y}if(!U&&J.motionBlurTimeout)clearTimeout(J.motionBlurTimeout);if(M){if(J.mbFrames==null)J.mbFrames=0;if(J.mbFrames++,J.mbFrames<3)E=!1;if(J.mbFrames>J.minMbLowQualFrames)J.motionBlurPxRatio=J.mbPxRBlurry}if(J.clearingMotionBlur)J.motionBlurPxRatio=1;if(J.textureDrawLastFrame&&!H)X[J.NODE]=!0,X[J.SELECT_BOX]=!0;var B=Z.style(),V=Z.zoom(),D=K!==void 0?K:V,O=Z.pan(),A={x:O.x,y:O.y},R={zoom:V,pan:{x:O.x,y:O.y}},C=J.prevViewport,I=C===void 0||R.zoom!==C.zoom||R.pan.x!==C.pan.x||R.pan.y!==C.pan.y;if(!I&&!(W&&!N))J.motionBlurPxRatio=1;if(G)A=G;D*=Y,A.x*=Y,A.y*=Y;var T=J.getCachedZSortedEles();function P(e,h,d,p,r){var UJ=e.globalCompositeOperation;e.globalCompositeOperation=\"destination-out\",J.colorFillStyle(e,255,255,255,J.motionBlurTransparency),e.fillRect(h,d,p,r),e.globalCompositeOperation=UJ}function k(e,h){var d,p,r,UJ;if(!J.clearingMotionBlur&&(e===F.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]||e===F.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]))d={x:O.x*z,y:O.y*z},p=V*z,r=J.canvasWidth*z,UJ=J.canvasHeight*z;else d=A,p=D,r=J.canvasWidth,UJ=J.canvasHeight;if(e.setTransform(1,0,0,1,0,0),h===\"motionBlur\")P(e,0,0,r,UJ);else if(!U&&(h===void 0||h))e.clearRect(0,0,r,UJ);if(!$)e.translate(d.x,d.y),e.scale(p,p);if(G)e.translate(G.x,G.y);if(K)e.scale(K,K)}if(!H)J.textureDrawLastFrame=!1;if(H){if(J.textureDrawLastFrame=!0,!J.textureCache){J.textureCache={},J.textureCache.bb=Z.mutableElements().boundingBox(),J.textureCache.texture=J.data.bufferCanvases[J.TEXTURE_BUFFER];var j=J.data.bufferContexts[J.TEXTURE_BUFFER];j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,J.canvasWidth*J.textureMult,J.canvasHeight*J.textureMult),J.render({forcedContext:j,drawOnlyNodeLayer:!0,forcedPxRatio:Y*J.textureMult});var R=J.textureCache.viewport={zoom:Z.zoom(),pan:Z.pan(),width:J.canvasWidth,height:J.canvasHeight};R.mpan={x:(0-R.pan.x)/R.zoom,y:(0-R.pan.y)/R.zoom}}X[J.DRAG]=!1,X[J.NODE]=!1;var _=F.contexts[J.NODE],x=J.textureCache.texture,R=J.textureCache.viewport;if(_.setTransform(1,0,0,1,0,0),M)P(_,0,0,R.width,R.height);else _.clearRect(0,0,R.width,R.height);var f=B.core(\"outside-texture-bg-color\").value,v=B.core(\"outside-texture-bg-opacity\").value;J.colorFillStyle(_,f[0],f[1],f[2],v),_.fillRect(0,0,R.width,R.height);var V=Z.zoom();k(_,!1),_.clearRect(R.mpan.x,R.mpan.y,R.width/R.zoom/Y,R.height/R.zoom/Y),_.drawImage(x,R.mpan.x,R.mpan.y,R.width/R.zoom/Y,R.height/R.zoom/Y)}else if(J.textureOnViewport&&!U)J.textureCache=null;var b=Z.extent(),y=J.pinching||J.hoverData.dragging||J.swipePanning||J.data.wheelZooming||J.hoverData.draggingEles||J.cy.animated(),g=J.hideEdgesOnViewport&&y,m=[];if(m[J.NODE]=!X[J.NODE]&&M&&!J.clearedForMotionBlur[J.NODE]||J.clearingMotionBlur,m[J.NODE])J.clearedForMotionBlur[J.NODE]=!0;if(m[J.DRAG]=!X[J.DRAG]&&M&&!J.clearedForMotionBlur[J.DRAG]||J.clearingMotionBlur,m[J.DRAG])J.clearedForMotionBlur[J.DRAG]=!0;if(X[J.NODE]||$||q||m[J.NODE]){var u=M&&!m[J.NODE]&&z!==1,_=U||(u?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_NODE]:F.contexts[J.NODE]),n=M&&!u?\"motionBlur\":void 0;if(k(_,n),g)J.drawCachedNodes(_,T.nondrag,Y,b);else J.drawLayeredElements(_,T.nondrag,Y,b);if(J.debug)J.drawDebugPoints(_,T.nondrag);if(!$&&!M)X[J.NODE]=!1}if(!q&&(X[J.DRAG]||$||m[J.DRAG])){var u=M&&!m[J.DRAG]&&z!==1,_=U||(u?J.data.bufferContexts[J.MOTIONBLUR_BUFFER_DRAG]:F.contexts[J.DRAG]);if(k(_,M&&!u?\"motionBlur\":void 0),g)J.drawCachedNodes(_,T.drag,Y,b);else J.drawCachedElements(_,T.drag,Y,b);if(J.debug)J.drawDebugPoints(_,T.drag);if(!$&&!M)X[J.DRAG]=!1}if(this.drawSelectionRectangle(Q,k),M&&z!==1){var t=F.contexts[J.NODE],s=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE],JJ=F.contexts[J.DRAG],ZJ=J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG],qJ=function e(h,d,p){if(h.setTransform(1,0,0,1,0,0),p||!E)h.clearRect(0,0,J.canvasWidth,J.canvasHeight);else P(h,0,0,J.canvasWidth,J.canvasHeight);var r=z;h.drawImage(d,0,0,J.canvasWidth*r,J.canvasHeight*r,0,0,J.canvasWidth,J.canvasHeight)};if(X[J.NODE]||m[J.NODE])qJ(t,s,m[J.NODE]),X[J.NODE]=!1;if(X[J.DRAG]||m[J.DRAG])qJ(JJ,ZJ,m[J.DRAG]),X[J.DRAG]=!1}if(J.prevViewport=R,J.clearingMotionBlur)J.clearingMotionBlur=!1,J.motionBlurCleared=!0,J.motionBlur=!0;if(M)J.motionBlurTimeout=setTimeout(function(){J.motionBlurTimeout=null,J.clearedForMotionBlur[J.NODE]=!1,J.clearedForMotionBlur[J.DRAG]=!1,J.motionBlur=!1,J.clearingMotionBlur=!H,J.mbFrames=0,X[J.NODE]=!0,X[J.DRAG]=!0,J.redraw()},IA);if(!U)Z.emit(\"render\")};var BZ;_8.drawSelectionRectangle=function(Q,J){var Z=this,U=Z.cy,$=Z.data,q=U.style(),K=Q.drawOnlyNodeLayer,G=Q.drawAllLayers,Y=$.canvasNeedsRedraw,F=Q.forcedContext;if(Z.showFps||!K&&Y[Z.SELECT_BOX]&&!G){var X=F||$.contexts[Z.SELECT_BOX];if(J(X),Z.selection[4]==1&&(Z.hoverData.selecting||Z.touchData.selecting)){var H=Z.cy.zoom(),M=q.core(\"selection-box-border-width\").value/H;if(X.lineWidth=M,X.fillStyle=\"rgba(\"+q.core(\"selection-box-color\").value[0]+\",\"+q.core(\"selection-box-color\").value[1]+\",\"+q.core(\"selection-box-color\").value[2]+\",\"+q.core(\"selection-box-opacity\").value+\")\",X.fillRect(Z.selection[0],Z.selection[1],Z.selection[2]-Z.selection[0],Z.selection[3]-Z.selection[1]),M>0)X.strokeStyle=\"rgba(\"+q.core(\"selection-box-border-color\").value[0]+\",\"+q.core(\"selection-box-border-color\").value[1]+\",\"+q.core(\"selection-box-border-color\").value[2]+\",\"+q.core(\"selection-box-opacity\").value+\")\",X.strokeRect(Z.selection[0],Z.selection[1],Z.selection[2]-Z.selection[0],Z.selection[3]-Z.selection[1])}if($.bgActivePosistion&&!Z.hoverData.selecting){var H=Z.cy.zoom(),z=$.bgActivePosistion;X.fillStyle=\"rgba(\"+q.core(\"active-bg-color\").value[0]+\",\"+q.core(\"active-bg-color\").value[1]+\",\"+q.core(\"active-bg-color\").value[2]+\",\"+q.core(\"active-bg-opacity\").value+\")\",X.beginPath(),X.arc(z.x,z.y,q.core(\"active-bg-size\").pfValue/H,0,2*Math.PI),X.fill()}var N=Z.lastRedrawTime;if(Z.showFps&&N){N=Math.round(N);var W=Math.round(1000/N),L=\"1 frame = \"+N+\" ms = \"+W+\" fps\";if(X.setTransform(1,0,0,1,0,0),X.fillStyle=\"rgba(255, 0, 0, 0.75)\",X.strokeStyle=\"rgba(255, 0, 0, 0.75)\",X.font=\"30px Arial\",!BZ){var E=X.measureText(L);BZ=E.actualBoundingBoxAscent}X.fillText(L,0,BZ);var B=60;X.strokeRect(0,BZ+10,250,20),X.fillRect(0,BZ+10,250*Math.min(W/B,1),20)}if(!G)Y[Z.SELECT_BOX]=!1}};function P1(Q,J,Z){var U=Q.createShader(J);if(Q.shaderSource(U,Z),Q.compileShader(U),!Q.getShaderParameter(U,Q.COMPILE_STATUS))throw new Error(Q.getShaderInfoLog(U));return U}function TA(Q,J,Z){var U=P1(Q,Q.VERTEX_SHADER,J),$=P1(Q,Q.FRAGMENT_SHADER,Z),q=Q.createProgram();if(Q.attachShader(q,U),Q.attachShader(q,$),Q.linkProgram(q),!Q.getProgramParameter(q,Q.LINK_STATUS))throw new Error(\"Could not initialize shaders\");return q}function PA(Q,J,Z){if(Z===void 0)Z=J;var U=Q.makeOffscreenCanvas(J,Z),$=U.context=U.getContext(\"2d\");return U.clear=function(){return $.clearRect(0,0,U.width,U.height)},U.clear(),U}function kU(Q){var J=Q.pixelRatio,Z=Q.cy.zoom(),U=Q.cy.pan();return{zoom:Z*J,pan:{x:U.x*J,y:U.y*J}}}function kA(Q){var J=Q.pixelRatio,Z=Q.cy.zoom();return Z*J}function jA(Q,J,Z,U,$){var q=U*Z+J.x,K=$*Z+J.y;return K=Math.round(Q.canvasHeight-K),[q,K]}function wA(Q){if(Q.pstyle(\"background-fill\").value!==\"solid\")return!1;if(Q.pstyle(\"background-image\").strValue!==\"none\")return!1;if(Q.pstyle(\"border-width\").value===0)return!0;if(Q.pstyle(\"border-opacity\").value===0)return!0;if(Q.pstyle(\"border-style\").value!==\"solid\")return!1;return!0}function _A(Q,J){if(Q.length!==J.length)return!1;for(var Z=0;Z<Q.length;Z++)if(Q[Z]!==J[Z])return!1;return!0}function qQ(Q,J,Z){var U=Q[0]/255,$=Q[1]/255,q=Q[2]/255,K=J,G=Z||new Array(4);return G[0]=U*K,G[1]=$*K,G[2]=q*K,G[3]=K,G}function vQ(Q,J){var Z=J||new Array(4);return Z[0]=(Q>>0&255)/255,Z[1]=(Q>>8&255)/255,Z[2]=(Q>>16&255)/255,Z[3]=(Q>>24&255)/255,Z}function vA(Q){return Q[0]+(Q[1]<<8)+(Q[2]<<16)+(Q[3]<<24)}function fA(Q,J){var Z=Q.createTexture();return Z.buffer=function(U){Q.bindTexture(Q.TEXTURE_2D,Z),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR_MIPMAP_NEAREST),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,Q.RGBA,Q.UNSIGNED_BYTE,U),Q.generateMipmap(Q.TEXTURE_2D),Q.bindTexture(Q.TEXTURE_2D,null)},Z.deleteTexture=function(){Q.deleteTexture(Z)},Z}function zG(Q,J){switch(J){case\"float\":return[1,Q.FLOAT,4];case\"vec2\":return[2,Q.FLOAT,4];case\"vec3\":return[3,Q.FLOAT,4];case\"vec4\":return[4,Q.FLOAT,4];case\"int\":return[1,Q.INT,4];case\"ivec2\":return[2,Q.INT,4]}}function LG(Q,J,Z){switch(J){case Q.FLOAT:return new Float32Array(Z);case Q.INT:return new Int32Array(Z)}}function xA(Q,J,Z,U,$,q){switch(J){case Q.FLOAT:return new Float32Array(Z.buffer,q*U,$);case Q.INT:return new Int32Array(Z.buffer,q*U,$)}}function bA(Q,J,Z,U){var $=zG(Q,J),q=F8($,2),K=q[0],G=q[1],Y=LG(Q,G,U),F=Q.createBuffer();if(Q.bindBuffer(Q.ARRAY_BUFFER,F),Q.bufferData(Q.ARRAY_BUFFER,Y,Q.STATIC_DRAW),G===Q.FLOAT)Q.vertexAttribPointer(Z,K,G,!1,0,0);else if(G===Q.INT)Q.vertexAttribIPointer(Z,K,G,0,0);return Q.enableVertexAttribArray(Z),Q.bindBuffer(Q.ARRAY_BUFFER,null),F}function U9(Q,J,Z,U){var $=zG(Q,Z),q=F8($,3),K=q[0],G=q[1],Y=q[2],F=LG(Q,G,J*K),X=K*Y,H=Q.createBuffer();if(Q.bindBuffer(Q.ARRAY_BUFFER,H),Q.bufferData(Q.ARRAY_BUFFER,J*X,Q.DYNAMIC_DRAW),Q.enableVertexAttribArray(U),G===Q.FLOAT)Q.vertexAttribPointer(U,K,G,!1,X,0);else if(G===Q.INT)Q.vertexAttribIPointer(U,K,G,X,0);Q.vertexAttribDivisor(U,1),Q.bindBuffer(Q.ARRAY_BUFFER,null);var M=new Array(J);for(var z=0;z<J;z++)M[z]=xA(Q,G,F,X,K,z);return H.dataArray=F,H.stride=X,H.size=K,H.getView=function(N){return M[N]},H.setPoint=function(N,W,L){var E=M[N];E[0]=W,E[1]=L},H.bufferSubData=function(N){if(Q.bindBuffer(Q.ARRAY_BUFFER,H),N)Q.bufferSubData(Q.ARRAY_BUFFER,0,F,0,N*K);else Q.bufferSubData(Q.ARRAY_BUFFER,0,F)},H}function mA(Q,J,Z){var U=9,$=new Float32Array(J*U),q=new Array(J);for(var K=0;K<J;K++){var G=K*U*4;q[K]=new Float32Array($.buffer,G,U)}var Y=Q.createBuffer();Q.bindBuffer(Q.ARRAY_BUFFER,Y),Q.bufferData(Q.ARRAY_BUFFER,$.byteLength,Q.DYNAMIC_DRAW);for(var F=0;F<3;F++){var X=Z+F;Q.enableVertexAttribArray(X),Q.vertexAttribPointer(X,3,Q.FLOAT,!1,36,F*12),Q.vertexAttribDivisor(X,1)}return Q.bindBuffer(Q.ARRAY_BUFFER,null),Y.getMatrixView=function(H){return q[H]},Y.setData=function(H,M){q[M].set(H,0)},Y.bufferSubData=function(){Q.bindBuffer(Q.ARRAY_BUFFER,Y),Q.bufferSubData(Q.ARRAY_BUFFER,0,$)},Y}function yA(Q){var J=Q.createFramebuffer();Q.bindFramebuffer(Q.FRAMEBUFFER,J);var Z=Q.createTexture();return Q.bindTexture(Q.TEXTURE_2D,Z),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Z,0),Q.bindFramebuffer(Q.FRAMEBUFFER,null),J.setFramebufferAttachmentSizes=function(U,$){Q.bindTexture(Q.TEXTURE_2D,Z),Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,U,$,0,Q.RGBA,Q.UNSIGNED_BYTE,null)},J}var k1=typeof Float32Array!==\"undefined\"?Float32Array:Array;if(!Math.hypot)Math.hypot=function(){var Q=0,J=arguments.length;while(J--)Q+=arguments[J]*arguments[J];return Math.sqrt(Q)};function v0(){var Q=new k1(9);if(k1!=Float32Array)Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0;return Q[0]=1,Q[4]=1,Q[8]=1,Q}function j1(Q){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function hA(Q,J,Z){var U=J[0],$=J[1],q=J[2],K=J[3],G=J[4],Y=J[5],F=J[6],X=J[7],H=J[8],M=Z[0],z=Z[1],N=Z[2],W=Z[3],L=Z[4],E=Z[5],B=Z[6],V=Z[7],D=Z[8];return Q[0]=M*U+z*K+N*F,Q[1]=M*$+z*G+N*X,Q[2]=M*q+z*Y+N*H,Q[3]=W*U+L*K+E*F,Q[4]=W*$+L*G+E*X,Q[5]=W*q+L*Y+E*H,Q[6]=B*U+V*K+D*F,Q[7]=B*$+V*G+D*X,Q[8]=B*q+V*Y+D*H,Q}function n6(Q,J,Z){var U=J[0],$=J[1],q=J[2],K=J[3],G=J[4],Y=J[5],F=J[6],X=J[7],H=J[8],M=Z[0],z=Z[1];return Q[0]=U,Q[1]=$,Q[2]=q,Q[3]=K,Q[4]=G,Q[5]=Y,Q[6]=M*U+z*K+F,Q[7]=M*$+z*G+X,Q[8]=M*q+z*Y+H,Q}function w1(Q,J,Z){var U=J[0],$=J[1],q=J[2],K=J[3],G=J[4],Y=J[5],F=J[6],X=J[7],H=J[8],M=Math.sin(Z),z=Math.cos(Z);return Q[0]=z*U+M*K,Q[1]=z*$+M*G,Q[2]=z*q+M*Y,Q[3]=z*K-M*U,Q[4]=z*G-M*$,Q[5]=z*Y-M*q,Q[6]=F,Q[7]=X,Q[8]=H,Q}function QU(Q,J,Z){var U=Z[0],$=Z[1];return Q[0]=U*J[0],Q[1]=U*J[1],Q[2]=U*J[2],Q[3]=$*J[3],Q[4]=$*J[4],Q[5]=$*J[5],Q[6]=J[6],Q[7]=J[7],Q[8]=J[8],Q}function uA(Q,J,Z){return Q[0]=2/J,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=-2/Z,Q[5]=0,Q[6]=-1,Q[7]=1,Q[8]=1,Q}var gA=function(){function Q(J,Z,U,$){p9(this,Q),this.debugID=Math.floor(Math.random()*1e4),this.r=J,this.texSize=Z,this.texRows=U,this.texHeight=Math.floor(Z/U),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=$(J,Z,Z),this.scratch=$(J,Z,this.texHeight,\"scratch\")}return l9(Q,[{key:\"lock\",value:function J(){this.locked=!0}},{key:\"getKeys\",value:function J(){return new Set(this.keyToLocation.keys())}},{key:\"getScale\",value:function J(Z){var{w:U,h:$}=Z,q=this.texHeight,K=this.texSize,G=q/$,Y=U*G,F=$*G;if(Y>K)G=K/U,Y=U*G,F=$*G;return{scale:G,texW:Y,texH:F}}},{key:\"draw\",value:function J(Z,U,$){var q=this;if(this.locked)throw new Error(\"can't draw, atlas is locked\");var K=this.texSize,G=this.texRows,Y=this.texHeight,F=this.getScale(U),X=F.scale,H=F.texW,M=F.texH,z=function B(V,D){if($&&D){var O=D.context,A=V.x,R=V.row,C=A,I=Y*R;O.save(),O.translate(C,I),O.scale(X,X),$(O,U),O.restore()}},N=[null,null],W=function B(){if(z(q.freePointer,q.canvas),N[0]={x:q.freePointer.x,y:q.freePointer.row*Y,w:H,h:M},N[1]={x:q.freePointer.x+H,y:q.freePointer.row*Y,w:0,h:M},q.freePointer.x+=H,q.freePointer.x==K)q.freePointer.x=0,q.freePointer.row++},L=function B(){var{scratch:V,canvas:D}=q;V.clear(),z({x:0,row:0},V);var O=K-q.freePointer.x,A=H-O,R=Y;{var C=q.freePointer.x,I=q.freePointer.row*Y,T=O;D.context.drawImage(V,0,0,T,R,C,I,T,R),N[0]={x:C,y:I,w:T,h:M}}{var P=O,k=(q.freePointer.row+1)*Y,j=A;if(D)D.context.drawImage(V,P,0,j,R,0,k,j,R);N[1]={x:0,y:k,w:j,h:M}}q.freePointer.x=A,q.freePointer.row++},E=function B(){q.freePointer.x=0,q.freePointer.row++};if(this.freePointer.x+H<=K)W();else if(this.freePointer.row>=G-1)return!1;else if(this.freePointer.x===K)E(),W();else if(this.enableWrapping)L();else E(),W();return this.keyToLocation.set(Z,N),this.needsBuffer=!0,N}},{key:\"getOffsets\",value:function J(Z){return this.keyToLocation.get(Z)}},{key:\"isEmpty\",value:function J(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:\"canFit\",value:function J(Z){if(this.locked)return!1;var U=this.texSize,$=this.texRows,q=this.getScale(Z),K=q.texW;if(this.freePointer.x+K>U)return this.freePointer.row<$-1;return!0}},{key:\"bufferIfNeeded\",value:function J(Z){if(!this.texture)this.texture=fA(Z,this.debugID);if(this.needsBuffer){if(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked)this.canvas=null,this.scratch=null}}},{key:\"dispose\",value:function J(){if(this.texture)this.texture.deleteTexture(),this.texture=null;this.canvas=null,this.scratch=null,this.locked=!0}}])}(),dA=function(){function Q(J,Z,U,$){p9(this,Q),this.r=J,this.texSize=Z,this.texRows=U,this.createTextureCanvas=$,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return l9(Q,[{key:\"getKeys\",value:function J(){return new Set(this.styleKeyToAtlas.keys())}},{key:\"_createAtlas\",value:function J(){var Z=this.r,U=this.texSize,$=this.texRows,q=this.createTextureCanvas;return new gA(Z,U,$,q)}},{key:\"_getScratchCanvas\",value:function J(){if(!this.scratch){var Z=this.r,U=this.texSize,$=this.texRows,q=this.createTextureCanvas,K=Math.floor(U/$);this.scratch=q(Z,U,K,\"scratch\")}return this.scratch}},{key:\"draw\",value:function J(Z,U,$){var q=this.styleKeyToAtlas.get(Z);if(!q){if(q=this.atlases[this.atlases.length-1],!q||!q.canFit(U)){if(q)q.lock();q=this._createAtlas(),this.atlases.push(q)}q.draw(Z,U,$),this.styleKeyToAtlas.set(Z,q)}return q}},{key:\"getAtlas\",value:function J(Z){return this.styleKeyToAtlas.get(Z)}},{key:\"hasAtlas\",value:function J(Z){return this.styleKeyToAtlas.has(Z)}},{key:\"markKeyForGC\",value:function J(Z){this.markedKeys.add(Z)}},{key:\"gc\",value:function J(){var Z=this,U=this.markedKeys;if(U.size===0){console.log(\"nothing to garbage collect\");return}var $=[],q=new Map,K=null,G=y8(this.atlases),Y;try{var F=function X(){var H=Y.value,M=H.getKeys(),z=cA(U,M);if(z.size===0)return $.push(H),M.forEach(function(O){return q.set(O,H)}),1;if(!K)K=Z._createAtlas(),$.push(K);var N=y8(M),W;try{for(N.s();!(W=N.n()).done;){var L=W.value;if(!z.has(L)){var E=H.getOffsets(L),B=F8(E,2),V=B[0],D=B[1];if(!K.canFit({w:V.w+D.w,h:V.h}))K.lock(),K=Z._createAtlas(),$.push(K);if(H.canvas)Z._copyTextureToNewAtlas(L,H,K),q.set(L,K)}}}catch(O){N.e(O)}finally{N.f()}H.dispose()};for(G.s();!(Y=G.n()).done;)if(F())continue}catch(X){G.e(X)}finally{G.f()}this.atlases=$,this.styleKeyToAtlas=q,this.markedKeys=new Set}},{key:\"_copyTextureToNewAtlas\",value:function J(Z,U,$){var q=U.getOffsets(Z),K=F8(q,2),G=K[0],Y=K[1];if(Y.w===0)$.draw(Z,G,function(M){M.drawImage(U.canvas,G.x,G.y,G.w,G.h,0,0,G.w,G.h)});else{var F=this._getScratchCanvas();F.clear(),F.context.drawImage(U.canvas,G.x,G.y,G.w,G.h,0,0,G.w,G.h),F.context.drawImage(U.canvas,Y.x,Y.y,Y.w,Y.h,G.w,0,Y.w,Y.h);var X=G.w+Y.w,H=G.h;$.draw(Z,{w:X,h:H},function(M){M.drawImage(F,0,0,X,H,0,0,X,H)})}}},{key:\"getCounts\",value:function J(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function cA(Q,J){if(Q.intersection)return Q.intersection(J);else return new Set(s6(Q).filter(function(Z){return J.has(Z)}))}var pA=function(){function Q(J,Z){p9(this,Q),this.r=J,this.globalOptions=Z,this.atlasSize=Z.webglTexSize,this.maxAtlasesPerBatch=Z.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return l9(Q,[{key:\"getAtlasSize\",value:function J(){return this.atlasSize}},{key:\"addAtlasCollection\",value:function J(Z,U){var $=this.globalOptions,q=$.webglTexSize,K=$.createTextureCanvas,G=U.texRows,Y=this._cacheScratchCanvas(K),F=new dA(this.r,q,G,Y);this.collections.set(Z,F)}},{key:\"addRenderType\",value:function J(Z,U){var $=U.collection;if(!this.collections.has($))throw new Error(\"invalid atlas collection name '\".concat($,\"'\"));var q=this.collections.get($),K=DJ({type:Z,atlasCollection:q},U);this.renderTypes.set(Z,K)}},{key:\"getRenderTypeOpts\",value:function J(Z){return this.renderTypes.get(Z)}},{key:\"getAtlasCollection\",value:function J(Z){return this.collections.get(Z)}},{key:\"_cacheScratchCanvas\",value:function J(Z){var U=-1,$=-1,q=null;return function(K,G,Y,F){if(F){if(!q||G!=U||Y!=$)U=G,$=Y,q=Z(K,G,Y);return q}else return Z(K,G,Y)}}},{key:\"_key\",value:function J(Z,U){return\"\".concat(Z,\"-\").concat(U)}},{key:\"invalidate\",value:function J(Z){var U=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=$.forceRedraw,K=q===void 0?!1:q,G=$.filterEle,Y=G===void 0?function(){return!0}:G,F=$.filterType,X=F===void 0?function(){return!0}:F,H=!1,M=!1,z=y8(Z),N;try{for(z.s();!(N=z.n()).done;){var W=N.value;if(Y(W)){var L=y8(this.renderTypes.values()),E;try{var B=function V(){var D=E.value,O=D.type;if(X(O)){var A=U.collections.get(D.collection),R=D.getKey(W),C=Array.isArray(R)?R:[R];if(K)C.forEach(function(k){return A.markKeyForGC(k)}),M=!0;else{var I=D.getID?D.getID(W):W.id(),T=U._key(O,I),P=U.typeAndIdToKey.get(T);if(P!==void 0&&!_A(C,P))H=!0,U.typeAndIdToKey.delete(T),P.forEach(function(k){return A.markKeyForGC(k)})}}};for(L.s();!(E=L.n()).done;)B()}catch(V){L.e(V)}finally{L.f()}}}}catch(V){z.e(V)}finally{z.f()}if(M)this.gc(),H=!1;return H}},{key:\"gc\",value:function J(){var Z=y8(this.collections.values()),U;try{for(Z.s();!(U=Z.n()).done;){var $=U.value;$.gc()}}catch(q){Z.e(q)}finally{Z.f()}}},{key:\"getOrCreateAtlas\",value:function J(Z,U,$,q){var K=this.renderTypes.get(U),G=this.collections.get(K.collection),Y=!1,F=G.draw(q,$,function(M){if(K.drawClipped)M.save(),M.beginPath(),M.rect(0,0,$.w,$.h),M.clip(),K.drawElement(M,Z,$,!0,!0),M.restore();else K.drawElement(M,Z,$,!0,!0);Y=!0});if(Y){var X=K.getID?K.getID(Z):Z.id(),H=this._key(U,X);if(this.typeAndIdToKey.has(H))this.typeAndIdToKey.get(H).push(q);else this.typeAndIdToKey.set(H,[q])}return F}},{key:\"getAtlasInfo\",value:function J(Z,U){var $=this,q=this.renderTypes.get(U),K=q.getKey(Z),G=Array.isArray(K)?K:[K];return G.map(function(Y){var F=q.getBoundingBox(Z,Y),X=$.getOrCreateAtlas(Z,U,F,Y),H=X.getOffsets(Y),M=F8(H,2),z=M[0],N=M[1];return{atlas:X,tex:z,tex1:z,tex2:N,bb:F}})}},{key:\"getDebugInfo\",value:function J(){var Z=[],U=y8(this.collections),$;try{for(U.s();!($=U.n()).done;){var q=F8($.value,2),K=q[0],G=q[1],Y=G.getCounts(),F=Y.keyCount,X=Y.atlasCount;Z.push({type:K,keyCount:F,atlasCount:X})}}catch(H){U.e(H)}finally{U.f()}return Z}}])}(),lA=function(){function Q(J){p9(this,Q),this.globalOptions=J,this.atlasSize=J.webglTexSize,this.maxAtlasesPerBatch=J.webglTexPerBatch,this.batchAtlases=[]}return l9(Q,[{key:\"getMaxAtlasesPerBatch\",value:function J(){return this.maxAtlasesPerBatch}},{key:\"getAtlasSize\",value:function J(){return this.atlasSize}},{key:\"getIndexArray\",value:function J(){return Array.from({length:this.maxAtlasesPerBatch},function(Z,U){return U})}},{key:\"startBatch\",value:function J(){this.batchAtlases=[]}},{key:\"getAtlasCount\",value:function J(){return this.batchAtlases.length}},{key:\"getAtlases\",value:function J(){return this.batchAtlases}},{key:\"canAddToCurrentBatch\",value:function J(Z){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return this.batchAtlases.includes(Z);return!0}},{key:\"getAtlasIndexForBatch\",value:function J(Z){var U=this.batchAtlases.indexOf(Z);if(U<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error(\"cannot add more atlases to batch\");this.batchAtlases.push(Z),U=this.batchAtlases.length-1}return U}}])}(),iA=`\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n`,nA=`\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n`,sA=`\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n`,aA=`\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n`,IZ={SCREEN:{name:\"screen\",screen:!0},PICKING:{name:\"picking\",picking:!0}},K7={IGNORE:1,USE_BB:2},f0=0,_1=1,v1=2,x0=3,fQ=4,b6=5,VZ=6,DZ=7,rA=function(){function Q(J,Z,U){p9(this,Q),this.r=J,this.gl=Z,this.maxInstances=U.webglBatchSize,this.atlasSize=U.webglTexSize,this.bgColor=U.bgColor,this.debug=U.webglDebug,this.batchDebugInfo=[],U.enableWrapping=!0,U.createTextureCanvas=PA,this.atlasManager=new pA(J,U),this.batchManager=new lA(U),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(IZ.SCREEN),this.pickingProgram=this._createShaderProgram(IZ.PICKING),this.vao=this._createVAO()}return l9(Q,[{key:\"addAtlasCollection\",value:function J(Z,U){this.atlasManager.addAtlasCollection(Z,U)}},{key:\"addTextureAtlasRenderType\",value:function J(Z,U){this.atlasManager.addRenderType(Z,U)}},{key:\"addSimpleShapeRenderType\",value:function J(Z,U){this.simpleShapeOptions.set(Z,U)}},{key:\"invalidate\",value:function J(Z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=U.type,q=this.atlasManager;if($)return q.invalidate(Z,{filterType:function K(G){return G===$},forceRedraw:!0});else return q.invalidate(Z)}},{key:\"gc\",value:function J(){this.atlasManager.gc()}},{key:\"_createShaderProgram\",value:function J(Z){var U=this.gl,$=`#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == `.concat(f0,`) {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == `).concat(fQ,\" || aVertType == \").concat(DZ,` \n             || aVertType == `).concat(b6,\" || aVertType == \").concat(VZ,`) { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == `).concat(_1,`) {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == `).concat(v1,`) {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == `).concat(x0,` && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    `),q=this.batchManager.getIndexArray(),K=`#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      `.concat(q.map(function(F){return\"uniform sampler2D uTexture\".concat(F,\";\")}).join(`\n\t`),`\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      `).concat(iA,`\n      `).concat(nA,`\n      `).concat(sA,`\n      `).concat(aA,`\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == `).concat(f0,`) {\n          // look up the texel from the texture unit\n          `).concat(q.map(function(F){return\"if(vAtlasId == \".concat(F,\") outColor = texture(uTexture\").concat(F,\", vTexCoord);\")}).join(`\n\telse `),`\n        } \n        else if(vVertType == `).concat(x0,`) {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == `).concat(fQ,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == `).concat(fQ,\" || vVertType == \").concat(DZ,` \n          || vVertType == `).concat(b6,\" || vVertType == \").concat(VZ,`) { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == `).concat(fQ,`) {\n            d = rectangleSD(p, b);\n          } else if(vVertType == `).concat(DZ,` && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == `).concat(DZ,`) {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        `).concat(Z.picking?`if(outColor.a == 0.0) discard;\n             else outColor = vIndex;`:\"\",`\n      }\n    `),G=TA(U,$,K);G.aPosition=U.getAttribLocation(G,\"aPosition\"),G.aIndex=U.getAttribLocation(G,\"aIndex\"),G.aVertType=U.getAttribLocation(G,\"aVertType\"),G.aTransform=U.getAttribLocation(G,\"aTransform\"),G.aAtlasId=U.getAttribLocation(G,\"aAtlasId\"),G.aTex=U.getAttribLocation(G,\"aTex\"),G.aPointAPointB=U.getAttribLocation(G,\"aPointAPointB\"),G.aPointCPointD=U.getAttribLocation(G,\"aPointCPointD\"),G.aLineWidth=U.getAttribLocation(G,\"aLineWidth\"),G.aColor=U.getAttribLocation(G,\"aColor\"),G.aCornerRadius=U.getAttribLocation(G,\"aCornerRadius\"),G.aBorderColor=U.getAttribLocation(G,\"aBorderColor\"),G.uPanZoomMatrix=U.getUniformLocation(G,\"uPanZoomMatrix\"),G.uAtlasSize=U.getUniformLocation(G,\"uAtlasSize\"),G.uBGColor=U.getUniformLocation(G,\"uBGColor\"),G.uZoom=U.getUniformLocation(G,\"uZoom\"),G.uTextures=[];for(var Y=0;Y<this.batchManager.getMaxAtlasesPerBatch();Y++)G.uTextures.push(U.getUniformLocation(G,\"uTexture\".concat(Y)));return G}},{key:\"_createVAO\",value:function J(){var Z=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=Z.length/2;var U=this.maxInstances,$=this.gl,q=this.program,K=$.createVertexArray();return $.bindVertexArray(K),bA($,\"vec2\",q.aPosition,Z),this.transformBuffer=mA($,U,q.aTransform),this.indexBuffer=U9($,U,\"vec4\",q.aIndex),this.vertTypeBuffer=U9($,U,\"int\",q.aVertType),this.atlasIdBuffer=U9($,U,\"int\",q.aAtlasId),this.texBuffer=U9($,U,\"vec4\",q.aTex),this.pointAPointBBuffer=U9($,U,\"vec4\",q.aPointAPointB),this.pointCPointDBuffer=U9($,U,\"vec4\",q.aPointCPointD),this.lineWidthBuffer=U9($,U,\"vec2\",q.aLineWidth),this.colorBuffer=U9($,U,\"vec4\",q.aColor),this.cornerRadiusBuffer=U9($,U,\"vec4\",q.aCornerRadius),this.borderColorBuffer=U9($,U,\"vec4\",q.aBorderColor),$.bindVertexArray(null),K}},{key:\"buffers\",get:function J(){var Z=this;if(!this._buffers)this._buffers=Object.keys(this).filter(function(U){return v9(U,\"Buffer\")}).map(function(U){return Z[U]});return this._buffers}},{key:\"startFrame\",value:function J(Z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IZ.SCREEN;this.panZoomMatrix=Z,this.renderTarget=U,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:\"startBatch\",value:function J(){this.instanceCount=0,this.batchManager.startBatch()}},{key:\"endFrame\",value:function J(){this.endBatch()}},{key:\"_isVisible\",value:function J(Z,U){if(Z.visible()){if(U&&U.isVisible)return U.isVisible(Z);return!0}return!1}},{key:\"drawTexture\",value:function J(Z,U,$){var q=this.atlasManager,K=this.batchManager,G=q.getRenderTypeOpts($);if(!this._isVisible(Z,G))return;if(Z.isEdge()&&!this._isValidEdge(Z))return;if(this.renderTarget.picking&&G.getTexPickingMode){var Y=G.getTexPickingMode(Z);if(Y===K7.IGNORE)return;else if(Y==K7.USE_BB){this.drawPickingRectangle(Z,U,$);return}}var F=q.getAtlasInfo(Z,$),X=y8(F),H;try{for(X.s();!(H=X.n()).done;){var M=H.value,z=M.atlas,N=M.tex1,W=M.tex2;if(!K.canAddToCurrentBatch(z))this.endBatch();var L=K.getAtlasIndexForBatch(z);for(var E=0,B=[[N,!0],[W,!1]];E<B.length;E++){var V=F8(B[E],2),D=V[0],O=V[1];if(D.w!=0){var A=this.instanceCount;this.vertTypeBuffer.getView(A)[0]=f0;var R=this.indexBuffer.getView(A);vQ(U,R);var C=this.atlasIdBuffer.getView(A);C[0]=L;var I=this.texBuffer.getView(A);I[0]=D.x,I[1]=D.y,I[2]=D.w,I[3]=D.h;var T=this.transformBuffer.getMatrixView(A);if(this.setTransformMatrix(Z,T,G,M,O),this.instanceCount++,!O)this.wrappedCount++;if(this.instanceCount>=this.maxInstances)this.endBatch()}}}}catch(P){X.e(P)}finally{X.f()}}},{key:\"setTransformMatrix\",value:function J(Z,U,$,q){var K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,G=0;if($.shapeProps&&$.shapeProps.padding)G=Z.pstyle($.shapeProps.padding).pfValue;if(q){var{bb:Y,tex1:F,tex2:X}=q,H=F.w/(F.w+X.w);if(!K)H=1-H;var M=this._getAdjustedBB(Y,G,K,H);this._applyTransformMatrix(U,M,$,Z)}else{var z=$.getBoundingBox(Z),N=this._getAdjustedBB(z,G,!0,1);this._applyTransformMatrix(U,N,$,Z)}}},{key:\"_applyTransformMatrix\",value:function J(Z,U,$,q){var K,G;j1(Z);var Y=$.getRotation?$.getRotation(q):0;if(Y!==0){var F=$.getRotationPoint(q),X=F.x,H=F.y;n6(Z,Z,[X,H]),w1(Z,Z,Y);var M=$.getRotationOffset(q);K=M.x+(U.xOffset||0),G=M.y+(U.yOffset||0)}else K=U.x1,G=U.y1;n6(Z,Z,[K,G]),QU(Z,Z,[U.w,U.h])}},{key:\"_getAdjustedBB\",value:function J(Z,U,$,q){var{x1:K,y1:G,w:Y,h:F,yOffset:X}=Z;if(U)K-=U,G-=U,Y+=2*U,F+=2*U;var H=0,M=Y*q;if($&&q<1)Y=M;else if(!$&&q<1)H=Y-M,K+=H,Y=M;return{x1:K,y1:G,w:Y,h:F,xOffset:H,yOffset:X}}},{key:\"drawPickingRectangle\",value:function J(Z,U,$){var q=this.atlasManager.getRenderTypeOpts($),K=this.instanceCount;this.vertTypeBuffer.getView(K)[0]=fQ;var G=this.indexBuffer.getView(K);vQ(U,G);var Y=this.colorBuffer.getView(K);qQ([0,0,0],1,Y);var F=this.transformBuffer.getMatrixView(K);if(this.setTransformMatrix(Z,F,q),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:\"drawNode\",value:function J(Z,U,$){var q=this.simpleShapeOptions.get($);if(!this._isVisible(Z,q))return;var K=q.shapeProps,G=this._getVertTypeForShape(Z,K.shape);if(G===void 0||q.isSimple&&!q.isSimple(Z)){this.drawTexture(Z,U,$);return}var Y=this.instanceCount;if(this.vertTypeBuffer.getView(Y)[0]=G,G===b6||G===VZ){var F=q.getBoundingBox(Z),X=this._getCornerRadius(Z,K.radius,F),H=this.cornerRadiusBuffer.getView(Y);if(H[0]=X,H[1]=X,H[2]=X,H[3]=X,G===VZ)H[0]=0,H[2]=0}var M=this.indexBuffer.getView(Y);vQ(U,M);var z=Z.pstyle(K.color).value,N=Z.pstyle(K.opacity).value,W=this.colorBuffer.getView(Y);qQ(z,N,W);var L=this.lineWidthBuffer.getView(Y);if(L[0]=0,L[1]=0,K.border){var E=Z.pstyle(\"border-width\").value;if(E>0){var B=Z.pstyle(\"border-color\").value,V=Z.pstyle(\"border-opacity\").value,D=this.borderColorBuffer.getView(Y);qQ(B,V,D);var O=Z.pstyle(\"border-position\").value;if(O===\"inside\")L[0]=0,L[1]=-E;else if(O===\"outside\")L[0]=E,L[1]=0;else{var A=E/2;L[0]=A,L[1]=-A}}}var R=this.transformBuffer.getMatrixView(Y);if(this.setTransformMatrix(Z,R,q),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:\"_getVertTypeForShape\",value:function J(Z,U){var $=Z.pstyle(U).value;switch($){case\"rectangle\":return fQ;case\"ellipse\":return DZ;case\"roundrectangle\":case\"round-rectangle\":return b6;case\"bottom-round-rectangle\":return VZ;default:return}}},{key:\"_getCornerRadius\",value:function J(Z,U,$){var{w:q,h:K}=$;if(Z.pstyle(U).value===\"auto\")return u9(q,K);else{var G=Z.pstyle(U).pfValue,Y=q/2,F=K/2;return Math.min(G,F,Y)}}},{key:\"drawEdgeArrow\",value:function J(Z,U,$){if(!Z.visible())return;var q=Z._private.rscratch,K,G,Y;if($===\"source\")K=q.arrowStartX,G=q.arrowStartY,Y=q.srcArrowAngle;else K=q.arrowEndX,G=q.arrowEndY,Y=q.tgtArrowAngle;if(isNaN(K)||K==null||isNaN(G)||G==null||isNaN(Y)||Y==null)return;var F=Z.pstyle($+\"-arrow-shape\").value;if(F===\"none\")return;var X=Z.pstyle($+\"-arrow-color\").value,H=Z.pstyle(\"opacity\").value,M=Z.pstyle(\"line-opacity\").value,z=H*M,N=Z.pstyle(\"width\").pfValue,W=Z.pstyle(\"arrow-scale\").value,L=this.r.getArrowWidth(N,W),E=this.instanceCount,B=this.transformBuffer.getMatrixView(E);j1(B),n6(B,B,[K,G]),QU(B,B,[L,L]),w1(B,B,Y),this.vertTypeBuffer.getView(E)[0]=x0;var V=this.indexBuffer.getView(E);vQ(U,V);var D=this.colorBuffer.getView(E);if(qQ(X,z,D),this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}},{key:\"drawEdgeLine\",value:function J(Z,U){if(!Z.visible())return;var $=this._getEdgePoints(Z);if(!$)return;var q=Z.pstyle(\"opacity\").value,K=Z.pstyle(\"line-opacity\").value,G=Z.pstyle(\"width\").pfValue,Y=Z.pstyle(\"line-color\").value,F=q*K;if($.length/2+this.instanceCount>this.maxInstances)this.endBatch();if($.length==4){var X=this.instanceCount;this.vertTypeBuffer.getView(X)[0]=_1;var H=this.indexBuffer.getView(X);vQ(U,H);var M=this.colorBuffer.getView(X);qQ(Y,F,M);var z=this.lineWidthBuffer.getView(X);z[0]=G;var N=this.pointAPointBBuffer.getView(X);if(N[0]=$[0],N[1]=$[1],N[2]=$[2],N[3]=$[3],this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}else for(var W=0;W<$.length-2;W+=2){var L=this.instanceCount;this.vertTypeBuffer.getView(L)[0]=v1;var E=this.indexBuffer.getView(L);vQ(U,E);var B=this.colorBuffer.getView(L);qQ(Y,F,B);var V=this.lineWidthBuffer.getView(L);V[0]=G;var D=$[W-2],O=$[W-1],A=$[W],R=$[W+1],C=$[W+2],I=$[W+3],T=$[W+4],P=$[W+5];if(W==0)D=2*A-C+0.001,O=2*R-I+0.001;if(W==$.length-4)T=2*C-A+0.001,P=2*I-R+0.001;var k=this.pointAPointBBuffer.getView(L);k[0]=D,k[1]=O,k[2]=A,k[3]=R;var j=this.pointCPointDBuffer.getView(L);if(j[0]=C,j[1]=I,j[2]=T,j[3]=P,this.instanceCount++,this.instanceCount>=this.maxInstances)this.endBatch()}}},{key:\"_isValidEdge\",value:function J(Z){var U=Z._private.rscratch;if(U.badLine||U.allpts==null||isNaN(U.allpts[0]))return!1;return!0}},{key:\"_getEdgePoints\",value:function J(Z){var U=Z._private.rscratch;if(!this._isValidEdge(Z))return;var $=U.allpts;if($.length==4)return $;var q=this._getNumSegments(Z);return this._getCurveSegmentPoints($,q)}},{key:\"_getNumSegments\",value:function J(Z){var U=15;return Math.min(Math.max(U,5),this.maxInstances)}},{key:\"_getCurveSegmentPoints\",value:function J(Z,U){if(Z.length==4)return Z;var $=Array((U+1)*2);for(var q=0;q<=U;q++)if(q==0)$[0]=Z[0],$[1]=Z[1];else if(q==U)$[q*2]=Z[Z.length-2],$[q*2+1]=Z[Z.length-1];else{var K=q/U;this._setCurvePoint(Z,K,$,q*2)}return $}},{key:\"_setCurvePoint\",value:function J(Z,U,$,q){if(Z.length<=2)$[q]=Z[0],$[q+1]=Z[1];else{var K=Array(Z.length-2);for(var G=0;G<K.length;G+=2){var Y=(1-U)*Z[G]+U*Z[G+2],F=(1-U)*Z[G+1]+U*Z[G+3];K[G]=Y,K[G+1]=F}return this._setCurvePoint(K,U,$,q)}}},{key:\"endBatch\",value:function J(){var Z=this.gl,U=this.vao,$=this.vertexCount,q=this.instanceCount;if(q===0)return;var K=this.renderTarget.picking?this.pickingProgram:this.program;Z.useProgram(K),Z.bindVertexArray(U);var G=y8(this.buffers),Y;try{for(G.s();!(Y=G.n()).done;){var F=Y.value;F.bufferSubData(q)}}catch(N){G.e(N)}finally{G.f()}var X=this.batchManager.getAtlases();for(var H=0;H<X.length;H++)X[H].bufferIfNeeded(Z);for(var M=0;M<X.length;M++)Z.activeTexture(Z.TEXTURE0+M),Z.bindTexture(Z.TEXTURE_2D,X[M].texture),Z.uniform1i(K.uTextures[M],M);Z.uniform1f(K.uZoom,kA(this.r)),Z.uniformMatrix3fv(K.uPanZoomMatrix,!1,this.panZoomMatrix),Z.uniform1i(K.uAtlasSize,this.batchManager.getAtlasSize());var z=qQ(this.bgColor,1);if(Z.uniform4fv(K.uBGColor,z),Z.drawArraysInstanced(Z.TRIANGLES,0,$,q),Z.bindVertexArray(null),Z.bindTexture(Z.TEXTURE_2D,null),this.debug)this.batchDebugInfo.push({count:q,atlasCount:X.length});this.startBatch()}},{key:\"getDebugInfo\",value:function J(){var Z=this.atlasManager.getDebugInfo(),U=Z.reduce(function(K,G){return K+G.atlasCount},0),$=this.batchDebugInfo,q=$.reduce(function(K,G){return K+G.count},0);return{atlasInfo:Z,totalAtlases:U,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:$.length,batchInfo:$,totalInstances:q}}}])}(),WG={};WG.initWebgl=function(Q,J){var Z=this,U=Z.data.contexts[Z.WEBGL];Q.bgColor=oA(Z),Q.webglTexSize=Math.min(Q.webglTexSize,U.getParameter(U.MAX_TEXTURE_SIZE)),Q.webglTexRows=Math.min(Q.webglTexRows,54),Q.webglTexRowsNodes=Math.min(Q.webglTexRowsNodes,54),Q.webglBatchSize=Math.min(Q.webglBatchSize,16384),Q.webglTexPerBatch=Math.min(Q.webglTexPerBatch,U.getParameter(U.MAX_TEXTURE_IMAGE_UNITS)),Z.webglDebug=Q.webglDebug,Z.webglDebugShowAtlases=Q.webglDebugShowAtlases,Z.pickingFrameBuffer=yA(U),Z.pickingFrameBuffer.needsDraw=!0,Z.drawing=new rA(Z,U,Q);var $=function X(H){return function(M){return Z.getTextAngle(M,H)}},q=function X(H){return function(M){var z=M.pstyle(H);return z&&z.value}},K=function X(H){return function(M){return M.pstyle(\"\".concat(H,\"-opacity\")).value>0}},G=function X(H){var M=H.pstyle(\"text-events\").strValue===\"yes\";return M?K7.USE_BB:K7.IGNORE},Y=function X(H){var M=H.position(),z=M.x,N=M.y,W=H.outerWidth(),L=H.outerHeight();return{w:W,h:L,x1:z-W/2,y1:N-L/2}};Z.drawing.addAtlasCollection(\"node\",{texRows:Q.webglTexRowsNodes}),Z.drawing.addAtlasCollection(\"label\",{texRows:Q.webglTexRows}),Z.drawing.addTextureAtlasRenderType(\"node-body\",{collection:\"node\",getKey:J.getStyleKey,getBoundingBox:J.getElementBox,drawElement:J.drawElement}),Z.drawing.addSimpleShapeRenderType(\"node-body\",{getBoundingBox:Y,isSimple:wA,shapeProps:{shape:\"shape\",color:\"background-color\",opacity:\"background-opacity\",radius:\"corner-radius\",border:!0}}),Z.drawing.addSimpleShapeRenderType(\"node-overlay\",{getBoundingBox:Y,isVisible:K(\"overlay\"),shapeProps:{shape:\"overlay-shape\",color:\"overlay-color\",opacity:\"overlay-opacity\",padding:\"overlay-padding\",radius:\"overlay-corner-radius\"}}),Z.drawing.addSimpleShapeRenderType(\"node-underlay\",{getBoundingBox:Y,isVisible:K(\"underlay\"),shapeProps:{shape:\"underlay-shape\",color:\"underlay-color\",opacity:\"underlay-opacity\",padding:\"underlay-padding\",radius:\"underlay-corner-radius\"}}),Z.drawing.addTextureAtlasRenderType(\"label\",{collection:\"label\",getTexPickingMode:G,getKey:b0(J.getLabelKey,null),getBoundingBox:m0(J.getLabelBox,null),drawClipped:!0,drawElement:J.drawLabel,getRotation:$(null),getRotationPoint:J.getLabelRotationPoint,getRotationOffset:J.getLabelRotationOffset,isVisible:q(\"label\")}),Z.drawing.addTextureAtlasRenderType(\"edge-source-label\",{collection:\"label\",getTexPickingMode:G,getKey:b0(J.getSourceLabelKey,\"source\"),getBoundingBox:m0(J.getSourceLabelBox,\"source\"),drawClipped:!0,drawElement:J.drawSourceLabel,getRotation:$(\"source\"),getRotationPoint:J.getSourceLabelRotationPoint,getRotationOffset:J.getSourceLabelRotationOffset,isVisible:q(\"source-label\")}),Z.drawing.addTextureAtlasRenderType(\"edge-target-label\",{collection:\"label\",getTexPickingMode:G,getKey:b0(J.getTargetLabelKey,\"target\"),getBoundingBox:m0(J.getTargetLabelBox,\"target\"),drawClipped:!0,drawElement:J.drawTargetLabel,getRotation:$(\"target\"),getRotationPoint:J.getTargetLabelRotationPoint,getRotationOffset:J.getTargetLabelRotationOffset,isVisible:q(\"target-label\")});var F=dZ(function(){console.log(\"garbage collect flag set\"),Z.data.gc=!0},1e4);Z.onUpdateEleCalcs(function(X,H){var M=!1;if(H&&H.length>0)M|=Z.drawing.invalidate(H);if(M)F()}),tA(Z)};function oA(Q){var J=Q.cy.container(),Z=J&&J.style&&J.style.backgroundColor||\"white\";return p1(Z)}function EG(Q,J){var Z=Q._private.rscratch;return b8(Z,\"labelWrapCachedLines\",J)||[]}var b0=function Q(J,Z){return function(U){var $=J(U),q=EG(U,Z);if(q.length>1)return q.map(function(K,G){return\"\".concat($,\"_\").concat(G)});return $}},m0=function Q(J,Z){return function(U,$){var q=J(U);if(typeof $===\"string\"){var K=$.indexOf(\"_\");if(K>0){var G=Number($.substring(K+1)),Y=EG(U,Z),F=q.h/Y.length,X=F*G,H=q.y1+X;return{x1:q.x1,w:q.w,y1:H,h:F,yOffset:X}}}return q}};function tA(Q){{var J=Q.render;Q.render=function(q){q=q||{};var K=Q.cy;if(Q.webgl)if(K.zoom()>FG)eA(Q),J.call(Q,q);else J3(Q),VG(Q,q,IZ.SCREEN)}}{var Z=Q.matchCanvasSize;Q.matchCanvasSize=function(q){Z.call(Q,q),Q.pickingFrameBuffer.setFramebufferAttachmentSizes(Q.canvasWidth,Q.canvasHeight),Q.pickingFrameBuffer.needsDraw=!0}}Q.findNearestElements=function(q,K,G,Y){return K3(Q,q,K)};{var U=Q.invalidateCachedZSortedEles;Q.invalidateCachedZSortedEles=function(){U.call(Q),Q.pickingFrameBuffer.needsDraw=!0}}{var $=Q.notify;Q.notify=function(q,K){if($.call(Q,q,K),q===\"viewport\"||q===\"bounds\")Q.pickingFrameBuffer.needsDraw=!0;else if(q===\"background\")Q.drawing.invalidate(K,{type:\"node-body\"})}}}function eA(Q){var J=Q.data.contexts[Q.WEBGL];J.clear(J.COLOR_BUFFER_BIT|J.DEPTH_BUFFER_BIT)}function J3(Q){var J=function Z(U){U.save(),U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,Q.canvasWidth,Q.canvasHeight),U.restore()};J(Q.data.contexts[Q.NODE]),J(Q.data.contexts[Q.DRAG])}function Q3(Q){var{canvasWidth:J,canvasHeight:Z}=Q,U=kU(Q),$=U.pan,q=U.zoom,K=v0();n6(K,K,[$.x,$.y]),QU(K,K,[q,q]);var G=v0();uA(G,J,Z);var Y=v0();return hA(Y,G,K),Y}function BG(Q,J){var{canvasWidth:Z,canvasHeight:U}=Q,$=kU(Q),q=$.pan,K=$.zoom;J.setTransform(1,0,0,1,0,0),J.clearRect(0,0,Z,U),J.translate(q.x,q.y),J.scale(K,K)}function Z3(Q,J){Q.drawSelectionRectangle(J,function(Z){return BG(Q,Z)})}function U3(Q){var J=Q.data.contexts[Q.NODE];J.save(),BG(Q,J),J.strokeStyle=\"rgba(0, 0, 0, 0.3)\",J.beginPath(),J.moveTo(-1000,0),J.lineTo(1000,0),J.stroke(),J.beginPath(),J.moveTo(0,-1000),J.lineTo(0,1000),J.stroke(),J.restore()}function $3(Q){var J=function U($,q,K){var G=$.atlasManager.getAtlasCollection(q),Y=Q.data.contexts[Q.NODE],F=G.atlases;for(var X=0;X<F.length;X++){var H=F[X],M=H.canvas;if(M){var{width:z,height:N}=M,W=z*X,L=M.height*K,E=0.4;Y.save(),Y.scale(E,E),Y.drawImage(M,W,L),Y.strokeStyle=\"black\",Y.rect(W,L,z,N),Y.stroke(),Y.restore()}}},Z=0;J(Q.drawing,\"node\",Z++),J(Q.drawing,\"label\",Z++)}function q3(Q,J,Z,U,$){var q,K,G,Y,F=kU(Q),X=F.pan,H=F.zoom;{var M=jA(Q,X,H,J,Z),z=F8(M,2),N=z[0],W=z[1],L=6;q=N-L/2,K=W-L/2,G=L,Y=L}if(G===0||Y===0)return[];var E=Q.data.contexts[Q.WEBGL];if(E.bindFramebuffer(E.FRAMEBUFFER,Q.pickingFrameBuffer),Q.pickingFrameBuffer.needsDraw)E.viewport(0,0,E.canvas.width,E.canvas.height),VG(Q,null,IZ.PICKING),Q.pickingFrameBuffer.needsDraw=!1;var B=G*Y,V=new Uint8Array(B*4);E.readPixels(q,K,G,Y,E.RGBA,E.UNSIGNED_BYTE,V),E.bindFramebuffer(E.FRAMEBUFFER,null);var D=new Set;for(var O=0;O<B;O++){var A=V.slice(O*4,O*4+4),R=vA(A)-1;if(R>=0)D.add(R)}return D}function K3(Q,J,Z){var U=q3(Q,J,Z),$=Q.getCachedZSortedEles(),q,K,G=y8(U),Y;try{for(G.s();!(Y=G.n()).done;){var F=Y.value,X=$[F];if(!q&&X.isNode())q=X;if(!K&&X.isEdge())K=X;if(q&&K)break}}catch(H){G.e(H)}finally{G.f()}return[q,K].filter(Boolean)}function y0(Q,J,Z){var U=Q.drawing;if(J+=1,Z.isNode())U.drawNode(Z,J,\"node-underlay\"),U.drawNode(Z,J,\"node-body\"),U.drawTexture(Z,J,\"label\"),U.drawNode(Z,J,\"node-overlay\");else U.drawEdgeLine(Z,J),U.drawEdgeArrow(Z,J,\"source\"),U.drawEdgeArrow(Z,J,\"target\"),U.drawTexture(Z,J,\"label\"),U.drawTexture(Z,J,\"edge-source-label\"),U.drawTexture(Z,J,\"edge-target-label\")}function VG(Q,J,Z){var U;if(Q.webglDebug)U=performance.now();var $=Q.drawing,q=0;if(Z.screen){if(Q.data.canvasNeedsRedraw[Q.SELECT_BOX])Z3(Q,J)}if(Q.data.canvasNeedsRedraw[Q.NODE]||Z.picking){var K=Q.data.contexts[Q.WEBGL];if(Z.screen)K.clearColor(0,0,0,0),K.enable(K.BLEND),K.blendFunc(K.ONE,K.ONE_MINUS_SRC_ALPHA);else K.disable(K.BLEND);K.clear(K.COLOR_BUFFER_BIT|K.DEPTH_BUFFER_BIT),K.viewport(0,0,K.canvas.width,K.canvas.height);var G=Q3(Q),Y=Q.getCachedZSortedEles();if(q=Y.length,$.startFrame(G,Z),Z.screen){for(var F=0;F<Y.nondrag.length;F++)y0(Q,F,Y.nondrag[F]);for(var X=0;X<Y.drag.length;X++)y0(Q,X,Y.drag[X])}else if(Z.picking)for(var H=0;H<Y.length;H++)y0(Q,H,Y[H]);if($.endFrame(),Z.screen&&Q.webglDebugShowAtlases)U3(Q),$3(Q);Q.data.canvasNeedsRedraw[Q.NODE]=!1,Q.data.canvasNeedsRedraw[Q.DRAG]=!1}if(Q.webglDebug){var M=performance.now(),z=!1,N=Math.ceil(M-U),W=$.getDebugInfo(),L=[\"\".concat(q,\" elements\"),\"\".concat(W.totalInstances,\" instances\"),\"\".concat(W.batchCount,\" batches\"),\"\".concat(W.totalAtlases,\" atlases\"),\"\".concat(W.wrappedCount,\" wrapped textures\"),\"\".concat(W.simpleCount,\" simple shapes\")].join(\", \");if(z)console.log(\"WebGL (\".concat(Z.name,\") - time \").concat(N,\"ms, \").concat(L));else{console.log(\"WebGL (\".concat(Z.name,\") - frame time \").concat(N,\"ms\")),console.log(\"Totals:\"),console.log(\"  \".concat(L)),console.log(\"Texture Atlases Used:\");var E=W.atlasInfo,B=y8(E),V;try{for(B.s();!(V=B.n()).done;){var D=V.value;console.log(\"  \".concat(D.type,\": \").concat(D.keyCount,\" keys, \").concat(D.atlasCount,\" atlases\"))}}catch(O){B.e(O)}finally{B.f()}console.log(\"\")}}if(Q.data.gc)console.log(\"Garbage Collect!\"),Q.data.gc=!1,$.gc()}var s9={};s9.drawPolygonPath=function(Q,J,Z,U,$,q){var K=U/2,G=$/2;if(Q.beginPath)Q.beginPath();Q.moveTo(J+K*q[0],Z+G*q[1]);for(var Y=1;Y<q.length/2;Y++)Q.lineTo(J+K*q[Y*2],Z+G*q[Y*2+1]);Q.closePath()};s9.drawRoundPolygonPath=function(Q,J,Z,U,$,q,K){K.forEach(function(G){return JG(Q,G)}),Q.closePath()};s9.drawRoundRectanglePath=function(Q,J,Z,U,$,q){var K=U/2,G=$/2,Y=q===\"auto\"?u9(U,$):Math.min(q,G,K);if(Q.beginPath)Q.beginPath();Q.moveTo(J,Z-G),Q.arcTo(J+K,Z-G,J+K,Z,Y),Q.arcTo(J+K,Z+G,J,Z+G,Y),Q.arcTo(J-K,Z+G,J-K,Z,Y),Q.arcTo(J-K,Z-G,J,Z-G,Y),Q.lineTo(J,Z-G),Q.closePath()};s9.drawBottomRoundRectanglePath=function(Q,J,Z,U,$,q){var K=U/2,G=$/2,Y=q===\"auto\"?u9(U,$):q;if(Q.beginPath)Q.beginPath();Q.moveTo(J,Z-G),Q.lineTo(J+K,Z-G),Q.lineTo(J+K,Z),Q.arcTo(J+K,Z+G,J,Z+G,Y),Q.arcTo(J-K,Z+G,J-K,Z,Y),Q.lineTo(J-K,Z-G),Q.lineTo(J,Z-G),Q.closePath()};s9.drawCutRectanglePath=function(Q,J,Z,U,$,q,K){var G=U/2,Y=$/2,F=K===\"auto\"?LU():K;if(Q.beginPath)Q.beginPath();Q.moveTo(J-G+F,Z-Y),Q.lineTo(J+G-F,Z-Y),Q.lineTo(J+G,Z-Y+F),Q.lineTo(J+G,Z+Y-F),Q.lineTo(J+G-F,Z+Y),Q.lineTo(J-G+F,Z+Y),Q.lineTo(J-G,Z+Y-F),Q.lineTo(J-G,Z-Y+F),Q.closePath()};s9.drawBarrelPath=function(Q,J,Z,U,$){var q=U/2,K=$/2,G=J-q,Y=J+q,F=Z-K,X=Z+K,H=g0(U,$),M=H.widthOffset,z=H.heightOffset,N=H.ctrlPtOffsetPct*M;if(Q.beginPath)Q.beginPath();Q.moveTo(G,F+z),Q.lineTo(G,X-z),Q.quadraticCurveTo(G+N,X,G+M,X),Q.lineTo(Y-M,X),Q.quadraticCurveTo(Y-N,X,Y,X-z),Q.lineTo(Y,F+z),Q.quadraticCurveTo(Y-N,F,Y-M,F),Q.lineTo(G+M,F),Q.quadraticCurveTo(G+N,F,G,F+z),Q.closePath()};var f1=Math.sin(0),x1=Math.cos(0),ZU={},UU={},DG=Math.PI/40;for(w9=0*Math.PI;w9<2*Math.PI;w9+=DG)ZU[w9]=Math.sin(w9),UU[w9]=Math.cos(w9);var w9;s9.drawEllipsePath=function(Q,J,Z,U,$){if(Q.beginPath)Q.beginPath();if(Q.ellipse)Q.ellipse(J,Z,U/2,$/2,0,0,2*Math.PI);else{var q,K,G=U/2,Y=$/2;for(var F=0*Math.PI;F<2*Math.PI;F+=DG)if(q=J-G*ZU[F]*f1+G*UU[F]*x1,K=Z+Y*UU[F]*f1+Y*ZU[F]*x1,F===0)Q.moveTo(q,K);else Q.lineTo(q,K)}Q.closePath()};var sZ={};sZ.createBuffer=function(Q,J){var Z=document.createElement(\"canvas\");return Z.width=Q,Z.height=J,[Z,Z.getContext(\"2d\")]};sZ.bufferCanvasImage=function(Q){var J=this.cy,Z=J.mutableElements(),U=Z.boundingBox(),$=this.findContainerClientCoords(),q=Q.full?Math.ceil(U.w):$[2],K=Q.full?Math.ceil(U.h):$[3],G=$J(Q.maxWidth)||$J(Q.maxHeight),Y=this.getPixelRatio(),F=1;if(Q.scale!==void 0)q*=Q.scale,K*=Q.scale,F=Q.scale;else if(G){var X=1/0,H=1/0;if($J(Q.maxWidth))X=F*Q.maxWidth/q;if($J(Q.maxHeight))H=F*Q.maxHeight/K;F=Math.min(X,H),q*=F,K*=F}if(!G)q*=Y,K*=Y,F*=Y;var M=document.createElement(\"canvas\");M.width=q,M.height=K,M.style.width=q+\"px\",M.style.height=K+\"px\";var z=M.getContext(\"2d\");if(q>0&&K>0){z.clearRect(0,0,q,K),z.globalCompositeOperation=\"source-over\";var N=this.getCachedZSortedEles();if(Q.full)z.translate(-U.x1*F,-U.y1*F),z.scale(F,F),this.drawElements(z,N),z.scale(1/F,1/F),z.translate(U.x1*F,U.y1*F);else{var W=J.pan(),L={x:W.x*F,y:W.y*F};F*=J.zoom(),z.translate(L.x,L.y),z.scale(F,F),this.drawElements(z,N),z.scale(1/F,1/F),z.translate(-L.x,-L.y)}if(Q.bg)z.globalCompositeOperation=\"destination-over\",z.fillStyle=Q.bg,z.rect(0,0,q,K),z.fill()}return M};function G3(Q,J){var Z=atob(Q),U=new ArrayBuffer(Z.length),$=new Uint8Array(U);for(var q=0;q<Z.length;q++)$[q]=Z.charCodeAt(q);return new Blob([U],{type:J})}function b1(Q){var J=Q.indexOf(\",\");return Q.substr(J+1)}function RG(Q,J,Z){var U=function $(){return J.toDataURL(Z,Q.quality)};switch(Q.output){case\"blob-promise\":return new nQ(function($,q){try{J.toBlob(function(K){if(K!=null)$(K);else q(new Error(\"`canvas.toBlob()` sent a null value in its callback\"))},Z,Q.quality)}catch(K){q(K)}});case\"blob\":return G3(b1(U()),Z);case\"base64\":return b1(U());case\"base64uri\":default:return U()}}sZ.png=function(Q){return RG(Q,this.bufferCanvasImage(Q),\"image/png\")};sZ.jpg=function(Q){return RG(Q,this.bufferCanvasImage(Q),\"image/jpeg\")};var OG={};OG.nodeShapeImpl=function(Q,J,Z,U,$,q,K,G){switch(Q){case\"ellipse\":return this.drawEllipsePath(J,Z,U,$,q);case\"polygon\":return this.drawPolygonPath(J,Z,U,$,q,K);case\"round-polygon\":return this.drawRoundPolygonPath(J,Z,U,$,q,K,G);case\"roundrectangle\":case\"round-rectangle\":return this.drawRoundRectanglePath(J,Z,U,$,q,G);case\"cutrectangle\":case\"cut-rectangle\":return this.drawCutRectanglePath(J,Z,U,$,q,K,G);case\"bottomroundrectangle\":case\"bottom-round-rectangle\":return this.drawBottomRoundRectanglePath(J,Z,U,$,q,G);case\"barrel\":return this.drawBarrelPath(J,Z,U,$,q)}};var Y3=AG,kJ=AG.prototype;kJ.CANVAS_LAYERS=3;kJ.SELECT_BOX=0;kJ.DRAG=1;kJ.NODE=2;kJ.WEBGL=3;kJ.CANVAS_TYPES=[\"2d\",\"2d\",\"2d\",\"webgl2\"];kJ.BUFFER_COUNT=3;kJ.TEXTURE_BUFFER=0;kJ.MOTIONBLUR_BUFFER_NODE=1;kJ.MOTIONBLUR_BUFFER_DRAG=2;function AG(Q){var J=this,Z=J.cy.window(),U=Z.document;if(Q.webgl)kJ.CANVAS_LAYERS=J.CANVAS_LAYERS=4,console.log(\"webgl rendering enabled\");J.data={canvases:new Array(kJ.CANVAS_LAYERS),contexts:new Array(kJ.CANVAS_LAYERS),canvasNeedsRedraw:new Array(kJ.CANVAS_LAYERS),bufferCanvases:new Array(kJ.BUFFER_COUNT),bufferContexts:new Array(kJ.CANVAS_LAYERS)};var $=\"-webkit-tap-highlight-color\",q=\"rgba(0,0,0,0)\";J.data.canvasContainer=U.createElement(\"div\");var K=J.data.canvasContainer.style;J.data.canvasContainer.style[$]=q,K.position=\"relative\",K.zIndex=\"0\",K.overflow=\"hidden\";var G=Q.cy.container();G.appendChild(J.data.canvasContainer),G.style[$]=q;var Y={\"-webkit-user-select\":\"none\",\"-moz-user-select\":\"-moz-none\",\"user-select\":\"none\",\"-webkit-tap-highlight-color\":\"rgba(0,0,0,0)\",\"outline-style\":\"none\"};if(Z2())Y[\"-ms-touch-action\"]=\"none\",Y[\"touch-action\"]=\"none\";for(var F=0;F<kJ.CANVAS_LAYERS;F++){var X=J.data.canvases[F]=U.createElement(\"canvas\"),H=kJ.CANVAS_TYPES[F];if(J.data.contexts[F]=X.getContext(H),!J.data.contexts[F])J8(\"Could not create canvas of type \"+H);Object.keys(Y).forEach(function(e){X.style[e]=Y[e]}),X.style.position=\"absolute\",X.setAttribute(\"data-id\",\"layer\"+F),X.style.zIndex=String(kJ.CANVAS_LAYERS-F),J.data.canvasContainer.appendChild(X),J.data.canvasNeedsRedraw[F]=!1}if(J.data.topCanvas=J.data.canvases[0],J.data.canvases[kJ.NODE].setAttribute(\"data-id\",\"layer\"+kJ.NODE+\"-node\"),J.data.canvases[kJ.SELECT_BOX].setAttribute(\"data-id\",\"layer\"+kJ.SELECT_BOX+\"-selectbox\"),J.data.canvases[kJ.DRAG].setAttribute(\"data-id\",\"layer\"+kJ.DRAG+\"-drag\"),J.data.canvases[kJ.WEBGL])J.data.canvases[kJ.WEBGL].setAttribute(\"data-id\",\"layer\"+kJ.WEBGL+\"-webgl\");for(var F=0;F<kJ.BUFFER_COUNT;F++)J.data.bufferCanvases[F]=U.createElement(\"canvas\"),J.data.bufferContexts[F]=J.data.bufferCanvases[F].getContext(\"2d\"),J.data.bufferCanvases[F].style.position=\"absolute\",J.data.bufferCanvases[F].setAttribute(\"data-id\",\"buffer\"+F),J.data.bufferCanvases[F].style.zIndex=String(-F-1),J.data.bufferCanvases[F].style.visibility=\"hidden\";J.pathsEnabled=!0;var M=w8(),z=function e(h){return{x:(h.x1+h.x2)/2,y:(h.y1+h.y2)/2}},N=function e(h){return{x:-h.w/2,y:-h.h/2}},W=function e(h){var d=h[0]._private,p=d.oldBackgroundTimestamp===d.backgroundTimestamp;return!p},L=function e(h){return h[0]._private.nodeKey},E=function e(h){return h[0]._private.labelStyleKey},B=function e(h){return h[0]._private.sourceLabelStyleKey},V=function e(h){return h[0]._private.targetLabelStyleKey},D=function e(h,d,p,r,UJ){return J.drawElement(h,d,p,!1,!1,UJ)},O=function e(h,d,p,r,UJ){return J.drawElementText(h,d,p,r,\"main\",UJ)},A=function e(h,d,p,r,UJ){return J.drawElementText(h,d,p,r,\"source\",UJ)},R=function e(h,d,p,r,UJ){return J.drawElementText(h,d,p,r,\"target\",UJ)},C=function e(h){return h.boundingBox(),h[0]._private.bodyBounds},I=function e(h){return h.boundingBox(),h[0]._private.labelBounds.main||M},T=function e(h){return h.boundingBox(),h[0]._private.labelBounds.source||M},P=function e(h){return h.boundingBox(),h[0]._private.labelBounds.target||M},k=function e(h,d){return d},j=function e(h){return z(C(h))},_=function e(h,d,p){var r=h?h+\"-\":\"\";return{x:d.x+p.pstyle(r+\"text-margin-x\").pfValue,y:d.y+p.pstyle(r+\"text-margin-y\").pfValue}},x=function e(h,d,p){var r=h[0]._private.rscratch;return{x:r[d],y:r[p]}},f=function e(h){return _(\"\",x(h,\"labelX\",\"labelY\"),h)},v=function e(h){return _(\"source\",x(h,\"sourceLabelX\",\"sourceLabelY\"),h)},b=function e(h){return _(\"target\",x(h,\"targetLabelX\",\"targetLabelY\"),h)},y=function e(h){return N(C(h))},g=function e(h){return N(T(h))},m=function e(h){return N(P(h))},u=function e(h){var d=I(h),p=N(I(h));if(h.isNode()){switch(h.pstyle(\"text-halign\").value){case\"left\":p.x=-d.w-(d.leftPad||0);break;case\"right\":p.x=-(d.rightPad||0);break}switch(h.pstyle(\"text-valign\").value){case\"top\":p.y=-d.h-(d.topPad||0);break;case\"bottom\":p.y=-(d.botPad||0);break}}return p},n=J.data.eleTxrCache=new AZ(J,{getKey:L,doesEleInvalidateKey:W,drawElement:D,getBoundingBox:C,getRotationPoint:j,getRotationOffset:y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),t=J.data.lblTxrCache=new AZ(J,{getKey:E,drawElement:O,getBoundingBox:I,getRotationPoint:f,getRotationOffset:u,isVisible:k}),s=J.data.slbTxrCache=new AZ(J,{getKey:B,drawElement:A,getBoundingBox:T,getRotationPoint:v,getRotationOffset:g,isVisible:k}),JJ=J.data.tlbTxrCache=new AZ(J,{getKey:V,drawElement:R,getBoundingBox:P,getRotationPoint:b,getRotationOffset:m,isVisible:k}),ZJ=J.data.lyrTxrCache=new XG(J);J.onUpdateEleCalcs(function e(h,d){n.invalidateElements(d),t.invalidateElements(d),s.invalidateElements(d),JJ.invalidateElements(d),ZJ.invalidateElements(d);for(var p=0;p<d.length;p++){var r=d[p]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var qJ=function e(h){for(var d=0;d<h.length;d++)ZJ.enqueueElementRefinement(h[d].ele)};if(n.onDequeue(qJ),t.onDequeue(qJ),s.onDequeue(qJ),JJ.onDequeue(qJ),Q.webgl)J.initWebgl(Q,{getStyleKey:L,getLabelKey:E,getSourceLabelKey:B,getTargetLabelKey:V,drawElement:D,drawLabel:O,drawSourceLabel:A,drawTargetLabel:R,getElementBox:C,getLabelBox:I,getSourceLabelBox:T,getTargetLabelBox:P,getElementRotationPoint:j,getElementRotationOffset:y,getLabelRotationPoint:f,getSourceLabelRotationPoint:v,getTargetLabelRotationPoint:b,getLabelRotationOffset:u,getSourceLabelRotationOffset:g,getTargetLabelRotationOffset:m})}kJ.redrawHint=function(Q,J){var Z=this;switch(Q){case\"eles\":Z.data.canvasNeedsRedraw[kJ.NODE]=J;break;case\"drag\":Z.data.canvasNeedsRedraw[kJ.DRAG]=J;break;case\"select\":Z.data.canvasNeedsRedraw[kJ.SELECT_BOX]=J;break;case\"gc\":Z.data.gc=!0;break}};var F3=typeof Path2D!==\"undefined\";kJ.path2dEnabled=function(Q){if(Q===void 0)return this.pathsEnabled;this.pathsEnabled=Q?!0:!1};kJ.usePaths=function(){return F3&&this.pathsEnabled};kJ.setImgSmoothing=function(Q,J){if(Q.imageSmoothingEnabled!=null)Q.imageSmoothingEnabled=J;else Q.webkitImageSmoothingEnabled=J,Q.mozImageSmoothingEnabled=J,Q.msImageSmoothingEnabled=J};kJ.getImgSmoothing=function(Q){if(Q.imageSmoothingEnabled!=null)return Q.imageSmoothingEnabled;else return Q.webkitImageSmoothingEnabled||Q.mozImageSmoothingEnabled||Q.msImageSmoothingEnabled};kJ.makeOffscreenCanvas=function(Q,J){var Z;if((typeof OffscreenCanvas===\"undefined\"?\"undefined\":z8(OffscreenCanvas))!==\"undefined\")Z=new OffscreenCanvas(Q,J);else{var U=this.cy.window(),$=U.document;Z=$.createElement(\"canvas\"),Z.width=Q,Z.height=J}return Z};[HG,Y9,O9,PU,EQ,n9,_8,WG,s9,sZ,OG].forEach(function(Q){DJ(kJ,Q)});var X3=[{name:\"null\",impl:oK},{name:\"base\",impl:GG},{name:\"canvas\",impl:Y3}],H3=[{type:\"layout\",extensions:bO},{type:\"renderer\",extensions:X3}],CG={},SG={};function IG(Q,J,Z){var U=Z,$=function R(C){lJ(\"Can not register `\"+J+\"` for `\"+Q+\"` since `\"+C+\"` already exists in the prototype and can not be overridden\")};if(Q===\"core\")if(xZ.prototype[J])return $(J);else xZ.prototype[J]=Z;else if(Q===\"collection\")if(O8.prototype[J])return $(J);else O8.prototype[J]=Z;else if(Q===\"layout\"){var q=function R(C){if(this.options=C,Z.call(this,C),!yJ(this._private))this._private={};this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},K=q.prototype=Object.create(Z.prototype),G=[];for(var Y=0;Y<G.length;Y++){var F=G[Y];K[F]=K[F]||function(){return this}}if(K.start&&!K.run)K.run=function(){return this.start(),this};else if(!K.start&&K.run)K.start=function(){return this.run(),this};var X=Z.prototype.stop;if(K.stop=function(){var R=this.options;if(R&&R.animate){var C=this.animations;if(C)for(var I=0;I<C.length;I++)C[I].stop()}if(X)X.call(this);else this.emit(\"layoutstop\");return this},!K.destroy)K.destroy=function(){return this};K.cy=function(){return this._private.cy};var H=function R(C){return C._private.cy},M={addEventFields:function R(C,I){I.layout=C,I.cy=H(C),I.target=C},bubble:function R(){return!0},parent:function R(C){return H(C)}};DJ(K,{createEmitter:function R(){return this._private.emitter=new B7(M,this),this},emitter:function R(){return this._private.emitter},on:function R(C,I){return this.emitter().on(C,I),this},one:function R(C,I){return this.emitter().one(C,I),this},once:function R(C,I){return this.emitter().one(C,I),this},removeListener:function R(C,I){return this.emitter().removeListener(C,I),this},removeAllListeners:function R(){return this.emitter().removeAllListeners(),this},emit:function R(C,I){return this.emitter().emit(C,I),this}}),pJ.eventAliasesOn(K),U=q}else if(Q===\"renderer\"&&J!==\"null\"&&J!==\"base\"){var z=TG(\"renderer\",\"base\"),N=z.prototype,W=Z,L=Z.prototype,E=function R(){z.apply(this,arguments),W.apply(this,arguments)},B=E.prototype;for(var V in N){var D=N[V],O=L[V]!=null;if(O)return $(V);B[V]=D}for(var A in L)B[A]=L[A];N.clientFunctions.forEach(function(R){B[R]=B[R]||function(){J8(\"Renderer does not implement `renderer.\"+R+\"()` on its prototype\")}}),U=E}else if(Q===\"__proto__\"||Q===\"constructor\"||Q===\"prototype\")return J8(Q+\" is an illegal type to be registered, possibly lead to prototype pollutions\");return l1({map:CG,keys:[Q,J],value:U})}function TG(Q,J){return i1({map:CG,keys:[Q,J]})}function M3(Q,J,Z,U,$){return l1({map:SG,keys:[Q,J,Z,U],value:$})}function N3(Q,J,Z,U){return i1({map:SG,keys:[Q,J,Z,U]})}var $U=function Q(){if(arguments.length===2)return TG.apply(null,arguments);else if(arguments.length===3)return IG.apply(null,arguments);else if(arguments.length===4)return N3.apply(null,arguments);else if(arguments.length===5)return M3.apply(null,arguments);else J8(\"Invalid extension access syntax\")};xZ.prototype.extension=$U;H3.forEach(function(Q){Q.extensions.forEach(function(J){IG(Q.type,J.name,J.impl)})});var G7=function Q(){if(!(this instanceof G7))return new G7;this.length=0},LQ=G7.prototype;LQ.instanceString=function(){return\"stylesheet\"};LQ.selector=function(Q){var J=this.length++;return this[J]={selector:Q,properties:[]},this};LQ.css=function(Q,J){var Z=this.length-1;if(WJ(Q))this[Z].properties.push({name:Q,value:J});else if(yJ(Q)){var U=Q,$=Object.keys(U);for(var q=0;q<$.length;q++){var K=$[q],G=U[K];if(G==null)continue;var Y=B8.properties[K]||B8.properties[Y7(K)];if(Y==null)continue;var F=Y.name,X=G;this[Z].properties.push({name:F,value:X})}}return this};LQ.style=LQ.css;LQ.generateStyle=function(Q){var J=new B8(Q);return this.appendToStyle(J)};LQ.appendToStyle=function(Q){for(var J=0;J<this.length;J++){var Z=this[J],U=Z.selector,$=Z.properties;Q.selector(U);for(var q=0;q<$.length;q++){var K=$[q];Q.css(K.name,K.value)}}return Q};var z3=\"3.33.1\",D9=function Q(J){if(J===void 0)J={};if(yJ(J))return new xZ(J);else if(WJ(J))return $U.apply($U,arguments)};D9.use=function(Q){var J=Array.prototype.slice.call(arguments,1);return J.unshift(D9),Q.apply(null,J),this};D9.warnings=function(Q){return e1(Q)};D9.version=z3;D9.stylesheet=D9.Stylesheet=G7;var kd=CB();D9.use(kd);var{nodes:jd,edges:wd,legend:_d,cycles:SB}=window.__FISHTAIL_DATA__,Z8=window.cy=D9({container:document.getElementById(\"cy\"),elements:{nodes:jd,edges:wd},style:[{selector:\"node\",style:{label:\"data(label)\",\"font-size\":\"11px\",\"font-family\":\"ui-monospace, SFMono-Regular, monospace\",\"text-valign\":\"center\",\"text-halign\":\"center\",color:\"#e2e8f0\",width:\"label\",height:\"label\",padding:\"8px\",\"background-color\":\"data(bgColor)\",\"border-width\":1,\"border-color\":\"data(borderColor)\",shape:\"round-rectangle\",\"transition-property\":\"opacity, border-color, border-width\",\"transition-duration\":150}},{selector:\"node.highlighted\",style:{\"border-width\":2,\"border-color\":\"#ffffff\",\"z-index\":10}},{selector:\"node.selected-node\",style:{\"border-width\":3,\"border-color\":\"#fbbf24\",\"z-index\":20}},{selector:\"node.dimmed\",style:{opacity:0.12}},{selector:\"edge\",style:{width:1,\"line-color\":\"#374151\",\"target-arrow-color\":\"#374151\",\"target-arrow-shape\":\"triangle\",\"arrow-scale\":0.8,\"curve-style\":\"bezier\",\"transition-property\":\"opacity, line-color, target-arrow-color\",\"transition-duration\":150}},{selector:\"edge.highlighted\",style:{width:2,\"line-color\":\"#fbbf24\",\"target-arrow-color\":\"#fbbf24\",\"z-index\":10}},{selector:\"edge.edge-upstream\",style:{width:2,\"line-color\":\"#4ade80\",\"target-arrow-color\":\"#4ade80\",\"z-index\":10}},{selector:\"edge.edge-downstream\",style:{width:2,\"line-color\":\"#60a5fa\",\"target-arrow-color\":\"#60a5fa\",\"z-index\":10}},{selector:\"edge.edge-circular\",style:{width:2,\"line-color\":\"#f87171\",\"target-arrow-color\":\"#f87171\",\"z-index\":10}},{selector:\"edge.dimmed\",style:{opacity:0.05}}],layout:{name:\"dagre\",rankDir:\"TB\",nodeSep:40,rankSep:80,padding:30,animate:!1}}),vd=document.getElementById(\"legend\");_d.forEach((Q)=>{let J=document.createElement(\"div\");J.className=\"legend-row\";let Z=document.createElement(\"div\");Z.className=\"node-dot\",Z.style.background=Q.color;let U=document.createElement(\"span\");U.textContent=Q.name,J.appendChild(Z),J.appendChild(U),vd.appendChild(J)});var IB=document.getElementById(\"panel-cycles\");if(SB.length===0){let Q=document.createElement(\"div\");Q.className=\"cycle-empty\",Q.textContent=\"No cycles\",IB.appendChild(Q)}else SB.forEach((Q)=>{let J=document.createElement(\"div\");J.className=\"cycle-item\";let Z=document.createElement(\"div\");Z.className=\"cycle-dot\";let U=document.createElement(\"span\");U.textContent=[...Q,Q[0]].join(\" â†’ \"),J.appendChild(Z),J.appendChild(U),J.addEventListener(\"click\",()=>hd(Q,J)),IB.appendChild(J)});var fd=document.getElementById(\"panel-nodes\"),xd=document.getElementById(\"panel-cycles\");document.querySelectorAll(\".tab\").forEach((Q)=>{Q.addEventListener(\"click\",()=>{document.querySelectorAll(\".tab\").forEach((Z)=>Z.classList.remove(\"active\")),Q.classList.add(\"active\");let J=Q.dataset.panel;fd.style.display=J===\"panel-nodes\"?\"flex\":\"none\",xd.style.display=J===\"panel-cycles\"?\"flex\":\"none\"})});var bd=document.getElementById(\"node-list\");Z8.nodes().sort((Q,J)=>Q.id()<J.id()?-1:1).forEach((Q)=>{let J=document.createElement(\"div\");J.className=\"node-item\",J.dataset.id=Q.id(),J.dataset.subgraph=Q.data(\"subgraph\")||\"\";let Z=document.createElement(\"div\");Z.className=\"node-dot\",Z.style.background=Q.data(\"dotColor\");let U=document.createElement(\"span\");U.className=\"node-name\",U.textContent=Q.id(),J.appendChild(Z),J.appendChild(U),J.addEventListener(\"click\",()=>PB(Q)),bd.appendChild(J)});function U4(Q){document.querySelectorAll(\".node-item\").forEach((J)=>{J.classList.toggle(\"active\",J.dataset.id===Q)})}document.getElementById(\"search\").addEventListener(\"input\",function(){let Q=this.value.trim().toLowerCase();if(document.querySelectorAll(\".node-item\").forEach((Z)=>{Z.classList.toggle(\"hidden\",Q!==\"\"&&!(Z.dataset.id??\"\").includes(Q))}),Q===\"\")return;let J=Z8.nodes().filter((Z)=>Z.id().includes(Q));if(J.length===1)Z8.animate({center:{eles:J},duration:300});else if(J.length>1)Z8.animate({fit:{eles:J,padding:60},duration:300})});var $4=null;function md(Q){let J=Q.successors(\"node\").union(Q.predecessors(\"node\")).union(Q);return J.union(J.edgesWith(J))}function yd(Q){let J=md(Q);Z8.elements().removeClass(\"highlighted selected-node dimmed edge-upstream edge-downstream edge-circular\"),Z8.elements().not(J).addClass(\"dimmed\"),J.nodes().addClass(\"highlighted\"),Q.addClass(\"selected-node\");let Z=Q.predecessors(\"edge\"),U=Q.successors(\"edge\"),$=Z.intersection(U);Z.difference($).addClass(\"edge-upstream\"),U.difference($).addClass(\"edge-downstream\"),$.addClass(\"edge-circular\"),document.getElementById(\"edge-legend\").style.display=\"flex\"}function TB(){Z8.elements().removeClass(\"highlighted selected-node dimmed edge-upstream edge-downstream edge-circular\"),$4=null,U4(null),document.querySelectorAll(\".cycle-item\").forEach((Q)=>Q.classList.remove(\"active\")),document.getElementById(\"edge-legend\").style.display=\"none\"}function PB(Q){$4=Q,yd(Q),U4(Q.id()),Z8.animate({center:{eles:Q},duration:200})}function hd(Q,J){Z8.elements().removeClass(\"highlighted selected-node dimmed edge-upstream edge-downstream edge-circular\"),document.getElementById(\"edge-legend\").style.display=\"none\",U4(null),document.querySelectorAll(\".cycle-item\").forEach((U)=>U.classList.remove(\"active\"));let Z=Z8.collection();for(let U of Q)Z=Z.union(Z8.getElementById(U));for(let U=0;U<Q.length;U++){let $=Q[U],q=Q[(U+1)%Q.length];Z=Z.union(Z8.edges(`[source = \"${$}\"][target = \"${q}\"]`))}Z8.elements().not(Z).addClass(\"dimmed\"),Z.addClass(\"highlighted\"),J.classList.add(\"active\"),$4=null}Z8.on(\"tap\",\"node\",(Q)=>PB(Q.target));Z8.on(\"tap\",(Q)=>{if(Q.target===Z8)TB()});var R6=document.getElementById(\"tooltip\");Z8.on(\"mouseover\",\"node\",(Q)=>{let J=Q.target;R6.innerHTML=`<div class=\"tt-name\">${J.id()}</div><div class=\"tt-type\">${J.data(\"subgraph\")??\"\"}</div><div class=\"tt-stat\">out: ${J.outdegree(!1)} &nbsp; in: ${J.indegree(!1)}</div>`,R6.style.display=\"block\"});Z8.on(\"mousemove\",\"node\",(Q)=>{let J=Q.originalEvent;R6.style.left=`${J.clientX+14}px`,R6.style.top=`${J.clientY-10}px`});Z8.on(\"mouseout\",\"node\",()=>{R6.style.display=\"none\"});document.getElementById(\"fit-btn\").addEventListener(\"click\",()=>{TB(),Z8.animate({fit:{eles:Z8.elements(),padding:30},duration:300})});function ud(Q){document.getElementById(\"status\").textContent=Q}ud(`${Z8.nodes().length} nodes Â· ${Z8.edges().length} edges`);\n";
